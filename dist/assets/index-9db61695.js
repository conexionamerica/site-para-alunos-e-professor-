var SP=Object.defineProperty;var CP=(e,t,n)=>t in e?SP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var re=(e,t,n)=>(CP(e,typeof t!="symbol"?t+"":t,n),n);function Zb(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var en=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function NP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var e1={exports:{}},Ld={},t1={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ic=Symbol.for("react.element"),kP=Symbol.for("react.portal"),EP=Symbol.for("react.fragment"),TP=Symbol.for("react.strict_mode"),PP=Symbol.for("react.profiler"),AP=Symbol.for("react.provider"),MP=Symbol.for("react.context"),RP=Symbol.for("react.forward_ref"),OP=Symbol.for("react.suspense"),DP=Symbol.for("react.memo"),IP=Symbol.for("react.lazy"),e0=Symbol.iterator;function LP(e){return e===null||typeof e!="object"?null:(e=e0&&e[e0]||e["@@iterator"],typeof e=="function"?e:null)}var n1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r1=Object.assign,s1={};function ga(e,t,n){this.props=e,this.context=t,this.refs=s1,this.updater=n||n1}ga.prototype.isReactComponent={};ga.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ga.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function o1(){}o1.prototype=ga.prototype;function ug(e,t,n){this.props=e,this.context=t,this.refs=s1,this.updater=n||n1}var dg=ug.prototype=new o1;dg.constructor=ug;r1(dg,ga.prototype);dg.isPureReactComponent=!0;var t0=Array.isArray,i1=Object.prototype.hasOwnProperty,fg={current:null},a1={key:!0,ref:!0,__self:!0,__source:!0};function l1(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)i1.call(t,r)&&!a1.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ic,type:e,key:o,ref:i,props:s,_owner:fg.current}}function $P(e,t){return{$$typeof:ic,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hg(e){return typeof e=="object"&&e!==null&&e.$$typeof===ic}function FP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var n0=/\/+/g;function qf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?FP(""+e.key):t.toString(36)}function yu(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ic:case kP:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+qf(i,0):r,t0(s)?(n="",e!=null&&(n=e.replace(n0,"$&/")+"/"),yu(s,t,n,"",function(u){return u})):s!=null&&(hg(s)&&(s=$P(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(n0,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",t0(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+qf(o,l);i+=yu(o,t,n,c,s)}else if(c=LP(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+qf(o,l++),i+=yu(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Dc(e,t,n){if(e==null)return e;var r=[],s=0;return yu(e,r,"","",function(o){return t.call(n,o,s++)}),r}function VP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pn={current:null},xu={transition:null},BP={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:xu,ReactCurrentOwner:fg};function c1(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:Dc,forEach:function(e,t,n){Dc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Dc(e,function(){t++}),t},toArray:function(e){return Dc(e,function(t){return t})||[]},only:function(e){if(!hg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ke.Component=ga;ke.Fragment=EP;ke.Profiler=PP;ke.PureComponent=ug;ke.StrictMode=TP;ke.Suspense=OP;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BP;ke.act=c1;ke.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=r1({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=fg.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)i1.call(t,c)&&!a1.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ic,type:e.type,key:s,ref:o,props:r,_owner:i}};ke.createContext=function(e){return e={$$typeof:MP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:AP,_context:e},e.Consumer=e};ke.createElement=l1;ke.createFactory=function(e){var t=l1.bind(null,e);return t.type=e,t};ke.createRef=function(){return{current:null}};ke.forwardRef=function(e){return{$$typeof:RP,render:e}};ke.isValidElement=hg;ke.lazy=function(e){return{$$typeof:IP,_payload:{_status:-1,_result:e},_init:VP}};ke.memo=function(e,t){return{$$typeof:DP,type:e,compare:t===void 0?null:t}};ke.startTransition=function(e){var t=xu.transition;xu.transition={};try{e()}finally{xu.transition=t}};ke.unstable_act=c1;ke.useCallback=function(e,t){return pn.current.useCallback(e,t)};ke.useContext=function(e){return pn.current.useContext(e)};ke.useDebugValue=function(){};ke.useDeferredValue=function(e){return pn.current.useDeferredValue(e)};ke.useEffect=function(e,t){return pn.current.useEffect(e,t)};ke.useId=function(){return pn.current.useId()};ke.useImperativeHandle=function(e,t,n){return pn.current.useImperativeHandle(e,t,n)};ke.useInsertionEffect=function(e,t){return pn.current.useInsertionEffect(e,t)};ke.useLayoutEffect=function(e,t){return pn.current.useLayoutEffect(e,t)};ke.useMemo=function(e,t){return pn.current.useMemo(e,t)};ke.useReducer=function(e,t,n){return pn.current.useReducer(e,t,n)};ke.useRef=function(e){return pn.current.useRef(e)};ke.useState=function(e){return pn.current.useState(e)};ke.useSyncExternalStore=function(e,t,n){return pn.current.useSyncExternalStore(e,t,n)};ke.useTransition=function(){return pn.current.useTransition()};ke.version="18.3.1";t1.exports=ke;var h=t1.exports;const ct=Zo(h),$d=Zb({__proto__:null,default:ct},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UP=h,HP=Symbol.for("react.element"),zP=Symbol.for("react.fragment"),WP=Object.prototype.hasOwnProperty,qP=UP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GP={key:!0,ref:!0,__self:!0,__source:!0};function u1(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)WP.call(t,r)&&!GP.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:HP,type:e,key:o,ref:i,props:s,_owner:qP.current}}Ld.Fragment=zP;Ld.jsx=u1;Ld.jsxs=u1;e1.exports=Ld;var a=e1.exports,dm={},d1={exports:{}},zn={},f1={exports:{}},h1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,R){var A=k.length;k.push(R);e:for(;0<A;){var V=A-1>>>1,D=k[V];if(0<s(D,R))k[V]=R,k[A]=D,A=V;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var R=k[0],A=k.pop();if(A!==R){k[0]=A;e:for(var V=0,D=k.length,z=D>>>1;V<z;){var B=2*(V+1)-1,Y=k[B],X=B+1,H=k[X];if(0>s(Y,A))X<D&&0>s(H,Y)?(k[V]=H,k[X]=A,V=X):(k[V]=Y,k[B]=A,V=B);else if(X<D&&0>s(H,A))k[V]=H,k[X]=A,V=X;else break e}}return R}function s(k,R){var A=k.sortIndex-R.sortIndex;return A!==0?A:k.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,m=3,p=!1,x=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=k)r(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=n(u)}}function j(k){if(g=!1,b(k),!x)if(n(c)!==null)x=!0,M(S);else{var R=n(u);R!==null&&T(j,R.startTime-k)}}function S(k,R){x=!1,g&&(g=!1,w(C),C=-1),p=!0;var A=m;try{for(b(R),f=n(c);f!==null&&(!(f.expirationTime>R)||k&&!L());){var V=f.callback;if(typeof V=="function"){f.callback=null,m=f.priorityLevel;var D=V(f.expirationTime<=R);R=e.unstable_now(),typeof D=="function"?f.callback=D:f===n(c)&&r(c),b(R)}else r(c);f=n(c)}if(f!==null)var z=!0;else{var B=n(u);B!==null&&T(j,B.startTime-R),z=!1}return z}finally{f=null,m=A,p=!1}}var N=!1,_=null,C=-1,P=5,I=-1;function L(){return!(e.unstable_now()-I<P)}function O(){if(_!==null){var k=e.unstable_now();I=k;var R=!0;try{R=_(!0,k)}finally{R?U():(N=!1,_=null)}}else N=!1}var U;if(typeof v=="function")U=function(){v(O)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,E=$.port2;$.port1.onmessage=O,U=function(){E.postMessage(null)}}else U=function(){y(O,0)};function M(k){_=k,N||(N=!0,U())}function T(k,R){C=y(function(){k(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,M(S))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(k){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var A=m;m=R;try{return k()}finally{m=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,R){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var A=m;m=k;try{return R()}finally{m=A}},e.unstable_scheduleCallback=function(k,R,A){var V=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?V+A:V):A=V,k){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=A+D,k={id:d++,callback:R,priorityLevel:k,startTime:A,expirationTime:D,sortIndex:-1},A>V?(k.sortIndex=A,t(u,k),n(c)===null&&k===n(u)&&(g?(w(C),C=-1):g=!0,T(j,A-V))):(k.sortIndex=D,t(c,k),x||p||(x=!0,M(S))),k},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(k){var R=m;return function(){var A=m;m=R;try{return k.apply(this,arguments)}finally{m=A}}}})(h1);f1.exports=h1;var YP=f1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KP=h,Un=YP;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m1=new Set,Cl={};function ei(e,t){Ji(e,t),Ji(e+"Capture",t)}function Ji(e,t){for(Cl[e]=t,e=0;e<t.length;e++)m1.add(t[e])}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fm=Object.prototype.hasOwnProperty,QP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r0={},s0={};function XP(e){return fm.call(s0,e)?!0:fm.call(r0,e)?!1:QP.test(e)?s0[e]=!0:(r0[e]=!0,!1)}function JP(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ZP(e,t,n,r){if(t===null||typeof t>"u"||JP(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gn(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qt[e]=new gn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qt[t]=new gn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qt[e]=new gn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qt[e]=new gn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qt[e]=new gn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qt[e]=new gn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qt[e]=new gn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qt[e]=new gn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qt[e]=new gn(e,5,!1,e.toLowerCase(),null,!1,!1)});var mg=/[\-:]([a-z])/g;function pg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mg,pg);qt[t]=new gn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mg,pg);qt[t]=new gn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mg,pg);qt[t]=new gn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qt[e]=new gn(e,1,!1,e.toLowerCase(),null,!1,!1)});qt.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qt[e]=new gn(e,1,!1,e.toLowerCase(),null,!0,!0)});function gg(e,t,n,r){var s=qt.hasOwnProperty(t)?qt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ZP(t,n,s,r)&&(n=null),r||s===null?XP(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var hs=KP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ic=Symbol.for("react.element"),bi=Symbol.for("react.portal"),_i=Symbol.for("react.fragment"),vg=Symbol.for("react.strict_mode"),hm=Symbol.for("react.profiler"),p1=Symbol.for("react.provider"),g1=Symbol.for("react.context"),yg=Symbol.for("react.forward_ref"),mm=Symbol.for("react.suspense"),pm=Symbol.for("react.suspense_list"),xg=Symbol.for("react.memo"),Ns=Symbol.for("react.lazy"),v1=Symbol.for("react.offscreen"),o0=Symbol.iterator;function Ta(e){return e===null||typeof e!="object"?null:(e=o0&&e[o0]||e["@@iterator"],typeof e=="function"?e:null)}var ht=Object.assign,Gf;function Ya(e){if(Gf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gf=t&&t[1]||""}return`
`+Gf+e}var Yf=!1;function Kf(e,t){if(!e||Yf)return"";Yf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Yf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ya(e):""}function e2(e){switch(e.tag){case 5:return Ya(e.type);case 16:return Ya("Lazy");case 13:return Ya("Suspense");case 19:return Ya("SuspenseList");case 0:case 2:case 15:return e=Kf(e.type,!1),e;case 11:return e=Kf(e.type.render,!1),e;case 1:return e=Kf(e.type,!0),e;default:return""}}function gm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _i:return"Fragment";case bi:return"Portal";case hm:return"Profiler";case vg:return"StrictMode";case mm:return"Suspense";case pm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case g1:return(e.displayName||"Context")+".Consumer";case p1:return(e._context.displayName||"Context")+".Provider";case yg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xg:return t=e.displayName||null,t!==null?t:gm(e.type)||"Memo";case Ns:t=e._payload,e=e._init;try{return gm(e(t))}catch{}}return null}function t2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gm(t);case 8:return t===vg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ys(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function y1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function n2(e){var t=y1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Lc(e){e._valueTracker||(e._valueTracker=n2(e))}function x1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=y1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Fu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vm(e,t){var n=t.checked;return ht({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function i0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ys(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function w1(e,t){t=t.checked,t!=null&&gg(e,"checked",t,!1)}function ym(e,t){w1(e,t);var n=Ys(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xm(e,t.type,n):t.hasOwnProperty("defaultValue")&&xm(e,t.type,Ys(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function a0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xm(e,t,n){(t!=="number"||Fu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ka=Array.isArray;function $i(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ys(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function wm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return ht({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function l0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(K(92));if(Ka(n)){if(1<n.length)throw Error(K(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ys(n)}}function b1(e,t){var n=Ys(t.value),r=Ys(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function c0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $c,j1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($c=$c||document.createElement("div"),$c.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$c.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Nl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r2=["Webkit","ms","Moz","O"];Object.keys(nl).forEach(function(e){r2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nl[t]=nl[e]})});function S1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||nl.hasOwnProperty(e)&&nl[e]?(""+t).trim():t+"px"}function C1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=S1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var s2=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _m(e,t){if(t){if(s2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function jm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sm=null;function wg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cm=null,Fi=null,Vi=null;function u0(e){if(e=cc(e)){if(typeof Cm!="function")throw Error(K(280));var t=e.stateNode;t&&(t=Hd(t),Cm(e.stateNode,e.type,t))}}function N1(e){Fi?Vi?Vi.push(e):Vi=[e]:Fi=e}function k1(){if(Fi){var e=Fi,t=Vi;if(Vi=Fi=null,u0(e),t)for(e=0;e<t.length;e++)u0(t[e])}}function E1(e,t){return e(t)}function T1(){}var Qf=!1;function P1(e,t,n){if(Qf)return e(t,n);Qf=!0;try{return E1(e,t,n)}finally{Qf=!1,(Fi!==null||Vi!==null)&&(T1(),k1())}}function kl(e,t){var n=e.stateNode;if(n===null)return null;var r=Hd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var Nm=!1;if(os)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){Nm=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch{Nm=!1}function o2(e,t,n,r,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var rl=!1,Vu=null,Bu=!1,km=null,i2={onError:function(e){rl=!0,Vu=e}};function a2(e,t,n,r,s,o,i,l,c){rl=!1,Vu=null,o2.apply(i2,arguments)}function l2(e,t,n,r,s,o,i,l,c){if(a2.apply(this,arguments),rl){if(rl){var u=Vu;rl=!1,Vu=null}else throw Error(K(198));Bu||(Bu=!0,km=u)}}function ti(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function A1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d0(e){if(ti(e)!==e)throw Error(K(188))}function c2(e){var t=e.alternate;if(!t){if(t=ti(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return d0(s),e;if(o===r)return d0(s),t;o=o.sibling}throw Error(K(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function M1(e){return e=c2(e),e!==null?R1(e):null}function R1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=R1(e);if(t!==null)return t;e=e.sibling}return null}var O1=Un.unstable_scheduleCallback,f0=Un.unstable_cancelCallback,u2=Un.unstable_shouldYield,d2=Un.unstable_requestPaint,wt=Un.unstable_now,f2=Un.unstable_getCurrentPriorityLevel,bg=Un.unstable_ImmediatePriority,D1=Un.unstable_UserBlockingPriority,Uu=Un.unstable_NormalPriority,h2=Un.unstable_LowPriority,I1=Un.unstable_IdlePriority,Fd=null,Or=null;function m2(e){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(Fd,e,void 0,(e.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:v2,p2=Math.log,g2=Math.LN2;function v2(e){return e>>>=0,e===0?32:31-(p2(e)/g2|0)|0}var Fc=64,Vc=4194304;function Qa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=Qa(l):(o&=i,o!==0&&(r=Qa(o)))}else i=n&~s,i!==0?r=Qa(i):o!==0&&(r=Qa(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gr(t),s=1<<n,r|=e[n],t&=~s;return r}function y2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x2(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-gr(o),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=y2(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Em(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function L1(){var e=Fc;return Fc<<=1,!(Fc&4194240)&&(Fc=64),e}function Xf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ac(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gr(t),e[t]=n}function w2(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-gr(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function _g(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ue=0;function $1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var F1,jg,V1,B1,U1,Tm=!1,Bc=[],Is=null,Ls=null,$s=null,El=new Map,Tl=new Map,Ts=[],b2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h0(e,t){switch(e){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":El.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(t.pointerId)}}function Aa(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=cc(t),t!==null&&jg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function _2(e,t,n,r,s){switch(t){case"focusin":return Is=Aa(Is,e,t,n,r,s),!0;case"dragenter":return Ls=Aa(Ls,e,t,n,r,s),!0;case"mouseover":return $s=Aa($s,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return El.set(o,Aa(El.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Tl.set(o,Aa(Tl.get(o)||null,e,t,n,r,s)),!0}return!1}function H1(e){var t=Ao(e.target);if(t!==null){var n=ti(t);if(n!==null){if(t=n.tag,t===13){if(t=A1(n),t!==null){e.blockedOn=t,U1(e.priority,function(){V1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Sm=r,n.target.dispatchEvent(r),Sm=null}else return t=cc(n),t!==null&&jg(t),e.blockedOn=n,!1;t.shift()}return!0}function m0(e,t,n){wu(e)&&n.delete(t)}function j2(){Tm=!1,Is!==null&&wu(Is)&&(Is=null),Ls!==null&&wu(Ls)&&(Ls=null),$s!==null&&wu($s)&&($s=null),El.forEach(m0),Tl.forEach(m0)}function Ma(e,t){e.blockedOn===t&&(e.blockedOn=null,Tm||(Tm=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,j2)))}function Pl(e){function t(s){return Ma(s,e)}if(0<Bc.length){Ma(Bc[0],e);for(var n=1;n<Bc.length;n++){var r=Bc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Is!==null&&Ma(Is,e),Ls!==null&&Ma(Ls,e),$s!==null&&Ma($s,e),El.forEach(t),Tl.forEach(t),n=0;n<Ts.length;n++)r=Ts[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ts.length&&(n=Ts[0],n.blockedOn===null);)H1(n),n.blockedOn===null&&Ts.shift()}var Bi=hs.ReactCurrentBatchConfig,zu=!0;function S2(e,t,n,r){var s=Ue,o=Bi.transition;Bi.transition=null;try{Ue=1,Sg(e,t,n,r)}finally{Ue=s,Bi.transition=o}}function C2(e,t,n,r){var s=Ue,o=Bi.transition;Bi.transition=null;try{Ue=4,Sg(e,t,n,r)}finally{Ue=s,Bi.transition=o}}function Sg(e,t,n,r){if(zu){var s=Pm(e,t,n,r);if(s===null)ah(e,t,r,Wu,n),h0(e,r);else if(_2(s,e,t,n,r))r.stopPropagation();else if(h0(e,r),t&4&&-1<b2.indexOf(e)){for(;s!==null;){var o=cc(s);if(o!==null&&F1(o),o=Pm(e,t,n,r),o===null&&ah(e,t,r,Wu,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else ah(e,t,r,null,n)}}var Wu=null;function Pm(e,t,n,r){if(Wu=null,e=wg(r),e=Ao(e),e!==null)if(t=ti(e),t===null)e=null;else if(n=t.tag,n===13){if(e=A1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wu=e,null}function z1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(f2()){case bg:return 1;case D1:return 4;case Uu:case h2:return 16;case I1:return 536870912;default:return 16}default:return 16}}var Rs=null,Cg=null,bu=null;function W1(){if(bu)return bu;var e,t=Cg,n=t.length,r,s="value"in Rs?Rs.value:Rs.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return bu=s.slice(e,1<r?1-r:void 0)}function _u(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Uc(){return!0}function p0(){return!1}function Wn(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Uc:p0,this.isPropagationStopped=p0,this}return ht(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uc)},persist:function(){},isPersistent:Uc}),t}var va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ng=Wn(va),lc=ht({},va,{view:0,detail:0}),N2=Wn(lc),Jf,Zf,Ra,Vd=ht({},lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ra&&(Ra&&e.type==="mousemove"?(Jf=e.screenX-Ra.screenX,Zf=e.screenY-Ra.screenY):Zf=Jf=0,Ra=e),Jf)},movementY:function(e){return"movementY"in e?e.movementY:Zf}}),g0=Wn(Vd),k2=ht({},Vd,{dataTransfer:0}),E2=Wn(k2),T2=ht({},lc,{relatedTarget:0}),eh=Wn(T2),P2=ht({},va,{animationName:0,elapsedTime:0,pseudoElement:0}),A2=Wn(P2),M2=ht({},va,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),R2=Wn(M2),O2=ht({},va,{data:0}),v0=Wn(O2),D2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=L2[e])?!!t[e]:!1}function kg(){return $2}var F2=ht({},lc,{key:function(e){if(e.key){var t=D2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_u(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?I2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kg,charCode:function(e){return e.type==="keypress"?_u(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_u(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),V2=Wn(F2),B2=ht({},Vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y0=Wn(B2),U2=ht({},lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kg}),H2=Wn(U2),z2=ht({},va,{propertyName:0,elapsedTime:0,pseudoElement:0}),W2=Wn(z2),q2=ht({},Vd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),G2=Wn(q2),Y2=[9,13,27,32],Eg=os&&"CompositionEvent"in window,sl=null;os&&"documentMode"in document&&(sl=document.documentMode);var K2=os&&"TextEvent"in window&&!sl,q1=os&&(!Eg||sl&&8<sl&&11>=sl),x0=String.fromCharCode(32),w0=!1;function G1(e,t){switch(e){case"keyup":return Y2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ji=!1;function Q2(e,t){switch(e){case"compositionend":return Y1(t);case"keypress":return t.which!==32?null:(w0=!0,x0);case"textInput":return e=t.data,e===x0&&w0?null:e;default:return null}}function X2(e,t){if(ji)return e==="compositionend"||!Eg&&G1(e,t)?(e=W1(),bu=Cg=Rs=null,ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return q1&&t.locale!=="ko"?null:t.data;default:return null}}var J2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!J2[e.type]:t==="textarea"}function K1(e,t,n,r){N1(r),t=qu(t,"onChange"),0<t.length&&(n=new Ng("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ol=null,Al=null;function Z2(e){i_(e,0)}function Bd(e){var t=Ni(e);if(x1(t))return e}function eA(e,t){if(e==="change")return t}var Q1=!1;if(os){var th;if(os){var nh="oninput"in document;if(!nh){var _0=document.createElement("div");_0.setAttribute("oninput","return;"),nh=typeof _0.oninput=="function"}th=nh}else th=!1;Q1=th&&(!document.documentMode||9<document.documentMode)}function j0(){ol&&(ol.detachEvent("onpropertychange",X1),Al=ol=null)}function X1(e){if(e.propertyName==="value"&&Bd(Al)){var t=[];K1(t,Al,e,wg(e)),P1(Z2,t)}}function tA(e,t,n){e==="focusin"?(j0(),ol=t,Al=n,ol.attachEvent("onpropertychange",X1)):e==="focusout"&&j0()}function nA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bd(Al)}function rA(e,t){if(e==="click")return Bd(t)}function sA(e,t){if(e==="input"||e==="change")return Bd(t)}function oA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yr=typeof Object.is=="function"?Object.is:oA;function Ml(e,t){if(yr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!fm.call(t,s)||!yr(e[s],t[s]))return!1}return!0}function S0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function C0(e,t){var n=S0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=S0(n)}}function J1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?J1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Z1(){for(var e=window,t=Fu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Fu(e.document)}return t}function Tg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iA(e){var t=Z1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&J1(n.ownerDocument.documentElement,n)){if(r!==null&&Tg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=C0(n,o);var i=C0(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aA=os&&"documentMode"in document&&11>=document.documentMode,Si=null,Am=null,il=null,Mm=!1;function N0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mm||Si==null||Si!==Fu(r)||(r=Si,"selectionStart"in r&&Tg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),il&&Ml(il,r)||(il=r,r=qu(Am,"onSelect"),0<r.length&&(t=new Ng("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Si)))}function Hc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ci={animationend:Hc("Animation","AnimationEnd"),animationiteration:Hc("Animation","AnimationIteration"),animationstart:Hc("Animation","AnimationStart"),transitionend:Hc("Transition","TransitionEnd")},rh={},e_={};os&&(e_=document.createElement("div").style,"AnimationEvent"in window||(delete Ci.animationend.animation,delete Ci.animationiteration.animation,delete Ci.animationstart.animation),"TransitionEvent"in window||delete Ci.transitionend.transition);function Ud(e){if(rh[e])return rh[e];if(!Ci[e])return e;var t=Ci[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in e_)return rh[e]=t[n];return e}var t_=Ud("animationend"),n_=Ud("animationiteration"),r_=Ud("animationstart"),s_=Ud("transitionend"),o_=new Map,k0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ro(e,t){o_.set(e,t),ei(t,[e])}for(var sh=0;sh<k0.length;sh++){var oh=k0[sh],lA=oh.toLowerCase(),cA=oh[0].toUpperCase()+oh.slice(1);ro(lA,"on"+cA)}ro(t_,"onAnimationEnd");ro(n_,"onAnimationIteration");ro(r_,"onAnimationStart");ro("dblclick","onDoubleClick");ro("focusin","onFocus");ro("focusout","onBlur");ro(s_,"onTransitionEnd");Ji("onMouseEnter",["mouseout","mouseover"]);Ji("onMouseLeave",["mouseout","mouseover"]);Ji("onPointerEnter",["pointerout","pointerover"]);Ji("onPointerLeave",["pointerout","pointerover"]);ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xa));function E0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,l2(r,t,void 0,e),e.currentTarget=null}function i_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;E0(s,l,u),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;E0(s,l,u),o=c}}}if(Bu)throw e=km,Bu=!1,km=null,e}function Ze(e,t){var n=t[Lm];n===void 0&&(n=t[Lm]=new Set);var r=e+"__bubble";n.has(r)||(a_(t,e,2,!1),n.add(r))}function ih(e,t,n){var r=0;t&&(r|=4),a_(n,e,r,t)}var zc="_reactListening"+Math.random().toString(36).slice(2);function Rl(e){if(!e[zc]){e[zc]=!0,m1.forEach(function(n){n!=="selectionchange"&&(uA.has(n)||ih(n,!1,e),ih(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zc]||(t[zc]=!0,ih("selectionchange",!1,t))}}function a_(e,t,n,r){switch(z1(t)){case 1:var s=S2;break;case 4:s=C2;break;default:s=Sg}n=s.bind(null,t,n,e),s=void 0,!Nm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ah(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Ao(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}P1(function(){var u=o,d=wg(n),f=[];e:{var m=o_.get(e);if(m!==void 0){var p=Ng,x=e;switch(e){case"keypress":if(_u(n)===0)break e;case"keydown":case"keyup":p=V2;break;case"focusin":x="focus",p=eh;break;case"focusout":x="blur",p=eh;break;case"beforeblur":case"afterblur":p=eh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=g0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=E2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=H2;break;case t_:case n_:case r_:p=A2;break;case s_:p=W2;break;case"scroll":p=N2;break;case"wheel":p=G2;break;case"copy":case"cut":case"paste":p=R2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=y0}var g=(t&4)!==0,y=!g&&e==="scroll",w=g?m!==null?m+"Capture":null:m;g=[];for(var v=u,b;v!==null;){b=v;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,w!==null&&(j=kl(v,w),j!=null&&g.push(Ol(v,j,b)))),y)break;v=v.return}0<g.length&&(m=new p(m,x,null,n,d),f.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==Sm&&(x=n.relatedTarget||n.fromElement)&&(Ao(x)||x[is]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=u,x=x?Ao(x):null,x!==null&&(y=ti(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(g=g0,j="onMouseLeave",w="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=y0,j="onPointerLeave",w="onPointerEnter",v="pointer"),y=p==null?m:Ni(p),b=x==null?m:Ni(x),m=new g(j,v+"leave",p,n,d),m.target=y,m.relatedTarget=b,j=null,Ao(d)===u&&(g=new g(w,v+"enter",x,n,d),g.target=b,g.relatedTarget=y,j=g),y=j,p&&x)t:{for(g=p,w=x,v=0,b=g;b;b=ui(b))v++;for(b=0,j=w;j;j=ui(j))b++;for(;0<v-b;)g=ui(g),v--;for(;0<b-v;)w=ui(w),b--;for(;v--;){if(g===w||w!==null&&g===w.alternate)break t;g=ui(g),w=ui(w)}g=null}else g=null;p!==null&&T0(f,m,p,g,!1),x!==null&&y!==null&&T0(f,y,x,g,!0)}}e:{if(m=u?Ni(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var S=eA;else if(b0(m))if(Q1)S=sA;else{S=nA;var N=tA}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=rA);if(S&&(S=S(e,u))){K1(f,S,n,d);break e}N&&N(e,m,u),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&xm(m,"number",m.value)}switch(N=u?Ni(u):window,e){case"focusin":(b0(N)||N.contentEditable==="true")&&(Si=N,Am=u,il=null);break;case"focusout":il=Am=Si=null;break;case"mousedown":Mm=!0;break;case"contextmenu":case"mouseup":case"dragend":Mm=!1,N0(f,n,d);break;case"selectionchange":if(aA)break;case"keydown":case"keyup":N0(f,n,d)}var _;if(Eg)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ji?G1(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(q1&&n.locale!=="ko"&&(ji||C!=="onCompositionStart"?C==="onCompositionEnd"&&ji&&(_=W1()):(Rs=d,Cg="value"in Rs?Rs.value:Rs.textContent,ji=!0)),N=qu(u,C),0<N.length&&(C=new v0(C,e,null,n,d),f.push({event:C,listeners:N}),_?C.data=_:(_=Y1(n),_!==null&&(C.data=_)))),(_=K2?Q2(e,n):X2(e,n))&&(u=qu(u,"onBeforeInput"),0<u.length&&(d=new v0("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=_))}i_(f,t)})}function Ol(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=kl(e,n),o!=null&&r.unshift(Ol(e,o,s)),o=kl(e,t),o!=null&&r.push(Ol(e,o,s))),e=e.return}return r}function ui(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function T0(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=kl(n,o),c!=null&&i.unshift(Ol(n,c,l))):s||(c=kl(n,o),c!=null&&i.push(Ol(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var dA=/\r\n?/g,fA=/\u0000|\uFFFD/g;function P0(e){return(typeof e=="string"?e:""+e).replace(dA,`
`).replace(fA,"")}function Wc(e,t,n){if(t=P0(t),P0(e)!==t&&n)throw Error(K(425))}function Gu(){}var Rm=null,Om=null;function Dm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Im=typeof setTimeout=="function"?setTimeout:void 0,hA=typeof clearTimeout=="function"?clearTimeout:void 0,A0=typeof Promise=="function"?Promise:void 0,mA=typeof queueMicrotask=="function"?queueMicrotask:typeof A0<"u"?function(e){return A0.resolve(null).then(e).catch(pA)}:Im;function pA(e){setTimeout(function(){throw e})}function lh(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Pl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Pl(t)}function Fs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function M0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ya=Math.random().toString(36).slice(2),Cr="__reactFiber$"+ya,Dl="__reactProps$"+ya,is="__reactContainer$"+ya,Lm="__reactEvents$"+ya,gA="__reactListeners$"+ya,vA="__reactHandles$"+ya;function Ao(e){var t=e[Cr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[is]||n[Cr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=M0(e);e!==null;){if(n=e[Cr])return n;e=M0(e)}return t}e=n,n=e.parentNode}return null}function cc(e){return e=e[Cr]||e[is],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ni(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function Hd(e){return e[Dl]||null}var $m=[],ki=-1;function so(e){return{current:e}}function et(e){0>ki||(e.current=$m[ki],$m[ki]=null,ki--)}function Ge(e,t){ki++,$m[ki]=e.current,e.current=t}var Ks={},rn=so(Ks),Nn=so(!1),Vo=Ks;function Zi(e,t){var n=e.type.contextTypes;if(!n)return Ks;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function kn(e){return e=e.childContextTypes,e!=null}function Yu(){et(Nn),et(rn)}function R0(e,t,n){if(rn.current!==Ks)throw Error(K(168));Ge(rn,t),Ge(Nn,n)}function l_(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(K(108,t2(e)||"Unknown",s));return ht({},n,r)}function Ku(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ks,Vo=rn.current,Ge(rn,e),Ge(Nn,Nn.current),!0}function O0(e,t,n){var r=e.stateNode;if(!r)throw Error(K(169));n?(e=l_(e,t,Vo),r.__reactInternalMemoizedMergedChildContext=e,et(Nn),et(rn),Ge(rn,e)):et(Nn),Ge(Nn,n)}var Xr=null,zd=!1,ch=!1;function c_(e){Xr===null?Xr=[e]:Xr.push(e)}function yA(e){zd=!0,c_(e)}function oo(){if(!ch&&Xr!==null){ch=!0;var e=0,t=Ue;try{var n=Xr;for(Ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xr=null,zd=!1}catch(s){throw Xr!==null&&(Xr=Xr.slice(e+1)),O1(bg,oo),s}finally{Ue=t,ch=!1}}return null}var Ei=[],Ti=0,Qu=null,Xu=0,Kn=[],Qn=0,Bo=null,Zr=1,es="";function _o(e,t){Ei[Ti++]=Xu,Ei[Ti++]=Qu,Qu=e,Xu=t}function u_(e,t,n){Kn[Qn++]=Zr,Kn[Qn++]=es,Kn[Qn++]=Bo,Bo=e;var r=Zr;e=es;var s=32-gr(r)-1;r&=~(1<<s),n+=1;var o=32-gr(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Zr=1<<32-gr(t)+s|n<<s|r,es=o+e}else Zr=1<<o|n<<s|r,es=e}function Pg(e){e.return!==null&&(_o(e,1),u_(e,1,0))}function Ag(e){for(;e===Qu;)Qu=Ei[--Ti],Ei[Ti]=null,Xu=Ei[--Ti],Ei[Ti]=null;for(;e===Bo;)Bo=Kn[--Qn],Kn[Qn]=null,es=Kn[--Qn],Kn[Qn]=null,Zr=Kn[--Qn],Kn[Qn]=null}var Vn=null,$n=null,st=!1,hr=null;function d_(e,t){var n=Xn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function D0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Vn=e,$n=Fs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Vn=e,$n=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Bo!==null?{id:Zr,overflow:es}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Vn=e,$n=null,!0):!1;default:return!1}}function Fm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vm(e){if(st){var t=$n;if(t){var n=t;if(!D0(e,t)){if(Fm(e))throw Error(K(418));t=Fs(n.nextSibling);var r=Vn;t&&D0(e,t)?d_(r,n):(e.flags=e.flags&-4097|2,st=!1,Vn=e)}}else{if(Fm(e))throw Error(K(418));e.flags=e.flags&-4097|2,st=!1,Vn=e}}}function I0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vn=e}function qc(e){if(e!==Vn)return!1;if(!st)return I0(e),st=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Dm(e.type,e.memoizedProps)),t&&(t=$n)){if(Fm(e))throw f_(),Error(K(418));for(;t;)d_(e,t),t=Fs(t.nextSibling)}if(I0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$n=Fs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$n=null}}else $n=Vn?Fs(e.stateNode.nextSibling):null;return!0}function f_(){for(var e=$n;e;)e=Fs(e.nextSibling)}function ea(){$n=Vn=null,st=!1}function Mg(e){hr===null?hr=[e]:hr.push(e)}var xA=hs.ReactCurrentBatchConfig;function Oa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,e))}return e}function Gc(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function L0(e){var t=e._init;return t(e._payload)}function h_(e){function t(w,v){if(e){var b=w.deletions;b===null?(w.deletions=[v],w.flags|=16):b.push(v)}}function n(w,v){if(!e)return null;for(;v!==null;)t(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function s(w,v){return w=Hs(w,v),w.index=0,w.sibling=null,w}function o(w,v,b){return w.index=b,e?(b=w.alternate,b!==null?(b=b.index,b<v?(w.flags|=2,v):b):(w.flags|=2,v)):(w.flags|=1048576,v)}function i(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,v,b,j){return v===null||v.tag!==6?(v=gh(b,w.mode,j),v.return=w,v):(v=s(v,b),v.return=w,v)}function c(w,v,b,j){var S=b.type;return S===_i?d(w,v,b.props.children,j,b.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ns&&L0(S)===v.type)?(j=s(v,b.props),j.ref=Oa(w,v,b),j.return=w,j):(j=Tu(b.type,b.key,b.props,null,w.mode,j),j.ref=Oa(w,v,b),j.return=w,j)}function u(w,v,b,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=vh(b,w.mode,j),v.return=w,v):(v=s(v,b.children||[]),v.return=w,v)}function d(w,v,b,j,S){return v===null||v.tag!==7?(v=$o(b,w.mode,j,S),v.return=w,v):(v=s(v,b),v.return=w,v)}function f(w,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=gh(""+v,w.mode,b),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ic:return b=Tu(v.type,v.key,v.props,null,w.mode,b),b.ref=Oa(w,null,v),b.return=w,b;case bi:return v=vh(v,w.mode,b),v.return=w,v;case Ns:var j=v._init;return f(w,j(v._payload),b)}if(Ka(v)||Ta(v))return v=$o(v,w.mode,b,null),v.return=w,v;Gc(w,v)}return null}function m(w,v,b,j){var S=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(w,v,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ic:return b.key===S?c(w,v,b,j):null;case bi:return b.key===S?u(w,v,b,j):null;case Ns:return S=b._init,m(w,v,S(b._payload),j)}if(Ka(b)||Ta(b))return S!==null?null:d(w,v,b,j,null);Gc(w,b)}return null}function p(w,v,b,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return w=w.get(b)||null,l(v,w,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ic:return w=w.get(j.key===null?b:j.key)||null,c(v,w,j,S);case bi:return w=w.get(j.key===null?b:j.key)||null,u(v,w,j,S);case Ns:var N=j._init;return p(w,v,b,N(j._payload),S)}if(Ka(j)||Ta(j))return w=w.get(b)||null,d(v,w,j,S,null);Gc(v,j)}return null}function x(w,v,b,j){for(var S=null,N=null,_=v,C=v=0,P=null;_!==null&&C<b.length;C++){_.index>C?(P=_,_=null):P=_.sibling;var I=m(w,_,b[C],j);if(I===null){_===null&&(_=P);break}e&&_&&I.alternate===null&&t(w,_),v=o(I,v,C),N===null?S=I:N.sibling=I,N=I,_=P}if(C===b.length)return n(w,_),st&&_o(w,C),S;if(_===null){for(;C<b.length;C++)_=f(w,b[C],j),_!==null&&(v=o(_,v,C),N===null?S=_:N.sibling=_,N=_);return st&&_o(w,C),S}for(_=r(w,_);C<b.length;C++)P=p(_,w,C,b[C],j),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?C:P.key),v=o(P,v,C),N===null?S=P:N.sibling=P,N=P);return e&&_.forEach(function(L){return t(w,L)}),st&&_o(w,C),S}function g(w,v,b,j){var S=Ta(b);if(typeof S!="function")throw Error(K(150));if(b=S.call(b),b==null)throw Error(K(151));for(var N=S=null,_=v,C=v=0,P=null,I=b.next();_!==null&&!I.done;C++,I=b.next()){_.index>C?(P=_,_=null):P=_.sibling;var L=m(w,_,I.value,j);if(L===null){_===null&&(_=P);break}e&&_&&L.alternate===null&&t(w,_),v=o(L,v,C),N===null?S=L:N.sibling=L,N=L,_=P}if(I.done)return n(w,_),st&&_o(w,C),S;if(_===null){for(;!I.done;C++,I=b.next())I=f(w,I.value,j),I!==null&&(v=o(I,v,C),N===null?S=I:N.sibling=I,N=I);return st&&_o(w,C),S}for(_=r(w,_);!I.done;C++,I=b.next())I=p(_,w,C,I.value,j),I!==null&&(e&&I.alternate!==null&&_.delete(I.key===null?C:I.key),v=o(I,v,C),N===null?S=I:N.sibling=I,N=I);return e&&_.forEach(function(O){return t(w,O)}),st&&_o(w,C),S}function y(w,v,b,j){if(typeof b=="object"&&b!==null&&b.type===_i&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ic:e:{for(var S=b.key,N=v;N!==null;){if(N.key===S){if(S=b.type,S===_i){if(N.tag===7){n(w,N.sibling),v=s(N,b.props.children),v.return=w,w=v;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ns&&L0(S)===N.type){n(w,N.sibling),v=s(N,b.props),v.ref=Oa(w,N,b),v.return=w,w=v;break e}n(w,N);break}else t(w,N);N=N.sibling}b.type===_i?(v=$o(b.props.children,w.mode,j,b.key),v.return=w,w=v):(j=Tu(b.type,b.key,b.props,null,w.mode,j),j.ref=Oa(w,v,b),j.return=w,w=j)}return i(w);case bi:e:{for(N=b.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(w,v.sibling),v=s(v,b.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else t(w,v);v=v.sibling}v=vh(b,w.mode,j),v.return=w,w=v}return i(w);case Ns:return N=b._init,y(w,v,N(b._payload),j)}if(Ka(b))return x(w,v,b,j);if(Ta(b))return g(w,v,b,j);Gc(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(w,v.sibling),v=s(v,b),v.return=w,w=v):(n(w,v),v=gh(b,w.mode,j),v.return=w,w=v),i(w)):n(w,v)}return y}var ta=h_(!0),m_=h_(!1),Ju=so(null),Zu=null,Pi=null,Rg=null;function Og(){Rg=Pi=Zu=null}function Dg(e){var t=Ju.current;et(Ju),e._currentValue=t}function Bm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ui(e,t){Zu=e,Rg=Pi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Cn=!0),e.firstContext=null)}function er(e){var t=e._currentValue;if(Rg!==e)if(e={context:e,memoizedValue:t,next:null},Pi===null){if(Zu===null)throw Error(K(308));Pi=e,Zu.dependencies={lanes:0,firstContext:e}}else Pi=Pi.next=e;return t}var Mo=null;function Ig(e){Mo===null?Mo=[e]:Mo.push(e)}function p_(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ig(t)):(n.next=s.next,s.next=n),t.interleaved=n,as(e,r)}function as(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ks=!1;function Lg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ns(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,as(e,n)}return s=r.interleaved,s===null?(t.next=t,Ig(r)):(t.next=s.next,s.next=t),r.interleaved=t,as(e,n)}function ju(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_g(e,n)}}function $0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ed(e,t,n,r){var s=e.updateQueue;ks=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var m=l.lane,p=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(m=t,p=n,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(p,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,m=typeof x=="function"?x.call(p,f,m):x,m==null)break e;f=ht({},f,m);break e;case 2:ks=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,i|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(1);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Ho|=i,e.lanes=i,e.memoizedState=f}}function F0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(K(191,s));s.call(r)}}}var uc={},Dr=so(uc),Il=so(uc),Ll=so(uc);function Ro(e){if(e===uc)throw Error(K(174));return e}function $g(e,t){switch(Ge(Ll,t),Ge(Il,e),Ge(Dr,uc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bm(t,e)}et(Dr),Ge(Dr,t)}function na(){et(Dr),et(Il),et(Ll)}function v_(e){Ro(Ll.current);var t=Ro(Dr.current),n=bm(t,e.type);t!==n&&(Ge(Il,e),Ge(Dr,n))}function Fg(e){Il.current===e&&(et(Dr),et(Il))}var lt=so(0);function td(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uh=[];function Vg(){for(var e=0;e<uh.length;e++)uh[e]._workInProgressVersionPrimary=null;uh.length=0}var Su=hs.ReactCurrentDispatcher,dh=hs.ReactCurrentBatchConfig,Uo=0,ft=null,Mt=null,$t=null,nd=!1,al=!1,$l=0,wA=0;function Qt(){throw Error(K(321))}function Bg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yr(e[n],t[n]))return!1;return!0}function Ug(e,t,n,r,s,o){if(Uo=o,ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Su.current=e===null||e.memoizedState===null?SA:CA,e=n(r,s),al){o=0;do{if(al=!1,$l=0,25<=o)throw Error(K(301));o+=1,$t=Mt=null,t.updateQueue=null,Su.current=NA,e=n(r,s)}while(al)}if(Su.current=rd,t=Mt!==null&&Mt.next!==null,Uo=0,$t=Mt=ft=null,nd=!1,t)throw Error(K(300));return e}function Hg(){var e=$l!==0;return $l=0,e}function Sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?ft.memoizedState=$t=e:$t=$t.next=e,$t}function tr(){if(Mt===null){var e=ft.alternate;e=e!==null?e.memoizedState:null}else e=Mt.next;var t=$t===null?ft.memoizedState:$t.next;if(t!==null)$t=t,Mt=e;else{if(e===null)throw Error(K(310));Mt=e,e={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},$t===null?ft.memoizedState=$t=e:$t=$t.next=e}return $t}function Fl(e,t){return typeof t=="function"?t(e):t}function fh(e){var t=tr(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=Mt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((Uo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,ft.lanes|=d,Ho|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=l,yr(r,t.memoizedState)||(Cn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,ft.lanes|=o,Ho|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function hh(e){var t=tr(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);yr(o,t.memoizedState)||(Cn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function y_(){}function x_(e,t){var n=ft,r=tr(),s=t(),o=!yr(r.memoizedState,s);if(o&&(r.memoizedState=s,Cn=!0),r=r.queue,zg(__.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||$t!==null&&$t.memoizedState.tag&1){if(n.flags|=2048,Vl(9,b_.bind(null,n,r,s,t),void 0,null),Vt===null)throw Error(K(349));Uo&30||w_(n,t,s)}return s}function w_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function b_(e,t,n,r){t.value=n,t.getSnapshot=r,j_(t)&&S_(e)}function __(e,t,n){return n(function(){j_(t)&&S_(e)})}function j_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yr(e,n)}catch{return!0}}function S_(e){var t=as(e,1);t!==null&&vr(t,e,1,-1)}function V0(e){var t=Sr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fl,lastRenderedState:e},t.queue=e,e=e.dispatch=jA.bind(null,ft,e),[t.memoizedState,e]}function Vl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function C_(){return tr().memoizedState}function Cu(e,t,n,r){var s=Sr();ft.flags|=e,s.memoizedState=Vl(1|t,n,void 0,r===void 0?null:r)}function Wd(e,t,n,r){var s=tr();r=r===void 0?null:r;var o=void 0;if(Mt!==null){var i=Mt.memoizedState;if(o=i.destroy,r!==null&&Bg(r,i.deps)){s.memoizedState=Vl(t,n,o,r);return}}ft.flags|=e,s.memoizedState=Vl(1|t,n,o,r)}function B0(e,t){return Cu(8390656,8,e,t)}function zg(e,t){return Wd(2048,8,e,t)}function N_(e,t){return Wd(4,2,e,t)}function k_(e,t){return Wd(4,4,e,t)}function E_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function T_(e,t,n){return n=n!=null?n.concat([e]):null,Wd(4,4,E_.bind(null,t,e),n)}function Wg(){}function P_(e,t){var n=tr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function A_(e,t){var n=tr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function M_(e,t,n){return Uo&21?(yr(n,t)||(n=L1(),ft.lanes|=n,Ho|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Cn=!0),e.memoizedState=n)}function bA(e,t){var n=Ue;Ue=n!==0&&4>n?n:4,e(!0);var r=dh.transition;dh.transition={};try{e(!1),t()}finally{Ue=n,dh.transition=r}}function R_(){return tr().memoizedState}function _A(e,t,n){var r=Us(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},O_(e))D_(t,n);else if(n=p_(e,t,n,r),n!==null){var s=fn();vr(n,e,r,s),I_(n,t,r)}}function jA(e,t,n){var r=Us(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(O_(e))D_(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,n);if(s.hasEagerState=!0,s.eagerState=l,yr(l,i)){var c=t.interleaved;c===null?(s.next=s,Ig(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=p_(e,t,s,r),n!==null&&(s=fn(),vr(n,e,r,s),I_(n,t,r))}}function O_(e){var t=e.alternate;return e===ft||t!==null&&t===ft}function D_(e,t){al=nd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function I_(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_g(e,n)}}var rd={readContext:er,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},SA={readContext:er,useCallback:function(e,t){return Sr().memoizedState=[e,t===void 0?null:t],e},useContext:er,useEffect:B0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Cu(4194308,4,E_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cu(4,2,e,t)},useMemo:function(e,t){var n=Sr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=_A.bind(null,ft,e),[r.memoizedState,e]},useRef:function(e){var t=Sr();return e={current:e},t.memoizedState=e},useState:V0,useDebugValue:Wg,useDeferredValue:function(e){return Sr().memoizedState=e},useTransition:function(){var e=V0(!1),t=e[0];return e=bA.bind(null,e[1]),Sr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ft,s=Sr();if(st){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),Vt===null)throw Error(K(349));Uo&30||w_(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,B0(__.bind(null,r,o,e),[e]),r.flags|=2048,Vl(9,b_.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Sr(),t=Vt.identifierPrefix;if(st){var n=es,r=Zr;n=(r&~(1<<32-gr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=$l++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=wA++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},CA={readContext:er,useCallback:P_,useContext:er,useEffect:zg,useImperativeHandle:T_,useInsertionEffect:N_,useLayoutEffect:k_,useMemo:A_,useReducer:fh,useRef:C_,useState:function(){return fh(Fl)},useDebugValue:Wg,useDeferredValue:function(e){var t=tr();return M_(t,Mt.memoizedState,e)},useTransition:function(){var e=fh(Fl)[0],t=tr().memoizedState;return[e,t]},useMutableSource:y_,useSyncExternalStore:x_,useId:R_,unstable_isNewReconciler:!1},NA={readContext:er,useCallback:P_,useContext:er,useEffect:zg,useImperativeHandle:T_,useInsertionEffect:N_,useLayoutEffect:k_,useMemo:A_,useReducer:hh,useRef:C_,useState:function(){return hh(Fl)},useDebugValue:Wg,useDeferredValue:function(e){var t=tr();return Mt===null?t.memoizedState=e:M_(t,Mt.memoizedState,e)},useTransition:function(){var e=hh(Fl)[0],t=tr().memoizedState;return[e,t]},useMutableSource:y_,useSyncExternalStore:x_,useId:R_,unstable_isNewReconciler:!1};function lr(e,t){if(e&&e.defaultProps){t=ht({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Um(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ht({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qd={isMounted:function(e){return(e=e._reactInternals)?ti(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fn(),s=Us(e),o=ns(r,s);o.payload=t,n!=null&&(o.callback=n),t=Vs(e,o,s),t!==null&&(vr(t,e,s,r),ju(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fn(),s=Us(e),o=ns(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Vs(e,o,s),t!==null&&(vr(t,e,s,r),ju(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fn(),r=Us(e),s=ns(n,r);s.tag=2,t!=null&&(s.callback=t),t=Vs(e,s,r),t!==null&&(vr(t,e,r,n),ju(t,e,r))}};function U0(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ml(n,r)||!Ml(s,o):!0}function L_(e,t,n){var r=!1,s=Ks,o=t.contextType;return typeof o=="object"&&o!==null?o=er(o):(s=kn(t)?Vo:rn.current,r=t.contextTypes,o=(r=r!=null)?Zi(e,s):Ks),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function H0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qd.enqueueReplaceState(t,t.state,null)}function Hm(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Lg(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=er(o):(o=kn(t)?Vo:rn.current,s.context=Zi(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Um(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&qd.enqueueReplaceState(s,s.state,null),ed(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ra(e,t){try{var n="",r=t;do n+=e2(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function mh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function zm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var kA=typeof WeakMap=="function"?WeakMap:Map;function $_(e,t,n){n=ns(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){od||(od=!0,ep=r),zm(e,t)},n}function F_(e,t,n){n=ns(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){zm(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){zm(e,t),typeof r!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function z0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new kA;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=BA.bind(null,e,t,n),t.then(e,e))}function W0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function q0(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ns(-1,1),t.tag=2,Vs(n,t,1))),n.lanes|=1),e)}var EA=hs.ReactCurrentOwner,Cn=!1;function dn(e,t,n,r){t.child=e===null?m_(t,null,n,r):ta(t,e.child,n,r)}function G0(e,t,n,r,s){n=n.render;var o=t.ref;return Ui(t,s),r=Ug(e,t,n,r,o,s),n=Hg(),e!==null&&!Cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ls(e,t,s)):(st&&n&&Pg(t),t.flags|=1,dn(e,t,r,s),t.child)}function Y0(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Zg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,V_(e,t,o,r,s)):(e=Tu(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ml,n(i,r)&&e.ref===t.ref)return ls(e,t,s)}return t.flags|=1,e=Hs(o,r),e.ref=t.ref,e.return=t,t.child=e}function V_(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Ml(o,r)&&e.ref===t.ref)if(Cn=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Cn=!0);else return t.lanes=e.lanes,ls(e,t,s)}return Wm(e,t,n,r,s)}function B_(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Mi,On),On|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ge(Mi,On),On|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ge(Mi,On),On|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ge(Mi,On),On|=r;return dn(e,t,s,n),t.child}function U_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wm(e,t,n,r,s){var o=kn(n)?Vo:rn.current;return o=Zi(t,o),Ui(t,s),n=Ug(e,t,n,r,o,s),r=Hg(),e!==null&&!Cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ls(e,t,s)):(st&&r&&Pg(t),t.flags|=1,dn(e,t,n,s),t.child)}function K0(e,t,n,r,s){if(kn(n)){var o=!0;Ku(t)}else o=!1;if(Ui(t,s),t.stateNode===null)Nu(e,t),L_(t,n,r),Hm(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=er(u):(u=kn(n)?Vo:rn.current,u=Zi(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&H0(t,i,r,u),ks=!1;var m=t.memoizedState;i.state=m,ed(t,r,i,s),c=t.memoizedState,l!==r||m!==c||Nn.current||ks?(typeof d=="function"&&(Um(t,n,d,r),c=t.memoizedState),(l=ks||U0(t,n,l,r,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,g_(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:lr(t.type,l),i.props=u,f=t.pendingProps,m=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=er(c):(c=kn(n)?Vo:rn.current,c=Zi(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&H0(t,i,r,c),ks=!1,m=t.memoizedState,i.state=m,ed(t,r,i,s);var x=t.memoizedState;l!==f||m!==x||Nn.current||ks?(typeof p=="function"&&(Um(t,n,p,r),x=t.memoizedState),(u=ks||U0(t,n,u,r,m,x,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,x,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,x,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),i.props=r,i.state=x,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return qm(e,t,n,r,o,s)}function qm(e,t,n,r,s,o){U_(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&O0(t,n,!1),ls(e,t,o);r=t.stateNode,EA.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=ta(t,e.child,null,o),t.child=ta(t,null,l,o)):dn(e,t,l,o),t.memoizedState=r.state,s&&O0(t,n,!0),t.child}function H_(e){var t=e.stateNode;t.pendingContext?R0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&R0(e,t.context,!1),$g(e,t.containerInfo)}function Q0(e,t,n,r,s){return ea(),Mg(s),t.flags|=256,dn(e,t,n,r),t.child}var Gm={dehydrated:null,treeContext:null,retryLane:0};function Ym(e){return{baseLanes:e,cachePool:null,transitions:null}}function z_(e,t,n){var r=t.pendingProps,s=lt.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ge(lt,s&1),e===null)return Vm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Kd(i,r,0,null),e=$o(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ym(n),t.memoizedState=Gm,e):qg(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return TA(e,t,i,r,l,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Hs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Hs(l,o):(o=$o(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Ym(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Gm,r}return o=e.child,e=o.sibling,r=Hs(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function qg(e,t){return t=Kd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yc(e,t,n,r){return r!==null&&Mg(r),ta(t,e.child,null,n),e=qg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function TA(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=mh(Error(K(422))),Yc(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Kd({mode:"visible",children:r.children},s,0,null),o=$o(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ta(t,e.child,null,i),t.child.memoizedState=Ym(i),t.memoizedState=Gm,o);if(!(t.mode&1))return Yc(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(K(419)),r=mh(o,r,void 0),Yc(e,t,i,r)}if(l=(i&e.childLanes)!==0,Cn||l){if(r=Vt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,as(e,s),vr(r,e,s,-1))}return Jg(),r=mh(Error(K(421))),Yc(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=UA.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,$n=Fs(s.nextSibling),Vn=t,st=!0,hr=null,e!==null&&(Kn[Qn++]=Zr,Kn[Qn++]=es,Kn[Qn++]=Bo,Zr=e.id,es=e.overflow,Bo=t),t=qg(t,r.children),t.flags|=4096,t)}function X0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Bm(e.return,t,n)}function ph(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function W_(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(dn(e,t,r.children,n),r=lt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&X0(e,n,t);else if(e.tag===19)X0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ge(lt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&td(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ph(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&td(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ph(t,!0,n,null,o);break;case"together":ph(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Nu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ls(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ho|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=Hs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Hs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function PA(e,t,n){switch(t.tag){case 3:H_(t),ea();break;case 5:v_(t);break;case 1:kn(t.type)&&Ku(t);break;case 4:$g(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ge(Ju,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ge(lt,lt.current&1),t.flags|=128,null):n&t.child.childLanes?z_(e,t,n):(Ge(lt,lt.current&1),e=ls(e,t,n),e!==null?e.sibling:null);Ge(lt,lt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return W_(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ge(lt,lt.current),r)break;return null;case 22:case 23:return t.lanes=0,B_(e,t,n)}return ls(e,t,n)}var q_,Km,G_,Y_;q_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Km=function(){};G_=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ro(Dr.current);var o=null;switch(n){case"input":s=vm(e,s),r=vm(e,r),o=[];break;case"select":s=ht({},s,{value:void 0}),r=ht({},r,{value:void 0}),o=[];break;case"textarea":s=wm(e,s),r=wm(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Gu)}_m(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ze("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Y_=function(e,t,n,r){n!==r&&(t.flags|=4)};function Da(e,t){if(!st)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function AA(e,t,n){var r=t.pendingProps;switch(Ag(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(t),null;case 1:return kn(t.type)&&Yu(),Xt(t),null;case 3:return r=t.stateNode,na(),et(Nn),et(rn),Vg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(qc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hr!==null&&(rp(hr),hr=null))),Km(e,t),Xt(t),null;case 5:Fg(t);var s=Ro(Ll.current);if(n=t.type,e!==null&&t.stateNode!=null)G_(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(K(166));return Xt(t),null}if(e=Ro(Dr.current),qc(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Cr]=t,r[Dl]=o,e=(t.mode&1)!==0,n){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(s=0;s<Xa.length;s++)Ze(Xa[s],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":i0(r,o),Ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ze("invalid",r);break;case"textarea":l0(r,o),Ze("invalid",r)}_m(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Wc(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Wc(r.textContent,l,e),s=["children",""+l]):Cl.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Ze("scroll",r)}switch(n){case"input":Lc(r),a0(r,o,!0);break;case"textarea":Lc(r),c0(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Gu)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Cr]=t,e[Dl]=r,q_(e,t,!1,!1),t.stateNode=e;e:{switch(i=jm(n,r),n){case"dialog":Ze("cancel",e),Ze("close",e),s=r;break;case"iframe":case"object":case"embed":Ze("load",e),s=r;break;case"video":case"audio":for(s=0;s<Xa.length;s++)Ze(Xa[s],e);s=r;break;case"source":Ze("error",e),s=r;break;case"img":case"image":case"link":Ze("error",e),Ze("load",e),s=r;break;case"details":Ze("toggle",e),s=r;break;case"input":i0(e,r),s=vm(e,r),Ze("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ht({},r,{value:void 0}),Ze("invalid",e);break;case"textarea":l0(e,r),s=wm(e,r),Ze("invalid",e);break;default:s=r}_m(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?C1(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&j1(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Nl(e,c):typeof c=="number"&&Nl(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Cl.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ze("scroll",e):c!=null&&gg(e,o,c,i))}switch(n){case"input":Lc(e),a0(e,r,!1);break;case"textarea":Lc(e),c0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ys(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?$i(e,!!r.multiple,o,!1):r.defaultValue!=null&&$i(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Gu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xt(t),null;case 6:if(e&&t.stateNode!=null)Y_(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(K(166));if(n=Ro(Ll.current),Ro(Dr.current),qc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Cr]=t,(o=r.nodeValue!==n)&&(e=Vn,e!==null))switch(e.tag){case 3:Wc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wc(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cr]=t,t.stateNode=r}return Xt(t),null;case 13:if(et(lt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(st&&$n!==null&&t.mode&1&&!(t.flags&128))f_(),ea(),t.flags|=98560,o=!1;else if(o=qc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(K(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(K(317));o[Cr]=t}else ea(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xt(t),o=!1}else hr!==null&&(rp(hr),hr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||lt.current&1?Ot===0&&(Ot=3):Jg())),t.updateQueue!==null&&(t.flags|=4),Xt(t),null);case 4:return na(),Km(e,t),e===null&&Rl(t.stateNode.containerInfo),Xt(t),null;case 10:return Dg(t.type._context),Xt(t),null;case 17:return kn(t.type)&&Yu(),Xt(t),null;case 19:if(et(lt),o=t.memoizedState,o===null)return Xt(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)Da(o,!1);else{if(Ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=td(e),i!==null){for(t.flags|=128,Da(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ge(lt,lt.current&1|2),t.child}e=e.sibling}o.tail!==null&&wt()>sa&&(t.flags|=128,r=!0,Da(o,!1),t.lanes=4194304)}else{if(!r)if(e=td(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Da(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!st)return Xt(t),null}else 2*wt()-o.renderingStartTime>sa&&n!==1073741824&&(t.flags|=128,r=!0,Da(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=wt(),t.sibling=null,n=lt.current,Ge(lt,r?n&1|2:n&1),t):(Xt(t),null);case 22:case 23:return Xg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?On&1073741824&&(Xt(t),t.subtreeFlags&6&&(t.flags|=8192)):Xt(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function MA(e,t){switch(Ag(t),t.tag){case 1:return kn(t.type)&&Yu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return na(),et(Nn),et(rn),Vg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fg(t),null;case 13:if(et(lt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));ea()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return et(lt),null;case 4:return na(),null;case 10:return Dg(t.type._context),null;case 22:case 23:return Xg(),null;case 24:return null;default:return null}}var Kc=!1,Zt=!1,RA=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Ai(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mt(e,t,r)}else n.current=null}function Qm(e,t,n){try{n()}catch(r){mt(e,t,r)}}var J0=!1;function OA(e,t){if(Rm=zu,e=Z1(),Tg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(l=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===n&&++u===s&&(l=i),m===o&&++d===r&&(c=i),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Om={focusedElem:e,selectionRange:n},zu=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,y=x.memoizedState,w=t.stateNode,v=w.getSnapshotBeforeUpdate(t.elementType===t.type?g:lr(t.type,g),y);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(j){mt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return x=J0,J0=!1,x}function ll(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Qm(t,n,o)}s=s.next}while(s!==r)}}function Gd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function K_(e){var t=e.alternate;t!==null&&(e.alternate=null,K_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Cr],delete t[Dl],delete t[Lm],delete t[gA],delete t[vA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Q_(e){return e.tag===5||e.tag===3||e.tag===4}function Z0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Q_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gu));else if(r!==4&&(e=e.child,e!==null))for(Jm(e,t,n),e=e.sibling;e!==null;)Jm(e,t,n),e=e.sibling}function Zm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Zm(e,t,n),e=e.sibling;e!==null;)Zm(e,t,n),e=e.sibling}var Bt=null,ur=!1;function xs(e,t,n){for(n=n.child;n!==null;)X_(e,t,n),n=n.sibling}function X_(e,t,n){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(Fd,n)}catch{}switch(n.tag){case 5:Zt||Ai(n,t);case 6:var r=Bt,s=ur;Bt=null,xs(e,t,n),Bt=r,ur=s,Bt!==null&&(ur?(e=Bt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Bt.removeChild(n.stateNode));break;case 18:Bt!==null&&(ur?(e=Bt,n=n.stateNode,e.nodeType===8?lh(e.parentNode,n):e.nodeType===1&&lh(e,n),Pl(e)):lh(Bt,n.stateNode));break;case 4:r=Bt,s=ur,Bt=n.stateNode.containerInfo,ur=!0,xs(e,t,n),Bt=r,ur=s;break;case 0:case 11:case 14:case 15:if(!Zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Qm(n,t,i),s=s.next}while(s!==r)}xs(e,t,n);break;case 1:if(!Zt&&(Ai(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){mt(n,t,l)}xs(e,t,n);break;case 21:xs(e,t,n);break;case 22:n.mode&1?(Zt=(r=Zt)||n.memoizedState!==null,xs(e,t,n),Zt=r):xs(e,t,n);break;default:xs(e,t,n)}}function ex(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new RA),t.forEach(function(r){var s=HA.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function or(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Bt=l.stateNode,ur=!1;break e;case 3:Bt=l.stateNode.containerInfo,ur=!0;break e;case 4:Bt=l.stateNode.containerInfo,ur=!0;break e}l=l.return}if(Bt===null)throw Error(K(160));X_(o,i,s),Bt=null,ur=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){mt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)J_(t,e),t=t.sibling}function J_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(or(t,e),jr(e),r&4){try{ll(3,e,e.return),Gd(3,e)}catch(g){mt(e,e.return,g)}try{ll(5,e,e.return)}catch(g){mt(e,e.return,g)}}break;case 1:or(t,e),jr(e),r&512&&n!==null&&Ai(n,n.return);break;case 5:if(or(t,e),jr(e),r&512&&n!==null&&Ai(n,n.return),e.flags&32){var s=e.stateNode;try{Nl(s,"")}catch(g){mt(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&w1(s,o),jm(l,i);var u=jm(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?C1(s,f):d==="dangerouslySetInnerHTML"?j1(s,f):d==="children"?Nl(s,f):gg(s,d,f,u)}switch(l){case"input":ym(s,o);break;case"textarea":b1(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?$i(s,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?$i(s,!!o.multiple,o.defaultValue,!0):$i(s,!!o.multiple,o.multiple?[]:"",!1))}s[Dl]=o}catch(g){mt(e,e.return,g)}}break;case 6:if(or(t,e),jr(e),r&4){if(e.stateNode===null)throw Error(K(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){mt(e,e.return,g)}}break;case 3:if(or(t,e),jr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pl(t.containerInfo)}catch(g){mt(e,e.return,g)}break;case 4:or(t,e),jr(e);break;case 13:or(t,e),jr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Kg=wt())),r&4&&ex(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Zt=(u=Zt)||d,or(t,e),Zt=u):or(t,e),jr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(oe=e,d=e.child;d!==null;){for(f=oe=d;oe!==null;){switch(m=oe,p=m.child,m.tag){case 0:case 11:case 14:case 15:ll(4,m,m.return);break;case 1:Ai(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){mt(r,n,g)}}break;case 5:Ai(m,m.return);break;case 22:if(m.memoizedState!==null){nx(f);continue}}p!==null?(p.return=m,oe=p):nx(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=S1("display",i))}catch(g){mt(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){mt(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:or(t,e),jr(e),r&4&&ex(e);break;case 21:break;default:or(t,e),jr(e)}}function jr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Q_(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Nl(s,""),r.flags&=-33);var o=Z0(e);Zm(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Z0(e);Jm(e,l,i);break;default:throw Error(K(161))}}catch(c){mt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function DA(e,t,n){oe=e,Z_(e)}function Z_(e,t,n){for(var r=(e.mode&1)!==0;oe!==null;){var s=oe,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Kc;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Zt;l=Kc;var u=Zt;if(Kc=i,(Zt=c)&&!u)for(oe=s;oe!==null;)i=oe,c=i.child,i.tag===22&&i.memoizedState!==null?rx(s):c!==null?(c.return=i,oe=c):rx(s);for(;o!==null;)oe=o,Z_(o),o=o.sibling;oe=s,Kc=l,Zt=u}tx(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,oe=o):tx(e)}}function tx(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Zt||Gd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Zt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:lr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&F0(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}F0(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Pl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Zt||t.flags&512&&Xm(t)}catch(m){mt(t,t.return,m)}}if(t===e){oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,oe=n;break}oe=t.return}}function nx(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,oe=n;break}oe=t.return}}function rx(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gd(4,t)}catch(c){mt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){mt(t,s,c)}}var o=t.return;try{Xm(t)}catch(c){mt(t,o,c)}break;case 5:var i=t.return;try{Xm(t)}catch(c){mt(t,i,c)}}}catch(c){mt(t,t.return,c)}if(t===e){oe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,oe=l;break}oe=t.return}}var IA=Math.ceil,sd=hs.ReactCurrentDispatcher,Gg=hs.ReactCurrentOwner,Jn=hs.ReactCurrentBatchConfig,Re=0,Vt=null,Nt=null,Ut=0,On=0,Mi=so(0),Ot=0,Bl=null,Ho=0,Yd=0,Yg=0,cl=null,jn=null,Kg=0,sa=1/0,Kr=null,od=!1,ep=null,Bs=null,Qc=!1,Os=null,id=0,ul=0,tp=null,ku=-1,Eu=0;function fn(){return Re&6?wt():ku!==-1?ku:ku=wt()}function Us(e){return e.mode&1?Re&2&&Ut!==0?Ut&-Ut:xA.transition!==null?(Eu===0&&(Eu=L1()),Eu):(e=Ue,e!==0||(e=window.event,e=e===void 0?16:z1(e.type)),e):1}function vr(e,t,n,r){if(50<ul)throw ul=0,tp=null,Error(K(185));ac(e,n,r),(!(Re&2)||e!==Vt)&&(e===Vt&&(!(Re&2)&&(Yd|=n),Ot===4&&Ps(e,Ut)),En(e,r),n===1&&Re===0&&!(t.mode&1)&&(sa=wt()+500,zd&&oo()))}function En(e,t){var n=e.callbackNode;x2(e,t);var r=Hu(e,e===Vt?Ut:0);if(r===0)n!==null&&f0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&f0(n),t===1)e.tag===0?yA(sx.bind(null,e)):c_(sx.bind(null,e)),mA(function(){!(Re&6)&&oo()}),n=null;else{switch($1(r)){case 1:n=bg;break;case 4:n=D1;break;case 16:n=Uu;break;case 536870912:n=I1;break;default:n=Uu}n=aj(n,ej.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ej(e,t){if(ku=-1,Eu=0,Re&6)throw Error(K(327));var n=e.callbackNode;if(Hi()&&e.callbackNode!==n)return null;var r=Hu(e,e===Vt?Ut:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ad(e,r);else{t=r;var s=Re;Re|=2;var o=nj();(Vt!==e||Ut!==t)&&(Kr=null,sa=wt()+500,Lo(e,t));do try{FA();break}catch(l){tj(e,l)}while(1);Og(),sd.current=o,Re=s,Nt!==null?t=0:(Vt=null,Ut=0,t=Ot)}if(t!==0){if(t===2&&(s=Em(e),s!==0&&(r=s,t=np(e,s))),t===1)throw n=Bl,Lo(e,0),Ps(e,r),En(e,wt()),n;if(t===6)Ps(e,r);else{if(s=e.current.alternate,!(r&30)&&!LA(s)&&(t=ad(e,r),t===2&&(o=Em(e),o!==0&&(r=o,t=np(e,o))),t===1))throw n=Bl,Lo(e,0),Ps(e,r),En(e,wt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(K(345));case 2:jo(e,jn,Kr);break;case 3:if(Ps(e,r),(r&130023424)===r&&(t=Kg+500-wt(),10<t)){if(Hu(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){fn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Im(jo.bind(null,e,jn,Kr),t);break}jo(e,jn,Kr);break;case 4:if(Ps(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-gr(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=wt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*IA(r/1960))-r,10<r){e.timeoutHandle=Im(jo.bind(null,e,jn,Kr),r);break}jo(e,jn,Kr);break;case 5:jo(e,jn,Kr);break;default:throw Error(K(329))}}}return En(e,wt()),e.callbackNode===n?ej.bind(null,e):null}function np(e,t){var n=cl;return e.current.memoizedState.isDehydrated&&(Lo(e,t).flags|=256),e=ad(e,t),e!==2&&(t=jn,jn=n,t!==null&&rp(t)),e}function rp(e){jn===null?jn=e:jn.push.apply(jn,e)}function LA(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!yr(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ps(e,t){for(t&=~Yg,t&=~Yd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gr(t),r=1<<n;e[n]=-1,t&=~r}}function sx(e){if(Re&6)throw Error(K(327));Hi();var t=Hu(e,0);if(!(t&1))return En(e,wt()),null;var n=ad(e,t);if(e.tag!==0&&n===2){var r=Em(e);r!==0&&(t=r,n=np(e,r))}if(n===1)throw n=Bl,Lo(e,0),Ps(e,t),En(e,wt()),n;if(n===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jo(e,jn,Kr),En(e,wt()),null}function Qg(e,t){var n=Re;Re|=1;try{return e(t)}finally{Re=n,Re===0&&(sa=wt()+500,zd&&oo())}}function zo(e){Os!==null&&Os.tag===0&&!(Re&6)&&Hi();var t=Re;Re|=1;var n=Jn.transition,r=Ue;try{if(Jn.transition=null,Ue=1,e)return e()}finally{Ue=r,Jn.transition=n,Re=t,!(Re&6)&&oo()}}function Xg(){On=Mi.current,et(Mi)}function Lo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hA(n)),Nt!==null)for(n=Nt.return;n!==null;){var r=n;switch(Ag(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yu();break;case 3:na(),et(Nn),et(rn),Vg();break;case 5:Fg(r);break;case 4:na();break;case 13:et(lt);break;case 19:et(lt);break;case 10:Dg(r.type._context);break;case 22:case 23:Xg()}n=n.return}if(Vt=e,Nt=e=Hs(e.current,null),Ut=On=t,Ot=0,Bl=null,Yg=Yd=Ho=0,jn=cl=null,Mo!==null){for(t=0;t<Mo.length;t++)if(n=Mo[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Mo=null}return e}function tj(e,t){do{var n=Nt;try{if(Og(),Su.current=rd,nd){for(var r=ft.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}nd=!1}if(Uo=0,$t=Mt=ft=null,al=!1,$l=0,Gg.current=null,n===null||n.return===null){Ot=1,Bl=t,Nt=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=Ut,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=W0(i);if(p!==null){p.flags&=-257,q0(p,i,l,o,t),p.mode&1&&z0(o,u,t),t=p,c=u;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){z0(o,u,t),Jg();break e}c=Error(K(426))}}else if(st&&l.mode&1){var y=W0(i);if(y!==null){!(y.flags&65536)&&(y.flags|=256),q0(y,i,l,o,t),Mg(ra(c,l));break e}}o=c=ra(c,l),Ot!==4&&(Ot=2),cl===null?cl=[o]:cl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=$_(o,c,t);$0(o,w);break e;case 1:l=c;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Bs===null||!Bs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=F_(o,l,t);$0(o,j);break e}}o=o.return}while(o!==null)}sj(n)}catch(S){t=S,Nt===n&&n!==null&&(Nt=n=n.return);continue}break}while(1)}function nj(){var e=sd.current;return sd.current=rd,e===null?rd:e}function Jg(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Vt===null||!(Ho&268435455)&&!(Yd&268435455)||Ps(Vt,Ut)}function ad(e,t){var n=Re;Re|=2;var r=nj();(Vt!==e||Ut!==t)&&(Kr=null,Lo(e,t));do try{$A();break}catch(s){tj(e,s)}while(1);if(Og(),Re=n,sd.current=r,Nt!==null)throw Error(K(261));return Vt=null,Ut=0,Ot}function $A(){for(;Nt!==null;)rj(Nt)}function FA(){for(;Nt!==null&&!u2();)rj(Nt)}function rj(e){var t=ij(e.alternate,e,On);e.memoizedProps=e.pendingProps,t===null?sj(e):Nt=t,Gg.current=null}function sj(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=MA(n,t),n!==null){n.flags&=32767,Nt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ot=6,Nt=null;return}}else if(n=AA(n,t,On),n!==null){Nt=n;return}if(t=t.sibling,t!==null){Nt=t;return}Nt=t=e}while(t!==null);Ot===0&&(Ot=5)}function jo(e,t,n){var r=Ue,s=Jn.transition;try{Jn.transition=null,Ue=1,VA(e,t,n,r)}finally{Jn.transition=s,Ue=r}return null}function VA(e,t,n,r){do Hi();while(Os!==null);if(Re&6)throw Error(K(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(w2(e,o),e===Vt&&(Nt=Vt=null,Ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qc||(Qc=!0,aj(Uu,function(){return Hi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Jn.transition,Jn.transition=null;var i=Ue;Ue=1;var l=Re;Re|=4,Gg.current=null,OA(e,n),J_(n,e),iA(Om),zu=!!Rm,Om=Rm=null,e.current=n,DA(n),d2(),Re=l,Ue=i,Jn.transition=o}else e.current=n;if(Qc&&(Qc=!1,Os=e,id=s),o=e.pendingLanes,o===0&&(Bs=null),m2(n.stateNode),En(e,wt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(od)throw od=!1,e=ep,ep=null,e;return id&1&&e.tag!==0&&Hi(),o=e.pendingLanes,o&1?e===tp?ul++:(ul=0,tp=e):ul=0,oo(),null}function Hi(){if(Os!==null){var e=$1(id),t=Jn.transition,n=Ue;try{if(Jn.transition=null,Ue=16>e?16:e,Os===null)var r=!1;else{if(e=Os,Os=null,id=0,Re&6)throw Error(K(331));var s=Re;for(Re|=4,oe=e.current;oe!==null;){var o=oe,i=o.child;if(oe.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(oe=u;oe!==null;){var d=oe;switch(d.tag){case 0:case 11:case 15:ll(8,d,o)}var f=d.child;if(f!==null)f.return=d,oe=f;else for(;oe!==null;){d=oe;var m=d.sibling,p=d.return;if(K_(d),d===u){oe=null;break}if(m!==null){m.return=p,oe=m;break}oe=p}}}var x=o.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}oe=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,oe=i;else e:for(;oe!==null;){if(o=oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ll(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,oe=w;break e}oe=o.return}}var v=e.current;for(oe=v;oe!==null;){i=oe;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,oe=b;else e:for(i=v;oe!==null;){if(l=oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Gd(9,l)}}catch(S){mt(l,l.return,S)}if(l===i){oe=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,oe=j;break e}oe=l.return}}if(Re=s,oo(),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(Fd,e)}catch{}r=!0}return r}finally{Ue=n,Jn.transition=t}}return!1}function ox(e,t,n){t=ra(n,t),t=$_(e,t,1),e=Vs(e,t,1),t=fn(),e!==null&&(ac(e,1,t),En(e,t))}function mt(e,t,n){if(e.tag===3)ox(e,e,n);else for(;t!==null;){if(t.tag===3){ox(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bs===null||!Bs.has(r))){e=ra(n,e),e=F_(t,e,1),t=Vs(t,e,1),e=fn(),t!==null&&(ac(t,1,e),En(t,e));break}}t=t.return}}function BA(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=fn(),e.pingedLanes|=e.suspendedLanes&n,Vt===e&&(Ut&n)===n&&(Ot===4||Ot===3&&(Ut&130023424)===Ut&&500>wt()-Kg?Lo(e,0):Yg|=n),En(e,t)}function oj(e,t){t===0&&(e.mode&1?(t=Vc,Vc<<=1,!(Vc&130023424)&&(Vc=4194304)):t=1);var n=fn();e=as(e,t),e!==null&&(ac(e,t,n),En(e,n))}function UA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),oj(e,n)}function HA(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(t),oj(e,n)}var ij;ij=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nn.current)Cn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Cn=!1,PA(e,t,n);Cn=!!(e.flags&131072)}else Cn=!1,st&&t.flags&1048576&&u_(t,Xu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Nu(e,t),e=t.pendingProps;var s=Zi(t,rn.current);Ui(t,n),s=Ug(null,t,r,e,s,n);var o=Hg();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kn(r)?(o=!0,Ku(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Lg(t),s.updater=qd,t.stateNode=s,s._reactInternals=t,Hm(t,r,e,n),t=qm(null,t,r,!0,o,n)):(t.tag=0,st&&o&&Pg(t),dn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Nu(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=WA(r),e=lr(r,e),s){case 0:t=Wm(null,t,r,e,n);break e;case 1:t=K0(null,t,r,e,n);break e;case 11:t=G0(null,t,r,e,n);break e;case 14:t=Y0(null,t,r,lr(r.type,e),n);break e}throw Error(K(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:lr(r,s),Wm(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:lr(r,s),K0(e,t,r,s,n);case 3:e:{if(H_(t),e===null)throw Error(K(387));r=t.pendingProps,o=t.memoizedState,s=o.element,g_(e,t),ed(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=ra(Error(K(423)),t),t=Q0(e,t,r,n,s);break e}else if(r!==s){s=ra(Error(K(424)),t),t=Q0(e,t,r,n,s);break e}else for($n=Fs(t.stateNode.containerInfo.firstChild),Vn=t,st=!0,hr=null,n=m_(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ea(),r===s){t=ls(e,t,n);break e}dn(e,t,r,n)}t=t.child}return t;case 5:return v_(t),e===null&&Vm(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Dm(r,s)?i=null:o!==null&&Dm(r,o)&&(t.flags|=32),U_(e,t),dn(e,t,i,n),t.child;case 6:return e===null&&Vm(t),null;case 13:return z_(e,t,n);case 4:return $g(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ta(t,null,r,n):dn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:lr(r,s),G0(e,t,r,s,n);case 7:return dn(e,t,t.pendingProps,n),t.child;case 8:return dn(e,t,t.pendingProps.children,n),t.child;case 12:return dn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Ge(Ju,r._currentValue),r._currentValue=i,o!==null)if(yr(o.value,i)){if(o.children===s.children&&!Nn.current){t=ls(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=ns(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Bm(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(K(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Bm(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}dn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ui(t,n),s=er(s),r=r(s),t.flags|=1,dn(e,t,r,n),t.child;case 14:return r=t.type,s=lr(r,t.pendingProps),s=lr(r.type,s),Y0(e,t,r,s,n);case 15:return V_(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:lr(r,s),Nu(e,t),t.tag=1,kn(r)?(e=!0,Ku(t)):e=!1,Ui(t,n),L_(t,r,s),Hm(t,r,s,n),qm(null,t,r,!0,e,n);case 19:return W_(e,t,n);case 22:return B_(e,t,n)}throw Error(K(156,t.tag))};function aj(e,t){return O1(e,t)}function zA(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(e,t,n,r){return new zA(e,t,n,r)}function Zg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function WA(e){if(typeof e=="function")return Zg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yg)return 11;if(e===xg)return 14}return 2}function Hs(e,t){var n=e.alternate;return n===null?(n=Xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tu(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Zg(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case _i:return $o(n.children,s,o,t);case vg:i=8,s|=8;break;case hm:return e=Xn(12,n,t,s|2),e.elementType=hm,e.lanes=o,e;case mm:return e=Xn(13,n,t,s),e.elementType=mm,e.lanes=o,e;case pm:return e=Xn(19,n,t,s),e.elementType=pm,e.lanes=o,e;case v1:return Kd(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case p1:i=10;break e;case g1:i=9;break e;case yg:i=11;break e;case xg:i=14;break e;case Ns:i=16,r=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=Xn(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function $o(e,t,n,r){return e=Xn(7,e,r,t),e.lanes=n,e}function Kd(e,t,n,r){return e=Xn(22,e,r,t),e.elementType=v1,e.lanes=n,e.stateNode={isHidden:!1},e}function gh(e,t,n){return e=Xn(6,e,null,t),e.lanes=n,e}function vh(e,t,n){return t=Xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qA(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xf(0),this.expirationTimes=Xf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ev(e,t,n,r,s,o,i,l,c){return e=new qA(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Xn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lg(o),e}function GA(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function lj(e){if(!e)return Ks;e=e._reactInternals;e:{if(ti(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var n=e.type;if(kn(n))return l_(e,n,t)}return t}function cj(e,t,n,r,s,o,i,l,c){return e=ev(n,r,!0,e,s,o,i,l,c),e.context=lj(null),n=e.current,r=fn(),s=Us(n),o=ns(r,s),o.callback=t??null,Vs(n,o,s),e.current.lanes=s,ac(e,s,r),En(e,r),e}function Qd(e,t,n,r){var s=t.current,o=fn(),i=Us(s);return n=lj(n),t.context===null?t.context=n:t.pendingContext=n,t=ns(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vs(s,t,i),e!==null&&(vr(e,s,i,o),ju(e,s,i)),i}function ld(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ix(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function tv(e,t){ix(e,t),(e=e.alternate)&&ix(e,t)}function YA(){return null}var uj=typeof reportError=="function"?reportError:function(e){console.error(e)};function nv(e){this._internalRoot=e}Xd.prototype.render=nv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));Qd(e,t,null,null)};Xd.prototype.unmount=nv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zo(function(){Qd(null,e,null,null)}),t[is]=null}};function Xd(e){this._internalRoot=e}Xd.prototype.unstable_scheduleHydration=function(e){if(e){var t=B1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ts.length&&t!==0&&t<Ts[n].priority;n++);Ts.splice(n,0,e),n===0&&H1(e)}};function rv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ax(){}function KA(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=ld(i);o.call(u)}}var i=cj(t,r,e,0,null,!1,!1,"",ax);return e._reactRootContainer=i,e[is]=i.current,Rl(e.nodeType===8?e.parentNode:e),zo(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ld(c);l.call(u)}}var c=ev(e,0,!1,null,null,!1,!1,"",ax);return e._reactRootContainer=c,e[is]=c.current,Rl(e.nodeType===8?e.parentNode:e),zo(function(){Qd(t,c,n,r)}),c}function Zd(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=ld(i);l.call(c)}}Qd(t,i,e,s)}else i=KA(n,t,e,s,r);return ld(i)}F1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qa(t.pendingLanes);n!==0&&(_g(t,n|1),En(t,wt()),!(Re&6)&&(sa=wt()+500,oo()))}break;case 13:zo(function(){var r=as(e,1);if(r!==null){var s=fn();vr(r,e,1,s)}}),tv(e,1)}};jg=function(e){if(e.tag===13){var t=as(e,134217728);if(t!==null){var n=fn();vr(t,e,134217728,n)}tv(e,134217728)}};V1=function(e){if(e.tag===13){var t=Us(e),n=as(e,t);if(n!==null){var r=fn();vr(n,e,t,r)}tv(e,t)}};B1=function(){return Ue};U1=function(e,t){var n=Ue;try{return Ue=e,t()}finally{Ue=n}};Cm=function(e,t,n){switch(t){case"input":if(ym(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Hd(r);if(!s)throw Error(K(90));x1(r),ym(r,s)}}}break;case"textarea":b1(e,n);break;case"select":t=n.value,t!=null&&$i(e,!!n.multiple,t,!1)}};E1=Qg;T1=zo;var QA={usingClientEntryPoint:!1,Events:[cc,Ni,Hd,N1,k1,Qg]},Ia={findFiberByHostInstance:Ao,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XA={bundleType:Ia.bundleType,version:Ia.version,rendererPackageName:Ia.rendererPackageName,rendererConfig:Ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=M1(e),e===null?null:e.stateNode},findFiberByHostInstance:Ia.findFiberByHostInstance||YA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{Fd=Xc.inject(XA),Or=Xc}catch{}}zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QA;zn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rv(t))throw Error(K(200));return GA(e,t,null,n)};zn.createRoot=function(e,t){if(!rv(e))throw Error(K(299));var n=!1,r="",s=uj;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ev(e,1,!1,null,null,n,!1,r,s),e[is]=t.current,Rl(e.nodeType===8?e.parentNode:e),new nv(t)};zn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=M1(t),e=e===null?null:e.stateNode,e};zn.flushSync=function(e){return zo(e)};zn.hydrate=function(e,t,n){if(!Jd(t))throw Error(K(200));return Zd(null,e,t,!0,n)};zn.hydrateRoot=function(e,t,n){if(!rv(e))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=uj;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=cj(t,null,e,1,n??null,s,!1,o,i),e[is]=t.current,Rl(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Xd(t)};zn.render=function(e,t,n){if(!Jd(t))throw Error(K(200));return Zd(null,e,t,!1,n)};zn.unmountComponentAtNode=function(e){if(!Jd(e))throw Error(K(40));return e._reactRootContainer?(zo(function(){Zd(null,null,e,!1,function(){e._reactRootContainer=null,e[is]=null})}),!0):!1};zn.unstable_batchedUpdates=Qg;zn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jd(n))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return Zd(e,t,n,!1,r)};zn.version="18.3.1-next-f1338f8080-20240426";function dj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dj)}catch(e){console.error(e)}}dj(),d1.exports=zn;var ni=d1.exports;const JA=Zo(ni);var lx=ni;dm.createRoot=lx.createRoot,dm.hydrateRoot=lx.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ul.apply(this,arguments)}var Ds;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ds||(Ds={}));const cx="popstate";function ZA(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:l}=r.location;return sp("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:cd(s)}return tM(t,n,null,e)}function jt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function eM(){return Math.random().toString(36).substr(2,8)}function ux(e,t){return{usr:e.state,key:e.key,idx:t}}function sp(e,t,n,r){return n===void 0&&(n=null),Ul({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xa(t):t,{state:n,key:t&&t.key||r||eM()})}function cd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function xa(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function tM(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,l=Ds.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Ul({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=Ds.Pop;let y=d(),w=y==null?null:y-u;u=y,c&&c({action:l,location:g.location,delta:w})}function m(y,w){l=Ds.Push;let v=sp(g.location,y,w);n&&n(v,y),u=d()+1;let b=ux(v,u),j=g.createHref(v);try{i.pushState(b,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(j)}o&&c&&c({action:l,location:g.location,delta:1})}function p(y,w){l=Ds.Replace;let v=sp(g.location,y,w);n&&n(v,y),u=d();let b=ux(v,u),j=g.createHref(v);i.replaceState(b,"",j),o&&c&&c({action:l,location:g.location,delta:0})}function x(y){let w=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof y=="string"?y:cd(y);return v=v.replace(/ $/,"%20"),jt(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let g={get action(){return l},get location(){return e(s,i)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(cx,f),c=y,()=>{s.removeEventListener(cx,f),c=null}},createHref(y){return t(s,y)},createURL:x,encodeLocation(y){let w=x(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(y){return i.go(y)}};return g}var dx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dx||(dx={}));function nM(e,t,n){return n===void 0&&(n="/"),rM(e,t,n,!1)}function rM(e,t,n,r){let s=typeof t=="string"?xa(t):t,o=ov(s.pathname||"/",n);if(o==null)return null;let i=fj(e);sM(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=pM(o);l=hM(i[c],u,r)}return l}function fj(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(jt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=zs([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(jt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),fj(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:dM(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of hj(o.path))s(o,i,c)}),t}function hj(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=hj(r.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function sM(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:fM(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oM=/^:[\w-]+$/,iM=3,aM=2,lM=1,cM=10,uM=-2,fx=e=>e==="*";function dM(e,t){let n=e.split("/"),r=n.length;return n.some(fx)&&(r+=uM),t&&(r+=aM),n.filter(s=>!fx(s)).reduce((s,o)=>s+(oM.test(o)?iM:o===""?lM:cM),r)}function fM(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function hM(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},o="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=hx({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=hx({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:zs([o,f.pathname]),pathnameBase:wM(zs([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=zs([o,f.pathnameBase]))}return i}function hx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=mM(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let g=l[f]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[f];return p&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function mM(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),sv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function pM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ov(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const gM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vM=e=>gM.test(e);function yM(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?xa(e):e,o;if(n)if(vM(n))o=n;else{if(n.includes("//")){let i=n;n=n.replace(/\/\/+/g,"/"),sv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+n))}n.startsWith("/")?o=mx(n.substring(1),"/"):o=mx(n,t)}else o=t;return{pathname:o,search:bM(r),hash:_M(s)}}function mx(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function yh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xM(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function iv(e,t){let n=xM(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function av(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=xa(e):(s=Ul({},e),jt(!s.pathname||!s.pathname.includes("?"),yh("?","pathname","search",s)),jt(!s.pathname||!s.pathname.includes("#"),yh("#","pathname","hash",s)),jt(!s.search||!s.search.includes("#"),yh("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=yM(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const zs=e=>e.join("/").replace(/\/\/+/g,"/"),wM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_M=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const mj=["post","put","patch","delete"];new Set(mj);const SM=["get",...mj];new Set(SM);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hl.apply(this,arguments)}const lv=h.createContext(null),CM=h.createContext(null),io=h.createContext(null),ef=h.createContext(null),ao=h.createContext({outlet:null,matches:[],isDataRoute:!1}),pj=h.createContext(null);function NM(e,t){let{relative:n}=t===void 0?{}:t;wa()||jt(!1);let{basename:r,navigator:s}=h.useContext(io),{hash:o,pathname:i,search:l}=vj(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:zs([r,i])),s.createHref({pathname:c,search:l,hash:o})}function wa(){return h.useContext(ef)!=null}function ri(){return wa()||jt(!1),h.useContext(ef).location}function gj(e){h.useContext(io).static||h.useLayoutEffect(e)}function lo(){let{isDataRoute:e}=h.useContext(ao);return e?FM():kM()}function kM(){wa()||jt(!1);let e=h.useContext(lv),{basename:t,future:n,navigator:r}=h.useContext(io),{matches:s}=h.useContext(ao),{pathname:o}=ri(),i=JSON.stringify(iv(s,n.v7_relativeSplatPath)),l=h.useRef(!1);return gj(()=>{l.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=av(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:zs([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,o,e])}function vj(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=h.useContext(io),{matches:s}=h.useContext(ao),{pathname:o}=ri(),i=JSON.stringify(iv(s,r.v7_relativeSplatPath));return h.useMemo(()=>av(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function EM(e,t){return TM(e,t)}function TM(e,t,n,r){wa()||jt(!1);let{navigator:s}=h.useContext(io),{matches:o}=h.useContext(ao),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=ri(),d;if(t){var f;let y=typeof t=="string"?xa(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||jt(!1),d=y}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=nM(e,{pathname:p}),g=OM(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:zs([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:zs([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return t&&g?h.createElement(ef.Provider,{value:{location:Hl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ds.Pop}},g):g}function PM(){let e=$M(),t=jM(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:s},n):null,o)}const AM=h.createElement(PM,null);class MM extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement(ao.Provider,{value:this.props.routeContext},h.createElement(pj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RM(e){let{routeContext:t,match:n,children:r}=e,s=h.useContext(lv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(ao.Provider,{value:t},r)}function OM(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||jt(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=n,x=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let p,x=!1,g=null,y=null;n&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||AM,c&&(u<0&&m===0?(VM("route-fallback",!1),x=!0,y=null):u===m&&(x=!0,y=f.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,m+1)),v=()=>{let b;return p?b=g:x?b=y:f.route.Component?b=h.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,h.createElement(RM,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(MM,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var yj=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(yj||{}),ud=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ud||{});function DM(e){let t=h.useContext(lv);return t||jt(!1),t}function IM(e){let t=h.useContext(CM);return t||jt(!1),t}function LM(e){let t=h.useContext(ao);return t||jt(!1),t}function xj(e){let t=LM(),n=t.matches[t.matches.length-1];return n.route.id||jt(!1),n.route.id}function $M(){var e;let t=h.useContext(pj),n=IM(ud.UseRouteError),r=xj(ud.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function FM(){let{router:e}=DM(yj.UseNavigateStable),t=xj(ud.UseNavigateStable),n=h.useRef(!1);return gj(()=>{n.current=!0}),h.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Hl({fromRouteId:t},o)))},[e,t])}const px={};function VM(e,t,n){!t&&!px[e]&&(px[e]=!0)}function BM(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function La(e){let{to:t,replace:n,state:r,relative:s}=e;wa()||jt(!1);let{future:o,static:i}=h.useContext(io),{matches:l}=h.useContext(ao),{pathname:c}=ri(),u=lo(),d=av(t,iv(l,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function js(e){jt(!1)}function UM(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Ds.Pop,navigator:o,static:i=!1,future:l}=e;wa()&&jt(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:o,static:i,future:Hl({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof r=="string"&&(r=xa(r));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:x="default"}=r,g=h.useMemo(()=>{let y=ov(d,c);return y==null?null:{location:{pathname:y,search:f,hash:m,state:p,key:x},navigationType:s}},[c,d,f,m,p,x,s]);return g==null?null:h.createElement(io.Provider,{value:u},h.createElement(ef.Provider,{children:n,value:g}))}function HM(e){let{children:t,location:n}=e;return EM(op(t),n)}new Promise(()=>{});function op(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(r,s)=>{if(!h.isValidElement(r))return;let o=[...t,s];if(r.type===h.Fragment){n.push.apply(n,op(r.props.children,o));return}r.type!==js&&jt(!1),!r.props.index||!r.props.children||jt(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=op(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ip.apply(this,arguments)}function zM(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function WM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qM(e,t){return e.button===0&&(!t||t==="_self")&&!WM(e)}const GM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YM="6";try{window.__reactRouterVersion=YM}catch{}const KM="startTransition",gx=$d[KM];function QM(e){let{basename:t,children:n,future:r,window:s}=e,o=h.useRef();o.current==null&&(o.current=ZA({window:s,v5Compat:!0}));let i=o.current,[l,c]=h.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=h.useCallback(f=>{u&&gx?gx(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>i.listen(d),[i,d]),h.useEffect(()=>BM(r),[r]),h.createElement(UM,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i,future:r})}const XM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qs=h.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=zM(t,GM),{basename:p}=h.useContext(io),x,g=!1;if(typeof u=="string"&&JM.test(u)&&(x=u,XM))try{let b=new URL(window.location.href),j=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=ov(j.pathname,p);j.origin===b.origin&&S!=null?u=S+j.search+j.hash:g=!0}catch{}let y=NM(u,{relative:s}),w=ZM(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function v(b){r&&r(b),b.defaultPrevented||w(b)}return h.createElement("a",ip({},m,{href:x||y,onClick:g||o?r:v,ref:n,target:c}))});var vx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(vx||(vx={}));var yx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yx||(yx={}));function ZM(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=lo(),u=ri(),d=vj(e,{relative:i});return h.useCallback(f=>{if(qM(f,n)){f.preventDefault();let m=r!==void 0?r:cd(u)===cd(d);c(e,{replace:m,state:s,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,d,r,s,n,e,o,i,l])}var wj={exports:{}},eR="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",tR=eR,nR=tR;function bj(){}function _j(){}_j.resetWarningCache=bj;var rR=function(){function e(r,s,o,i,l,c){if(c!==nR){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:_j,resetWarningCache:bj};return n.PropTypes=n,n};wj.exports=rR();var sR=wj.exports;const nt=Zo(sR);function oR(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var jj=h,iR=oR(jj);function xx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aR(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var lR=!!(typeof window<"u"&&window.document&&window.document.createElement);function cR(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(s){return s.displayName||s.name||"Component"}return function(o){if(typeof o!="function")throw new Error("Expected WrappedComponent to be a React component.");var i=[],l;function c(){l=e(i.map(function(d){return d.props})),u.canUseDOM?t(l):n&&(l=n(l))}var u=function(d){aR(f,d);function f(){return d.apply(this,arguments)||this}f.peek=function(){return l},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var x=l;return l=void 0,i=[],x};var m=f.prototype;return m.UNSAFE_componentWillMount=function(){i.push(this),c()},m.componentDidUpdate=function(){c()},m.componentWillUnmount=function(){var x=i.indexOf(this);i.splice(x,1),c()},m.render=function(){return iR.createElement(o,this.props)},f}(jj.PureComponent);return xx(u,"displayName","SideEffect("+r(o)+")"),xx(u,"canUseDOM",lR),u}}var uR=cR;const dR=Zo(uR);var fR=typeof Element<"u",hR=typeof Map=="function",mR=typeof Set=="function",pR=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Pu(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,s;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Pu(e[r],t[r]))return!1;return!0}var o;if(hR&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!Pu(r.value[1],t.get(r.value[0])))return!1;return!0}if(mR&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(pR&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;if(fR&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&e.$$typeof)&&!Pu(e[s[r]],t[s[r]]))return!1;return!0}return e!==e&&t!==t}var gR=function(t,n){try{return Pu(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const vR=Zo(gR);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var wx=Object.getOwnPropertySymbols,yR=Object.prototype.hasOwnProperty,xR=Object.prototype.propertyIsEnumerable;function wR(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function bR(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(o){s[o]=o}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var _R=bR()?Object.assign:function(e,t){for(var n,r=wR(e),s,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var i in n)yR.call(n,i)&&(r[i]=n[i]);if(wx){s=wx(n);for(var l=0;l<s.length;l++)xR.call(n,s[l])&&(r[s[l]]=n[s[l]])}}return r};const jR=Zo(_R);var Fo={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},be={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(be).map(function(e){return be[e]});var rt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},dd={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},zl={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},SR=Object.keys(dd).reduce(function(e,t){return e[dd[t]]=t,e},{}),CR=[be.NOSCRIPT,be.SCRIPT,be.STYLE],pr="data-react-helmet",NR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kR=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ER=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TR=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},bx=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},PR=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},ap=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},AR=function(t){var n=zi(t,be.TITLE),r=zi(t,zl.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=zi(t,zl.DEFAULT_TITLE);return n||s||void 0},MR=function(t){return zi(t,zl.ON_CHANGE_CLIENT_STATE)||function(){}},xh=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,s){return _n({},r,s)},{})},RR=function(t,n){return n.filter(function(r){return typeof r[be.BASE]<"u"}).map(function(r){return r[be.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var o=Object.keys(s),i=0;i<o.length;i++){var l=o[i],c=l.toLowerCase();if(t.indexOf(c)!==-1&&s[c])return r.concat(s)}return r},[])},$a=function(t,n,r){var s={};return r.filter(function(o){return Array.isArray(o[t])?!0:(typeof o[t]<"u"&&LR("Helmet: "+t+' should be of type "Array". Instead found type "'+NR(o[t])+'"'),!1)}).map(function(o){return o[t]}).reverse().reduce(function(o,i){var l={};i.filter(function(m){for(var p=void 0,x=Object.keys(m),g=0;g<x.length;g++){var y=x[g],w=y.toLowerCase();n.indexOf(w)!==-1&&!(p===rt.REL&&m[p].toLowerCase()==="canonical")&&!(w===rt.REL&&m[w].toLowerCase()==="stylesheet")&&(p=w),n.indexOf(y)!==-1&&(y===rt.INNER_HTML||y===rt.CSS_TEXT||y===rt.ITEM_PROP)&&(p=y)}if(!p||!m[p])return!1;var v=m[p].toLowerCase();return s[p]||(s[p]={}),l[p]||(l[p]={}),s[p][v]?!1:(l[p][v]=!0,!0)}).reverse().forEach(function(m){return o.push(m)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],f=jR({},s[d],l[d]);s[d]=f}return o},[]).reverse()},zi=function(t,n){for(var r=t.length-1;r>=0;r--){var s=t[r];if(s.hasOwnProperty(n))return s[n]}return null},OR=function(t){return{baseTag:RR([rt.HREF,rt.TARGET],t),bodyAttributes:xh(Fo.BODY,t),defer:zi(t,zl.DEFER),encode:zi(t,zl.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:xh(Fo.HTML,t),linkTags:$a(be.LINK,[rt.REL,rt.HREF],t),metaTags:$a(be.META,[rt.NAME,rt.CHARSET,rt.HTTPEQUIV,rt.PROPERTY,rt.ITEM_PROP],t),noscriptTags:$a(be.NOSCRIPT,[rt.INNER_HTML],t),onChangeClientState:MR(t),scriptTags:$a(be.SCRIPT,[rt.SRC,rt.INNER_HTML],t),styleTags:$a(be.STYLE,[rt.CSS_TEXT],t),title:AR(t),titleAttributes:xh(Fo.TITLE,t)}},lp=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){lp(t)},0)}}(),_x=function(t){return clearTimeout(t)},DR=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||lp:global.requestAnimationFrame||lp,IR=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||_x:global.cancelAnimationFrame||_x,LR=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Fa=null,$R=function(t){Fa&&IR(Fa),t.defer?Fa=DR(function(){jx(t,function(){Fa=null})}):(jx(t),Fa=null)},jx=function(t,n){var r=t.baseTag,s=t.bodyAttributes,o=t.htmlAttributes,i=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.onChangeClientState,d=t.scriptTags,f=t.styleTags,m=t.title,p=t.titleAttributes;cp(be.BODY,s),cp(be.HTML,o),FR(m,p);var x={baseTag:di(be.BASE,r),linkTags:di(be.LINK,i),metaTags:di(be.META,l),noscriptTags:di(be.NOSCRIPT,c),scriptTags:di(be.SCRIPT,d),styleTags:di(be.STYLE,f)},g={},y={};Object.keys(x).forEach(function(w){var v=x[w],b=v.newTags,j=v.oldTags;b.length&&(g[w]=b),j.length&&(y[w]=x[w].oldTags)}),n&&n(),u(t,g,y)},Sj=function(t){return Array.isArray(t)?t.join(""):t},FR=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=Sj(t)),cp(be.TITLE,n)},cp=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var s=r.getAttribute(pr),o=s?s.split(","):[],i=[].concat(o),l=Object.keys(n),c=0;c<l.length;c++){var u=l[c],d=n[u]||"";r.getAttribute(u)!==d&&r.setAttribute(u,d),o.indexOf(u)===-1&&o.push(u);var f=i.indexOf(u);f!==-1&&i.splice(f,1)}for(var m=i.length-1;m>=0;m--)r.removeAttribute(i[m]);o.length===i.length?r.removeAttribute(pr):r.getAttribute(pr)!==l.join(",")&&r.setAttribute(pr,l.join(","))}},di=function(t,n){var r=document.head||document.querySelector(be.HEAD),s=r.querySelectorAll(t+"["+pr+"]"),o=Array.prototype.slice.call(s),i=[],l=void 0;return n&&n.length&&n.forEach(function(c){var u=document.createElement(t);for(var d in c)if(c.hasOwnProperty(d))if(d===rt.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===rt.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var f=typeof c[d]>"u"?"":c[d];u.setAttribute(d,f)}u.setAttribute(pr,"true"),o.some(function(m,p){return l=p,u.isEqualNode(m)})?o.splice(l,1):i.push(u)}),o.forEach(function(c){return c.parentNode.removeChild(c)}),i.forEach(function(c){return r.appendChild(c)}),{oldTags:o,newTags:i}},Cj=function(t){return Object.keys(t).reduce(function(n,r){var s=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+s:s},"")},VR=function(t,n,r,s){var o=Cj(r),i=Sj(n);return o?"<"+t+" "+pr+'="true" '+o+">"+ap(i,s)+"</"+t+">":"<"+t+" "+pr+'="true">'+ap(i,s)+"</"+t+">"},BR=function(t,n,r){return n.reduce(function(s,o){var i=Object.keys(o).filter(function(u){return!(u===rt.INNER_HTML||u===rt.CSS_TEXT)}).reduce(function(u,d){var f=typeof o[d]>"u"?d:d+'="'+ap(o[d],r)+'"';return u?u+" "+f:f},""),l=o.innerHTML||o.cssText||"",c=CR.indexOf(t)===-1;return s+"<"+t+" "+pr+'="true" '+i+(c?"/>":">"+l+"</"+t+">")},"")},Nj=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,s){return r[dd[s]||s]=t[s],r},n)},UR=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,s){return r[SR[s]||s]=t[s],r},n)},HR=function(t,n,r){var s,o=(s={key:n},s[pr]=!0,s),i=Nj(r,o);return[ct.createElement(be.TITLE,i,n)]},zR=function(t,n){return n.map(function(r,s){var o,i=(o={key:s},o[pr]=!0,o);return Object.keys(r).forEach(function(l){var c=dd[l]||l;if(c===rt.INNER_HTML||c===rt.CSS_TEXT){var u=r.innerHTML||r.cssText;i.dangerouslySetInnerHTML={__html:u}}else i[c]=r[l]}),ct.createElement(t,i)})},Wr=function(t,n,r){switch(t){case be.TITLE:return{toComponent:function(){return HR(t,n.title,n.titleAttributes)},toString:function(){return VR(t,n.title,n.titleAttributes,r)}};case Fo.BODY:case Fo.HTML:return{toComponent:function(){return Nj(n)},toString:function(){return Cj(n)}};default:return{toComponent:function(){return zR(t,n)},toString:function(){return BR(t,n,r)}}}},kj=function(t){var n=t.baseTag,r=t.bodyAttributes,s=t.encode,o=t.htmlAttributes,i=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.scriptTags,d=t.styleTags,f=t.title,m=f===void 0?"":f,p=t.titleAttributes;return{base:Wr(be.BASE,n,s),bodyAttributes:Wr(Fo.BODY,r,s),htmlAttributes:Wr(Fo.HTML,o,s),link:Wr(be.LINK,i,s),meta:Wr(be.META,l,s),noscript:Wr(be.NOSCRIPT,c,s),script:Wr(be.SCRIPT,u,s),style:Wr(be.STYLE,d,s),title:Wr(be.TITLE,{title:m,titleAttributes:p},s)}},WR=function(t){var n,r;return r=n=function(s){TR(o,s);function o(){return kR(this,o),PR(this,s.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(l){return!vR(this.props,l)},o.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case be.SCRIPT:case be.NOSCRIPT:return{innerHTML:c};case be.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,f=l.newChildProps,m=l.nestedChildren;return _n({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[_n({},f,this.mapNestedChildrenToProps(u,m))]),c))},o.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,f=l.newProps,m=l.newChildProps,p=l.nestedChildren;switch(d.type){case be.TITLE:return _n({},f,(c={},c[d.type]=p,c.titleAttributes=_n({},m),c));case be.BODY:return _n({},f,{bodyAttributes:_n({},m)});case be.HTML:return _n({},f,{htmlAttributes:_n({},m)})}return _n({},f,(u={},u[d.type]=_n({},m),u))},o.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=_n({},c);return Object.keys(l).forEach(function(d){var f;u=_n({},u,(f={},f[d]=l[d],f))}),u},o.prototype.warnOnInvalidChildren=function(l,c){return!0},o.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return ct.Children.forEach(l,function(f){if(!(!f||!f.props)){var m=f.props,p=m.children,x=bx(m,["children"]),g=UR(x);switch(u.warnOnInvalidChildren(f,p),f.type){case be.LINK:case be.META:case be.NOSCRIPT:case be.SCRIPT:case be.STYLE:d=u.flattenArrayTypeChildren({child:f,arrayTypeChildren:d,newChildProps:g,nestedChildren:p});break;default:c=u.mapObjectTypeChildren({child:f,newProps:c,newChildProps:g,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},o.prototype.render=function(){var l=this.props,c=l.children,u=bx(l,["children"]),d=_n({},u);return c&&(d=this.mapChildrenToProps(c,d)),ct.createElement(t,d)},ER(o,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),o}(ct.Component),n.propTypes={base:nt.object,bodyAttributes:nt.object,children:nt.oneOfType([nt.arrayOf(nt.node),nt.node]),defaultTitle:nt.string,defer:nt.bool,encodeSpecialCharacters:nt.bool,htmlAttributes:nt.object,link:nt.arrayOf(nt.object),meta:nt.arrayOf(nt.object),noscript:nt.arrayOf(nt.object),onChangeClientState:nt.func,script:nt.arrayOf(nt.object),style:nt.arrayOf(nt.object),title:nt.string,titleAttributes:nt.object,titleTemplate:nt.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var s=t.rewind();return s||(s=kj({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},qR=function(){return null},GR=dR(OR,$R,kj)(qR),up=WR(GR);up.renderStatic=up.rewind;var Nr=function(){return Nr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Nr.apply(this,arguments)};function Ej(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function ue(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})}function YR(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}const KR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class cv extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class QR extends cv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Sx extends cv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Cx extends cv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var dp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(dp||(dp={}));class XR{constructor(t,{headers:n={},customFetch:r,region:s=dp.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=KR(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ue(this,arguments,void 0,function*(n,r={}){var s;let o,i;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=r;let m={},{region:p}=r;p||(p=this.region);const x=new URL(`${this.url}/${n}`);p&&p!=="any"&&(m["x-region"]=p,x.searchParams.set("forceFunctionRegion",p));let g;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(m["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(m["Content-Type"]="application/json",g=JSON.stringify(u)):g=u;let y=d;f&&(i=new AbortController,o=setTimeout(()=>i.abort(),f),d?(y=i.signal,d.addEventListener("abort",()=>i.abort())):y=i.signal);const w=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:g,signal:y}).catch(S=>{throw new QR(S)}),v=w.headers.get("x-relay-error");if(v&&v==="true")throw new Sx(w);if(!w.ok)throw new Cx(w);let b=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),j;return b==="application/json"?j=yield w.json():b==="application/octet-stream"||b==="application/pdf"?j=yield w.blob():b==="text/event-stream"?j=w:b==="multipart/form-data"?j=yield w.formData():j=yield w.text(),{data:j,error:null,response:w}}catch(l){return{data:null,error:l,response:l instanceof Cx||l instanceof Sx?l.context:void 0}}finally{o&&clearTimeout(o)}})}}var Sn={},uv={},tf={},dc={},nf={},rf={},JR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},oa=JR();const ZR=oa.fetch,eO=oa.fetch.bind(oa),tO=oa.Headers,nO=oa.Request,rO=oa.Response,sO=Object.freeze(Object.defineProperty({__proto__:null,Headers:tO,Request:nO,Response:rO,default:eO,fetch:ZR},Symbol.toStringTag,{value:"Module"})),oO=NP(sO);var sf={};Object.defineProperty(sf,"__esModule",{value:!0});let iO=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};sf.default=iO;var Tj=en&&en.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rf,"__esModule",{value:!0});const aO=Tj(oO),lO=Tj(sf);let cO=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=aO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c,u;let d=null,f=null,m=null,p=o.status,x=o.statusText;if(o.ok){if(this.method!=="HEAD"){const v=await o.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?f=v:f=JSON.parse(v))}const y=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),w=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&w&&w.length>1&&(m=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,p=406,x="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const y=await o.text();try{d=JSON.parse(y),Array.isArray(d)&&o.status===404&&(f=[],d=null,p=200,x="OK")}catch{o.status===404&&y===""?(p=204,x="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,p=200,x="OK"),d&&this.shouldThrowOnError)throw new lO.default(d)}return{error:d,data:f,count:m,status:p,statusText:x}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};rf.default=cO;var uO=en&&en.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nf,"__esModule",{value:!0});const dO=uO(rf);let fO=class extends dO.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};nf.default=fO;var hO=en&&en.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dc,"__esModule",{value:!0});const mO=hO(nf);let pO=class extends mO.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};dc.default=pO;var gO=en&&en.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tf,"__esModule",{value:!0});const Va=gO(dc);let vO=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),r&&this.headers.append("Prefer",`count=${r}`),new Va.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;const o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Va.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){var i;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Va.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Va.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Va.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};tf.default=vO;var Pj=en&&en.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uv,"__esModule",{value:!0});const yO=Pj(tf),xO=Pj(dc);let wO=class Aj{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new yO.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Aj(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){var i;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{c.searchParams.append(f,m)})):(l="POST",u=n);const d=new Headers(this.headers);return o&&d.set("Prefer",`count=${o}`),new xO.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};uv.default=wO;var ba=en&&en.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.PostgrestError=Sn.PostgrestBuilder=Sn.PostgrestTransformBuilder=Sn.PostgrestFilterBuilder=Sn.PostgrestQueryBuilder=Sn.PostgrestClient=void 0;const Mj=ba(uv);Sn.PostgrestClient=Mj.default;const Rj=ba(tf);Sn.PostgrestQueryBuilder=Rj.default;const Oj=ba(dc);Sn.PostgrestFilterBuilder=Oj.default;const Dj=ba(nf);Sn.PostgrestTransformBuilder=Dj.default;const Ij=ba(rf);Sn.PostgrestBuilder=Ij.default;const Lj=ba(sf);Sn.PostgrestError=Lj.default;var bO=Sn.default={PostgrestClient:Mj.default,PostgrestQueryBuilder:Rj.default,PostgrestFilterBuilder:Oj.default,PostgrestTransformBuilder:Dj.default,PostgrestBuilder:Ij.default,PostgrestError:Lj.default};const{PostgrestClient:_O,PostgrestQueryBuilder:_G,PostgrestFilterBuilder:jG,PostgrestTransformBuilder:SG,PostgrestBuilder:CG,PostgrestError:NG}=bO;class jO{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const SO="2.84.0",CO=`realtime-js/${SO}`,$j="1.0.0",NO="2.0.0",Nx=$j,fp=1e4,kO=1e3,EO=100;var Eo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Eo||(Eo={}));var Pt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pt||(Pt={}));var dr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(dr||(dr={}));var hp;(function(e){e.websocket="websocket"})(hp||(hp={}));var To;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(To||(To={}));class TO{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r,s,o;const i=t.topic,l=(n=t.ref)!==null&&n!==void 0?n:"",c=(r=t.join_ref)!==null&&r!==void 0?r:"",u=t.payload.event,d=(o=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+i.length+u.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let p=new DataView(m),x=0;p.setUint8(x++,this.KINDS.userBroadcastPush),p.setUint8(x++,c.length),p.setUint8(x++,l.length),p.setUint8(x++,i.length),p.setUint8(x++,u.length),p.setUint8(x++,this.BINARY_ENCODING),Array.from(c,y=>p.setUint8(x++,y.charCodeAt(0))),Array.from(l,y=>p.setUint8(x++,y.charCodeAt(0))),Array.from(i,y=>p.setUint8(x++,y.charCodeAt(0))),Array.from(u,y=>p.setUint8(x++,y.charCodeAt(0)));var g=new Uint8Array(m.byteLength+d.byteLength);return g.set(new Uint8Array(m),0),g.set(new Uint8Array(d),m.byteLength),g.buffer}_encodeJsonUserBroadcastPush(t){var n,r,s,o;const i=t.topic,l=(n=t.ref)!==null&&n!==void 0?n:"",c=(r=t.join_ref)!==null&&r!==void 0?r:"",u=t.payload.event,d=(o=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:{},m=new TextEncoder().encode(JSON.stringify(d)).buffer,p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+i.length+u.length,x=new ArrayBuffer(this.HEADER_LENGTH+p);let g=new DataView(x),y=0;g.setUint8(y++,this.KINDS.userBroadcastPush),g.setUint8(y++,c.length),g.setUint8(y++,l.length),g.setUint8(y++,i.length),g.setUint8(y++,u.length),g.setUint8(y++,this.JSON_ENCODING),Array.from(c,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(l,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(i,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(u,v=>g.setUint8(y++,v.charCodeAt(0)));var w=new Uint8Array(x.byteLength+m.byteLength);return w.set(new Uint8Array(x),0),w.set(new Uint8Array(m),x.byteLength),w.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,o,i,l,c]=r;return n({join_ref:s,ref:o,topic:i,event:l,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2),i=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(t.slice(c,c+s));c=c+s;const d=r.decode(t.slice(c,c+o));c=c+o;const f=r.decode(t.slice(c,c+i));c=c+i;const m=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(r.decode(m)):m,x={type:this.BROADCAST_EVENT,event:d,payload:p};return i>0&&(x.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class Fj{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(qe||(qe={}));const kx=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,i)=>(o[i]=PO(i,e,t,s),o),{}):{}},PO=(e,t,n,r)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?Vj(o,i):mp(i)},Vj=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return OO(t,n)}switch(e){case qe.bool:return AO(t);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return MO(t);case qe.json:case qe.jsonb:return RO(t);case qe.timestamp:return DO(t);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return mp(t);default:return mp(t)}},mp=e=>e,AO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},MO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},RO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},OO=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>Vj(t,l))}return e},DO=e=>typeof e=="string"?e.replace(" ","T"):e,Bj=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class wh{constructor(t,n,r={},s=fp){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ex;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ex||(Ex={}));class dl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=dl.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=dl.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=dl.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const m=d.map(y=>y.presence_ref),p=f.map(y=>y.presence_ref),x=d.filter(y=>p.indexOf(y.presence_ref)<0),g=f.filter(y=>m.indexOf(y.presence_ref)<0);x.length>0&&(l[u]=x),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),m=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...m)}r(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Tx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Tx||(Tx={}));var fl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(fl||(fl={}));var Qr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Qr||(Qr={}));class dv{constructor(t,n={config:{}},r){var s,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new wh(this,dr.join,this.params,this.timeout),this.rejoinTimer=new Fj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dr.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new dl(this),this.broadcastEndpointURL=Bj(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Pt.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[fl.PRESENCE]&&this.bindings[fl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},m={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Qr.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Qr.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket.setAuth(),p===void 0){t==null||t(Qr.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(x=g==null?void 0:g.length)!==null&&x!==void 0?x:0,w=[];for(let v=0;v<y;v++){const b=g[v],{filter:{event:j,schema:S,table:N,filter:_}}=b,C=p&&p[v];if(C&&C.event===j&&C.schema===S&&C.table===N&&C.filter===_)w.push(Object.assign(Object.assign({},b),{id:C.id}));else{this.unsubscribe(),this.state=Pt.errored,t==null||t(Qr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Qr.SUBSCRIBED);return}}).receive("error",p=>{this.state=Pt.errored,t==null||t(Qr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Qr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Pt.joined&&t===fl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new wh(this,dr.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new wh(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>EO){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=dr;if(r&&[l,c,u,d].indexOf(i)>=0&&r!==this._joinRef())return;let m=this._onMessage(i,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var x,g,y;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(g=p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===i}).map(p=>p.callback(m,r)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var x,g,y,w,v,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const j=p.id,S=(x=p.filter)===null||x===void 0?void 0:x.event;return j&&((g=n.ids)===null||g===void 0?void 0:g.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const j=(v=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:g,table:y,commit_timestamp:w,type:v,errors:b}=x;m=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:w,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(x))}p.callback(m,r)})}_isClosed(){return this.state===Pt.closed}_isJoined(){return this.state===Pt.joined}_isJoining(){return this.state===Pt.joining}_isLeaving(){return this.state===Pt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&dv.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(dr.close,{},t)}_onError(t){this._on(dr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=kx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=kx(t.columns,t.old_record)),n}}const bh=()=>{},Jc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},IO=[1e3,2e3,5e3,1e4],LO=1e4,$O=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class FO{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fp,this.transport=null,this.heartbeatIntervalMs=Jc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bh,this.ref=0,this.reconnectTimer=null,this.vsn=Nx,this.logger=bh,this.conn=null,this.sendBuffer=[],this.serializer=new TO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${hp.websocket}`,this.httpEndpoint=Bj(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jO.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Eo.connecting:return To.Connecting;case Eo.open:return To.Open;case Eo.closing:return To.Closing;default:return To.Closed}}isConnected(){return this.connectionState()===To.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new dv(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(kO,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Jc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:o,ref:i}=n,l=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Eo.open||this.conn.readyState===Eo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(dr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([$O],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:CO};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(dr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Fj(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Jc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,o,i,l,c,u,d,f,m,p;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:fp,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Jc.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:bh,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:Nx,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:x=>IO[x-1]||LO,this.vsn){case $j:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(x,g)=>g(JSON.stringify(x)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(x,g)=>g(JSON.parse(x));break;case NO:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class fv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function it(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class VO extends fv{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pp extends fv{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const hv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),BO=()=>Response,gp=e=>{if(Array.isArray(e))return e.map(n=>gp(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=gp(r)}),t},UO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_h=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},HO=(e,t,n)=>ue(void 0,void 0,void 0,function*(){const r=yield BO();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const o=e.status||500,i=(s==null?void 0:s.statusCode)||o+"";t(new VO(_h(s),o,i))}).catch(s=>{t(new pp(_h(s),s))}):t(new pp(_h(e),e))}),zO=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(UO(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function fc(e,t,n,r,s,o){return ue(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(n,zO(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>HO(c,l,r))})})}function Wl(e,t,n,r){return ue(this,void 0,void 0,function*(){return fc(e,"GET",t,n,r)})}function cr(e,t,n,r,s){return ue(this,void 0,void 0,function*(){return fc(e,"POST",t,r,s,n)})}function vp(e,t,n,r,s){return ue(this,void 0,void 0,function*(){return fc(e,"PUT",t,r,s,n)})}function WO(e,t,n,r){return ue(this,void 0,void 0,function*(){return fc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function mv(e,t,n,r,s){return ue(this,void 0,void 0,function*(){return fc(e,"DELETE",t,r,s,n)})}class qO{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return ue(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}})}}var Uj;class GO{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[Uj]="BlobDownloadBuilder",this.promise=null}asStream(){return new qO(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ue(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}})}}Uj=Symbol.toStringTag;const YO=GO,KO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Px={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class QO{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=hv(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return ue(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Px),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),c&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(c))):(o=r,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?vp:cr)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(it(o))return{data:null,error:o};throw o}})}upload(t,n,r){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return ue(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Px.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield vp(this.fetch,l.toString(),c,{headers:d});return{data:{path:o,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(it(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield cr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new fv("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}})}update(t,n,r){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return ue(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}})}copy(t,n,r){return ue(this,void 0,void 0,function*(){try{return{data:{path:(yield cr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return ue(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield cr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return ue(this,void 0,void 0,function*(){try{const s=yield cr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"",l=this._getFinalPath(t),c=()=>Wl(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new YO(c,this.shouldThrowOnError)}info(t){return ue(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Wl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:gp(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}})}exists(t){return ue(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield WO(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(it(r)&&r instanceof pp){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return ue(this,void 0,void 0,function*(){try{return{data:yield mv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}list(t,n,r){return ue(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},KO),n),{prefix:t||""});return{data:yield cr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}})}listV2(t,n){return ue(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield cr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Hj="2.84.0",zj={"X-Client-Info":`storage-js/${Hj}`};class XO{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zj),n),this.fetch=hv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ue(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield Wl(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}getBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Wl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}createBucket(t){return ue(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield cr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return ue(this,void 0,void 0,function*(){try{return{data:yield vp(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield mv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class JO{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zj),n),this.fetch=hv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}listBuckets(t){return ue(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Wl(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield mv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}}const pv={"X-Client-Info":`storage-js/${Hj}`,"Content-Type":"application/json"};class Wj extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function In(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class jh extends Wj{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ZO extends Wj{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var Ax;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Ax||(Ax={}));const gv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),eD=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Mx=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tD=(e,t,n)=>ue(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e.status||500,o=e;if(typeof o.json=="function")o.json().then(i=>{const l=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";t(new jh(Mx(i),s,l))}).catch(()=>{const i=s+"",l=o.statusText||`HTTP ${s} error`;t(new jh(l,s,i))});else{const i=s+"",l=o.statusText||`HTTP ${s} error`;t(new jh(l,s,i))}}else t(new ZO(Mx(e),e))}),nD=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(eD(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n))};function rD(e,t,n,r,s,o){return ue(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(n,nD(t,r,s,o)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>tD(c,l,r))})})}function Ln(e,t,n,r,s){return ue(this,void 0,void 0,function*(){return rD(e,"POST",t,r,s,n)})}class sD{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pv),n),this.fetch=gv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ue(this,void 0,void 0,function*(){try{return{data:(yield Ln(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}})}getIndex(t,n){return ue(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(In(r))return{data:null,error:r};throw r}})}listIndexes(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return ue(this,void 0,void 0,function*(){try{return{data:(yield Ln(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(In(r))return{data:null,error:r};throw r}})}}class oD{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pv),n),this.fetch=gv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ue(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ln(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}})}getVectors(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}})}listVectors(t){return ue(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ln(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}})}queryVectors(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}})}deleteVectors(t){return ue(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ln(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}})}}class iD{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pv),n),this.fetch=gv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:(yield Ln(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}})}getBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}})}listBuckets(){return ue(this,arguments,void 0,function*(t={}){try{return{data:yield Ln(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ue(this,void 0,void 0,function*(){try{return{data:(yield Ln(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(In(n))return{data:null,error:n};throw n}})}}class aD extends iD{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new lD(this.url,this.headers,t,this.fetch)}}class lD extends sD{constructor(t,n,r,s){super(t,n,s),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ue(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ue(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ue(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ue(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new cD(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class cD extends oD{constructor(t,n,r,s,o){super(t,n,o),this.vectorBucketName=r,this.indexName=s}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ue(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ue(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ue(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ue(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ue(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class uD extends XO{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new QO(this.url,this.headers,t,this.fetch)}get vectors(){return new aD(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new JO(this.url+"/iceberg",this.headers,this.fetch)}}const dD="2.30.0",fD={"X-Client-Info":`supabase-js/${dD}`};var yp={exports:{}};(function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof en<"u"&&en,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(i){var l=typeof o<"u"&&o||typeof self<"u"&&self||typeof en<"u"&&en||{},c={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function u(E){return E&&DataView.prototype.isPrototypeOf(E)}if(c.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(E){return E&&d.indexOf(Object.prototype.toString.call(E))>-1};function m(E){if(typeof E!="string"&&(E=String(E)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(E)||E==="")throw new TypeError('Invalid character in header field name: "'+E+'"');return E.toLowerCase()}function p(E){return typeof E!="string"&&(E=String(E)),E}function x(E){var M={next:function(){var T=E.shift();return{done:T===void 0,value:T}}};return c.iterable&&(M[Symbol.iterator]=function(){return M}),M}function g(E){this.map={},E instanceof g?E.forEach(function(M,T){this.append(T,M)},this):Array.isArray(E)?E.forEach(function(M){if(M.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+M.length);this.append(M[0],M[1])},this):E&&Object.getOwnPropertyNames(E).forEach(function(M){this.append(M,E[M])},this)}g.prototype.append=function(E,M){E=m(E),M=p(M);var T=this.map[E];this.map[E]=T?T+", "+M:M},g.prototype.delete=function(E){delete this.map[m(E)]},g.prototype.get=function(E){return E=m(E),this.has(E)?this.map[E]:null},g.prototype.has=function(E){return this.map.hasOwnProperty(m(E))},g.prototype.set=function(E,M){this.map[m(E)]=p(M)},g.prototype.forEach=function(E,M){for(var T in this.map)this.map.hasOwnProperty(T)&&E.call(M,this.map[T],T,this)},g.prototype.keys=function(){var E=[];return this.forEach(function(M,T){E.push(T)}),x(E)},g.prototype.values=function(){var E=[];return this.forEach(function(M){E.push(M)}),x(E)},g.prototype.entries=function(){var E=[];return this.forEach(function(M,T){E.push([T,M])}),x(E)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function y(E){if(!E._noBody){if(E.bodyUsed)return Promise.reject(new TypeError("Already read"));E.bodyUsed=!0}}function w(E){return new Promise(function(M,T){E.onload=function(){M(E.result)},E.onerror=function(){T(E.error)}})}function v(E){var M=new FileReader,T=w(M);return M.readAsArrayBuffer(E),T}function b(E){var M=new FileReader,T=w(M),k=/charset=([A-Za-z0-9_-]+)/.exec(E.type),R=k?k[1]:"utf-8";return M.readAsText(E,R),T}function j(E){for(var M=new Uint8Array(E),T=new Array(M.length),k=0;k<M.length;k++)T[k]=String.fromCharCode(M[k]);return T.join("")}function S(E){if(E.slice)return E.slice(0);var M=new Uint8Array(E.byteLength);return M.set(new Uint8Array(E)),M.buffer}function N(){return this.bodyUsed=!1,this._initBody=function(E){this.bodyUsed=this.bodyUsed,this._bodyInit=E,E?typeof E=="string"?this._bodyText=E:c.blob&&Blob.prototype.isPrototypeOf(E)?this._bodyBlob=E:c.formData&&FormData.prototype.isPrototypeOf(E)?this._bodyFormData=E:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)?this._bodyText=E.toString():c.arrayBuffer&&c.blob&&u(E)?(this._bodyArrayBuffer=S(E.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(E)||f(E))?this._bodyArrayBuffer=S(E):this._bodyText=E=Object.prototype.toString.call(E):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof E=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var E=y(this);if(E)return E;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var E=y(this);return E||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var E=y(this);if(E)return E;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(j(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(I)}),this.json=function(){return this.text().then(JSON.parse)},this}var _=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function C(E){var M=E.toUpperCase();return _.indexOf(M)>-1?M:E}function P(E,M){if(!(this instanceof P))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');M=M||{};var T=M.body;if(E instanceof P){if(E.bodyUsed)throw new TypeError("Already read");this.url=E.url,this.credentials=E.credentials,M.headers||(this.headers=new g(E.headers)),this.method=E.method,this.mode=E.mode,this.signal=E.signal,!T&&E._bodyInit!=null&&(T=E._bodyInit,E.bodyUsed=!0)}else this.url=String(E);if(this.credentials=M.credentials||this.credentials||"same-origin",(M.headers||!this.headers)&&(this.headers=new g(M.headers)),this.method=C(M.method||this.method||"GET"),this.mode=M.mode||this.mode||null,this.signal=M.signal||this.signal||function(){if("AbortController"in l){var A=new AbortController;return A.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&T)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(T),(this.method==="GET"||this.method==="HEAD")&&(M.cache==="no-store"||M.cache==="no-cache")){var k=/([?&])_=[^&]*/;if(k.test(this.url))this.url=this.url.replace(k,"$1_="+new Date().getTime());else{var R=/\?/;this.url+=(R.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}P.prototype.clone=function(){return new P(this,{body:this._bodyInit})};function I(E){var M=new FormData;return E.trim().split("&").forEach(function(T){if(T){var k=T.split("="),R=k.shift().replace(/\+/g," "),A=k.join("=").replace(/\+/g," ");M.append(decodeURIComponent(R),decodeURIComponent(A))}}),M}function L(E){var M=new g,T=E.replace(/\r?\n[\t ]+/g," ");return T.split("\r").map(function(k){return k.indexOf(`
`)===0?k.substr(1,k.length):k}).forEach(function(k){var R=k.split(":"),A=R.shift().trim();if(A){var V=R.join(":").trim();try{M.append(A,V)}catch(D){console.warn("Response "+D.message)}}}),M}N.call(P.prototype);function O(E,M){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(M||(M={}),this.type="default",this.status=M.status===void 0?200:M.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=M.statusText===void 0?"":""+M.statusText,this.headers=new g(M.headers),this.url=M.url||"",this._initBody(E)}N.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},O.error=function(){var E=new O(null,{status:200,statusText:""});return E.ok=!1,E.status=0,E.type="error",E};var U=[301,302,303,307,308];O.redirect=function(E,M){if(U.indexOf(M)===-1)throw new RangeError("Invalid status code");return new O(null,{status:M,headers:{location:E}})},i.DOMException=l.DOMException;try{new i.DOMException}catch{i.DOMException=function(M,T){this.message=M,this.name=T;var k=Error(M);this.stack=k.stack},i.DOMException.prototype=Object.create(Error.prototype),i.DOMException.prototype.constructor=i.DOMException}function $(E,M){return new Promise(function(T,k){var R=new P(E,M);if(R.signal&&R.signal.aborted)return k(new i.DOMException("Aborted","AbortError"));var A=new XMLHttpRequest;function V(){A.abort()}A.onload=function(){var B={statusText:A.statusText,headers:L(A.getAllResponseHeaders()||"")};R.url.indexOf("file://")===0&&(A.status<200||A.status>599)?B.status=200:B.status=A.status,B.url="responseURL"in A?A.responseURL:B.headers.get("X-Request-URL");var Y="response"in A?A.response:A.responseText;setTimeout(function(){T(new O(Y,B))},0)},A.onerror=function(){setTimeout(function(){k(new TypeError("Network request failed"))},0)},A.ontimeout=function(){setTimeout(function(){k(new TypeError("Network request timed out"))},0)},A.onabort=function(){setTimeout(function(){k(new i.DOMException("Aborted","AbortError"))},0)};function D(B){try{return B===""&&l.location.href?l.location.href:B}catch{return B}}if(A.open(R.method,D(R.url),!0),R.credentials==="include"?A.withCredentials=!0:R.credentials==="omit"&&(A.withCredentials=!1),"responseType"in A&&(c.blob?A.responseType="blob":c.arrayBuffer&&(A.responseType="arraybuffer")),M&&typeof M.headers=="object"&&!(M.headers instanceof g||l.Headers&&M.headers instanceof l.Headers)){var z=[];Object.getOwnPropertyNames(M.headers).forEach(function(B){z.push(m(B)),A.setRequestHeader(B,p(M.headers[B]))}),R.headers.forEach(function(B,Y){z.indexOf(Y)===-1&&A.setRequestHeader(Y,B)})}else R.headers.forEach(function(B,Y){A.setRequestHeader(Y,B)});R.signal&&(R.signal.addEventListener("abort",V),A.onreadystatechange=function(){A.readyState===4&&R.signal.removeEventListener("abort",V)}),A.send(typeof R._bodyInit>"u"?null:R._bodyInit)})}return $.polyfill=!0,l.fetch||(l.fetch=$,l.Headers=g,l.Request=P,l.Response=O),i.Headers=g,i.Request=P,i.Response=O,i.fetch=$,Object.defineProperty(i,"__esModule",{value:!0}),i})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;t=s.fetch,t.default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t})(yp,yp.exports);var vv=yp.exports;const qj=Zo(vv),hD=Zb({__proto__:null,default:qj},[vv]);var mD=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const pD=e=>{let t;return e?t=e:typeof fetch>"u"?t=qj:t=fetch,(...n)=>t(...n)},gD=()=>typeof Headers>"u"?vv.Headers:Headers,vD=(e,t,n)=>{const r=pD(n),s=gD();return(o,i)=>mD(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:u}))})};function yD(e){return e.replace(/\/$/,"")}function xD(e,t){const{db:n,auth:r,realtime:s,global:o}=e,{db:i,auth:l,realtime:c,global:u}=t;return{db:Object.assign(Object.assign({},i),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),o)}}const wD="modulepreload",bD=function(e){return"/"+e},Rx={},_D=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=bD(o),o in Rx)return;Rx[o]=!0;const i=o.endsWith(".css"),l=i?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const f=s[d];if(f.href===o&&(!i||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":wD,i||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),i)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})};function jD(e){return Math.round(Date.now()/1e3)+e}function SD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Yr=()=>typeof document<"u",wo={tested:!1,writable:!1},Au=()=>{if(!Yr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wo.tested)return wo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wo.tested=!0,wo.writable=!0}catch{wo.tested=!0,wo.writable=!1}return wo.writable};function bn(e,t){var n;t||(t=((n=window==null?void 0:window.location)===null||n===void 0?void 0:n.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const r=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),s=r.exec(t);return s?s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):"":null}const Gj=e=>{let t;return e?t=e:typeof fetch>"u"?t=async(...n)=>await(await _D(()=>Promise.resolve().then(()=>hD),void 0)).fetch(...n):t=fetch,(...n)=>t(...n)},CD=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ba=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Zc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Sh=async(e,t)=>{await e.removeItem(t)};function ND(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,o,i,l,c,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)i=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),r=i<<2|l>>4,s=(l&15)<<4|c>>2,o=(c&3)<<6|u,n=n+String.fromCharCode(r),c!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&o!=0&&(n=n+String.fromCharCode(o));return n}class of{constructor(){this.promise=new of.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}of.promiseConstructor=Promise;function Ox(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(ND(r))}function kD(e){return new Promise(t=>{setTimeout(()=>t(null),e)})}function ED(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function TD(e){return("0"+e.toString(16)).substr(-2)}function eu(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,TD).join("")}async function PD(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}function AD(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function tu(e){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await PD(e);return AD(t)}const MD="__stack_guard__",RD="__",OD=/__stack_guard__([a-zA-Z0-9_-]+)__/;let Dx=!1,yv;function xp(e){var t,n;yv();let r;try{throw new Error}catch(o){r=o}const s=(n=(t=r.stack)===null||t===void 0?void 0:t.split(`
`))!==null&&n!==void 0?n:[];for(let o=0;o<s.length;o+=1){const l=s[o].match(OD);if(l&&l[1]===e)return!0}return!1}async function wp(e,t){await yv();const n=`${MD}${e}${RD}`;return await{[n]:async()=>await t()}[n]()}yv=async()=>{Dx||(Dx=!0,await wp("ENV_CHECK",async()=>{const e=xp("ENV_CHECK");return e||console.warn("@supabase/gotrue-js: Stack guards not supported in this environment. Generally not an issue but may point to a very conservative transpilation environment (use ES2017 or above) that implements async/await with generators, or this is a JavaScript engine that does not support async/await stack traces."),e}))};class xv extends Error{constructor(t,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n}}function Me(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class DD extends xv{constructor(t,n){super(t,n),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function ID(e){return Me(e)&&e.name==="AuthApiError"}class Yj extends xv{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class _a extends xv{constructor(t,n,r){super(t),this.name=n,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class fi extends _a{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Ch extends _a{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class nu extends _a{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class qr extends _a{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nh extends _a{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bp extends _a{constructor(t,n){super(t,"AuthRetryableFetchError",n)}}function Ix(e){return Me(e)&&e.name==="AuthRetryableFetchError"}var LD=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Ja=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$D=[502,503,504];async function Lx(e){if(!CD(e))throw new bp(Ja(e),0);if($D.includes(e.status))throw new bp(Ja(e),e.status);let t;try{t=await e.json()}catch(n){throw new Yj(Ja(n),n)}throw new DD(Ja(t),e.status||500)}const FD=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Oe(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await VD(e,t,n+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function VD(e,t,n,r,s,o){const i=FD(t,r,s,o);let l;try{l=await e(n,i)}catch(c){throw console.error(c),new bp(Ja(c),0)}if(l.ok||await Lx(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Lx(c)}}function ws(e){var t;let n=null;zD(e)&&(n=Object.assign({},e),n.expires_at=jD(e.expires_in));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Po(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function BD(e){return{data:e,error:null}}function UD(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=LD(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function HD(e){return e}function zD(e){return e.access_token&&e.refresh_token&&e.expires_in}var WD=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class qD{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Gj(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Po})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=WD(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:UD,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Me(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Po})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:HD});if(d.error)throw d.error;const f=await d.json(),m=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Me(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Po})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Po})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Po})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}}const GD="2.43.1",YD="http://localhost:9999",KD="supabase.auth.token",QD={"X-Client-Info":`gotrue-js/${GD}`},$x=10,Fx={getItem:e=>Au()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Au()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Au()&&globalThis.localStorage.removeItem(e)}};function XD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}XD();const JD={url:YD,storageKey:KD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:QD,flowType:"implicit",debug:!1},ru=30*1e3,Vx=3;class ql{constructor(t){var n;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null,this.instanceID=ql.nextInstanceID,ql.nextInstanceID+=1,this.instanceID>0&&Yr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},JD),t);if(this.logDebugMessages=r.debug,this.inMemorySession=null,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.persistSession=r.persistSession,this.storage=r.storage||Fx,this.admin=new qD({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Gj(r.fetch),this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession&&this.storage===Fx&&!Au()&&console.warn(`No storage option exists to persist the session, which may result in unexpected behavior when using auth.
        If you want to set persistSession to true, please provide a storage option or you may set persistSession to false to disable this warning.`),Yr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&console.log(`GoTrueClient@${this.instanceID} ${new Date().toISOString()}`,...t),this}initialize(){return this.initializePromise?this.initializePromise:this._initialize()}async _initialize(){if(this.initializePromise)throw new Error("Double call of #_initialize()");return this.initializePromise=wp("_initialize",async()=>{try{const t=Yr()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromUrl(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),await this._removeSession(),{error:r};const{session:s,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Me(t)?{error:t}:{error:new Yj("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}),await this.initializePromise}async signUp(t){var n,r,s;try{await this._removeSession();let o;if("email"in t){const{email:d,password:f,options:m}=t;let p=null,x=null;if(this.flowType==="pkce"){const g=eu();await Ba(this.storage,`${this.storageKey}-code-verifier`,g),p=await tu(g),x=g===p?"plain":"s256"}o=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:x},xform:ws})}else if("phone"in t){const{phone:d,password:f,options:m}=t;o=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ws})}else throw new nu("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Me(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{await this._removeSession();let n;if("email"in t){const{email:o,password:i,options:l}=t;n=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ws})}else if("phone"in t){const{phone:o,password:i,options:l}=t;n=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ws})}else throw new nu("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ch}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:{user:r.user,session:r.session},error:s})}catch(n){if(Me(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){const n=await Zc(this.storage,`${this.storageKey}-code-verifier`),{data:r,error:s}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ws});return await Sh(this.storage,`${this.storageKey}-code-verifier`),s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ch}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:r,error:s})}async signInWithIdToken(t){await this._removeSession();try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,l=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ws}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ch}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Me(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if(await this._removeSession(),"email"in t){const{email:l,options:c}=t;let u=null,d=null;if(this.flowType==="pkce"){const m=eu();await Ba(this.storage,`${this.storageKey}-code-verifier`,m),u=await tu(m),d=m===u?"plain":"s256"}const{error:f}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new nu("You must provide either an email or phone number.")}catch(l){if(Me(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();const{data:s,error:o}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:(n=t.options)===null||n===void 0?void 0:n.captchaToken}}),redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,xform:ws});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const i=s.session,l=s.user;return i!=null&&i.access_token&&(await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)),{data:{user:l,session:i},error:null}}catch(s){if(Me(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{return await this._removeSession(),await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:BD})}catch(o){if(Me(o))return{data:null,error:o};throw o}}async reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new fi;const{error:s}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Me(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await Oe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:l}=await Oe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new nu("You must provide either an email or phone number and a type")}catch(n){if(Me(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return this._useSession(async t=>t)}async _useSession(t){return await wp("_useSession",async()=>{const n=await this.__loadSession();return await t(n)})}async __loadSession(){if(this._debug("#__loadSession()","begin"),this.logDebugMessages&&!xp("_useSession"))throw new Error("Please use #_useSession()");xp("_initialize")||await this.initializePromise;try{let t=null;if(this.persistSession){const o=await Zc(this.storage,this.storageKey);this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?t=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession()))}else t=this.inMemorySession,this._debug("#getSession()","session from memory",t);if(!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n)return{data:{session:t},error:null};const{session:r,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){try{return await this._useSession(async n=>{var r,s;if(!t){const{data:o,error:i}=n;if(i)throw i;t=(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0}return await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Po})})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new fi;const i=s.session,{data:l,error:c}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:t,jwt:i.access_token,xform:Po});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return Ox(t)}async setSession(t){try{if(!t.access_token||!t.refresh_token)throw new fi;const n=Date.now()/1e3;let r=n,s=!0,o=null;const i=Ox(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this.getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Me(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:l}=n;if(l)throw l;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new fi;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Me(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromUrl(t){try{if(!Yr())throw new qr("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new qr("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new Nh("Not a valid PKCE flow url.");if(t){const y=bn("code");if(!y)throw new Nh("No code detected.");const{data:w,error:v}=await this.exchangeCodeForSession(y);if(v)throw v;if(!w.session)throw new Nh("No session detected.");let b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:w.session,redirectType:null},error:null}}const n=bn("error_description");if(n){const y=bn("error_code");if(!y)throw new qr("No error_code detected.");const w=bn("error");throw w?new qr(n,{error:w,code:y}):new qr("No error detected.")}const r=bn("provider_token"),s=bn("provider_refresh_token"),o=bn("access_token");if(!o)throw new qr("No access_token detected.");const i=bn("expires_in");if(!i)throw new qr("No expires_in detected.");const l=bn("refresh_token");if(!l)throw new qr("No refresh_token detected.");const c=bn("token_type");if(!c)throw new qr("No token_type detected.");const d=Math.round(Date.now()/1e3)+parseInt(i),{data:f,error:m}=await this.getUser(o);if(m)throw m;const p=f.user,x={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:parseInt(i),expires_at:d,refresh_token:l,token_type:c,user:p},g=bn("type");return window.location.hash="",this._debug("#_getSessionFromUrl()","clearing window.location.hash"),{data:{session:x,redirectType:g},error:null}}catch(n){if(Me(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){return Yr()&&(!!bn("access_token")||!!bn("error_description"))}async _isPKCEFlow(){const t=await Zc(this.storage,`${this.storageKey}-code-verifier`);return!!bn("code")&&!!t}async signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(ID(l)&&(l.status===404||l.status===401)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Sh(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const n=SD(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),this._emitInitialSession(n),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;if(this.flowType==="pkce"){const o=eu();await Ba(this.storage,`${this.storageKey}-code-verifier`,o),r=await tu(o),s=o===r?"plain":"s256"}try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Me(o))return{data:null,error:o};throw o}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ED(async s=>(await kD(s*200),this._debug(n,"refreshing attempt",s),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ws})),(s,o,i)=>i&&i.error&&Ix(i.error)&&Date.now()+(s+1)*200-r<ru)}catch(r){if(this._debug(n,"error",r),Me(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Yr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Zc(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),o=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<s+$x;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${$x}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Ix(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new fi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new of;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new fi;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),Me(o)){const i={session:null,error:o};return(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.persistSession||(this.inMemorySession=t),this.persistSession&&t.expires_at&&await this._persistSession(t)}_persistSession(t){return this._debug("#_persistSession()",t),Ba(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),this.persistSession?await Sh(this.storage,this.storageKey):this.inMemorySession=null}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Yr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ru);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),await this._autoRefreshTokenTick()}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/ru);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ru}ms, refresh threshold is ${Vx} ticks`),s<=Vx&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){this._debug(`#_onVisibilityChanged(${t})`,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(t||(await this.initializePromise,await this._recoverAndRefresh(),this._debug("#_onVisibilityChanged()","finished waiting for initialize, _recoverAndRefresh")),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n){const r=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const s=eu();await Ba(this.storage,`${this.storageKey}-code-verifier`,s);const o=await tu(s),i=s===o?"plain":"s256";this._debug("PKCE","code verifier",`${s.substring(0,5)}...`,"code challenge",o,"method",i);const l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});r.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);r.push(s.toString())}return`${this.url}/authorize?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Oe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const{data:l,error:c}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _verify(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:l}=await Oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _challenge(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified");return{data:{all:r,totp:s},error:null}}async _getAuthenticatorAssuranceLevel(){return await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}})}}ql.nextInstanceID=0;class ZD extends ql{constructor(t){super(t)}}var eI=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const tI={headers:fD},nI={schema:"public"},rI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sI={};class oI{constructor(t,n,r){var s,o,i,l,c,u,d,f;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const m=yD(t);this.realtimeUrl=`${m}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${m}/auth/v1`,this.storageUrl=`${m}/storage/v1`,this.functionsUrl=`${m}/functions/v1`;const p=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,x={db:nI,realtime:sI,auth:Object.assign(Object.assign({},rI),{storageKey:p}),global:tI},g=xD(r??{},x);this.storageKey=(o=(s=g.auth)===null||s===void 0?void 0:s.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=(i=g.global)===null||i===void 0?void 0:i.headers)!==null&&l!==void 0?l:{},this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,(u=g.global)===null||u===void 0?void 0:u.fetch),this.fetch=vD(n,this._getAccessToken.bind(this),(d=g.global)===null||d===void 0?void 0:d.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},g.realtime)),this.rest=new _O(`${m}/rest/v1`,{headers:this.headers,schema:(f=g.db)===null||f===void 0?void 0:f.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new XR(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new uD(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,n={},r){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return eI(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:i,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ZD({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,debug:l,fetch:u})}_initRealtimeClient(t){return new FO(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const iI=(e,t,n)=>new oI(e,t,n),aI="https://uybiseugdckzadrakfqa.supabase.co",lI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV5YmlzZXVnZGNremFkcmFrZnFhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI1NzAxMDMsImV4cCI6MjA3ODE0NjEwM30.1pts8rK7cQsWdEb-NvNa39Iz_rZF2OvYVhpTzZnrlqg",F=iI(aI,lI),cI=1;let kh=0;function uI(){return kh=(kh+1)%Number.MAX_VALUE,kh.toString()}const cn={state:{toasts:[]},listeners:[],getState:()=>cn.state,setState:e=>{typeof e=="function"?cn.state=e(cn.state):cn.state={...cn.state,...e},cn.listeners.forEach(t=>t(cn.state))},subscribe:e=>(cn.listeners.push(e),()=>{cn.listeners=cn.listeners.filter(t=>t!==e)})},dI=({...e})=>{const t=uI(),n=s=>cn.setState(o=>({...o,toasts:o.toasts.map(i=>i.id===t?{...i,...s}:i)})),r=()=>cn.setState(s=>({...s,toasts:s.toasts.filter(o=>o.id!==t)}));return cn.setState(s=>({...s,toasts:[{...e,id:t,dismiss:r},...s.toasts].slice(0,cI)})),{id:t,dismiss:r,update:n}};function Dt(){const[e,t]=h.useState(cn.getState());return h.useEffect(()=>cn.subscribe(r=>{t(r)}),[]),h.useEffect(()=>{const n=[];return e.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||3e3);n.push(s)}),()=>{n.forEach(r=>clearTimeout(r))}},[e.toasts]),{toast:dI,toasts:e.toasts}}const Kj=h.createContext(void 0),fI=({children:e})=>{const{toast:t}=Dt(),n=lo(),[r,s]=h.useState(null),[o,i]=h.useState(null),[l,c]=h.useState(!0),[u,d]=h.useState(null),[f,m]=h.useState(()=>sessionStorage.getItem("professor-session")==="true"),p=h.useCallback(async N=>{if(!N)return d(null),null;const{data:_,error:C}=await F.from("profiles").select("*").eq("id",N).maybeSingle();return C?(console.error("Error fetching profile:",C),d(null)):d(_),_},[]),x=h.useCallback(async()=>{s(null),i(null),d(null),m(!1),sessionStorage.removeItem("professor-session");const{error:N}=await F.auth.signOut();N?N.message!=="No session found"&&N.code!=="session_not_found"&&(console.error("Sign out error:",N),t({variant:"destructive",title:"Erro ao sair",description:"Houve um problema ao finalizar a sesso."})):t({variant:"info",title:"At logo! ",description:"Voc saiu com sucesso."}),n("/login")},[n,t]),g=N=>{m(N),N?sessionStorage.setItem("professor-session","true"):sessionStorage.removeItem("professor-session")},y=h.useCallback(async N=>{i(N);let _=(N==null?void 0:N.user)??null;if(s(_),N&&!_){console.log("Session exists but user is missing, trying to refresh token...");const{data:{session:C},error:P}=await F.auth.refreshSession();!P&&C?(_=C.user,s(_),i(C)):(console.error("Failed to refresh session:",P),await F.auth.signOut())}_?await p(_.id):d(null),c(!1)},[p]);h.useEffect(()=>{(async()=>{const{data:{session:C}}=await F.auth.getSession();y(C)})();const{data:{subscription:_}}=F.auth.onAuthStateChange(async(C,P)=>{var I;if(y(P),C==="SIGNED_IN"&&((I=P==null?void 0:P.user)!=null&&I.id)){const L=await p(P.user.id);if((L==null?void 0:L.is_active)===!1){await F.auth.signOut(),t({variant:"destructive",title:"Conta Inativa",description:"Sua conta foi inativada. Para mais informaes, entre em contato com o suporte.",duration:8e3}),c(!1);return}(L==null?void 0:L.role)==="professor"||(t({variant:"info",title:"Login bem-sucedido! ",description:"Bem-vindo(a) de volta ao seu painel."}),n("/"))}else C==="SIGNED_OUT"&&(m(!1),sessionStorage.removeItem("professor-session"))});return()=>_.unsubscribe()},[y,p,n,t]);const w=h.useCallback(async(N,_,C)=>{const{data:P,error:I}=await F.auth.signUp({email:N,password:_,options:{...C,emailRedirectTo:void 0}});return I&&t({variant:"destructive",title:"Falha no Cadastro",description:I.message||"Algo deu errado"}),{data:P,error:I}},[t]),v=h.useCallback(async(N,_)=>{const{error:C,data:P}=await F.auth.signInWithPassword({email:N,password:_});return C?(t({variant:"destructive",title:"Falha no Login",description:C.message||"E-mail ou senha invlidos."}),{error:C}):{error:null}},[t]),b=h.useCallback(async N=>{const{error:_}=await F.auth.resetPasswordForEmail(N,{redirectTo:`${window.location.origin}/update-password`});return t(_?{variant:"destructive",title:"Falha ao redefinir",description:_.message}:{variant:"info",title:"Verifique seu e-mail!",description:"Enviamos um link para redefinir sua senha."}),{error:_}},[t]),j=h.useCallback(async N=>{const{error:_}=await F.auth.updateUser({password:N});return _?t({variant:"destructive",title:"Erro ao atualizar senha",description:_.message}):(t({variant:"info",title:"Senha atualizada!",description:"Sua senha foi alterada com sucesso."}),n("/")),{error:_}},[t,n]),S=h.useMemo(()=>({user:r,session:o,profile:u,fetchProfile:p,loading:l,professorSession:f,setProfessorSession:g,signUp:w,signIn:v,signOut:x,sendPasswordResetLink:b,updateUserPassword:j}),[r,o,u,p,l,f,w,v,x,b,j]);return a.jsx(Kj.Provider,{value:S,children:e})},nr=()=>{const e=h.useContext(Kj);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};function Qj(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Qj(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Xj(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Qj(e))&&(r&&(r+=" "),r+=t);return r}function hI(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=Jj(t))&&(r&&(r+=" "),r+=n);return r}function Jj(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=Jj(e[r]))&&(n&&(n+=" "),n+=t);return n}var wv="-";function mI(e){var t=gI(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function o(l){var c=l.split(wv);return c[0]===""&&c.length!==1&&c.shift(),Zj(c,t)||pI(l)}function i(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:o,getConflictingClassGroupIds:i}}function Zj(e,t){var i;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?Zj(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var o=e.join(wv);return(i=t.validators.find(function(l){var c=l.validator;return c(o)}))==null?void 0:i.classGroupId}}var Bx=/^\[(.+)\]$/;function pI(e){if(Bx.test(e)){var t=Bx.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function gI(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=yI(Object.entries(e.classGroups),n);return s.forEach(function(o){var i=o[0],l=o[1];_p(l,r,i,t)}),r}function _p(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var o=s===""?t:Ux(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(vI(s)){_p(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(i){var l=i[0],c=i[1];_p(c,Ux(t,l),n,r)})})}function Ux(e,t){var n=e;return t.split(wv).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function vI(e){return e.isThemeGetter}function yI(e,t){return t?e.map(function(n){var r=n[0],s=n[1],o=s.map(function(i){return typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):i});return[r,o]}):e}function xI(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(o,i){n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(i){var l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set:function(i,l){n.has(i)?n.set(i,l):s(i,l)}}}var eS="!";function wI(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(i){for(var l=[],c=0,u=0,d,f=0;f<i.length;f++){var m=i[f];if(c===0){if(m===r&&(n||i.slice(f,f+s)===t)){l.push(i.slice(u,f)),u=f+s;continue}if(m==="/"){d=f;continue}}m==="["?c++:m==="]"&&c--}var p=l.length===0?i:i.substring(u),x=p.startsWith(eS),g=x?p.substring(1):p,y=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:x,baseClassName:g,maybePostfixModifierPosition:y}}}function bI(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function _I(e){return{cache:xI(e.cacheSize),splitModifiers:wI(e),...mI(e)}}var jI=/\s+/;function SI(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,o=new Set;return e.trim().split(jI).map(function(i){var l=n(i),c=l.modifiers,u=l.hasImportantModifier,d=l.baseClassName,f=l.maybePostfixModifierPosition,m=r(f?d.substring(0,f):d),p=!!f;if(!m){if(!f)return{isTailwindClass:!1,originalClassName:i};if(m=r(d),!m)return{isTailwindClass:!1,originalClassName:i};p=!1}var x=bI(c).join(":"),g=u?x+eS:x;return{isTailwindClass:!0,modifierId:g,classGroupId:m,originalClassName:i,hasPostfixModifier:p}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var l=i.modifierId,c=i.classGroupId,u=i.hasPostfixModifier,d=l+c;return o.has(d)?!1:(o.add(d),s(c,u).forEach(function(f){return o.add(l+f)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function CI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,o,i=l;function l(u){var d=t[0],f=t.slice(1),m=f.reduce(function(p,x){return x(p)},d());return r=_I(m),s=r.cache.get,o=r.cache.set,i=c,c(u)}function c(u){var d=s(u);if(d)return d;var f=SI(u,r);return o(u,f),f}return function(){return i(hI.apply(null,arguments))}}function Je(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var tS=/^\[(?:([a-z-]+):)?(.+)\]$/i,NI=/^\d+\/\d+$/,kI=new Set(["px","full","screen"]),EI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PI=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function ir(e){return Oo(e)||kI.has(e)||NI.test(e)||jp(e)}function jp(e){return si(e,"length",II)}function AI(e){return si(e,"size",nS)}function MI(e){return si(e,"position",nS)}function RI(e){return si(e,"url",LI)}function su(e){return si(e,"number",Oo)}function Oo(e){return!Number.isNaN(Number(e))}function OI(e){return e.endsWith("%")&&Oo(e.slice(0,-1))}function Ua(e){return Hx(e)||si(e,"number",Hx)}function Ee(e){return tS.test(e)}function Ha(){return!0}function bs(e){return EI.test(e)}function DI(e){return si(e,"",$I)}function si(e,t,n){var r=tS.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function II(e){return TI.test(e)}function nS(){return!1}function LI(e){return e.startsWith("url(")}function Hx(e){return Number.isInteger(Number(e))}function $I(e){return PI.test(e)}function FI(){var e=Je("colors"),t=Je("spacing"),n=Je("blur"),r=Je("brightness"),s=Je("borderColor"),o=Je("borderRadius"),i=Je("borderSpacing"),l=Je("borderWidth"),c=Je("contrast"),u=Je("grayscale"),d=Je("hueRotate"),f=Je("invert"),m=Je("gap"),p=Je("gradientColorStops"),x=Je("gradientColorStopPositions"),g=Je("inset"),y=Je("margin"),w=Je("opacity"),v=Je("padding"),b=Je("saturate"),j=Je("scale"),S=Je("sepia"),N=Je("skew"),_=Je("space"),C=Je("translate"),P=function(){return["auto","contain","none"]},I=function(){return["auto","hidden","clip","visible","scroll"]},L=function(){return["auto",Ee,t]},O=function(){return[Ee,t]},U=function(){return["",ir]},$=function(){return["auto",Oo,Ee]},E=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},M=function(){return["solid","dashed","dotted","double","none"]},T=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},k=function(){return["start","end","center","between","around","evenly","stretch"]},R=function(){return["","0",Ee]},A=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},V=function(){return[Oo,su]},D=function(){return[Oo,Ee]};return{cacheSize:500,theme:{colors:[Ha],spacing:[ir],blur:["none","",bs,Ee],brightness:V(),borderColor:[e],borderRadius:["none","","full",bs,Ee],borderSpacing:O(),borderWidth:U(),contrast:V(),grayscale:R(),hueRotate:D(),invert:R(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[OI,jp],inset:L(),margin:L(),opacity:V(),padding:O(),saturate:V(),scale:V(),sepia:R(),skew:D(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ee]}],container:["container"],columns:[{columns:[bs]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(E(),[Ee])}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ua]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ee]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Ua]}],"grid-cols":[{"grid-cols":[Ha]}],"col-start-end":[{col:["auto",{span:["full",Ua]},Ee]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Ha]}],"row-start-end":[{row:["auto",{span:[Ua]},Ee]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ee]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(k())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(k(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(k(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ee,t]}],"min-w":[{"min-w":["min","max","fit",Ee,ir]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[bs]},bs,Ee]}],h:[{h:[Ee,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ee,ir]}],"max-h":[{"max-h":[Ee,t,"min","max","fit"]}],"font-size":[{text:["base",bs,jp]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",su]}],"font-family":[{font:[Ha]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ee]}],"line-clamp":[{"line-clamp":["none",Oo,su]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ee,ir]}],"list-image":[{"list-image":["none",Ee]}],"list-style-type":[{list:["none","disc","decimal",Ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(M(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",ir]}],"underline-offset":[{"underline-offset":["auto",Ee,ir]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(E(),[MI])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",AI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},RI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[].concat(M(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:M()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(M())}],"outline-offset":[{"outline-offset":[Ee,ir]}],"outline-w":[{outline:[ir]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[ir]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",bs,DI]}],"shadow-color":[{shadow:[Ha]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":T()}],"bg-blend":[{"bg-blend":T()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",bs,Ee]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ee]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",Ee]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Ua,Ee]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ee]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ir,su]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var VI=CI(FI);function W(...e){return VI(Xj(e))}function zx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function hn(...e){return t=>{let n=!1;const r=e.map(s=>{const o=zx(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():zx(e[s],null)}}}}function Te(...e){return h.useCallback(hn(...e),e)}var BI=Symbol.for("react.lazy"),fd=$d[" use ".trim().toString()];function UI(e){return typeof e=="object"&&e!==null&&"then"in e}function rS(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===BI&&"_payload"in e&&UI(e._payload)}function bv(e){const t=zI(e),n=h.forwardRef((r,s)=>{let{children:o,...i}=r;rS(o)&&typeof fd=="function"&&(o=fd(o._payload));const l=h.Children.toArray(o),c=l.find(qI);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...i,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return a.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var HI=bv("Slot");function zI(e){const t=h.forwardRef((n,r)=>{let{children:s,...o}=n;if(rS(s)&&typeof fd=="function"&&(s=fd(s._payload)),h.isValidElement(s)){const i=YI(s),l=GI(o,s.props);return s.type!==h.Fragment&&(l.ref=r?hn(r,i):i),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var WI=Symbol("radix.slottable");function qI(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===WI}function GI(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function YI(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const Wx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,qx=Xj,hc=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return qx(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const m=Wx(d)||Wx(f);return s[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(x=>{let[g,y]=x;return Array.isArray(y)?y.includes({...o,...l}[g]):{...o,...l}[g]===y})?[...u,f,m]:u},[]);return qx(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)},Sp=hc("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=ct.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?HI:"button";return a.jsx(i,{className:W(Sp({variant:t,size:n,className:e})),ref:o,...s})});Z.displayName="Button";/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sS=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...l},c)=>h.createElement("svg",{ref:c,...QI,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:sS("lucide",s),...l},[...i.map(([u,d])=>h.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(e,t)=>{const n=h.forwardRef(({className:r,...s},o)=>h.createElement(XI,{ref:o,iconNode:t,className:sS(`lucide-${KI(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=fe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=fe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=fe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=fe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=fe("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=fe("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=fe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=fe("CalendarHeart",[["path",{d:"M3 10h18V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7",key:"136lmk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21.29 14.7a2.43 2.43 0 0 0-2.65-.52c-.3.12-.57.3-.8.53l-.34.34-.35-.34a2.43 2.43 0 0 0-2.65-.53c-.3.12-.56.3-.79.53-.95.94-1 2.53.2 3.74L17.5 22l3.6-3.55c1.2-1.21 1.14-2.8.19-3.74Z",key:"1t7hil"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=fe("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=fe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=fe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=fe("Clock3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=fe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=fe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=fe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=fe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=fe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=fe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=fe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=fe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=fe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=fe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=fe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=fe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=fe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=fe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=fe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=fe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=fe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=fe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=fe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=fe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=fe("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=fe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=fe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ee(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function w4(e,t){const n=h.createContext(t),r=o=>{const{children:i,...l}=o,c=h.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(o){const i=h.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function rr(e,t=[]){let n=[];function r(o,i){const l=h.createContext(i),c=n.length;n=[...n,i];const u=f=>{var w;const{scope:m,children:p,...x}=f,g=((w=m==null?void 0:m[e])==null?void 0:w[c])||l,y=h.useMemo(()=>x,Object.values(x));return a.jsx(g.Provider,{value:y,children:p})};u.displayName=o+"Provider";function d(f,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,x=h.useContext(p);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,b4(s,...t)]}function b4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function _4(e){const t=j4(e),n=h.forwardRef((r,s)=>{const{children:o,...i}=r,l=h.Children.toArray(o),c=l.find(C4);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...i,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return a.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function j4(e){const t=h.forwardRef((n,r)=>{const{children:s,...o}=n;if(h.isValidElement(s)){const i=k4(s),l=N4(o,s.props);return s.type!==h.Fragment&&(l.ref=r?hn(r,i):i),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var S4=Symbol("radix.slottable");function C4(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===S4}function N4(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function k4(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var E4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ce=E4.reduce((e,t)=>{const n=_4(`Primitive.${t}`),r=h.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function kv(e,t){e&&ni.flushSync(()=>e.dispatchEvent(t))}function mn(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function T4(e,t=globalThis==null?void 0:globalThis.document){const n=mn(e);h.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var P4="DismissableLayer",Ep="dismissableLayer.update",A4="dismissableLayer.pointerDownOutside",M4="dismissableLayer.focusOutside",Jx,dS=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ja=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=h.useContext(dS),[d,f]=h.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),x=Te(t,_=>f(_)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(y),v=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=v>=w,S=O4(_=>{const C=_.target,P=[...u.branches].some(I=>I.contains(C));!j||P||(s==null||s(_),i==null||i(_),_.defaultPrevented||l==null||l())},m),N=D4(_=>{const C=_.target;[...u.branches].some(I=>I.contains(C))||(o==null||o(_),i==null||i(_),_.defaultPrevented||l==null||l())},m);return T4(_=>{v===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},m),h.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Jx=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Zx(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Jx)}},[d,m,n,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Zx())},[d,u]),h.useEffect(()=>{const _=()=>p({});return document.addEventListener(Ep,_),()=>document.removeEventListener(Ep,_)},[]),a.jsx(ce.div,{...c,ref:x,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:ee(e.onFocusCapture,N.onFocusCapture),onBlurCapture:ee(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:ee(e.onPointerDownCapture,S.onPointerDownCapture)})});ja.displayName=P4;var R4="DismissableLayerBranch",fS=h.forwardRef((e,t)=>{const n=h.useContext(dS),r=h.useRef(null),s=Te(t,r);return h.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(ce.div,{...e,ref:s})});fS.displayName=R4;function O4(e,t=globalThis==null?void 0:globalThis.document){const n=mn(e),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){hS(A4,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function D4(e,t=globalThis==null?void 0:globalThis.document){const n=mn(e),r=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!r.current&&hS(M4,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Zx(){const e=new CustomEvent(Ep);document.dispatchEvent(e)}function hS(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?kv(s,o):s.dispatchEvent(o)}var I4=ja,L4=fS,Eh=0;function cf(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ew()),document.body.insertAdjacentElement("beforeend",e[1]??ew()),Eh++,()=>{Eh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Eh--}},[])}function ew(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Th="focusScope.autoFocusOnMount",Ph="focusScope.autoFocusOnUnmount",tw={bubbles:!1,cancelable:!0},$4="FocusScope",gc=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=h.useState(null),u=mn(s),d=mn(o),f=h.useRef(null),m=Te(t,g=>c(g)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let g=function(b){if(p.paused||!l)return;const j=b.target;l.contains(j)?f.current=j:Ss(f.current,{select:!0})},y=function(b){if(p.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||Ss(f.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Ss(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const v=new MutationObserver(w);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),v.disconnect()}}},[r,l,p.paused]),h.useEffect(()=>{if(l){rw.add(p);const g=document.activeElement;if(!l.contains(g)){const w=new CustomEvent(Th,tw);l.addEventListener(Th,u),l.dispatchEvent(w),w.defaultPrevented||(F4(z4(mS(l)),{select:!0}),document.activeElement===g&&Ss(l))}return()=>{l.removeEventListener(Th,u),setTimeout(()=>{const w=new CustomEvent(Ph,tw);l.addEventListener(Ph,d),l.dispatchEvent(w),w.defaultPrevented||Ss(g??document.body,{select:!0}),l.removeEventListener(Ph,d),rw.remove(p)},0)}}},[l,u,d,p]);const x=h.useCallback(g=>{if(!n&&!r||p.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(y&&w){const v=g.currentTarget,[b,j]=V4(v);b&&j?!g.shiftKey&&w===j?(g.preventDefault(),n&&Ss(b,{select:!0})):g.shiftKey&&w===b&&(g.preventDefault(),n&&Ss(j,{select:!0})):w===v&&g.preventDefault()}},[n,r,p.paused]);return a.jsx(ce.div,{tabIndex:-1,...i,ref:m,onKeyDown:x})});gc.displayName=$4;function F4(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ss(r,{select:t}),document.activeElement!==n)return}function V4(e){const t=mS(e),n=nw(t,e),r=nw(t.reverse(),e);return[n,r]}function mS(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function nw(e,t){for(const n of e)if(!B4(n,{upTo:t}))return n}function B4(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function U4(e){return e instanceof HTMLInputElement&&"select"in e}function Ss(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&U4(e)&&t&&e.select()}}var rw=H4();function H4(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=sw(e,t),e.unshift(t)},remove(t){var n;e=sw(e,t),(n=e[0])==null||n.resume()}}}function sw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function z4(e){return e.filter(t=>t.tagName!=="A")}var kt=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},W4=$d[" useId ".trim().toString()]||(()=>{}),q4=0;function Ht(e){const[t,n]=h.useState(W4());return kt(()=>{e||n(r=>r??String(q4++))},[e]),e||(t?`radix-${t}`:"")}const G4=["top","right","bottom","left"],Xs=Math.min,Dn=Math.max,pd=Math.round,ou=Math.floor,Ir=e=>({x:e,y:e}),Y4={left:"right",right:"left",bottom:"top",top:"bottom"},K4={start:"end",end:"start"};function Tp(e,t,n){return Dn(e,Xs(t,n))}function cs(e,t){return typeof e=="function"?e(t):e}function us(e){return e.split("-")[0]}function Sa(e){return e.split("-")[1]}function Ev(e){return e==="x"?"y":"x"}function Tv(e){return e==="y"?"height":"width"}const Q4=new Set(["top","bottom"]);function Mr(e){return Q4.has(us(e))?"y":"x"}function Pv(e){return Ev(Mr(e))}function X4(e,t,n){n===void 0&&(n=!1);const r=Sa(e),s=Pv(e),o=Tv(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=gd(i)),[i,gd(i)]}function J4(e){const t=gd(e);return[Pp(e),t,Pp(t)]}function Pp(e){return e.replace(/start|end/g,t=>K4[t])}const ow=["left","right"],iw=["right","left"],Z4=["top","bottom"],eL=["bottom","top"];function tL(e,t,n){switch(e){case"top":case"bottom":return n?t?iw:ow:t?ow:iw;case"left":case"right":return t?Z4:eL;default:return[]}}function nL(e,t,n,r){const s=Sa(e);let o=tL(us(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Pp)))),o}function gd(e){return e.replace(/left|right|bottom|top/g,t=>Y4[t])}function rL(e){return{top:0,right:0,bottom:0,left:0,...e}}function pS(e){return typeof e!="number"?rL(e):{top:e,right:e,bottom:e,left:e}}function vd(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function aw(e,t,n){let{reference:r,floating:s}=e;const o=Mr(t),i=Pv(t),l=Tv(i),c=us(t),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Sa(t)){case"start":p[i]-=m*(n&&u?-1:1);break;case"end":p[i]+=m*(n&&u?-1:1);break}return p}const sL=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=aw(u,r,c),m=r,p={},x=0;for(let g=0;g<l.length;g++){const{name:y,fn:w}=l[g],{x:v,y:b,data:j,reset:S}=await w({x:d,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=v??d,f=b??f,p={...p,[y]:{...p[y],...j}},S&&x<=50&&(x++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=aw(u,m,c)),g=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:p}};async function Yl(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=cs(t,e),x=pS(p),y=l[m?f==="floating"?"reference":"floating":f],w=vd(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(y)))==null||n?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},S=vd(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(w.top-S.top+x.top)/j.y,bottom:(S.bottom-w.bottom+x.bottom)/j.y,left:(w.left-S.left+x.left)/j.x,right:(S.right-w.right+x.right)/j.x}}const oL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=cs(e,t)||{};if(u==null)return{};const f=pS(d),m={x:n,y:r},p=Pv(s),x=Tv(p),g=await i.getDimensions(u),y=p==="y",w=y?"top":"left",v=y?"bottom":"right",b=y?"clientHeight":"clientWidth",j=o.reference[x]+o.reference[p]-m[p]-o.floating[x],S=m[p]-o.reference[p],N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let _=N?N[b]:0;(!_||!await(i.isElement==null?void 0:i.isElement(N)))&&(_=l.floating[b]||o.floating[x]);const C=j/2-S/2,P=_/2-g[x]/2-1,I=Xs(f[w],P),L=Xs(f[v],P),O=I,U=_-g[x]-L,$=_/2-g[x]/2+C,E=Tp(O,$,U),M=!c.arrow&&Sa(s)!=null&&$!==E&&o.reference[x]/2-($<O?I:L)-g[x]/2<0,T=M?$<O?$-O:$-U:0;return{[p]:m[p]+T,data:{[p]:E,centerOffset:$-E-T,...M&&{alignmentOffset:T}},reset:M}}}),iL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...y}=cs(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const w=us(s),v=Mr(l),b=us(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=m||(b||!g?[gd(l)]:J4(l)),N=x!=="none";!m&&N&&S.push(...nL(l,g,x,j));const _=[l,...S],C=await Yl(t,y),P=[];let I=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&P.push(C[w]),f){const $=X4(s,i,j);P.push(C[$[0]],C[$[1]])}if(I=[...I,{placement:s,overflows:P}],!P.every($=>$<=0)){var L,O;const $=(((L=o.flip)==null?void 0:L.index)||0)+1,E=_[$];if(E&&(!(f==="alignment"?v!==Mr(E):!1)||I.every(k=>Mr(k.placement)===v?k.overflows[0]>0:!0)))return{data:{index:$,overflows:I},reset:{placement:E}};let M=(O=I.filter(T=>T.overflows[0]<=0).sort((T,k)=>T.overflows[1]-k.overflows[1])[0])==null?void 0:O.placement;if(!M)switch(p){case"bestFit":{var U;const T=(U=I.filter(k=>{if(N){const R=Mr(k.placement);return R===v||R==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(R=>R>0).reduce((R,A)=>R+A,0)]).sort((k,R)=>k[1]-R[1])[0])==null?void 0:U[0];T&&(M=T);break}case"initialPlacement":M=l;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function lw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function cw(e){return G4.some(t=>e[t]>=0)}const aL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=cs(e,t);switch(r){case"referenceHidden":{const o=await Yl(t,{...s,elementContext:"reference"}),i=lw(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:cw(i)}}}case"escaped":{const o=await Yl(t,{...s,altBoundary:!0}),i=lw(o,n.floating);return{data:{escapedOffsets:i,escaped:cw(i)}}}default:return{}}}}},gS=new Set(["left","top"]);async function lL(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=us(n),l=Sa(n),c=Mr(n)==="y",u=gS.has(i)?-1:1,d=o&&c?-1:1,f=cs(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const cL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await lL(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},uL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:y=>{let{x:w,y:v}=y;return{x:w,y:v}}},...c}=cs(e,t),u={x:n,y:r},d=await Yl(t,c),f=Mr(us(s)),m=Ev(f);let p=u[m],x=u[f];if(o){const y=m==="y"?"top":"left",w=m==="y"?"bottom":"right",v=p+d[y],b=p-d[w];p=Tp(v,p,b)}if(i){const y=f==="y"?"top":"left",w=f==="y"?"bottom":"right",v=x+d[y],b=x-d[w];x=Tp(v,x,b)}const g=l.fn({...t,[m]:p,[f]:x});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[m]:o,[f]:i}}}}}},dL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=cs(e,t),d={x:n,y:r},f=Mr(s),m=Ev(f);let p=d[m],x=d[f];const g=cs(l,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=m==="y"?"height":"width",j=o.reference[m]-o.floating[b]+y.mainAxis,S=o.reference[m]+o.reference[b]-y.mainAxis;p<j?p=j:p>S&&(p=S)}if(u){var w,v;const b=m==="y"?"width":"height",j=gS.has(us(s)),S=o.reference[f]-o.floating[b]+(j&&((w=i.offset)==null?void 0:w[f])||0)+(j?0:y.crossAxis),N=o.reference[f]+o.reference[b]+(j?0:((v=i.offset)==null?void 0:v[f])||0)-(j?y.crossAxis:0);x<S?x=S:x>N&&(x=N)}return{[m]:p,[f]:x}}}},fL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=cs(e,t),d=await Yl(t,u),f=us(s),m=Sa(s),p=Mr(s)==="y",{width:x,height:g}=o.floating;let y,w;f==="top"||f==="bottom"?(y=f,w=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(w=f,y=m==="end"?"top":"bottom");const v=g-d.top-d.bottom,b=x-d.left-d.right,j=Xs(g-d[y],v),S=Xs(x-d[w],b),N=!t.middlewareData.shift;let _=j,C=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(_=v),N&&!m){const I=Dn(d.left,0),L=Dn(d.right,0),O=Dn(d.top,0),U=Dn(d.bottom,0);p?C=x-2*(I!==0||L!==0?I+L:Dn(d.left,d.right)):_=g-2*(O!==0||U!==0?O+U:Dn(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:_});const P=await i.getDimensions(l.floating);return x!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function uf(){return typeof window<"u"}function Ca(e){return vS(e)?(e.nodeName||"").toLowerCase():"#document"}function Bn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Hr(e){var t;return(t=(vS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function vS(e){return uf()?e instanceof Node||e instanceof Bn(e).Node:!1}function xr(e){return uf()?e instanceof Element||e instanceof Bn(e).Element:!1}function Vr(e){return uf()?e instanceof HTMLElement||e instanceof Bn(e).HTMLElement:!1}function uw(e){return!uf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Bn(e).ShadowRoot}const hL=new Set(["inline","contents"]);function vc(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=wr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!hL.has(s)}const mL=new Set(["table","td","th"]);function pL(e){return mL.has(Ca(e))}const gL=[":popover-open",":modal"];function df(e){return gL.some(t=>{try{return e.matches(t)}catch{return!1}})}const vL=["transform","translate","scale","rotate","perspective"],yL=["transform","translate","scale","rotate","perspective","filter"],xL=["paint","layout","strict","content"];function Av(e){const t=Mv(),n=xr(e)?wr(e):e;return vL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||yL.some(r=>(n.willChange||"").includes(r))||xL.some(r=>(n.contain||"").includes(r))}function wL(e){let t=Js(e);for(;Vr(t)&&!ca(t);){if(Av(t))return t;if(df(t))return null;t=Js(t)}return null}function Mv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const bL=new Set(["html","body","#document"]);function ca(e){return bL.has(Ca(e))}function wr(e){return Bn(e).getComputedStyle(e)}function ff(e){return xr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Js(e){if(Ca(e)==="html")return e;const t=e.assignedSlot||e.parentNode||uw(e)&&e.host||Hr(e);return uw(t)?t.host:t}function yS(e){const t=Js(e);return ca(t)?e.ownerDocument?e.ownerDocument.body:e.body:Vr(t)&&vc(t)?t:yS(t)}function Kl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=yS(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=Bn(s);if(o){const l=Ap(i);return t.concat(i,i.visualViewport||[],vc(s)?s:[],l&&n?Kl(l):[])}return t.concat(s,Kl(s,[],n))}function Ap(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function xS(e){const t=wr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Vr(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=pd(n)!==o||pd(r)!==i;return l&&(n=o,r=i),{width:n,height:r,$:l}}function Rv(e){return xr(e)?e:e.contextElement}function Wi(e){const t=Rv(e);if(!Vr(t))return Ir(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=xS(t);let i=(o?pd(n.width):n.width)/r,l=(o?pd(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const _L=Ir(0);function wS(e){const t=Bn(e);return!Mv()||!t.visualViewport?_L:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function jL(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Bn(e)?!1:t}function Wo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Rv(e);let i=Ir(1);t&&(r?xr(r)&&(i=Wi(r)):i=Wi(e));const l=jL(o,n,r)?wS(o):Ir(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const m=Bn(o),p=r&&xr(r)?Bn(r):r;let x=m,g=Ap(x);for(;g&&r&&p!==x;){const y=Wi(g),w=g.getBoundingClientRect(),v=wr(g),b=w.left+(g.clientLeft+parseFloat(v.paddingLeft))*y.x,j=w.top+(g.clientTop+parseFloat(v.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=b,u+=j,x=Bn(g),g=Ap(x)}}return vd({width:d,height:f,x:c,y:u})}function hf(e,t){const n=ff(e).scrollLeft;return t?t.left+n:Wo(Hr(e)).left+n}function bS(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-hf(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function SL(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=Hr(r),l=t?df(t.floating):!1;if(r===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Ir(1);const d=Ir(0),f=Vr(r);if((f||!f&&!o)&&((Ca(r)!=="body"||vc(i))&&(c=ff(r)),Vr(r))){const p=Wo(r);u=Wi(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const m=i&&!f&&!o?bS(i,c):Ir(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function CL(e){return Array.from(e.getClientRects())}function NL(e){const t=Hr(e),n=ff(e),r=e.ownerDocument.body,s=Dn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Dn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+hf(e);const l=-n.scrollTop;return wr(r).direction==="rtl"&&(i+=Dn(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:l}}const dw=25;function kL(e,t){const n=Bn(e),r=Hr(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const d=Mv();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=hf(r);if(u<=0){const d=r.ownerDocument,f=d.body,m=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,x=Math.abs(r.clientWidth-f.clientWidth-p);x<=dw&&(o-=x)}else u<=dw&&(o+=u);return{width:o,height:i,x:l,y:c}}const EL=new Set(["absolute","fixed"]);function TL(e,t){const n=Wo(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Vr(e)?Wi(e):Ir(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:l,x:c,y:u}}function fw(e,t,n){let r;if(t==="viewport")r=kL(e,n);else if(t==="document")r=NL(Hr(e));else if(xr(t))r=TL(t,n);else{const s=wS(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return vd(r)}function _S(e,t){const n=Js(e);return n===t||!xr(n)||ca(n)?!1:wr(n).position==="fixed"||_S(n,t)}function PL(e,t){const n=t.get(e);if(n)return n;let r=Kl(e,[],!1).filter(l=>xr(l)&&Ca(l)!=="body"),s=null;const o=wr(e).position==="fixed";let i=o?Js(e):e;for(;xr(i)&&!ca(i);){const l=wr(i),c=Av(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&EL.has(s.position)||vc(i)&&!c&&_S(e,i))?r=r.filter(d=>d!==i):s=l,i=Js(i)}return t.set(e,r),r}function AL(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?df(t)?[]:PL(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,d)=>{const f=fw(t,d,s);return u.top=Dn(f.top,u.top),u.right=Xs(f.right,u.right),u.bottom=Xs(f.bottom,u.bottom),u.left=Dn(f.left,u.left),u},fw(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ML(e){const{width:t,height:n}=xS(e);return{width:t,height:n}}function RL(e,t,n){const r=Vr(t),s=Hr(t),o=n==="fixed",i=Wo(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Ir(0);function u(){c.x=hf(s)}if(r||!r&&!o)if((Ca(t)!=="body"||vc(s))&&(l=ff(t)),r){const p=Wo(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?bS(s,l):Ir(0),f=i.left+l.scrollLeft-c.x-d.x,m=i.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:i.width,height:i.height}}function Ah(e){return wr(e).position==="static"}function hw(e,t){if(!Vr(e)||wr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Hr(e)===n&&(n=n.ownerDocument.body),n}function jS(e,t){const n=Bn(e);if(df(e))return n;if(!Vr(e)){let s=Js(e);for(;s&&!ca(s);){if(xr(s)&&!Ah(s))return s;s=Js(s)}return n}let r=hw(e,t);for(;r&&pL(r)&&Ah(r);)r=hw(r,t);return r&&ca(r)&&Ah(r)&&!Av(r)?n:r||wL(e)||n}const OL=async function(e){const t=this.getOffsetParent||jS,n=this.getDimensions,r=await n(e.floating);return{reference:RL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function DL(e){return wr(e).direction==="rtl"}const IL={convertOffsetParentRelativeRectToViewportRelativeRect:SL,getDocumentElement:Hr,getClippingRect:AL,getOffsetParent:jS,getElementRects:OL,getClientRects:CL,getDimensions:ML,getScale:Wi,isElement:xr,isRTL:DL};function SS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function LL(e,t){let n=null,r;const s=Hr(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(l||t(),!m||!p)return;const x=ou(f),g=ou(s.clientWidth-(d+m)),y=ou(s.clientHeight-(f+p)),w=ou(d),b={rootMargin:-x+"px "+-g+"px "+-y+"px "+-w+"px",threshold:Dn(0,Xs(1,c))||1};let j=!0;function S(N){const _=N[0].intersectionRatio;if(_!==c){if(!j)return i();_?i(!1,_):r=setTimeout(()=>{i(!1,1e-7)},1e3)}_===1&&!SS(u,e.getBoundingClientRect())&&i(),j=!1}try{n=new IntersectionObserver(S,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,b)}n.observe(e)}return i(!0),o}function $L(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Rv(e),d=s||o?[...u?Kl(u):[],...Kl(t)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),o&&w.addEventListener("resize",n)});const f=u&&l?LL(u,n):null;let m=-1,p=null;i&&(p=new ResizeObserver(w=>{let[v]=w;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let x,g=c?Wo(e):null;c&&y();function y(){const w=Wo(e);g&&!SS(g,w)&&n(),g=w,x=requestAnimationFrame(y)}return n(),()=>{var w;d.forEach(v=>{s&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f==null||f(),(w=p)==null||w.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const FL=cL,VL=uL,BL=iL,UL=fL,HL=aL,mw=oL,zL=dL,WL=(e,t,n)=>{const r=new Map,s={platform:IL,...n},o={...s.platform,_c:r};return sL(e,t,{...s,platform:o})};var qL=typeof document<"u",GL=function(){},Ru=qL?h.useLayoutEffect:GL;function yd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!yd(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!yd(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function CS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pw(e,t){const n=CS(e);return Math.round(t*n)/n}function Mh(e){const t=h.useRef(e);return Ru(()=>{t.current=e}),t}function YL(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=h.useState(r);yd(m,r)||p(r);const[x,g]=h.useState(null),[y,w]=h.useState(null),v=h.useCallback(k=>{k!==N.current&&(N.current=k,g(k))},[]),b=h.useCallback(k=>{k!==_.current&&(_.current=k,w(k))},[]),j=o||x,S=i||y,N=h.useRef(null),_=h.useRef(null),C=h.useRef(d),P=c!=null,I=Mh(c),L=Mh(s),O=Mh(u),U=h.useCallback(()=>{if(!N.current||!_.current)return;const k={placement:t,strategy:n,middleware:m};L.current&&(k.platform=L.current),WL(N.current,_.current,k).then(R=>{const A={...R,isPositioned:O.current!==!1};$.current&&!yd(C.current,A)&&(C.current=A,ni.flushSync(()=>{f(A)}))})},[m,t,n,L,O]);Ru(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(k=>({...k,isPositioned:!1})))},[u]);const $=h.useRef(!1);Ru(()=>($.current=!0,()=>{$.current=!1}),[]),Ru(()=>{if(j&&(N.current=j),S&&(_.current=S),j&&S){if(I.current)return I.current(j,S,U);U()}},[j,S,U,I,P]);const E=h.useMemo(()=>({reference:N,floating:_,setReference:v,setFloating:b}),[v,b]),M=h.useMemo(()=>({reference:j,floating:S}),[j,S]),T=h.useMemo(()=>{const k={position:n,left:0,top:0};if(!M.floating)return k;const R=pw(M.floating,d.x),A=pw(M.floating,d.y);return l?{...k,transform:"translate("+R+"px, "+A+"px)",...CS(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:A}},[n,l,M.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:U,refs:E,elements:M,floatingStyles:T}),[d,U,E,M,T])}const KL=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?mw({element:r.current,padding:s}).fn(n):{}:r?mw({element:r,padding:s}).fn(n):{}}}},QL=(e,t)=>({...FL(e),options:[e,t]}),XL=(e,t)=>({...VL(e),options:[e,t]}),JL=(e,t)=>({...zL(e),options:[e,t]}),ZL=(e,t)=>({...BL(e),options:[e,t]}),e3=(e,t)=>({...UL(e),options:[e,t]}),t3=(e,t)=>({...HL(e),options:[e,t]}),n3=(e,t)=>({...KL(e),options:[e,t]});var r3="Arrow",NS=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return a.jsx(ce.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});NS.displayName=r3;var s3=NS;function Ov(e){const[t,n]=h.useState(void 0);return kt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Dv="Popper",[kS,Na]=rr(Dv),[o3,ES]=kS(Dv),TS=e=>{const{__scopePopper:t,children:n}=e,[r,s]=h.useState(null);return a.jsx(o3,{scope:t,anchor:r,onAnchorChange:s,children:n})};TS.displayName=Dv;var PS="PopperAnchor",AS=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=ES(PS,n),i=h.useRef(null),l=Te(t,i),c=h.useRef(null);return h.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||i.current,u!==c.current&&o.onAnchorChange(c.current)}),r?null:a.jsx(ce.div,{...s,ref:l})});AS.displayName=PS;var Iv="PopperContent",[i3,a3]=kS(Iv),MS=h.forwardRef((e,t)=>{var H,ne,Q,ie,de,me;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:x,...g}=e,y=ES(Iv,n),[w,v]=h.useState(null),b=Te(t,Qe=>v(Qe)),[j,S]=h.useState(null),N=Ov(j),_=(N==null?void 0:N.width)??0,C=(N==null?void 0:N.height)??0,P=r+(o!=="center"?"-"+o:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],O=L.length>0,U={padding:I,boundary:L.filter(c3),altBoundary:O},{refs:$,floatingStyles:E,placement:M,isPositioned:T,middlewareData:k}=YL({strategy:"fixed",placement:P,whileElementsMounted:(...Qe)=>$L(...Qe,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[QL({mainAxis:s+C,alignmentAxis:i}),c&&XL({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?JL():void 0,...U}),c&&ZL({...U}),e3({...U,apply:({elements:Qe,rects:G,availableWidth:Xe,availableHeight:Le})=>{const{width:We,height:sr}=G.reference,sn=Qe.floating.style;sn.setProperty("--radix-popper-available-width",`${Xe}px`),sn.setProperty("--radix-popper-available-height",`${Le}px`),sn.setProperty("--radix-popper-anchor-width",`${We}px`),sn.setProperty("--radix-popper-anchor-height",`${sr}px`)}}),j&&n3({element:j,padding:l}),u3({arrowWidth:_,arrowHeight:C}),m&&t3({strategy:"referenceHidden",...U})]}),[R,A]=DS(M),V=mn(x);kt(()=>{T&&(V==null||V())},[T,V]);const D=(H=k.arrow)==null?void 0:H.x,z=(ne=k.arrow)==null?void 0:ne.y,B=((Q=k.arrow)==null?void 0:Q.centerOffset)!==0,[Y,X]=h.useState();return kt(()=>{w&&X(window.getComputedStyle(w).zIndex)},[w]),a.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...E,transform:T?E.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[(ie=k.transformOrigin)==null?void 0:ie.x,(de=k.transformOrigin)==null?void 0:de.y].join(" "),...((me=k.hide)==null?void 0:me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(i3,{scope:n,placedSide:R,onArrowChange:S,arrowX:D,arrowY:z,shouldHideArrow:B,children:a.jsx(ce.div,{"data-side":R,"data-align":A,...g,ref:b,style:{...g.style,animation:T?void 0:"none"}})})})});MS.displayName=Iv;var RS="PopperArrow",l3={top:"bottom",right:"left",bottom:"top",left:"right"},OS=h.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=a3(RS,r),i=l3[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(s3,{...s,ref:n,style:{...s.style,display:"block"}})})});OS.displayName=RS;function c3(e){return e!==null}var u3=e=>({name:"transformOrigin",options:e,fn(t){var y,w,v;const{placement:n,rects:r,middlewareData:s}=t,i=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=DS(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let x="",g="";return u==="bottom"?(x=i?f:`${m}px`,g=`${-c}px`):u==="top"?(x=i?f:`${m}px`,g=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,g=i?f:`${p}px`):u==="left"&&(x=`${r.floating.width+c}px`,g=i?f:`${p}px`),{data:{x,y:g}}}});function DS(e){const[t,n="center"]=e.split("-");return[t,n]}var Lv=TS,mf=AS,$v=MS,Fv=OS,d3="Portal",ka=h.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,o]=h.useState(!1);kt(()=>o(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?JA.createPortal(a.jsx(ce.div,{...r,ref:t}),i):null});ka.displayName=d3;function f3(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var qn=e=>{const{present:t,children:n}=e,r=h3(t),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),o=Te(r.ref,m3(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:o}):null};qn.displayName="Presence";function h3(e){const[t,n]=h.useState(),r=h.useRef(null),s=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[l,c]=f3(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=iu(r.current);o.current=l==="mounted"?u:"none"},[l]),kt(()=>{const u=r.current,d=s.current;if(d!==e){const m=o.current,p=iu(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),kt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const g=iu(r.current).includes(CSS.escape(p.animationName));if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=p=>{p.target===t&&(o.current=iu(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function iu(e){return(e==null?void 0:e.animationName)||"none"}function m3(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function p3(e){const t=g3(e),n=h.forwardRef((r,s)=>{const{children:o,...i}=r,l=h.Children.toArray(o),c=l.find(y3);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...i,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return a.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function g3(e){const t=h.forwardRef((n,r)=>{const{children:s,...o}=n;if(h.isValidElement(s)){const i=w3(s),l=x3(o,s.props);return s.type!==h.Fragment&&(l.ref=r?hn(r,i):i),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var v3=Symbol("radix.slottable");function y3(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===v3}function x3(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function w3(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var b3=$d[" useInsertionEffect ".trim().toString()]||kt;function Br({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=_3({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=h.useCallback(d=>{var f;if(l){const m=j3(d)?d(e):d;m!==e&&((f=i.current)==null||f.call(i,m))}else o(d)},[l,e,o,i]);return[c,u]}function _3({defaultProp:e,onChange:t}){const[n,r]=h.useState(e),s=h.useRef(n),o=h.useRef(t);return b3(()=>{o.current=t},[t]),h.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function j3(e){return typeof e=="function"}var S3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},hi=new WeakMap,au=new WeakMap,lu={},Rh=0,IS=function(e){return e&&(e.host||IS(e.parentNode))},C3=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=IS(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},N3=function(e,t,n,r){var s=C3(t,Array.isArray(e)?e:[e]);lu[n]||(lu[n]=new WeakMap);var o=lu[n],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var p=m.getAttribute(r),x=p!==null&&p!=="false",g=(hi.get(m)||0)+1,y=(o.get(m)||0)+1;hi.set(m,g),o.set(m,y),i.push(m),g===1&&x&&au.set(m,!0),y===1&&m.setAttribute(n,"true"),x||m.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return d(t),l.clear(),Rh++,function(){i.forEach(function(f){var m=hi.get(f)-1,p=o.get(f)-1;hi.set(f,m),o.set(f,p),m||(au.has(f)||f.removeAttribute(r),au.delete(f)),p||f.removeAttribute(n)}),Rh--,Rh||(hi=new WeakMap,hi=new WeakMap,au=new WeakMap,lu={})}},pf=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=t||S3(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),N3(r,s,n,"aria-hidden")):function(){return null}},Ou="right-scroll-bar-position",Du="width-before-scroll-bar",k3="with-scroll-bars-hidden",E3="--removed-body-scroll-bar-size";function Oh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function T3(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var P3=typeof window<"u"?h.useLayoutEffect:h.useEffect,gw=new WeakMap;function A3(e,t){var n=T3(t||null,function(r){return e.forEach(function(s){return Oh(s,r)})});return P3(function(){var r=gw.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(l){o.has(l)||Oh(l,null)}),o.forEach(function(l){s.has(l)||Oh(l,i)})}gw.set(n,e)},[e]),n}function M3(e){return e}function R3(e,t){t===void 0&&(t=M3);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function O3(e){e===void 0&&(e={});var t=R3(null);return t.options=Nr({async:!0,ssr:!1},e),t}var LS=function(e){var t=e.sideCar,n=Ej(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,Nr({},n))};LS.isSideCarExport=!0;function D3(e,t){return e.useMedium(t),LS}var $S=O3(),Dh=function(){},gf=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:Dh,onWheelCapture:Dh,onTouchMoveCapture:Dh}),s=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,x=e.noIsolation,g=e.inert,y=e.allowPinchZoom,w=e.as,v=w===void 0?"div":w,b=e.gapMode,j=Ej(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,N=A3([n,t]),_=Nr(Nr({},j),s);return h.createElement(h.Fragment,null,d&&h.createElement(S,{sideCar:$S,removeScrollBar:u,shards:f,noRelative:p,noIsolation:x,inert:g,setCallbacks:o,allowPinchZoom:!!y,lockRef:n,gapMode:b}),i?h.cloneElement(h.Children.only(l),Nr(Nr({},_),{ref:N})):h.createElement(v,Nr({},_,{className:c,ref:N}),l))});gf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gf.classNames={fullWidth:Du,zeroRight:Ou};var vw,I3=function(){if(vw)return vw;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function L3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=I3();return t&&e.setAttribute("nonce",t),e}function $3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function F3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var V3=function(){var e=0,t=null;return{add:function(n){e==0&&(t=L3())&&($3(t,n),F3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},B3=function(){var e=V3();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},FS=function(){var e=B3(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},U3={left:0,top:0,right:0,gap:0},Ih=function(e){return parseInt(e||"",10)||0},H3=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Ih(n),Ih(r),Ih(s)]},z3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return U3;var t=H3(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},W3=FS(),qi="data-scroll-locked",q3=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(k3,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(qi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ou,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Du,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ou," .").concat(Ou,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Du," .").concat(Du,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(qi,`] {
    `).concat(E3,": ").concat(l,`px;
  }
`)},yw=function(){var e=parseInt(document.body.getAttribute(qi)||"0",10);return isFinite(e)?e:0},G3=function(){h.useEffect(function(){return document.body.setAttribute(qi,(yw()+1).toString()),function(){var e=yw()-1;e<=0?document.body.removeAttribute(qi):document.body.setAttribute(qi,e.toString())}},[])},Y3=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;G3();var o=h.useMemo(function(){return z3(s)},[s]);return h.createElement(W3,{styles:q3(o,!t,s,n?"":"!important")})},Mp=!1;if(typeof window<"u")try{var cu=Object.defineProperty({},"passive",{get:function(){return Mp=!0,!0}});window.addEventListener("test",cu,cu),window.removeEventListener("test",cu,cu)}catch{Mp=!1}var mi=Mp?{passive:!1}:!1,K3=function(e){return e.tagName==="TEXTAREA"},VS=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!K3(e)&&n[t]==="visible")},Q3=function(e){return VS(e,"overflowY")},X3=function(e){return VS(e,"overflowX")},xw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=BS(e,r);if(s){var o=US(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},J3=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Z3=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},BS=function(e,t){return e==="v"?Q3(t):X3(t)},US=function(e,t){return e==="v"?J3(t):Z3(t)},e$=function(e,t){return e==="h"&&t==="rtl"?-1:1},t$=function(e,t,n,r,s){var o=e$(e,window.getComputedStyle(t).direction),i=o*r,l=n.target,c=t.contains(l),u=!1,d=i>0,f=0,m=0;do{if(!l)break;var p=US(e,l),x=p[0],g=p[1],y=p[2],w=g-y-o*x;(x||w)&&BS(e,l)&&(f+=w,m+=x);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(s&&Math.abs(f)<1||!s&&i>f)||!d&&(s&&Math.abs(m)<1||!s&&-i>m))&&(u=!0),u},uu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ww=function(e){return[e.deltaX,e.deltaY]},bw=function(e){return e&&"current"in e?e.current:e},n$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},r$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},s$=0,pi=[];function o$(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),s=h.useState(s$++)[0],o=h.useState(FS)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=YR([e.lockRef.current],(e.shards||[]).map(bw),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var w=uu(g),v=n.current,b="deltaX"in g?g.deltaX:v[0]-w[0],j="deltaY"in g?g.deltaY:v[1]-w[1],S,N=g.target,_=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in g&&_==="h"&&N.type==="range")return!1;var C=xw(_,N);if(!C)return!0;if(C?S=_:(S=_==="v"?"h":"v",C=xw(_,N)),!C)return!1;if(!r.current&&"changedTouches"in g&&(b||j)&&(r.current=S),!S)return!0;var P=r.current||S;return t$(P,y,g,P==="h"?b:j,!0)},[]),c=h.useCallback(function(g){var y=g;if(!(!pi.length||pi[pi.length-1]!==o)){var w="deltaY"in y?ww(y):uu(y),v=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&n$(S.delta,w)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var b=(i.current.shards||[]).map(bw).filter(Boolean).filter(function(S){return S.contains(y.target)}),j=b.length>0?l(y,b[0]):!i.current.noIsolation;j&&y.cancelable&&y.preventDefault()}}},[]),u=h.useCallback(function(g,y,w,v){var b={name:g,delta:y,target:w,should:v,shadowParent:i$(w)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),d=h.useCallback(function(g){n.current=uu(g),r.current=void 0},[]),f=h.useCallback(function(g){u(g.type,ww(g),g.target,l(g,e.lockRef.current))},[]),m=h.useCallback(function(g){u(g.type,uu(g),g.target,l(g,e.lockRef.current))},[]);h.useEffect(function(){return pi.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,mi),document.addEventListener("touchmove",c,mi),document.addEventListener("touchstart",d,mi),function(){pi=pi.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,mi),document.removeEventListener("touchmove",c,mi),document.removeEventListener("touchstart",d,mi)}},[]);var p=e.removeScrollBar,x=e.inert;return h.createElement(h.Fragment,null,x?h.createElement(o,{styles:r$(s)}):null,p?h.createElement(Y3,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function i$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const a$=D3($S,o$);var HS=h.forwardRef(function(e,t){return h.createElement(gf,Nr({},e,{ref:t,sideCar:a$}))});HS.classNames=gf.classNames;const vf=HS;var yf="Popover",[zS,kG]=rr(yf,[Na]),yc=Na(),[l$,co]=zS(yf),WS=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,l=yc(t),c=h.useRef(null),[u,d]=h.useState(!1),[f,m]=Br({prop:r,defaultProp:s??!1,onChange:o,caller:yf});return a.jsx(Lv,{...l,children:a.jsx(l$,{scope:t,contentId:Ht(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:u,onCustomAnchorAdd:h.useCallback(()=>d(!0),[]),onCustomAnchorRemove:h.useCallback(()=>d(!1),[]),modal:i,children:n})})};WS.displayName=yf;var qS="PopoverAnchor",c$=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=co(qS,n),o=yc(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return h.useEffect(()=>(i(),()=>l()),[i,l]),a.jsx(mf,{...o,...r,ref:t})});c$.displayName=qS;var GS="PopoverTrigger",YS=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=co(GS,n),o=yc(n),i=Te(t,s.triggerRef),l=a.jsx(ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ZS(s.open),...r,ref:i,onClick:ee(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(mf,{asChild:!0,...o,children:l})});YS.displayName=GS;var Vv="PopoverPortal",[u$,d$]=zS(Vv,{forceMount:void 0}),KS=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,o=co(Vv,t);return a.jsx(u$,{scope:t,forceMount:n,children:a.jsx(qn,{present:n||o.open,children:a.jsx(ka,{asChild:!0,container:s,children:r})})})};KS.displayName=Vv;var ua="PopoverContent",QS=h.forwardRef((e,t)=>{const n=d$(ua,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,o=co(ua,e.__scopePopover);return a.jsx(qn,{present:r||o.open,children:o.modal?a.jsx(h$,{...s,ref:t}):a.jsx(m$,{...s,ref:t})})});QS.displayName=ua;var f$=p3("PopoverContent.RemoveScroll"),h$=h.forwardRef((e,t)=>{const n=co(ua,e.__scopePopover),r=h.useRef(null),s=Te(t,r),o=h.useRef(!1);return h.useEffect(()=>{const i=r.current;if(i)return pf(i)},[]),a.jsx(vf,{as:f$,allowPinchZoom:!0,children:a.jsx(XS,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ee(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ee(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),m$=h.forwardRef((e,t)=>{const n=co(ua,e.__scopePopover),r=h.useRef(!1),s=h.useRef(!1);return a.jsx(XS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),XS=h.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,m=co(ua,n),p=yc(n);return cf(),a.jsx(gc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(ja,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:a.jsx($v,{"data-state":ZS(m.open),role:"dialog",id:m.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),JS="PopoverClose",p$=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=co(JS,n);return a.jsx(ce.button,{type:"button",...r,ref:t,onClick:ee(e.onClick,()=>s.onOpenChange(!1))})});p$.displayName=JS;var g$="PopoverArrow",v$=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=yc(n);return a.jsx(Fv,{...s,...r,ref:t})});v$.displayName=g$;function ZS(e){return e?"open":"closed"}var y$=WS,x$=YS,w$=KS,eC=QS;const As=y$,Ms=x$,Jr=h.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>a.jsx(w$,{children:a.jsx(eC,{ref:s,align:t,sideOffset:n,className:W("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Jr.displayName=eC.displayName;function le(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Be(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Ct(e,t){const n=le(e);return isNaN(t)?Be(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Rt(e,t){const n=le(e);if(isNaN(t))return Be(e,NaN);if(!t)return n;const r=n.getDate(),s=Be(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const o=s.getDate();return r>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}function fr(e,t){const{years:n=0,months:r=0,weeks:s=0,days:o=0,hours:i=0,minutes:l=0,seconds:c=0}=t,u=le(e),d=r||n?Rt(u,r+n*12):u,f=o||s?Ct(d,o+s*7):d,m=l+i*60,x=(c+m*60)*1e3;return Be(e,f.getTime()+x)}const Bv=6048e5,b$=864e5,Ql=6e4,Uv=36e5,_$=1e3,_w=525600,Ri=43200,xd=1440;let j$={};function ms(){return j$}function Pn(e,t){var l,c,u,d;const n=ms(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=le(e),o=s.getDay(),i=(o<r?7:0)+o-r;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function ds(e){return Pn(e,{weekStartsOn:1})}function tC(e){const t=le(e),n=t.getFullYear(),r=Be(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=ds(r),o=Be(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const i=ds(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function da(e){const t=le(e);return t.setHours(0,0,0,0),t}function Ur(e){const t=le(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Rr(e,t){const n=da(e),r=da(t),s=+n-Ur(n),o=+r-Ur(r);return Math.round((s-o)/b$)}function S$(e){const t=tC(e),n=Be(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),ds(n)}function Xl(e,t){const n=t*7;return Ct(e,n)}function C$(e,t){return Rt(e,t*12)}function N$(e){let t;return e.forEach(function(n){const r=le(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function k$(e){let t;return e.forEach(n=>{const r=le(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function ml(e,t){const n=le(e),r=le(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function nC(e){return Be(e,Date.now())}function Ft(e,t){const n=da(e),r=da(t);return+n==+r}function Hv(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Rp(e){if(!Hv(e)&&typeof e!="number")return!1;const t=le(e);return!isNaN(Number(t))}function fa(e,t){const n=le(e),r=le(t),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}function E$(e,t,n){const r=Pn(e,n),s=Pn(t,n),o=+r-Ur(r),i=+s-Ur(s);return Math.round((o-i)/Bv)}function rC(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function T$(e,t){return+le(e)-+le(t)}function P$(e){const t=le(e);return t.setHours(23,59,59,999),t}function xf(e){const t=le(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function A$(e){const t=le(e);return+P$(t)==+xf(t)}function M$(e,t){const n=le(e),r=le(t),s=ml(n,r),o=Math.abs(fa(n,r));let i;if(o<1)i=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*o);let l=ml(n,r)===-s;A$(le(e))&&o===1&&ml(e,r)===1&&(l=!1),i=s*(o-Number(l))}return i===0?0:i}function R$(e,t,n){const r=T$(e,t)/1e3;return rC(n==null?void 0:n.roundingMethod)(r)}function Tn(e){const t=le(e);return t.setDate(1),t.setHours(0,0,0,0),t}function sC(e){const t=le(e),n=Be(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function wf(e,t){var l,c,u,d;const n=ms(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=le(e),o=s.getDay(),i=(o<r?-7:0)+6-(o-r);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function oC(e){return wf(e,{weekStartsOn:1})}const O$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},D$=(e,t,n)=>{let r;const s=O$[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Gi(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const I$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},L$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},F$={date:Gi({formats:I$,defaultWidth:"full"}),time:Gi({formats:L$,defaultWidth:"full"}),dateTime:Gi({formats:$$,defaultWidth:"full"})},V$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},B$=(e,t,n,r)=>V$[e];function kr(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const U$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},H$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},z$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},W$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},q$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},G$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Y$=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},K$={ordinalNumber:Y$,era:kr({values:U$,defaultWidth:"wide"}),quarter:kr({values:H$,defaultWidth:"wide",argumentCallback:e=>e-1}),month:kr({values:z$,defaultWidth:"wide"}),day:kr({values:W$,defaultWidth:"wide"}),dayPeriod:kr({values:q$,defaultWidth:"wide",formattingValues:G$,defaultFormattingWidth:"wide"})};function Er(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?X$(l,f=>f.test(i)):Q$(l,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function Q$(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function X$(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function iC(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const l=t.slice(s.length);return{value:i,rest:l}}}const J$=/^(\d+)(th|st|nd|rd)?/i,Z$=/\d+/i,e5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},t5={any:[/^b/i,/^(a|c)/i]},n5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},r5={any:[/1/i,/2/i,/3/i,/4/i]},s5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},o5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},i5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},a5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},l5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},c5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},u5={ordinalNumber:iC({matchPattern:J$,parsePattern:Z$,valueCallback:e=>parseInt(e,10)}),era:Er({matchPatterns:e5,defaultMatchWidth:"wide",parsePatterns:t5,defaultParseWidth:"any"}),quarter:Er({matchPatterns:n5,defaultMatchWidth:"wide",parsePatterns:r5,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Er({matchPatterns:s5,defaultMatchWidth:"wide",parsePatterns:o5,defaultParseWidth:"any"}),day:Er({matchPatterns:i5,defaultMatchWidth:"wide",parsePatterns:a5,defaultParseWidth:"any"}),dayPeriod:Er({matchPatterns:l5,defaultMatchWidth:"any",parsePatterns:c5,defaultParseWidth:"any"})},xc={code:"en-US",formatDistance:D$,formatLong:F$,formatRelative:B$,localize:K$,match:u5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function d5(e){const t=le(e);return Rr(t,sC(t))+1}function zv(e){const t=le(e),n=+ds(t)-+S$(t);return Math.round(n/Bv)+1}function Wv(e,t){var d,f,m,p;const n=le(e),r=n.getFullYear(),s=ms(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,i=Be(e,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const l=Pn(i,t),c=Be(e,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const u=Pn(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function f5(e,t){var l,c,u,d;const n=ms(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=Wv(e,t),o=Be(e,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),Pn(o,t)}function qv(e,t){const n=le(e),r=+Pn(n,t)-+f5(n,t);return Math.round(r/Bv)+1}function Ve(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const _s={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ve(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ve(n+1,2)},d(e,t){return Ve(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ve(e.getHours()%12||12,t.length)},H(e,t){return Ve(e.getHours(),t.length)},m(e,t){return Ve(e.getMinutes(),t.length)},s(e,t){return Ve(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Ve(s,t.length)}},gi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jw={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return _s.y(e,t)},Y:function(e,t,n,r){const s=Wv(e,r),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return Ve(i,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):Ve(o,t.length)},R:function(e,t){const n=tC(e);return Ve(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ve(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ve(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ve(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return _s.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ve(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=qv(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Ve(s,t.length)},I:function(e,t,n){const r=zv(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ve(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):_s.d(e,t)},D:function(e,t,n){const r=d5(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ve(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Ve(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Ve(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return Ve(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=gi.noon:r===0?s=gi.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=gi.evening:r>=12?s=gi.afternoon:r>=4?s=gi.morning:s=gi.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return _s.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):_s.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ve(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ve(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):_s.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):_s.s(e,t)},S:function(e,t){return _s.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Cw(r);case"XXXX":case"XX":return So(r);case"XXXXX":case"XXX":default:return So(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Cw(r);case"xxxx":case"xx":return So(r);case"xxxxx":case"xxx":default:return So(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Sw(r,":");case"OOOO":default:return"GMT"+So(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Sw(r,":");case"zzzz":default:return"GMT"+So(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Ve(r,t.length)},T:function(e,t,n){const r=e.getTime();return Ve(r,t.length)}};function Sw(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+t+Ve(o,2)}function Cw(e,t){return e%60===0?(e>0?"-":"+")+Ve(Math.abs(e)/60,2):So(e,t)}function So(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Ve(Math.trunc(r/60),2),o=Ve(r%60,2);return n+s+t+o}const Nw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},aC=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},h5=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Nw(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Nw(r,t)).replace("{{time}}",aC(s,t))},Op={p:aC,P:h5},m5=/^D+$/,p5=/^Y+$/,g5=["D","DD","YY","YYYY"];function lC(e){return m5.test(e)}function cC(e){return p5.test(e)}function Dp(e,t,n){const r=v5(e,t,n);if(console.warn(r),g5.includes(e))throw new RangeError(r)}function v5(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const y5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,x5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,w5=/^'([^]*?)'?$/,b5=/''/g,_5=/[a-zA-Z]/;function J(e,t,n){var d,f,m,p,x,g,y,w;const r=ms(),s=(n==null?void 0:n.locale)??r.locale??xc,o=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(m=r.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,i=(n==null?void 0:n.weekStartsOn)??((g=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((w=(y=r.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??0,l=le(e);if(!Rp(l))throw new RangeError("Invalid time value");let c=t.match(x5).map(v=>{const b=v[0];if(b==="p"||b==="P"){const j=Op[b];return j(v,s.formatLong)}return v}).join("").match(y5).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const b=v[0];if(b==="'")return{isToken:!1,value:j5(v)};if(jw[b])return{isToken:!0,value:v};if(b.match(_5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const b=v.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&cC(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&lC(b))&&Dp(b,t,String(e));const j=jw[b[0]];return j(l,b,s.localize,u)}).join("")}function j5(e){const t=e.match(w5);return t?t[1].replace(b5,"'"):e}function S5(e,t,n){const r=ms(),s=(n==null?void 0:n.locale)??r.locale??xc,o=2520,i=ml(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:i});let c,u;i>0?(c=le(t),u=le(e)):(c=le(e),u=le(t));const d=R$(u,c),f=(Ur(u)-Ur(c))/1e3,m=Math.round((d-f)/60);let p;if(m<2)return n!=null&&n.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):m===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",m,l);if(m<45)return s.formatDistance("xMinutes",m,l);if(m<90)return s.formatDistance("aboutXHours",1,l);if(m<xd){const x=Math.round(m/60);return s.formatDistance("aboutXHours",x,l)}else{if(m<o)return s.formatDistance("xDays",1,l);if(m<Ri){const x=Math.round(m/xd);return s.formatDistance("xDays",x,l)}else if(m<Ri*2)return p=Math.round(m/Ri),s.formatDistance("aboutXMonths",p,l)}if(p=M$(u,c),p<12){const x=Math.round(m/Ri);return s.formatDistance("xMonths",x,l)}else{const x=p%12,g=Math.trunc(p/12);return x<3?s.formatDistance("aboutXYears",g,l):x<9?s.formatDistance("overXYears",g,l):s.formatDistance("almostXYears",g+1,l)}}function C5(e,t,n){const r=ms(),s=(n==null?void 0:n.locale)??r.locale??xc,o=ml(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const i=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let l,c;o>0?(l=le(t),c=le(e)):(l=le(e),c=le(t));const u=rC((n==null?void 0:n.roundingMethod)??"round"),d=c.getTime()-l.getTime(),f=d/Ql,m=Ur(c)-Ur(l),p=(d-m)/Ql,x=n==null?void 0:n.unit;let g;if(x?g=x:f<1?g="second":f<60?g="minute":f<xd?g="hour":p<Ri?g="day":p<_w?g="month":g="year",g==="second"){const y=u(d/1e3);return s.formatDistance("xSeconds",y,i)}else if(g==="minute"){const y=u(f);return s.formatDistance("xMinutes",y,i)}else if(g==="hour"){const y=u(f/60);return s.formatDistance("xHours",y,i)}else if(g==="day"){const y=u(p/xd);return s.formatDistance("xDays",y,i)}else if(g==="month"){const y=u(p/Ri);return y===12&&x!=="month"?s.formatDistance("xYears",1,i):s.formatDistance("xMonths",y,i)}else{const y=u(p/_w);return s.formatDistance("xYears",y,i)}}function uC(e,t){return S5(e,nC(e),t)}function Ip(e,t){return C5(e,nC(e),t)}function Zs(e){return le(e).getDay()}function N5(e){const t=le(e),n=t.getFullYear(),r=t.getMonth(),s=Be(e,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function k5(){return Object.assign({},ms())}function E5(e){let n=le(e).getDay();return n===0&&(n=7),n}function T5(e){return Math.trunc(+le(e)/1e3)}function P5(e){const t=le(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function A5(e,t){return E$(P5(e),Tn(e),t)+1}function wd(e,t){const n=le(e),r=le(t);return n.getTime()>r.getTime()}function dC(e,t){const n=le(e),r=le(t);return+n<+r}function M5(e){return+le(e)>Date.now()}function R5(e,t){const n=t instanceof Date?Be(t,0):new t(0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}const O5=10;class fC{constructor(){re(this,"subPriority",0)}validate(t,n){return!0}}class D5 extends fC{constructor(t,n,r,s,o){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=s,o&&(this.subPriority=o)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class I5 extends fC{constructor(){super(...arguments);re(this,"priority",O5);re(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:Be(n,R5(n,Date))}}class Ie{run(t,n,r,s){const o=this.parse(t,n,r,s);return o?{setter:new D5(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,n,r){return!0}}class L5 extends Ie{constructor(){super(...arguments);re(this,"priority",140);re(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})||s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"})}}set(n,r,s){return r.era=s,n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}const bt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Tr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function _t(e,t){return e&&{value:t(e.value),rest:e.rest}}function ut(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Pr(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,i=n[5]?parseInt(n[5],10):0;return{value:r*(s*Uv+o*Ql+i*_$),rest:t.slice(n[0].length)}}function hC(e){return ut(bt.anyDigitsSigned,e)}function vt(e,t){switch(e){case 1:return ut(bt.singleDigit,t);case 2:return ut(bt.twoDigits,t);case 3:return ut(bt.threeDigits,t);case 4:return ut(bt.fourDigits,t);default:return ut(new RegExp("^\\d{1,"+e+"}"),t)}}function bd(e,t){switch(e){case 1:return ut(bt.singleDigitSigned,t);case 2:return ut(bt.twoDigitsSigned,t);case 3:return ut(bt.threeDigitsSigned,t);case 4:return ut(bt.fourDigitsSigned,t);default:return ut(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Gv(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function mC(e,t){const n=t>0,r=n?t:1-t;let s;if(r<=50)s=e||100;else{const o=r+50,i=Math.trunc(o/100)*100,l=e>=o%100;s=e+i-(l?100:0)}return n?s:1-s}function pC(e){return e%400===0||e%4===0&&e%100!==0}class $5 extends Ie{constructor(){super(...arguments);re(this,"priority",130);re(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,s){const o=i=>({year:i,isTwoDigitYear:r==="yy"});switch(r){case"y":return _t(vt(4,n),o);case"yo":return _t(s.ordinalNumber(n,{unit:"year"}),o);default:return _t(vt(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s){const o=n.getFullYear();if(s.isTwoDigitYear){const l=mC(s.year,o);return n.setFullYear(l,0,1),n.setHours(0,0,0,0),n}const i=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class F5 extends Ie{constructor(){super(...arguments);re(this,"priority",130);re(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,s){const o=i=>({year:i,isTwoDigitYear:r==="YY"});switch(r){case"Y":return _t(vt(4,n),o);case"Yo":return _t(s.ordinalNumber(n,{unit:"year"}),o);default:return _t(vt(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s,o){const i=Wv(n,o);if(s.isTwoDigitYear){const c=mC(s.year,i);return n.setFullYear(c,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),Pn(n,o)}const l=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(l,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),Pn(n,o)}}class V5 extends Ie{constructor(){super(...arguments);re(this,"priority",130);re(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return bd(r==="R"?4:r.length,n)}set(n,r,s){const o=Be(n,0);return o.setFullYear(s,0,4),o.setHours(0,0,0,0),ds(o)}}class B5 extends Ie{constructor(){super(...arguments);re(this,"priority",130);re(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return bd(r==="u"?4:r.length,n)}set(n,r,s){return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class U5 extends Ie{constructor(){super(...arguments);re(this,"priority",120);re(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"Q":case"QQ":return vt(r.length,n);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})||s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class H5 extends Ie{constructor(){super(...arguments);re(this,"priority",120);re(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"q":case"qq":return vt(r.length,n);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})||s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class z5 extends Ie{constructor(){super(...arguments);re(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);re(this,"priority",110)}parse(n,r,s){const o=i=>i-1;switch(r){case"M":return _t(ut(bt.month,n),o);case"MM":return _t(vt(2,n),o);case"Mo":return _t(s.ordinalNumber(n,{unit:"month"}),o);case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})||s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}class W5 extends Ie{constructor(){super(...arguments);re(this,"priority",110);re(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,s){const o=i=>i-1;switch(r){case"L":return _t(ut(bt.month,n),o);case"LL":return _t(vt(2,n),o);case"Lo":return _t(s.ordinalNumber(n,{unit:"month"}),o);case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})||s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}function q5(e,t,n){const r=le(e),s=qv(r,n)-t;return r.setDate(r.getDate()-s*7),r}class G5 extends Ie{constructor(){super(...arguments);re(this,"priority",100);re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,s){switch(r){case"w":return ut(bt.week,n);case"wo":return s.ordinalNumber(n,{unit:"week"});default:return vt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s,o){return Pn(q5(n,s,o),o)}}function Y5(e,t){const n=le(e),r=zv(n)-t;return n.setDate(n.getDate()-r*7),n}class K5 extends Ie{constructor(){super(...arguments);re(this,"priority",100);re(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,s){switch(r){case"I":return ut(bt.week,n);case"Io":return s.ordinalNumber(n,{unit:"week"});default:return vt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s){return ds(Y5(n,s))}}const Q5=[31,28,31,30,31,30,31,31,30,31,30,31],X5=[31,29,31,30,31,30,31,31,30,31,30,31];class J5 extends Ie{constructor(){super(...arguments);re(this,"priority",90);re(this,"subPriority",1);re(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"d":return ut(bt.date,n);case"do":return s.ordinalNumber(n,{unit:"date"});default:return vt(r.length,n)}}validate(n,r){const s=n.getFullYear(),o=pC(s),i=n.getMonth();return o?r>=1&&r<=X5[i]:r>=1&&r<=Q5[i]}set(n,r,s){return n.setDate(s),n.setHours(0,0,0,0),n}}class Z5 extends Ie{constructor(){super(...arguments);re(this,"priority",90);re(this,"subpriority",1);re(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,s){switch(r){case"D":case"DD":return ut(bt.dayOfYear,n);case"Do":return s.ordinalNumber(n,{unit:"date"});default:return vt(r.length,n)}}validate(n,r){const s=n.getFullYear();return pC(s)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,s){return n.setMonth(0,s),n.setHours(0,0,0,0),n}}function Yv(e,t,n){var f,m,p,x;const r=ms(),s=(n==null?void 0:n.weekStartsOn)??((m=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((x=(p=r.locale)==null?void 0:p.options)==null?void 0:x.weekStartsOn)??0,o=le(e),i=o.getDay(),c=(t%7+7)%7,u=7-s,d=t<0||t>6?t-(i+u)%7:(c+u)%7-(i+u)%7;return Ct(o,d)}class eF extends Ie{constructor(){super(...arguments);re(this,"priority",90);re(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,o){return n=Yv(n,s,o),n.setHours(0,0,0,0),n}}class tF extends Ie{constructor(){super(...arguments);re(this,"priority",90);re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,s,o){const i=l=>{const c=Math.floor((l-1)/7)*7;return(l+o.weekStartsOn+6)%7+c};switch(r){case"e":case"ee":return _t(vt(r.length,n),i);case"eo":return _t(s.ordinalNumber(n,{unit:"day"}),i);case"eee":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,o){return n=Yv(n,s,o),n.setHours(0,0,0,0),n}}class nF extends Ie{constructor(){super(...arguments);re(this,"priority",90);re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,s,o){const i=l=>{const c=Math.floor((l-1)/7)*7;return(l+o.weekStartsOn+6)%7+c};switch(r){case"c":case"cc":return _t(vt(r.length,n),i);case"co":return _t(s.ordinalNumber(n,{unit:"day"}),i);case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})||s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,o){return n=Yv(n,s,o),n.setHours(0,0,0,0),n}}function rF(e,t){const n=le(e),r=E5(n),s=t-r;return Ct(n,s)}class sF extends Ie{constructor(){super(...arguments);re(this,"priority",90);re(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,s){const o=i=>i===0?7:i;switch(r){case"i":case"ii":return vt(r.length,n);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return _t(s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),o);case"iiiii":return _t(s.day(n,{width:"narrow",context:"formatting"}),o);case"iiiiii":return _t(s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),o);case"iiii":default:return _t(s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),o)}}validate(n,r){return r>=1&&r<=7}set(n,r,s){return n=rF(n,s),n.setHours(0,0,0,0),n}}class oF extends Ie{constructor(){super(...arguments);re(this,"priority",80);re(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(Gv(s),0,0,0),n}}class iF extends Ie{constructor(){super(...arguments);re(this,"priority",80);re(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(Gv(s),0,0,0),n}}class aF extends Ie{constructor(){super(...arguments);re(this,"priority",80);re(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(Gv(s),0,0,0),n}}class lF extends Ie{constructor(){super(...arguments);re(this,"priority",70);re(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,s){switch(r){case"h":return ut(bt.hour12h,n);case"ho":return s.ordinalNumber(n,{unit:"hour"});default:return vt(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,s){const o=n.getHours()>=12;return o&&s<12?n.setHours(s+12,0,0,0):!o&&s===12?n.setHours(0,0,0,0):n.setHours(s,0,0,0),n}}class cF extends Ie{constructor(){super(...arguments);re(this,"priority",70);re(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,s){switch(r){case"H":return ut(bt.hour23h,n);case"Ho":return s.ordinalNumber(n,{unit:"hour"});default:return vt(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,s){return n.setHours(s,0,0,0),n}}class uF extends Ie{constructor(){super(...arguments);re(this,"priority",70);re(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,s){switch(r){case"K":return ut(bt.hour11h,n);case"Ko":return s.ordinalNumber(n,{unit:"hour"});default:return vt(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.getHours()>=12&&s<12?n.setHours(s+12,0,0,0):n.setHours(s,0,0,0),n}}class dF extends Ie{constructor(){super(...arguments);re(this,"priority",70);re(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,s){switch(r){case"k":return ut(bt.hour24h,n);case"ko":return s.ordinalNumber(n,{unit:"hour"});default:return vt(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,s){const o=s<=24?s%24:s;return n.setHours(o,0,0,0),n}}class fF extends Ie{constructor(){super(...arguments);re(this,"priority",60);re(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"m":return ut(bt.minute,n);case"mo":return s.ordinalNumber(n,{unit:"minute"});default:return vt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setMinutes(s,0,0),n}}class hF extends Ie{constructor(){super(...arguments);re(this,"priority",50);re(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"s":return ut(bt.second,n);case"so":return s.ordinalNumber(n,{unit:"second"});default:return vt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setSeconds(s,0),n}}class mF extends Ie{constructor(){super(...arguments);re(this,"priority",30);re(this,"incompatibleTokens",["t","T"])}parse(n,r){const s=o=>Math.trunc(o*Math.pow(10,-r.length+3));return _t(vt(r.length,n),s)}set(n,r,s){return n.setMilliseconds(s),n}}class pF extends Ie{constructor(){super(...arguments);re(this,"priority",10);re(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Pr(Tr.basicOptionalMinutes,n);case"XX":return Pr(Tr.basic,n);case"XXXX":return Pr(Tr.basicOptionalSeconds,n);case"XXXXX":return Pr(Tr.extendedOptionalSeconds,n);case"XXX":default:return Pr(Tr.extended,n)}}set(n,r,s){return r.timestampIsSet?n:Be(n,n.getTime()-Ur(n)-s)}}class gF extends Ie{constructor(){super(...arguments);re(this,"priority",10);re(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Pr(Tr.basicOptionalMinutes,n);case"xx":return Pr(Tr.basic,n);case"xxxx":return Pr(Tr.basicOptionalSeconds,n);case"xxxxx":return Pr(Tr.extendedOptionalSeconds,n);case"xxx":default:return Pr(Tr.extended,n)}}set(n,r,s){return r.timestampIsSet?n:Be(n,n.getTime()-Ur(n)-s)}}class vF extends Ie{constructor(){super(...arguments);re(this,"priority",40);re(this,"incompatibleTokens","*")}parse(n){return hC(n)}set(n,r,s){return[Be(n,s*1e3),{timestampIsSet:!0}]}}class yF extends Ie{constructor(){super(...arguments);re(this,"priority",20);re(this,"incompatibleTokens","*")}parse(n){return hC(n)}set(n,r,s){return[Be(n,s),{timestampIsSet:!0}]}}const xF={G:new L5,y:new $5,Y:new F5,R:new V5,u:new B5,Q:new U5,q:new H5,M:new z5,L:new W5,w:new G5,I:new K5,d:new J5,D:new Z5,E:new eF,e:new tF,c:new nF,i:new sF,a:new oF,b:new iF,B:new aF,h:new lF,H:new cF,K:new uF,k:new dF,m:new fF,s:new hF,S:new mF,X:new pF,x:new gF,t:new vF,T:new yF},wF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_F=/^'([^]*?)'?$/,jF=/''/g,SF=/\S/,CF=/[a-zA-Z]/;function Yi(e,t,n,r){var g,y,w,v,b,j,S,N;const s=k5(),o=(r==null?void 0:r.locale)??s.locale??xc,i=(r==null?void 0:r.firstWeekContainsDate)??((y=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(w=s.locale)==null?void 0:w.options)==null?void 0:v.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((j=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:j.weekStartsOn)??s.weekStartsOn??((N=(S=s.locale)==null?void 0:S.options)==null?void 0:N.weekStartsOn)??0;if(t==="")return e===""?le(n):Be(n,NaN);const c={firstWeekContainsDate:i,weekStartsOn:l,locale:o},u=[new I5],d=t.match(bF).map(_=>{const C=_[0];if(C in Op){const P=Op[C];return P(_,o.formatLong)}return _}).join("").match(wF),f=[];for(let _ of d){!(r!=null&&r.useAdditionalWeekYearTokens)&&cC(_)&&Dp(_,t,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&lC(_)&&Dp(_,t,e);const C=_[0],P=xF[C];if(P){const{incompatibleTokens:I}=P;if(Array.isArray(I)){const O=f.find(U=>I.includes(U.token)||U.token===C);if(O)throw new RangeError(`The format string mustn't contain \`${O.fullToken}\` and \`${_}\` at the same time`)}else if(P.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${_}\` and any other token at the same time`);f.push({token:C,fullToken:_});const L=P.run(e,_,o.match,c);if(!L)return Be(n,NaN);u.push(L.setter),e=L.rest}else{if(C.match(CF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(_==="''"?_="'":C==="'"&&(_=NF(_)),e.indexOf(_)===0)e=e.slice(_.length);else return Be(n,NaN)}}if(e.length>0&&SF.test(e))return Be(n,NaN);const m=u.map(_=>_.priority).sort((_,C)=>C-_).filter((_,C,P)=>P.indexOf(_)===C).map(_=>u.filter(C=>C.priority===_).sort((C,P)=>P.subPriority-C.subPriority)).map(_=>_[0]);let p=le(n);if(isNaN(p.getTime()))return Be(n,NaN);const x={};for(const _ of m){if(!_.validate(p,c))return Be(n,NaN);const C=_.set(p,x,c);Array.isArray(C)?(p=C[0],Object.assign(x,C[1])):p=C}return Be(n,p)}function NF(e){return e.match(_F)[1].replace(jF,"'")}function Kv(e,t){const n=le(e),r=le(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function kF(e,t){const n=le(e),r=le(t);return n.getFullYear()===r.getFullYear()}function Lh(e,t){return Ct(e,-t)}function Se(e,t){const n=(t==null?void 0:t.additionalDigits)??2,r=AF(e);let s;if(r.date){const c=MF(r.date,n);s=RF(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const o=s.getTime();let i=0,l;if(r.time&&(i=OF(r.time),isNaN(i)))return new Date(NaN);if(r.timezone){if(l=DF(r.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(o+i),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(o+i+l)}const du={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},EF=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,TF=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,PF=/^([+-])(\d{2})(?::?(\d{2}))?$/;function AF(e){const t={},n=e.split(du.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],du.timeZoneDelimiter.test(t.date)&&(t.date=e.split(du.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const s=du.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function MF(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?s:o*100,restDateString:e.slice((r[1]||r[2]).length)}}function RF(e,t){if(t===null)return new Date(NaN);const n=e.match(EF);if(!n)return new Date(NaN);const r=!!n[4],s=za(n[1]),o=za(n[2])-1,i=za(n[3]),l=za(n[4]),c=za(n[5])-1;if(r)return VF(t,l,c)?IF(t,l,c):new Date(NaN);{const u=new Date(0);return!$F(t,o,i)||!FF(t,s)?new Date(NaN):(u.setUTCFullYear(t,o,Math.max(s,i)),u)}}function za(e){return e?parseInt(e):1}function OF(e){const t=e.match(TF);if(!t)return NaN;const n=$h(t[1]),r=$h(t[2]),s=$h(t[3]);return BF(n,r,s)?n*Uv+r*Ql+s*1e3:NaN}function $h(e){return e&&parseFloat(e.replace(",","."))||0}function DF(e){if(e==="Z")return 0;const t=e.match(PF);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return UF(r,s)?n*(r*Uv+s*Ql):NaN}function IF(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const s=r.getUTCDay()||7,o=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+o),r}const LF=[31,null,31,30,31,30,31,31,30,31,30,31];function gC(e){return e%400===0||e%4===0&&e%100!==0}function $F(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(LF[t]||(gC(e)?29:28))}function FF(e,t){return t>=1&&t<=(gC(e)?366:365)}function VF(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function BF(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function UF(e,t){return t>=0&&t<=59}function Fh(e,t){const n=le(e),r=n.getFullYear(),s=n.getDate(),o=Be(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const i=N5(o);return n.setMonth(t,Math.min(s,i)),n}function kw(e,t){const n=le(e);return isNaN(+n)?Be(e,NaN):(n.setFullYear(t),n)}function HF(e,t){return Rt(e,-t)}function zF(e,t){return Xl(e,-t)}const WF={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},qF=(e,t,n)=>{let r;const s=WF[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+r:"h "+r:r},GF={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},YF={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},KF={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QF={date:Gi({formats:GF,defaultWidth:"full"}),time:Gi({formats:YF,defaultWidth:"full"}),dateTime:Gi({formats:KF,defaultWidth:"full"})},XF={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},JF=(e,t,n,r)=>{const s=XF[e];return typeof s=="function"?s(t):s},ZF={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},e6={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},t6={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},n6={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},r6={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},s6={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},o6=(e,t)=>{const n=Number(e);return(t==null?void 0:t.unit)==="week"?n+"":n+""},i6={ordinalNumber:o6,era:kr({values:ZF,defaultWidth:"wide"}),quarter:kr({values:e6,defaultWidth:"wide",argumentCallback:e=>e-1}),month:kr({values:t6,defaultWidth:"wide"}),day:kr({values:n6,defaultWidth:"wide"}),dayPeriod:kr({values:r6,defaultWidth:"wide",formattingValues:s6,defaultFormattingWidth:"wide"})},a6=/^(\d+)[o]?/i,l6=/\d+/i,c6={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},u6={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},d6={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},f6={any:[/1/i,/2/i,/3/i,/4/i]},h6={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},m6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},p6={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},g6={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},v6={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},y6={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},x6={ordinalNumber:iC({matchPattern:a6,parsePattern:l6,valueCallback:e=>parseInt(e,10)}),era:Er({matchPatterns:c6,defaultMatchWidth:"wide",parsePatterns:u6,defaultParseWidth:"any"}),quarter:Er({matchPatterns:d6,defaultMatchWidth:"wide",parsePatterns:f6,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Er({matchPatterns:h6,defaultMatchWidth:"wide",parsePatterns:m6,defaultParseWidth:"any"}),day:Er({matchPatterns:p6,defaultMatchWidth:"wide",parsePatterns:g6,defaultParseWidth:"any"}),dayPeriod:Er({matchPatterns:v6,defaultMatchWidth:"any",parsePatterns:y6,defaultParseWidth:"any"})},Fe={code:"pt-BR",formatDistance:qF,formatLong:QF,formatRelative:JF,localize:i6,match:x6,options:{weekStartsOn:0,firstWeekContainsDate:1}},w6=({type:e})=>{switch(e){case"class_feedback":return a.jsx(aa,{className:"h-4 w-4 text-yellow-500"});case"new_package":return a.jsx(jv,{className:"h-4 w-4 text-green-500"});case"new_message":return a.jsx(Fr,{className:"h-4 w-4 text-blue-500"});case"class_reminder":return a.jsx(oi,{className:"h-4 w-4 text-blue-500"});case"class_missed":return a.jsx(lf,{className:"h-4 w-4 text-red-500"});case"class_rescheduled":return a.jsx(Sv,{className:"h-4 w-4 text-purple-500"});default:return a.jsx(iS,{className:"h-4 w-4 text-slate-500"})}},b6=({rating:e})=>a.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(t=>a.jsx(aa,{className:`h-3 w-3 ${e>=t?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},t))}),_6=({notification:e,onRead:t})=>{const{type:n,content:r,created_at:s,is_read:o}=e;let i="Nova notificao",l="Voc tem uma nova atualizao.",c=null;switch(n){case"class_feedback":i="Feedback recebido!",l=r.message||"O professor avaliou sua aula.",r.ratings&&(c=a.jsxs("div",{className:"mt-2 space-y-1 text-xs text-slate-500 border-t pt-2",children:[Object.entries(r.ratings).map(([u,d])=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"capitalize",children:u.replace("_"," ")}),a.jsx(b6,{rating:d})]},u)),r.comment&&a.jsxs("p",{className:"mt-2 pt-1 border-t text-slate-600",children:['"',r.comment,'"']})]}));break;case"new_package":i="Novo pacote de aulas!",l=r.message||"Voc recebeu um novo pacote.";break;case"new_message":i="Nova mensagem",l=r.message||"Voc tem uma nova mensagem.";break;case"class_missed":i="Aula marcada como falta",l=r.message||"Uma de suas aulas foi marcada como falta.";break;case"class_rescheduled":i="Crdito de aula devolvido",l=r.message||"Um crdito de aula foi devolvido para reagendamento.";break}return a.jsxs("div",{className:W("p-3 flex items-start gap-3 border-b last:border-b-0 cursor-pointer hover:bg-slate-50",!o&&"bg-sky-50"),onClick:()=>!o&&t(e.id),children:[!o&&a.jsx("div",{className:"h-2 w-2 rounded-full bg-sky-500 mt-1.5 flex-shrink-0"}),a.jsx("div",{className:W("flex-shrink-0",o&&"ml-4"),children:a.jsx(w6,{type:n})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-sm",children:i}),a.jsx("p",{className:"text-xs text-slate-600",children:l}),c,a.jsx("p",{className:"text-xs text-slate-400 mt-2",children:uC(new Date(s),{addSuffix:!0,locale:Fe})})]})]})},j6=()=>{const{user:e}=nr(),[t,n]=h.useState([]),[r,s]=h.useState(0),[o,i]=h.useState(!1),l=h.useCallback(async()=>{if(!e)return;const{data:d,error:f}=await F.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(20);f||(n(d),s(d.filter(m=>!m.is_read).length))},[e]);h.useEffect(()=>{l();const d=F.channel("realtime-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e==null?void 0:e.id}`},f=>{n(m=>[f.new,...m]),s(m=>m+1)}).subscribe();return()=>{F.removeChannel(d)}},[e,l]);const c=async d=>{const{error:f}=await F.from("notifications").update({is_read:!0}).eq("id",d);f||(n(m=>m.map(p=>p.id===d?{...p,is_read:!0}:p)),s(m=>Math.max(0,m-1)))},u=async()=>{const d=t.filter(m=>!m.is_read).map(m=>m.id);if(d.length===0)return;const{error:f}=await F.from("notifications").update({is_read:!0}).in("id",d);f||(n(m=>m.map(p=>({...p,is_read:!0}))),s(0))};return h.useEffect(()=>{if(o&&r>0){const d=setTimeout(()=>{u()},3e3);return()=>clearTimeout(d)}},[o,r]),a.jsxs(As,{open:o,onOpenChange:i,children:[a.jsx(Ms,{asChild:!0,children:a.jsxs(Z,{variant:"ghost",size:"icon",className:"relative",children:[a.jsx(iS,{className:"h-5 w-5 text-slate-600"}),r>0&&a.jsxs("span",{className:"absolute top-0 right-0 flex h-4 w-4",children:[a.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-75"}),a.jsx("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-sky-500 text-white text-xs items-center justify-center",children:r})]})]})}),a.jsxs(Jr,{align:"end",className:"w-80 p-0",children:[a.jsx("div",{className:"p-3 border-b",children:a.jsx("h4",{className:"font-medium text-sm",children:"Notificaes"})}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.length>0?t.map(d=>a.jsx(_6,{notification:d,onRead:c},d.id)):a.jsx("p",{className:"text-center text-sm text-slate-500 py-8",children:"Nenhuma notificao por aqui."})})]})]})},Ew=()=>{const{signOut:e,user:t}=nr(),n=ri(),r=async()=>{await e()};return a.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-50 shadow-sm",children:a.jsx("nav",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs(Qs,{to:"/",className:"flex items-baseline gap-1 hover:opacity-80 transition-opacity",children:[a.jsx("span",{className:"text-2xl sm:text-3xl font-bold text-sky-500",children:"Conexin"}),a.jsx("span",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:"Amrica"})]}),a.jsx("p",{className:"hidden md:block ml-4 text-xs text-slate-500 tracking-wide",children:"Portal do Aluno"})]}),t?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(j6,{}),a.jsxs(Z,{variant:"ghost",size:"sm",onClick:r,className:"hidden sm:inline-flex hover:bg-slate-100",children:["Sair",a.jsx(md,{className:"ml-2 h-4 w-4"})]}),a.jsx(Z,{variant:"ghost",size:"icon",onClick:r,className:"sm:hidden hover:bg-slate-100",children:a.jsx(md,{className:"h-5 w-5"})})]}):n.pathname!=="/professor-login"&&a.jsx(Qs,{to:"/professor-login",children:a.jsxs(Z,{variant:"outline",size:"sm",className:"text-xs sm:text-sm border-sky-500 text-sky-600 hover:bg-sky-50",children:[a.jsx(cS,{className:"mr-2 h-4 w-4 hidden sm:inline-block"}),"Professor"]})})]})})})},Tw=()=>{const e=new Date().getFullYear();return a.jsx("footer",{className:"bg-slate-50 border-t border-slate-200 mt-auto",children:a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"text-center md:text-left",children:[a.jsxs("div",{className:"text-xl font-bold mb-1",children:[a.jsx("span",{className:"text-sky-500",children:"Conexin"}),a.jsx("span",{className:"text-slate-800",children:" Amrica"})]}),a.jsx("p",{className:"text-sm text-slate-500",children:"Aprenda espanhol do jeito certo"})]}),a.jsxs("div",{className:"flex flex-col items-center md:items-end gap-2",children:[a.jsxs("div",{className:"flex gap-4 text-sm",children:[a.jsx("a",{href:"https://www.conexionamerica.com.br",target:"_blank",rel:"noopener noreferrer",className:"text-slate-600 hover:text-sky-500 transition-colors",children:"Site Principal"}),a.jsx("span",{className:"text-slate-300",children:"|"}),a.jsx("a",{href:"https://wa.me/555198541835",target:"_blank",rel:"noopener noreferrer",className:"text-slate-600 hover:text-sky-500 transition-colors",children:"Suporte"})]}),a.jsxs("p",{className:"text-xs text-slate-500",children:[" ",e," Conexin Amrica. Todos os direitos reservados."]})]})]})})})},vC=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),bf=h.createContext({}),_f=h.createContext(null),jf=typeof document<"u",Qv=jf?h.useLayoutEffect:h.useEffect,yC=h.createContext({strict:!1}),Xv=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),S6="framerAppearId",xC="data-"+Xv(S6);function C6(e,t,n,r){const{visualElement:s}=h.useContext(bf),o=h.useContext(yC),i=h.useContext(_f),l=h.useContext(vC).reducedMotion,c=h.useRef();r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;h.useInsertionEffect(()=>{u&&u.update(n,i)});const d=h.useRef(!!(n[xC]&&!window.HandoffComplete));return Qv(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Oi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function N6(e,t,n){return h.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Oi(n)&&(n.current=r))},[t])}function Jl(e){return typeof e=="string"||Array.isArray(e)}function Sf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Jv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zv=["initial",...Jv];function Cf(e){return Sf(e.animate)||Zv.some(t=>Jl(e[t]))}function wC(e){return!!(Cf(e)||e.variants)}function k6(e,t){if(Cf(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Jl(n)?n:void 0,animate:Jl(r)?r:void 0}}return e.inherit!==!1?t:{}}function E6(e){const{initial:t,animate:n}=k6(e,h.useContext(bf));return h.useMemo(()=>({initial:t,animate:n}),[Pw(t),Pw(n)])}function Pw(e){return Array.isArray(e)?e.join(" "):e}const Aw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zl={};for(const e in Aw)Zl[e]={isEnabled:t=>Aw[e].some(n=>!!t[n])};function T6(e){for(const t in e)Zl[t]={...Zl[t],...e[t]}}const ey=h.createContext({}),bC=h.createContext({}),P6=Symbol.for("motionComponentSymbol");function A6({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&T6(e);function o(l,c){let u;const d={...h.useContext(vC),...l,layoutId:M6(l)},{isStatic:f}=d,m=E6(l),p=r(l,f);if(!f&&jf){m.visualElement=C6(s,p,d,t);const x=h.useContext(bC),g=h.useContext(yC).strict;m.visualElement&&(u=m.visualElement.loadFeatures(d,g,e,x))}return h.createElement(bf.Provider,{value:m},u&&m.visualElement?h.createElement(u,{visualElement:m.visualElement,...d}):null,n(s,l,N6(p,m.visualElement,c),p,f,m.visualElement))}const i=h.forwardRef(o);return i[P6]=s,i}function M6({layoutId:e}){const t=h.useContext(ey).id;return t&&e!==void 0?t+"-"+e:e}function R6(e){function t(r,s={}){return A6(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const O6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ty(e){return typeof e!="string"||e.includes("-")?!1:!!(O6.indexOf(e)>-1||/[A-Z]/.test(e))}const _d={};function D6(e){Object.assign(_d,e)}const wc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ii=new Set(wc);function _C(e,{layout:t,layoutId:n}){return ii.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!_d[e]||e==="opacity")}const An=e=>!!(e&&e.getVelocity),I6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},L6=wc.length;function $6(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let o="";for(let i=0;i<L6;i++){const l=wc[i];if(e[l]!==void 0){const c=I6[l]||l;o+=`${c}(${e[l]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(e,r?"":o):n&&r&&(o="none"),o}const jC=e=>t=>typeof t=="string"&&t.startsWith(e),SC=jC("--"),Lp=jC("var(--"),F6=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,V6=(e,t)=>t&&typeof e=="number"?t.transform(e):e,eo=(e,t,n)=>Math.min(Math.max(n,e),t),ai={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},pl={...ai,transform:e=>eo(0,1,e)},fu={...ai,default:1},gl=e=>Math.round(e*1e5)/1e5,Nf=/(-)?([\d]*\.?[\d])+/g,CC=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,B6=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function bc(e){return typeof e=="string"}const _c=e=>({test:t=>bc(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Cs=_c("deg"),Lr=_c("%"),ge=_c("px"),U6=_c("vh"),H6=_c("vw"),Mw={...Lr,parse:e=>Lr.parse(e)/100,transform:e=>Lr.transform(e*100)},Rw={...ai,transform:Math.round},NC={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,size:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,rotate:Cs,rotateX:Cs,rotateY:Cs,rotateZ:Cs,scale:fu,scaleX:fu,scaleY:fu,scaleZ:fu,skew:Cs,skewX:Cs,skewY:Cs,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:pl,originX:Mw,originY:Mw,originZ:ge,zIndex:Rw,fillOpacity:pl,strokeOpacity:pl,numOctaves:Rw};function ny(e,t,n,r){const{style:s,vars:o,transform:i,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const f in t){const m=t[f];if(SC(f)){o[f]=m;continue}const p=NC[f],x=V6(m,p);if(ii.has(f)){if(c=!0,i[f]=x,!d)continue;m!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=x):s[f]=x}if(t.transform||(c||r?s.transform=$6(e.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:m="50%",originZ:p=0}=l;s.transformOrigin=`${f} ${m} ${p}`}}const ry=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kC(e,t,n){for(const r in t)!An(t[r])&&!_C(r,n)&&(e[r]=t[r])}function z6({transformTemplate:e},t,n){return h.useMemo(()=>{const r=ry();return ny(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function W6(e,t,n){const r=e.style||{},s={};return kC(s,r,e),Object.assign(s,z6(e,t,n)),e.transformValues?e.transformValues(s):s}function q6(e,t,n){const r={},s=W6(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const G6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||G6.has(e)}let EC=e=>!jd(e);function Y6(e){e&&(EC=t=>t.startsWith("on")?!jd(t):e(t))}try{Y6(require("@emotion/is-prop-valid").default)}catch{}function K6(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(EC(s)||n===!0&&jd(s)||!t&&!jd(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function Ow(e,t,n){return typeof e=="string"?e:ge.transform(t+n*e)}function Q6(e,t,n){const r=Ow(t,e.x,e.width),s=Ow(n,e.y,e.height);return`${r} ${s}`}const X6={offset:"stroke-dashoffset",array:"stroke-dasharray"},J6={offset:"strokeDashoffset",array:"strokeDasharray"};function Z6(e,t,n=1,r=0,s=!0){e.pathLength=1;const o=s?X6:J6;e[o.offset]=ge.transform(-r);const i=ge.transform(t),l=ge.transform(n);e[o.array]=`${i} ${l}`}function sy(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:o,pathLength:i,pathSpacing:l=1,pathOffset:c=0,...u},d,f,m){if(ny(e,u,d,m),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:x,dimensions:g}=e;p.transform&&(g&&(x.transform=p.transform),delete p.transform),g&&(s!==void 0||o!==void 0||x.transform)&&(x.transformOrigin=Q6(g,s!==void 0?s:.5,o!==void 0?o:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&Z6(p,i,l,c,!1)}const TC=()=>({...ry(),attrs:{}}),oy=e=>typeof e=="string"&&e.toLowerCase()==="svg";function eV(e,t,n,r){const s=h.useMemo(()=>{const o=TC();return sy(o,t,{enableHardwareAcceleration:!1},oy(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};kC(o,e.style,e),s.style={...o,...s.style}}return s}function tV(e=!1){return(n,r,s,{latestValues:o},i)=>{const c=(ty(n)?eV:q6)(r,o,i,n),d={...K6(r,typeof n=="string",e),...c,ref:s},{children:f}=r,m=h.useMemo(()=>An(f)?f.get():f,[f]);return h.createElement(n,{...d,children:m})}}function PC(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const AC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function MC(e,t,n,r){PC(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(AC.has(s)?s:Xv(s),t.attrs[s])}function iy(e,t){const{style:n}=e,r={};for(const s in n)(An(n[s])||t.style&&An(t.style[s])||_C(s,e))&&(r[s]=n[s]);return r}function RC(e,t){const n=iy(e,t);for(const r in e)if(An(e[r])||An(t[r])){const s=wc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function ay(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function OC(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const Sd=e=>Array.isArray(e),nV=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),rV=e=>Sd(e)?e[e.length-1]||0:e;function Iu(e){const t=An(e)?e.get():e;return nV(t)?t.toValue():t}function sV({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,o){const i={latestValues:oV(r,s,o,e),renderState:t()};return n&&(i.mount=l=>n(r,l,i)),i}const DC=e=>(t,n)=>{const r=h.useContext(bf),s=h.useContext(_f),o=()=>sV(e,t,r,s);return n?o():OC(o)};function oV(e,t,n,r){const s={},o=r(e,{});for(const m in o)s[m]=Iu(o[m]);let{initial:i,animate:l}=e;const c=Cf(e),u=wC(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const f=d?l:i;return f&&typeof f!="boolean"&&!Sf(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const x=ay(e,p);if(!x)return;const{transitionEnd:g,transition:y,...w}=x;for(const v in w){let b=w[v];if(Array.isArray(b)){const j=d?b.length-1:0;b=b[j]}b!==null&&(s[v]=b)}for(const v in g)s[v]=g[v]}),s}const gt=e=>e;class Dw{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function iV(e){let t=new Dw,n=new Dw,r=0,s=!1,o=!1;const i=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&s,m=f?t:n;return u&&i.add(c),m.add(c)&&f&&s&&(r=t.order.length),c},cancel:c=>{n.remove(c),i.delete(c)},process:c=>{if(s){o=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),i.has(d)&&(l.schedule(d),e())}s=!1,o&&(o=!1,l.process(c))}};return l}const hu=["prepare","read","update","preRender","render","postRender"],aV=40;function lV(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=hu.reduce((f,m)=>(f[m]=iV(()=>n=!0),f),{}),i=f=>o[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,aV),1),s.timestamp=f,s.isProcessing=!0,hu.forEach(i),s.isProcessing=!1,n&&t&&(r=!1,e(l))},c=()=>{n=!0,r=!0,s.isProcessing||e(l)};return{schedule:hu.reduce((f,m)=>{const p=o[m];return f[m]=(x,g=!1,y=!1)=>(n||c(),p.schedule(x,g,y)),f},{}),cancel:f=>hu.forEach(m=>o[m].cancel(f)),state:s,steps:o}}const{schedule:Ye,cancel:fs,state:Jt,steps:Vh}=lV(typeof requestAnimationFrame<"u"?requestAnimationFrame:gt,!0),cV={useVisualState:DC({scrapeMotionValuesFromProps:RC,createRenderState:TC,onMount:(e,t,{renderState:n,latestValues:r})=>{Ye.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ye.render(()=>{sy(n,r,{enableHardwareAcceleration:!1},oy(t.tagName),e.transformTemplate),MC(t,n)})}})},uV={useVisualState:DC({scrapeMotionValuesFromProps:iy,createRenderState:ry})};function dV(e,{forwardMotionProps:t=!1},n,r){return{...ty(e)?cV:uV,preloadedFeatures:n,useRender:tV(t),createVisualElement:r,Component:e}}function ts(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const IC=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function kf(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const fV=e=>t=>IC(t)&&e(t,kf(t));function rs(e,t,n,r){return ts(e,t,fV(n),r)}const hV=(e,t)=>n=>t(e(n)),Ws=(...e)=>e.reduce(hV);function LC(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Iw=LC("dragHorizontal"),Lw=LC("dragVertical");function $C(e){let t=!1;if(e==="y")t=Lw();else if(e==="x")t=Iw();else{const n=Iw(),r=Lw();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function FC(){const e=$C(!0);return e?(e(),!1):!0}class uo{constructor(t){this.isMounted=!1,this.node=t}update(){}}function $w(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(o,i)=>{if(o.pointerType==="touch"||FC())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&Ye.update(()=>l[r](o,i))};return rs(e.current,n,s,{passive:!e.getProps()[r]})}class mV extends uo{mount(){this.unmount=Ws($w(this.node,!0),$w(this.node,!1))}unmount(){}}class pV extends uo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ws(ts(this.node.current,"focus",()=>this.onFocus()),ts(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const VC=(e,t)=>t?e===t?!0:VC(e,t.parentElement):!1;function Bh(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,kf(n))}class gV extends uo{constructor(){super(...arguments),this.removeStartListeners=gt,this.removeEndListeners=gt,this.removeAccessibleListeners=gt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=rs(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Ye.update(()=>{!f&&!VC(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),i=rs(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ws(o,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=l=>{l.key!=="Enter"||!this.checkPressEnd()||Bh("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Ye.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=ts(this.node.current,"keyup",i),Bh("down",(l,c)=>{this.startPress(l,c)})},n=ts(this.node.current,"keydown",t),r=()=>{this.isPressing&&Bh("cancel",(o,i)=>this.cancelPress(o,i))},s=ts(this.node.current,"blur",r);this.removeAccessibleListeners=Ws(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ye.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!FC()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ye.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=rs(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=ts(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ws(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const $p=new WeakMap,Uh=new WeakMap,vV=e=>{const t=$p.get(e.target);t&&t(e)},yV=e=>{e.forEach(vV)};function xV({root:e,...t}){const n=e||document;Uh.has(n)||Uh.set(n,{});const r=Uh.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(yV,{root:e,...t})),r[s]}function wV(e,t,n){const r=xV(t);return $p.set(e,n),r.observe(e),()=>{$p.delete(e),r.unobserve(e)}}const bV={some:0,all:1};class _V extends uo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:bV[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=u?d:f;m&&m(c)};return wV(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(jV(t,n))&&this.startObserver()}unmount(){}}function jV({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const SV={inView:{Feature:_V},tap:{Feature:gV},focus:{Feature:pV},hover:{Feature:mV}};function BC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function CV(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function NV(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Ef(e,t,n){const r=e.getProps();return ay(r,t,n!==void 0?n:r.custom,CV(e),NV(e))}let kV=gt,ly=gt;const qs=e=>e*1e3,ss=e=>e/1e3,EV={current:!1},UC=e=>Array.isArray(e)&&typeof e[0]=="number";function HC(e){return!!(!e||typeof e=="string"&&zC[e]||UC(e)||Array.isArray(e)&&e.every(HC))}const Za=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,zC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Za([0,.65,.55,1]),circOut:Za([.55,0,1,.45]),backIn:Za([.31,.01,.66,-.59]),backOut:Za([.33,1.53,.69,.99])};function WC(e){if(e)return UC(e)?Za(e):Array.isArray(e)?e.map(WC):zC[e]}function TV(e,t,n,{delay:r=0,duration:s,repeat:o=0,repeatType:i="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=WC(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}function PV(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const qC=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,AV=1e-7,MV=12;function RV(e,t,n,r,s){let o,i,l=0;do i=t+(n-t)/2,o=qC(i,r,s)-e,o>0?n=i:t=i;while(Math.abs(o)>AV&&++l<MV);return i}function jc(e,t,n,r){if(e===t&&n===r)return gt;const s=o=>RV(o,0,1,e,n);return o=>o===0||o===1?o:qC(s(o),t,r)}const OV=jc(.42,0,1,1),DV=jc(0,0,.58,1),GC=jc(.42,0,.58,1),IV=e=>Array.isArray(e)&&typeof e[0]!="number",YC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,KC=e=>t=>1-e(1-t),cy=e=>1-Math.sin(Math.acos(e)),QC=KC(cy),LV=YC(cy),XC=jc(.33,1.53,.69,.99),uy=KC(XC),$V=YC(uy),FV=e=>(e*=2)<1?.5*uy(e):.5*(2-Math.pow(2,-10*(e-1))),VV={linear:gt,easeIn:OV,easeInOut:GC,easeOut:DV,circIn:cy,circInOut:LV,circOut:QC,backIn:uy,backInOut:$V,backOut:XC,anticipate:FV},Fw=e=>{if(Array.isArray(e)){ly(e.length===4);const[t,n,r,s]=e;return jc(t,n,r,s)}else if(typeof e=="string")return VV[e];return e},dy=(e,t)=>n=>!!(bc(n)&&B6.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),JC=(e,t,n)=>r=>{if(!bc(r))return r;const[s,o,i,l]=r.match(Nf);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},BV=e=>eo(0,255,e),Hh={...ai,transform:e=>Math.round(BV(e))},Do={test:dy("rgb","red"),parse:JC("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Hh.transform(e)+", "+Hh.transform(t)+", "+Hh.transform(n)+", "+gl(pl.transform(r))+")"};function UV(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Fp={test:dy("#"),parse:UV,transform:Do.transform},Di={test:dy("hsl","hue"),parse:JC("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Lr.transform(gl(t))+", "+Lr.transform(gl(n))+", "+gl(pl.transform(r))+")"},un={test:e=>Do.test(e)||Fp.test(e)||Di.test(e),parse:e=>Do.test(e)?Do.parse(e):Di.test(e)?Di.parse(e):Fp.parse(e),transform:e=>bc(e)?e:e.hasOwnProperty("red")?Do.transform(e):Di.transform(e)},dt=(e,t,n)=>-n*e+n*t+e;function zh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function HV({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,o=0,i=0;if(!t)s=o=i=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=zh(c,l,e+1/3),o=zh(c,l,e),i=zh(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}const Wh=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},zV=[Fp,Do,Di],WV=e=>zV.find(t=>t.test(e));function Vw(e){const t=WV(e);let n=t.parse(e);return t===Di&&(n=HV(n)),n}const ZC=(e,t)=>{const n=Vw(e),r=Vw(t),s={...n};return o=>(s.red=Wh(n.red,r.red,o),s.green=Wh(n.green,r.green,o),s.blue=Wh(n.blue,r.blue,o),s.alpha=dt(n.alpha,r.alpha,o),Do.transform(s))};function qV(e){var t,n;return isNaN(e)&&bc(e)&&(((t=e.match(Nf))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(CC))===null||n===void 0?void 0:n.length)||0)>0}const eN={regex:F6,countKey:"Vars",token:"${v}",parse:gt},tN={regex:CC,countKey:"Colors",token:"${c}",parse:un.parse},nN={regex:Nf,countKey:"Numbers",token:"${n}",parse:ai.parse};function qh(e,{regex:t,countKey:n,token:r,parse:s}){const o=e.tokenised.match(t);o&&(e["num"+n]=o.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...o.map(s)))}function Cd(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&qh(n,eN),qh(n,tN),qh(n,nN),n}function rN(e){return Cd(e).values}function sN(e){const{values:t,numColors:n,numVars:r,tokenised:s}=Cd(e),o=t.length;return i=>{let l=s;for(let c=0;c<o;c++)c<r?l=l.replace(eN.token,i[c]):c<r+n?l=l.replace(tN.token,un.transform(i[c])):l=l.replace(nN.token,gl(i[c]));return l}}const GV=e=>typeof e=="number"?0:e;function YV(e){const t=rN(e);return sN(e)(t.map(GV))}const to={test:qV,parse:rN,createTransformer:sN,getAnimatableNone:YV},oN=(e,t)=>n=>`${n>0?t:e}`;function iN(e,t){return typeof e=="number"?n=>dt(e,t,n):un.test(e)?ZC(e,t):e.startsWith("var(")?oN(e,t):lN(e,t)}const aN=(e,t)=>{const n=[...e],r=n.length,s=e.map((o,i)=>iN(o,t[i]));return o=>{for(let i=0;i<r;i++)n[i]=s[i](o);return n}},KV=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=iN(e[s],t[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}},lN=(e,t)=>{const n=to.createTransformer(t),r=Cd(e),s=Cd(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Ws(aN(r.values,s.values),n):oN(e,t)},ec=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Bw=(e,t)=>n=>dt(e,t,n);function QV(e){return typeof e=="number"?Bw:typeof e=="string"?un.test(e)?ZC:lN:Array.isArray(e)?aN:typeof e=="object"?KV:Bw}function XV(e,t,n){const r=[],s=n||QV(e[0]),o=e.length-1;for(let i=0;i<o;i++){let l=s(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||gt:t;l=Ws(c,l)}r.push(l)}return r}function cN(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const o=e.length;if(ly(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=XV(t,r,s),l=i.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=ec(e[d],e[d+1],u);return i[d](f)};return n?u=>c(eo(e[0],e[o-1],u)):c}function JV(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=ec(0,t,r);e.push(dt(n,1,s))}}function ZV(e){const t=[0];return JV(t,e.length-1),t}function eB(e,t){return e.map(n=>n*t)}function tB(e,t){return e.map(()=>t||GC).splice(0,e.length-1)}function Nd({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=IV(r)?r.map(Fw):Fw(r),o={done:!1,value:t[0]},i=eB(n&&n.length===t.length?n:ZV(t),e),l=cN(i,t,{ease:Array.isArray(s)?s:tB(t,s)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}function uN(e,t){return t?e*(1e3/t):0}const nB=5;function dN(e,t,n){const r=Math.max(t-nB,0);return uN(n-e(r),t-r)}const Gh=.001,rB=.01,Uw=10,sB=.05,oB=1;function iB({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,o;kV(e<=qs(Uw));let i=1-t;i=eo(sB,oB,i),e=eo(rB,Uw,ss(e)),i<1?(s=u=>{const d=u*i,f=d*e,m=d-n,p=Vp(u,i),x=Math.exp(-f);return Gh-m/p*x},o=u=>{const f=u*i*e,m=f*n+n,p=Math.pow(i,2)*Math.pow(u,2)*e,x=Math.exp(-f),g=Vp(Math.pow(u,2),i);return(-s(u)+Gh>0?-1:1)*((m-p)*x)/g}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Gh+d*f},o=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=lB(s,o,l);if(e=qs(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:e}}}const aB=12;function lB(e,t,n){let r=n;for(let s=1;s<aB;s++)r=r-e(r)/t(r);return r}function Vp(e,t){return e*Math.sqrt(1-t*t)}const cB=["duration","bounce"],uB=["stiffness","damping","mass"];function Hw(e,t){return t.some(n=>e[n]!==void 0)}function dB(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Hw(e,uB)&&Hw(e,cB)){const n=iB(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function fN({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],o=e[e.length-1],i={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:m}=dB({...r,velocity:-ss(r.velocity||0)}),p=f||0,x=c/(2*Math.sqrt(l*u)),g=o-s,y=ss(Math.sqrt(l/u)),w=Math.abs(g)<5;n||(n=w?.01:2),t||(t=w?.005:.5);let v;if(x<1){const b=Vp(y,x);v=j=>{const S=Math.exp(-x*y*j);return o-S*((p+x*y*g)/b*Math.sin(b*j)+g*Math.cos(b*j))}}else if(x===1)v=b=>o-Math.exp(-y*b)*(g+(p+y*g)*b);else{const b=y*Math.sqrt(x*x-1);v=j=>{const S=Math.exp(-x*y*j),N=Math.min(b*j,300);return o-S*((p+x*y*g)*Math.sinh(N)+b*g*Math.cosh(N))/b}}return{calculatedDuration:m&&d||null,next:b=>{const j=v(b);if(m)i.done=b>=d;else{let S=p;b!==0&&(x<1?S=dN(v,b,j):S=0);const N=Math.abs(S)<=n,_=Math.abs(o-j)<=t;i.done=N&&_}return i.value=i.done?o:j,i}}}function zw({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],m={done:!1,value:f},p=C=>l!==void 0&&C<l||c!==void 0&&C>c,x=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let g=n*t;const y=f+g,w=i===void 0?y:i(y);w!==y&&(g=w-f);const v=C=>-g*Math.exp(-C/r),b=C=>w+v(C),j=C=>{const P=v(C),I=b(C);m.done=Math.abs(P)<=u,m.value=m.done?w:I};let S,N;const _=C=>{p(m.value)&&(S=C,N=fN({keyframes:[m.value,x(m.value)],velocity:dN(b,C,m.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:C=>{let P=!1;return!N&&S===void 0&&(P=!0,j(C),_(C)),S!==void 0&&C>S?N.next(C-S):(!P&&j(C),m)}}}const fB=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ye.update(t,!0),stop:()=>fs(t),now:()=>Jt.isProcessing?Jt.timestamp:performance.now()}},Ww=2e4;function qw(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Ww;)t+=n,r=e.next(t);return t>=Ww?1/0:t}const hB={decay:zw,inertia:zw,tween:Nd,keyframes:Nd,spring:fN};function kd({autoplay:e=!0,delay:t=0,driver:n=fB,keyframes:r,type:s="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...m}){let p=1,x=!1,g,y;const w=()=>{y=new Promise(V=>{g=V})};w();let v;const b=hB[s]||Nd;let j;b!==Nd&&typeof r[0]!="number"&&(j=cN([0,100],r,{clamp:!1}),r=[0,100]);const S=b({...m,keyframes:r});let N;l==="mirror"&&(N=b({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let _="idle",C=null,P=null,I=null;S.calculatedDuration===null&&o&&(S.calculatedDuration=qw(S));const{calculatedDuration:L}=S;let O=1/0,U=1/0;L!==null&&(O=L+i,U=O*(o+1)-i);let $=0;const E=V=>{if(P===null)return;p>0&&(P=Math.min(P,V)),p<0&&(P=Math.min(V-U/p,P)),C!==null?$=C:$=Math.round(V-P)*p;const D=$-t*(p>=0?1:-1),z=p>=0?D<0:D>U;$=Math.max(D,0),_==="finished"&&C===null&&($=U);let B=$,Y=S;if(o){const Q=Math.min($,U)/O;let ie=Math.floor(Q),de=Q%1;!de&&Q>=1&&(de=1),de===1&&ie--,ie=Math.min(ie,o+1),!!(ie%2)&&(l==="reverse"?(de=1-de,i&&(de-=i/O)):l==="mirror"&&(Y=N)),B=eo(0,1,de)*O}const X=z?{done:!1,value:r[0]}:Y.next(B);j&&(X.value=j(X.value));let{done:H}=X;!z&&L!==null&&(H=p>=0?$>=U:$<=0);const ne=C===null&&(_==="finished"||_==="running"&&H);return f&&f(X.value),ne&&k(),X},M=()=>{v&&v.stop(),v=void 0},T=()=>{_="idle",M(),g(),w(),P=I=null},k=()=>{_="finished",d&&d(),M(),g()},R=()=>{if(x)return;v||(v=n(E));const V=v.now();c&&c(),C!==null?P=V-C:(!P||_==="finished")&&(P=V),_==="finished"&&w(),I=P,C=null,_="running",v.start()};e&&R();const A={then(V,D){return y.then(V,D)},get time(){return ss($)},set time(V){V=qs(V),$=V,C!==null||!v||p===0?C=V:P=v.now()-V/p},get duration(){const V=S.calculatedDuration===null?qw(S):S.calculatedDuration;return ss(V)},get speed(){return p},set speed(V){V===p||!v||(p=V,A.time=ss($))},get state(){return _},play:R,pause:()=>{_="paused",C=$},stop:()=>{x=!0,_!=="idle"&&(_="idle",u&&u(),T())},cancel:()=>{I!==null&&E(I),T()},complete:()=>{_="finished"},sample:V=>(P=0,E(V))};return A}function mB(e){let t;return()=>(t===void 0&&(t=e()),t)}const pB=mB(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),gB=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),mu=10,vB=2e4,yB=(e,t)=>t.type==="spring"||e==="backgroundColor"||!HC(t.ease);function xB(e,t,{onUpdate:n,onComplete:r,...s}){if(!(pB()&&gB.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let i=!1,l,c,u=!1;const d=()=>{c=new Promise(b=>{l=b})};d();let{keyframes:f,duration:m=300,ease:p,times:x}=s;if(yB(t,s)){const b=kd({...s,repeat:0,delay:0});let j={done:!1,value:f[0]};const S=[];let N=0;for(;!j.done&&N<vB;)j=b.sample(N),S.push(j.value),N+=mu;x=void 0,f=S,m=N-mu,p="linear"}const g=TV(e.owner.current,t,f,{...s,duration:m,ease:p,times:x}),y=()=>{u=!1,g.cancel()},w=()=>{u=!0,Ye.update(y),l(),d()};return g.onfinish=()=>{u||(e.set(PV(f,s)),r&&r(),w())},{then(b,j){return c.then(b,j)},attachTimeline(b){return g.timeline=b,g.onfinish=null,gt},get time(){return ss(g.currentTime||0)},set time(b){g.currentTime=qs(b)},get speed(){return g.playbackRate},set speed(b){g.playbackRate=b},get duration(){return ss(m)},play:()=>{i||(g.play(),fs(y))},pause:()=>g.pause(),stop:()=>{if(i=!0,g.playState==="idle")return;const{currentTime:b}=g;if(b){const j=kd({...s,autoplay:!1});e.setWithVelocity(j.sample(b-mu).value,j.sample(b).value,mu)}w()},complete:()=>{u||g.finish()},cancel:w}}function wB({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:gt,pause:gt,stop:gt,then:o=>(o(),Promise.resolve()),cancel:gt,complete:gt});return t?kd({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const bB={type:"spring",stiffness:500,damping:25,restSpeed:10},_B=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),jB={type:"keyframes",duration:.8},SB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},CB=(e,{keyframes:t})=>t.length>2?jB:ii.has(e)?e.startsWith("scale")?_B(t[1]):bB:SB,Bp=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(to.test(t)||t==="0")&&!t.startsWith("url(")),NB=new Set(["brightness","contrast","saturate","opacity"]);function kB(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Nf)||[];if(!r)return e;const s=n.replace(r,"");let o=NB.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+s+")"}const EB=/([a-z-]*)\(.*?\)/g,Up={...to,getAnimatableNone:e=>{const t=e.match(EB);return t?t.map(kB).join(" "):e}},TB={...NC,color:un,backgroundColor:un,outlineColor:un,fill:un,stroke:un,borderColor:un,borderTopColor:un,borderRightColor:un,borderBottomColor:un,borderLeftColor:un,filter:Up,WebkitFilter:Up},fy=e=>TB[e];function hN(e,t){let n=fy(e);return n!==Up&&(n=to),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const mN=e=>/^0[^.\s]+$/.test(e);function PB(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||mN(e)}function AB(e,t,n,r){const s=Bp(t,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const i=r.from!==void 0?r.from:e.get();let l;const c=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?i:o[u-1]),PB(o[u])&&c.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(l=o[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];o[d]=hN(t,l)}return o}function MB({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function hy(e,t){return e[t]||e.default||e}const RB={skipAnimations:!1},my=(e,t,n,r={})=>s=>{const o=hy(r,e)||{},i=o.delay||r.delay||0;let{elapsed:l=0}=r;l=l-qs(i);const c=AB(t,e,n,o),u=c[0],d=c[c.length-1],f=Bp(e,u),m=Bp(e,d);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:x=>{t.set(x),o.onUpdate&&o.onUpdate(x)},onComplete:()=>{s(),o.onComplete&&o.onComplete()}};if(MB(o)||(p={...p,...CB(e,p)}),p.duration&&(p.duration=qs(p.duration)),p.repeatDelay&&(p.repeatDelay=qs(p.repeatDelay)),!f||!m||EV.current||o.type===!1||RB.skipAnimations)return wB(p);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const x=xB(t,e,p);if(x)return x}return kd(p)};function Ed(e){return!!(An(e)&&e.add)}const pN=e=>/^\-?\d*\.?\d+$/.test(e);function py(e,t){e.indexOf(t)===-1&&e.push(t)}function gy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class vy{constructor(){this.subscriptions=[]}add(t){return py(this.subscriptions,t),()=>gy(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const OB=e=>!isNaN(parseFloat(e));class DB{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:i}=Jt;this.lastUpdated!==i&&(this.timeDelta=o,this.lastUpdated=i,Ye.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ye.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=OB(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new vy);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ye.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?uN(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ha(e,t){return new DB(e,t)}const gN=e=>t=>t.test(e),IB={test:e=>e==="auto",parse:e=>e},vN=[ai,ge,Lr,Cs,H6,U6,IB],Wa=e=>vN.find(gN(e)),LB=[...vN,un,to],$B=e=>LB.find(gN(e));function FB(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ha(n))}function VB(e,t){const n=Ef(e,t);let{transitionEnd:r={},transition:s={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const i in o){const l=rV(o[i]);FB(e,i,l)}}function BB(e,t,n){var r,s;const o=Object.keys(t).filter(l=>!e.hasValue(l)),i=o.length;if(i)for(let l=0;l<i;l++){const c=o[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(pN(d)||mN(d))?d=parseFloat(d):!$B(d)&&to.test(u)&&(d=hN(c,u)),e.addValue(c,ha(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function UB(e,t){return t?(t[e]||t.default||t).from:void 0}function HB(e,t,n){const r={};for(const s in e){const o=UB(s,t);if(o!==void 0)r[s]=o;else{const i=n.getValue(s);i&&(r[s]=i.get())}}return r}function zB({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function WB(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function yN(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:i,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(o=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in l){const m=e.getValue(f),p=l[f];if(!m||p===void 0||d&&zB(d,f))continue;const x={delay:n,elapsed:0,...hy(o||{},f)};if(window.HandoffAppearAnimations){const w=e.getProps()[xC];if(w){const v=window.HandoffAppearAnimations(w,f,m,Ye);v!==null&&(x.elapsed=v,x.isHandoff=!0)}}let g=!x.isHandoff&&!WB(m,p);if(x.type==="spring"&&(m.getVelocity()||x.velocity)&&(g=!1),m.animation&&(g=!1),g)continue;m.start(my(f,m,p,e.shouldReduceMotion&&ii.has(f)?{type:!1}:x));const y=m.animation;Ed(c)&&(c.add(f),y.then(()=>c.remove(f))),u.push(y)}return i&&Promise.all(u).then(()=>{i&&VB(e,i)}),u}function Hp(e,t,n={}){const r=Ef(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(yN(e,r,n)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return qB(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,i]:[i,o];return c().then(()=>u())}else return Promise.all([o(),i(n.delay)])}function qB(e,t,n=0,r=0,s=1,o){const i=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(GB).forEach((u,d)=>{u.notify("AnimationStart",t),i.push(Hp(u,t,{...o,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(i)}function GB(e,t){return e.sortNodePosition(t)}function YB(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(o=>Hp(e,o,n));r=Promise.all(s)}else if(typeof t=="string")r=Hp(e,t,n);else{const s=typeof t=="function"?Ef(e,t,n.custom):t;r=Promise.all(yN(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const KB=[...Jv].reverse(),QB=Jv.length;function XB(e){return t=>Promise.all(t.map(({animation:n,options:r})=>YB(e,n,r)))}function JB(e){let t=XB(e);const n=e8();let r=!0;const s=(c,u)=>{const d=Ef(e,u);if(d){const{transition:f,transitionEnd:m,...p}=d;c={...c,...p,...m}}return c};function o(c){t=c(e)}function i(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},m=[],p=new Set;let x={},g=1/0;for(let w=0;w<QB;w++){const v=KB[w],b=n[v],j=d[v]!==void 0?d[v]:f[v],S=Jl(j),N=v===u?b.isActive:null;N===!1&&(g=w);let _=j===f[v]&&j!==d[v]&&S;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),b.protectedKeys={...x},!b.isActive&&N===null||!j&&!b.prevProp||Sf(j)||typeof j=="boolean")continue;let P=ZB(b.prevProp,j)||v===u&&b.isActive&&!_&&S||w>g&&S,I=!1;const L=Array.isArray(j)?j:[j];let O=L.reduce(s,{});N===!1&&(O={});const{prevResolvedValues:U={}}=b,$={...U,...O},E=M=>{P=!0,p.has(M)&&(I=!0,p.delete(M)),b.needsAnimating[M]=!0};for(const M in $){const T=O[M],k=U[M];if(x.hasOwnProperty(M))continue;let R=!1;Sd(T)&&Sd(k)?R=!BC(T,k):R=T!==k,R?T!==void 0?E(M):p.add(M):T!==void 0&&p.has(M)?E(M):b.protectedKeys[M]=!0}b.prevProp=j,b.prevResolvedValues=O,b.isActive&&(x={...x,...O}),r&&e.blockInitialAnimation&&(P=!1),P&&(!_||I)&&m.push(...L.map(M=>({animation:M,options:{type:v,...c}})))}if(p.size){const w={};p.forEach(v=>{const b=e.getBaseTarget(v);b!==void 0&&(w[v]=b)}),m.push({animation:w})}let y=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(m):Promise.resolve()}function l(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(p=>{var x;return(x=p.animationState)===null||x===void 0?void 0:x.setActive(c,u)}),n[c].isActive=u;const m=i(d,c);for(const p in n)n[p].protectedKeys={};return m}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>n}}function ZB(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!BC(t,e):!1}function bo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function e8(){return{animate:bo(!0),whileInView:bo(),whileHover:bo(),whileTap:bo(),whileDrag:bo(),whileFocus:bo(),exit:bo()}}class t8 extends uo{constructor(t){super(t),t.animationState||(t.animationState=JB(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Sf(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let n8=0;class r8 extends uo{constructor(){super(...arguments),this.id=n8++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const s8={animation:{Feature:t8},exit:{Feature:r8}},Gw=(e,t)=>Math.abs(e-t);function o8(e,t){const n=Gw(e.x,t.x),r=Gw(e.y,t.y);return Math.sqrt(n**2+r**2)}class xN{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Kh(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=o8(f.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:x}=f,{timestamp:g}=Jt;this.history.push({...x,timestamp:g});const{onStart:y,onMove:w}=this.handlers;m||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Yh(m,this.transformPagePoint),Ye.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Kh(f.type==="pointercancel"?this.lastMoveEventInfo:Yh(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,y),x&&x(f,y)},!IC(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const i=kf(t),l=Yh(i,this.transformPagePoint),{point:c}=l,{timestamp:u}=Jt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Kh(l,this.history)),this.removeListeners=Ws(rs(this.contextWindow,"pointermove",this.handlePointerMove),rs(this.contextWindow,"pointerup",this.handlePointerUp),rs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),fs(this.updatePoint)}}function Yh(e,t){return t?{point:t(e.point)}:e}function Yw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Kh({point:e},t){return{point:e,delta:Yw(e,wN(t)),offset:Yw(e,i8(t)),velocity:a8(t,.1)}}function i8(e){return e[0]}function wN(e){return e[e.length-1]}function a8(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=wN(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>qs(t)));)n--;if(!r)return{x:0,y:0};const o=ss(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Hn(e){return e.max-e.min}function zp(e,t=0,n=.01){return Math.abs(e-t)<=n}function Kw(e,t,n,r=.5){e.origin=r,e.originPoint=dt(t.min,t.max,e.origin),e.scale=Hn(n)/Hn(t),(zp(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=dt(n.min,n.max,e.origin)-e.originPoint,(zp(e.translate)||isNaN(e.translate))&&(e.translate=0)}function vl(e,t,n,r){Kw(e.x,t.x,n.x,r?r.originX:void 0),Kw(e.y,t.y,n.y,r?r.originY:void 0)}function Qw(e,t,n){e.min=n.min+t.min,e.max=e.min+Hn(t)}function l8(e,t,n){Qw(e.x,t.x,n.x),Qw(e.y,t.y,n.y)}function Xw(e,t,n){e.min=t.min-n.min,e.max=e.min+Hn(t)}function yl(e,t,n){Xw(e.x,t.x,n.x),Xw(e.y,t.y,n.y)}function c8(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?dt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?dt(n,e,r.max):Math.min(e,n)),e}function Jw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function u8(e,{top:t,left:n,bottom:r,right:s}){return{x:Jw(e.x,n,s),y:Jw(e.y,t,r)}}function Zw(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function d8(e,t){return{x:Zw(e.x,t.x),y:Zw(e.y,t.y)}}function f8(e,t){let n=.5;const r=Hn(e),s=Hn(t);return s>r?n=ec(t.min,t.max-r,e.min):r>s&&(n=ec(e.min,e.max-s,t.min)),eo(0,1,n)}function h8(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Wp=.35;function m8(e=Wp){return e===!1?e=0:e===!0&&(e=Wp),{x:eb(e,"left","right"),y:eb(e,"top","bottom")}}function eb(e,t,n){return{min:tb(e,t),max:tb(e,n)}}function tb(e,t){return typeof e=="number"?e:e[t]||0}const nb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ii=()=>({x:nb(),y:nb()}),rb=()=>({min:0,max:0}),St=()=>({x:rb(),y:rb()});function Yn(e){return[e("x"),e("y")]}function bN({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function p8({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function g8(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Qh(e){return e===void 0||e===1}function qp({scale:e,scaleX:t,scaleY:n}){return!Qh(e)||!Qh(t)||!Qh(n)}function Co(e){return qp(e)||_N(e)||e.z||e.rotate||e.rotateX||e.rotateY}function _N(e){return sb(e.x)||sb(e.y)}function sb(e){return e&&e!=="0%"}function Td(e,t,n){const r=e-n,s=t*r;return n+s}function ob(e,t,n,r,s){return s!==void 0&&(e=Td(e,s,r)),Td(e,n,r)+t}function Gp(e,t=0,n=1,r,s){e.min=ob(e.min,t,n,r,s),e.max=ob(e.max,t,n,r,s)}function jN(e,{x:t,y:n}){Gp(e.x,t.translate,t.scale,t.originPoint),Gp(e.y,n.translate,n.scale,n.originPoint)}function v8(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,i;for(let l=0;l<s;l++){o=n[l],i=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Li(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,jN(e,i)),r&&Co(o.latestValues)&&Li(e,o.latestValues))}t.x=ib(t.x),t.y=ib(t.y)}function ib(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Es(e,t){e.min=e.min+t,e.max=e.max+t}function ab(e,t,[n,r,s]){const o=t[s]!==void 0?t[s]:.5,i=dt(e.min,e.max,o);Gp(e,t[n],t[r],i,t.scale)}const y8=["x","scaleX","originX"],x8=["y","scaleY","originY"];function Li(e,t){ab(e.x,t,y8),ab(e.y,t,x8)}function SN(e,t){return bN(g8(e.getBoundingClientRect(),t))}function w8(e,t,n){const r=SN(e,n),{scroll:s}=t;return s&&(Es(r.x,s.offset.x),Es(r.y,s.offset.y)),r}const CN=({current:e})=>e?e.ownerDocument.defaultView:null,b8=new WeakMap;class _8{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=St(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(kf(d,"page").point)},o=(d,f)=>{const{drag:m,dragPropagation:p,onDragStart:x}=this.getProps();if(m&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=$C(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yn(y=>{let w=this.getAxisMotionValue(y).get()||0;if(Lr.test(w)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[y];b&&(w=Hn(b)*(parseFloat(w)/100))}}this.originPoint[y]=w}),x&&Ye.update(()=>x(d,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},i=(d,f)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:x,onDrag:g}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:y}=f;if(p&&this.currentDirection===null){this.currentDirection=j8(y),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),g&&g(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Yn(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new xN(t,{onSessionStart:s,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:CN(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Ye.update(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!pu(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=c8(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&Oi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=u8(s.layoutBox,n):this.constraints=!1,this.elastic=m8(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Yn(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=h8(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Oi(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=w8(r,s.root,this.visualElement.getTransformPagePoint());let i=d8(s.layout.layoutBox,o);if(n){const l=n(p8(i));this.hasMutatedConstraints=!!l,l&&(i=bN(l))}return i}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Yn(d=>{if(!pu(d,n,this.currentDirection))return;let f=c&&c[d]||{};i&&(f={min:0,max:0});const m=s?200:1e6,p=s?40:1e7,x={type:"inertia",velocity:r?t[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(my(t,r,0,n))}stopAnimation(){Yn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Yn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Yn(n=>{const{drag:r}=this.getProps();if(!pu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:i,max:l}=s.layout.layoutBox[n];o.set(t[n]-dt(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Oi(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Yn(i=>{const l=this.getAxisMotionValue(i);if(l){const c=l.get();s[i]=f8({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Yn(i=>{if(!pu(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(dt(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;b8.set(this.visualElement,this);const t=this.visualElement.current,n=rs(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Oi(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const i=ts(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Yn(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),n(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:i=Wp,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function pu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function j8(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class S8 extends uo{constructor(t){super(t),this.removeGroupControls=gt,this.removeListeners=gt,this.controls=new _8(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gt}unmount(){this.removeGroupControls(),this.removeListeners()}}const lb=e=>(t,n)=>{e&&Ye.update(()=>e(t,n))};class C8 extends uo{constructor(){super(...arguments),this.removePointerDownListener=gt}onPointerDown(t){this.session=new xN(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CN(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:lb(t),onStart:lb(n),onMove:r,onEnd:(o,i)=>{delete this.session,s&&Ye.update(()=>s(o,i))}}}mount(){this.removePointerDownListener=rs(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function N8(){const e=h.useContext(_f);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=h.useId();return h.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const Lu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function cb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const qa={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ge.test(e))e=parseFloat(e);else return e;const n=cb(e,t.target.x),r=cb(e,t.target.y);return`${n}% ${r}%`}},k8={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=to.parse(e);if(s.length>5)return r;const o=to.createTransformer(e),i=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+i]/=l,s[1+i]/=c;const u=dt(l,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),o(s)}};class E8 extends ct.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=t;D6(T8),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Lu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,s||t.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||Ye.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function NN(e){const[t,n]=N8(),r=h.useContext(ey);return ct.createElement(E8,{...e,layoutGroup:r,switchLayoutGroup:h.useContext(bC),isPresent:t,safeToRemove:n})}const T8={borderRadius:{...qa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qa,borderTopRightRadius:qa,borderBottomLeftRadius:qa,borderBottomRightRadius:qa,boxShadow:k8},kN=["TopLeft","TopRight","BottomLeft","BottomRight"],P8=kN.length,ub=e=>typeof e=="string"?parseFloat(e):e,db=e=>typeof e=="number"||ge.test(e);function A8(e,t,n,r,s,o){s?(e.opacity=dt(0,n.opacity!==void 0?n.opacity:1,M8(r)),e.opacityExit=dt(t.opacity!==void 0?t.opacity:1,0,R8(r))):o&&(e.opacity=dt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<P8;i++){const l=`border${kN[i]}Radius`;let c=fb(t,l),u=fb(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||db(c)===db(u)?(e[l]=Math.max(dt(ub(c),ub(u),r),0),(Lr.test(u)||Lr.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=dt(t.rotate||0,n.rotate||0,r))}function fb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const M8=EN(0,.5,QC),R8=EN(.5,.95,gt);function EN(e,t,n){return r=>r<e?0:r>t?1:n(ec(e,t,r))}function hb(e,t){e.min=t.min,e.max=t.max}function Gn(e,t){hb(e.x,t.x),hb(e.y,t.y)}function mb(e,t,n,r,s){return e-=t,e=Td(e,1/n,r),s!==void 0&&(e=Td(e,1/s,r)),e}function O8(e,t=0,n=1,r=.5,s,o=e,i=e){if(Lr.test(t)&&(t=parseFloat(t),t=dt(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=dt(o.min,o.max,r);e===o&&(l-=t),e.min=mb(e.min,t,n,l,s),e.max=mb(e.max,t,n,l,s)}function pb(e,t,[n,r,s],o,i){O8(e,t[n],t[r],t[s],t.scale,o,i)}const D8=["x","scaleX","originX"],I8=["y","scaleY","originY"];function gb(e,t,n,r){pb(e.x,t,D8,n?n.x:void 0,r?r.x:void 0),pb(e.y,t,I8,n?n.y:void 0,r?r.y:void 0)}function vb(e){return e.translate===0&&e.scale===1}function TN(e){return vb(e.x)&&vb(e.y)}function L8(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function PN(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function yb(e){return Hn(e.x)/Hn(e.y)}class $8{constructor(){this.members=[]}add(t){py(this.members,t),t.scheduleRender()}remove(t){if(gy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xb(e,t,n){let r="";const s=e.x.translate/t.x,o=e.y.translate/t.y;if((s||o)&&(r=`translate3d(${s}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const i=e.x.scale*t.x,l=e.y.scale*t.y;return(i!==1||l!==1)&&(r+=`scale(${i}, ${l})`),r||"none"}const F8=(e,t)=>e.depth-t.depth;class V8{constructor(){this.children=[],this.isDirty=!1}add(t){py(this.children,t),this.isDirty=!0}remove(t){gy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(F8),this.isDirty=!1,this.children.forEach(t)}}function B8(e,t){const n=performance.now(),r=({timestamp:s})=>{const o=s-n;o>=t&&(fs(r),e(o-t))};return Ye.read(r,!0),()=>fs(r)}function U8(e){window.MotionDebug&&window.MotionDebug.record(e)}function H8(e){return e instanceof SVGElement&&e.tagName!=="svg"}function z8(e,t,n){const r=An(e)?e:ha(e);return r.start(my("",r,t,n)),r.animation}const wb=["","X","Y","Z"],W8={visibility:"hidden"},bb=1e3;let q8=0;const No={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function AN({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},l=t==null?void 0:t()){this.id=q8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,No.totalNodes=No.resolvedTargetDeltas=No.recalculatedProjection=0,this.nodes.forEach(K8),this.nodes.forEach(eU),this.nodes.forEach(tU),this.nodes.forEach(Q8),U8(No)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new V8)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new vy),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=H8(i),this.instance=i;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const m=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=B8(m,250),Lu.hasAnimatedSinceResize&&(Lu.hasAnimatedSinceResize=!1,this.nodes.forEach(jb))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||iU,{onLayoutAnimationStart:y,onLayoutAnimationComplete:w}=d.getProps(),v=!this.targetLayout||!PN(this.targetLayout,x)||p,b=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||m&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const j={...hy(g,"layout"),onPlay:y,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else m||jb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,fs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nU),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_b);return}this.isUpdating||this.nodes.forEach(J8),this.isUpdating=!1,this.nodes.forEach(Z8),this.nodes.forEach(G8),this.nodes.forEach(Y8),this.clearAllSnapshots();const l=performance.now();Jt.delta=eo(0,1e3/60,l-Jt.timestamp),Jt.timestamp=l,Jt.isProcessing=!0,Vh.update.process(Jt),Vh.preRender.process(Jt),Vh.render.process(Jt),Jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(X8),this.sharedNodes.forEach(rU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=St(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!TN(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(l||Co(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),aU(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return St();const l=i.measureViewportBox(),{scroll:c}=this.root;return c&&(Es(l.x,c.offset.x),Es(l.y,c.offset.y)),l}removeElementScroll(i){const l=St();Gn(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Gn(l,i);const{scroll:m}=this.root;m&&(Es(l.x,-m.offset.x),Es(l.y,-m.offset.y))}Es(l.x,d.offset.x),Es(l.y,d.offset.y)}}return l}applyTransform(i,l=!1){const c=St();Gn(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Li(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Co(d.latestValues)&&Li(c,d.latestValues)}return Co(this.latestValues)&&Li(c,this.latestValues),c}removeTransform(i){const l=St();Gn(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Co(u.latestValues))continue;qp(u.latestValues)&&u.updateSnapshot();const d=St(),f=u.measurePageBox();Gn(d,f),gb(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Co(this.latestValues)&&gb(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Jt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),yl(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=St(),this.targetWithTransforms=St()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),l8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gn(this.target,this.layout.layoutBox),jN(this.target,this.targetDelta)):Gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),yl(this.relativeTargetOrigin,this.target,p.target),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}No.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||qp(this.parent.latestValues)||_N(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Jt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Gn(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;v8(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:x}=l;if(!x){this.projectionTransform&&(this.projectionDelta=Ii(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ii(),this.projectionDeltaWithTransform=Ii());const g=this.projectionTransform;vl(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=xb(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==m||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),No.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Ii();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=St(),p=c?c.source:void 0,x=this.layout?this.layout.source:void 0,g=p!==x,y=this.getStack(),w=!y||y.members.length<=1,v=!!(g&&!w&&this.options.crossfade===!0&&!this.path.some(oU));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const S=j/1e3;Sb(f.x,i.x,S),Sb(f.y,i.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yl(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sU(this.relativeTarget,this.relativeTargetOrigin,m,S),b&&L8(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=St()),Gn(b,this.relativeTarget)),g&&(this.animationValues=d,A8(d,u,this.latestValues,S,v,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(fs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ye.update(()=>{Lu.hasAnimatedSinceResize=!0,this.currentAnimation=z8(0,bb,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&MN(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||St();const f=Hn(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+f;const m=Hn(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+m}Gn(l,c),Li(l,d),vl(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new $8),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:l}=this.options;return l?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:l}=this.options;return l?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<wb.length;d++){const f="rotate"+wb[d];c[f]&&(u[f]=c[f],i.setStaticValue(f,0))}i.render();for(const d in u)i.setStaticValue(d,u[d]);i.scheduleRender()}getProjectionStyles(i){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return W8;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Iu(i==null?void 0:i.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Iu(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Co(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=xb(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:p,y:x}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${x.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const g in _d){if(m[g]===void 0)continue;const{correct:y,applyTo:w}=_d[g],v=u.transform==="none"?m[g]:y(m[g],f);if(w){const b=w.length;for(let j=0;j<b;j++)u[w[j]]=v}else u[g]=v}return this.options.layoutId&&(u.pointerEvents=f===this?Iu(i==null?void 0:i.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(_b),this.root.sharedNodes.clear()}}}function G8(e){e.updateLayout()}function Y8(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:o}=e.options,i=n.source!==e.layout.source;o==="size"?Yn(f=>{const m=i?n.measuredBox[f]:n.layoutBox[f],p=Hn(m);m.min=r[f].min,m.max=m.min+p}):MN(o,n.layoutBox,r)&&Yn(f=>{const m=i?n.measuredBox[f]:n.layoutBox[f],p=Hn(r[f]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=Ii();vl(l,r,n.layoutBox);const c=Ii();i?vl(c,e.applyTransform(s,!0),n.measuredBox):vl(c,r,n.layoutBox);const u=!TN(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:p}=f;if(m&&p){const x=St();yl(x,n.layoutBox,m.layoutBox);const g=St();yl(g,r,p.layoutBox),PN(x,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=x,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function K8(e){No.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Q8(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function X8(e){e.clearSnapshot()}function _b(e){e.clearMeasurements()}function J8(e){e.isLayoutDirty=!1}function Z8(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function jb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function eU(e){e.resolveTargetDelta()}function tU(e){e.calcProjection()}function nU(e){e.resetRotation()}function rU(e){e.removeLeadSnapshot()}function Sb(e,t,n){e.translate=dt(t.translate,0,n),e.scale=dt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Cb(e,t,n,r){e.min=dt(t.min,n.min,r),e.max=dt(t.max,n.max,r)}function sU(e,t,n,r){Cb(e.x,t.x,n.x,r),Cb(e.y,t.y,n.y,r)}function oU(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const iU={duration:.45,ease:[.4,0,.1,1]},Nb=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),kb=Nb("applewebkit/")&&!Nb("chrome/")?Math.round:gt;function Eb(e){e.min=kb(e.min),e.max=kb(e.max)}function aU(e){Eb(e.x),Eb(e.y)}function MN(e,t,n){return e==="position"||e==="preserve-aspect"&&!zp(yb(t),yb(n),.2)}const lU=AN({attachResizeListener:(e,t)=>ts(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xh={current:void 0},RN=AN({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Xh.current){const e=new lU({});e.mount(window),e.setOptions({layoutScroll:!0}),Xh.current=e}return Xh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),cU={pan:{Feature:C8},drag:{Feature:S8,ProjectionNode:RN,MeasureLayout:NN}},uU=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function dU(e){const t=uU.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Yp(e,t,n=1){const[r,s]=dU(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const i=o.trim();return pN(i)?parseFloat(i):i}else return Lp(s)?Yp(s,t,n+1):s}function fU(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const o=s.get();if(!Lp(o))return;const i=Yp(o,r);i&&s.set(i)});for(const s in t){const o=t[s];if(!Lp(o))continue;const i=Yp(o,r);i&&(t[s]=i,n||(n={}),n[s]===void 0&&(n[s]=o))}return{target:t,transitionEnd:n}}const hU=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ON=e=>hU.has(e),mU=e=>Object.keys(e).some(ON),Tb=e=>e===ai||e===ge,Pb=(e,t)=>parseFloat(e.split(", ")[t]),Ab=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return Pb(s[1],t);{const o=r.match(/^matrix\((.+)\)$/);return o?Pb(o[1],e):0}},pU=new Set(["x","y","z"]),gU=wc.filter(e=>!pU.has(e));function vU(e){const t=[];return gU.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const ma={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Ab(4,13),y:Ab(5,14)};ma.translateX=ma.x;ma.translateY=ma.y;const yU=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,o=getComputedStyle(s),{display:i}=o,l={};i==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=ma[u](r,o)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=ma[u](c,o)}),e},xU=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(ON);let o=[],i=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=Wa(d);const m=t[c];let p;if(Sd(m)){const x=m.length,g=m[0]===null?1:0;d=m[g],f=Wa(d);for(let y=g;y<x&&m[y]!==null;y++)p?ly(Wa(m[y])===p):p=Wa(m[y])}else p=Wa(m);if(f!==p)if(Tb(f)&&Tb(p)){const x=u.get();typeof x=="string"&&u.set(parseFloat(x)),typeof m=="string"?t[c]=parseFloat(m):Array.isArray(m)&&p===ge&&(t[c]=m.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||m===0)?d===0?u.set(p.transform(d)):t[c]=f.transform(m):(i||(o=vU(e),i=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(m))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=yU(t,e,l);return o.length&&o.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),jf&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function wU(e,t,n,r){return mU(t)?xU(e,t,n,r):{target:t,transitionEnd:r}}const bU=(e,t,n,r)=>{const s=fU(e,t,r);return t=s.target,r=s.transitionEnd,wU(e,t,n,r)},Kp={current:null},DN={current:!1};function _U(){if(DN.current=!0,!!jf)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Kp.current=e.matches;e.addListener(t),t()}else Kp.current=!1}function jU(e,t,n){const{willChange:r}=t;for(const s in t){const o=t[s],i=n[s];if(An(o))e.addValue(s,o),Ed(r)&&r.add(s);else if(An(i))e.addValue(s,ha(o,{owner:e})),Ed(r)&&r.remove(s);else if(i!==o)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(o)}else{const l=e.getStaticValue(s);e.addValue(s,ha(l!==void 0?l:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Mb=new WeakMap,IN=Object.keys(Zl),SU=IN.length,Rb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],CU=Zv.length;class NU{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:o},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ye.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=i,this.isControllingVariants=Cf(n),this.isVariantNode=wC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const m=d[f];l[f]!==void 0&&An(m)&&(m.set(l[f],!1),Ed(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Mb.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),DN.current||_U(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Kp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Mb.delete(this.current),this.projection&&this.projection.unmount(),fs(this.notifyUpdate),fs(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=ii.has(t),s=n.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&Ye.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,o){let i,l;for(let c=0;c<SU;c++){const u=IN[c],{isEnabled:d,Feature:f,ProjectionNode:m,MeasureLayout:p}=Zl[u];m&&(i=m),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:m,layoutRoot:p}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Oi(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:m,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):St()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Rb.length;r++){const s=Rb[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o=t["on"+s];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=jU(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<CU;r++){const s=Zv[r],o=this.props[s];(Jl(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ha(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=ay(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!An(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new vy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class LN extends NU{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},o){let i=HB(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),i&&(i=s(i))),o){BB(this,r,i);const l=bU(this,r,i,n);n=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:n,...r}}}function kU(e){return window.getComputedStyle(e)}class EU extends LN{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(ii.has(n)){const r=fy(n);return r&&r.default||0}else{const r=kU(t),s=(SC(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return SN(t,n)}build(t,n,r,s){ny(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return iy(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;An(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){PC(t,n,r,s)}}class TU extends LN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ii.has(n)){const r=fy(n);return r&&r.default||0}return n=AC.has(n)?n:Xv(n),t.getAttribute(n)}measureInstanceViewportBox(){return St()}scrapeMotionValuesFromProps(t,n){return RC(t,n)}build(t,n,r,s){sy(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){MC(t,n,r,s)}mount(t){this.isSVGTag=oy(t.tagName),super.mount(t)}}const PU=(e,t)=>ty(e)?new TU(t,{enableHardwareAcceleration:!1}):new EU(t,{enableHardwareAcceleration:!0}),AU={layout:{ProjectionNode:RN,MeasureLayout:NN}},MU={...s8,...SV,...cU,...AU},at=R6((e,t)=>dV(e,t,MU,PU));function $N(){const e=h.useRef(!1);return Qv(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function RU(){const e=$N(),[t,n]=h.useState(0),r=h.useCallback(()=>{e.current&&n(t+1)},[t]);return[h.useCallback(()=>Ye.postRender(r),[r]),t]}class OU extends h.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function DU({children:e,isPresent:t}){const n=h.useId(),r=h.useRef(null),s=h.useRef({width:0,height:0,top:0,left:0});return h.useInsertionEffect(()=>{const{width:o,height:i,top:l,left:c}=s.current;if(t||!r.current||!o||!i)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${i}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),h.createElement(OU,{isPresent:t,childRef:r,sizeRef:s},h.cloneElement(e,{ref:r}))}const Jh=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:i})=>{const l=OC(IU),c=h.useId(),u=h.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),o?void 0:[n]);return h.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),h.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),i==="popLayout"&&(e=h.createElement(DU,{isPresent:n},e)),h.createElement(_f.Provider,{value:u},e)};function IU(){return new Map}function LU(e){return h.useEffect(()=>()=>e(),[])}const ko=e=>e.key||"";function $U(e,t){e.forEach(n=>{const r=ko(n);t.set(r,n)})}function FU(e){const t=[];return h.Children.forEach(e,n=>{h.isValidElement(n)&&t.push(n)}),t}const yy=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const l=h.useContext(ey).forceRender||RU()[0],c=$N(),u=FU(e);let d=u;const f=h.useRef(new Map).current,m=h.useRef(d),p=h.useRef(new Map).current,x=h.useRef(!0);if(Qv(()=>{x.current=!1,$U(u,p),m.current=d}),LU(()=>{x.current=!0,p.clear(),f.clear()}),x.current)return h.createElement(h.Fragment,null,d.map(v=>h.createElement(Jh,{key:ko(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:i},v)));d=[...d];const g=m.current.map(ko),y=u.map(ko),w=g.length;for(let v=0;v<w;v++){const b=g[v];y.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return i==="wait"&&f.size&&(d=[]),f.forEach((v,b)=>{if(y.indexOf(b)!==-1)return;const j=p.get(b);if(!j)return;const S=g.indexOf(b);let N=v;if(!N){const _=()=>{f.delete(b);const C=Array.from(p.keys()).filter(P=>!y.includes(P));if(C.forEach(P=>p.delete(P)),m.current=u.filter(P=>{const I=ko(P);return I===b||C.includes(I)}),!f.size){if(c.current===!1)return;l(),r&&r()}};N=h.createElement(Jh,{key:ko(j),isPresent:!1,onExitComplete:_,custom:t,presenceAffectsLayout:o,mode:i},j),f.set(b,N)}d.splice(S,0,N)}),d=d.map(v=>{const b=v.key;return f.has(b)?v:h.createElement(Jh,{key:ko(v),isPresent:!0,presenceAffectsLayout:o,mode:i},v)}),h.createElement(h.Fragment,null,f.size?d:d.map(v=>h.cloneElement(v)))},At=()=>{const e=new Date,t=-180,r=e.getTimezoneOffset()-t;return new Date(e.getTime()+r*60*1e3)};function Ob(e){const t=VU(e),n=h.forwardRef((r,s)=>{const{children:o,...i}=r,l=h.Children.toArray(o),c=l.find(UU);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...i,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return a.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function VU(e){const t=h.forwardRef((n,r)=>{const{children:s,...o}=n;if(h.isValidElement(s)){const i=zU(s),l=HU(o,s.props);return s.type!==h.Fragment&&(l.ref=r?hn(r,i):i),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var BU=Symbol("radix.slottable");function UU(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===BU}function HU(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function zU(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Tf(e){const t=e+"CollectionProvider",[n,r]=rr(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:y,children:w}=g,v=ct.useRef(null),b=ct.useRef(new Map).current;return a.jsx(s,{scope:y,itemMap:b,collectionRef:v,children:w})};i.displayName=t;const l=e+"CollectionSlot",c=Ob(l),u=ct.forwardRef((g,y)=>{const{scope:w,children:v}=g,b=o(l,w),j=Te(y,b.collectionRef);return a.jsx(c,{ref:j,children:v})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=Ob(d),p=ct.forwardRef((g,y)=>{const{scope:w,children:v,...b}=g,j=ct.useRef(null),S=Te(y,j),N=o(d,w);return ct.useEffect(()=>(N.itemMap.set(j,{ref:j,...b}),()=>void N.itemMap.delete(j))),a.jsx(m,{[f]:"",ref:S,children:v})});p.displayName=d;function x(g){const y=o(e+"CollectionConsumer",g);return ct.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((N,_)=>b.indexOf(N.ref.current)-b.indexOf(_.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},x,r]}var WU=h.createContext(void 0);function Pf(e){const t=h.useContext(WU);return e||t||"ltr"}var Zh="rovingFocusGroup.onEntryFocus",qU={bubbles:!1,cancelable:!0},Sc="RovingFocusGroup",[Qp,FN,GU]=Tf(Sc),[YU,Af]=rr(Sc,[GU]),[KU,QU]=YU(Sc),VN=h.forwardRef((e,t)=>a.jsx(Qp.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Qp.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(XU,{...e,ref:t})})}));VN.displayName=Sc;var XU=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=h.useRef(null),p=Te(t,m),x=Pf(o),[g,y]=Br({prop:i,defaultProp:l??null,onChange:c,caller:Sc}),[w,v]=h.useState(!1),b=mn(u),j=FN(n),S=h.useRef(!1),[N,_]=h.useState(0);return h.useEffect(()=>{const C=m.current;if(C)return C.addEventListener(Zh,b),()=>C.removeEventListener(Zh,b)},[b]),a.jsx(KU,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:g,onItemFocus:h.useCallback(C=>y(C),[y]),onItemShiftTab:h.useCallback(()=>v(!0),[]),onFocusableItemAdd:h.useCallback(()=>_(C=>C+1),[]),onFocusableItemRemove:h.useCallback(()=>_(C=>C-1),[]),children:a.jsx(ce.div,{tabIndex:w||N===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:ee(e.onMouseDown,()=>{S.current=!0}),onFocus:ee(e.onFocus,C=>{const P=!S.current;if(C.target===C.currentTarget&&P&&!w){const I=new CustomEvent(Zh,qU);if(C.currentTarget.dispatchEvent(I),!I.defaultPrevented){const L=j().filter(M=>M.focusable),O=L.find(M=>M.active),U=L.find(M=>M.id===g),E=[O,U,...L].filter(Boolean).map(M=>M.ref.current);HN(E,d)}}S.current=!1}),onBlur:ee(e.onBlur,()=>v(!1))})})}),BN="RovingFocusGroupItem",UN=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...l}=e,c=Ht(),u=o||c,d=QU(BN,n),f=d.currentTabStopId===u,m=FN(n),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:g}=d;return h.useEffect(()=>{if(r)return p(),()=>x()},[r,p,x]),a.jsx(Qp.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(ce.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ee(e.onMouseDown,y=>{r?d.onItemFocus(u):y.preventDefault()}),onFocus:ee(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ee(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const w=eH(y,d.orientation,d.dir);if(w!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=m().filter(j=>j.focusable).map(j=>j.ref.current);if(w==="last")b.reverse();else if(w==="prev"||w==="next"){w==="prev"&&b.reverse();const j=b.indexOf(y.currentTarget);b=d.loop?tH(b,j+1):b.slice(j+1)}setTimeout(()=>HN(b))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:g!=null}):i})})});UN.displayName=BN;var JU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ZU(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function eH(e,t,n){const r=ZU(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return JU[r]}function HN(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function tH(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var zN=VN,WN=UN,Mf="Tabs",[nH,TG]=rr(Mf,[Af]),qN=Af(),[rH,xy]=nH(Mf),GN=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Pf(l),[f,m]=Br({prop:r,onChange:s,defaultProp:o??"",caller:Mf});return a.jsx(rH,{scope:n,baseId:Ht(),value:f,onValueChange:m,orientation:i,dir:d,activationMode:c,children:a.jsx(ce.div,{dir:d,"data-orientation":i,...u,ref:t})})});GN.displayName=Mf;var YN="TabsList",KN=h.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=xy(YN,n),i=qN(n);return a.jsx(zN,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:a.jsx(ce.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});KN.displayName=YN;var QN="TabsTrigger",XN=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=xy(QN,n),l=qN(n),c=ek(i.baseId,r),u=tk(i.baseId,r),d=r===i.value;return a.jsx(WN,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(ce.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:ee(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:ee(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:ee(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(r)})})})});XN.displayName=QN;var JN="TabsContent",ZN=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,l=xy(JN,n),c=ek(l.baseId,r),u=tk(l.baseId,r),d=r===l.value,f=h.useRef(d);return h.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(qn,{present:s||d,children:({present:m})=>a.jsx(ce.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&o})})});ZN.displayName=JN;function ek(e,t){return`${e}-trigger-${t}`}function tk(e,t){return`${e}-content-${t}`}var sH=GN,nk=KN,rk=XN,sk=ZN;const xl=sH,tc=h.forwardRef(({className:e,...t},n)=>a.jsx(nk,{ref:n,className:W("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));tc.displayName=nk.displayName;const mr=h.forwardRef(({className:e,...t},n)=>a.jsx(rk,{ref:n,className:W("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));mr.displayName=rk.displayName;const Ar=h.forwardRef(({className:e,...t},n)=>a.jsx(sk,{ref:n,className:W("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ar.displayName=sk.displayName;const qo=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:n,className:W("w-full caption-bottom text-sm",e),...t})}));qo.displayName="Table";const Go=h.forwardRef(({className:e,...t},n)=>a.jsx("thead",{ref:n,className:W("[&_tr]:border-b",e),...t}));Go.displayName="TableHeader";const Yo=h.forwardRef(({className:e,...t},n)=>a.jsx("tbody",{ref:n,className:W("[&_tr:last-child]:border-0",e),...t}));Yo.displayName="TableBody";const oH=h.forwardRef(({className:e,...t},n)=>a.jsx("tfoot",{ref:n,className:W("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));oH.displayName="TableFooter";const pt=h.forwardRef(({className:e,...t},n)=>a.jsx("tr",{ref:n,className:W("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));pt.displayName="TableRow";const je=h.forwardRef(({className:e,...t},n)=>a.jsx("th",{ref:n,className:W("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));je.displayName="TableHead";const pe=h.forwardRef(({className:e,...t},n)=>a.jsx("td",{ref:n,className:W("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));pe.displayName="TableCell";const iH=h.forwardRef(({className:e,...t},n)=>a.jsx("caption",{ref:n,className:W("mt-4 text-sm text-muted-foreground",e),...t}));iH.displayName="TableCaption";const aH=hc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",warning:"border-transparent bg-orange-500 text-white hover:bg-orange-500/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ne({className:e,variant:t,...n}){return a.jsx("div",{className:W(aH({variant:t}),e),...n})}const lH=hc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ki=h.forwardRef(({className:e,variant:t,...n},r)=>a.jsx("div",{ref:r,role:"alert",className:W(lH({variant:t}),e),...n}));Ki.displayName="Alert";const Qi=h.forwardRef(({className:e,...t},n)=>a.jsx("h5",{ref:n,className:W("mb-1 font-medium leading-none tracking-tight",e),...t}));Qi.displayName="AlertTitle";const Xi=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:W("text-sm [&_p]:leading-relaxed",e),...t}));Xi.displayName="AlertDescription";const cH=()=>{const{user:e}=nr(),[t,n]=h.useState([]),[r,s]=h.useState(!1);h.useEffect(()=>{if(!(e!=null&&e.id))return;const c=async()=>{const{data:d}=await F.from("student_messages").select("*").eq("student_id",e.id).eq("is_read",!1).order("created_at",{ascending:!1}).limit(5);n(d||[])};c();const u=F.channel("student-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"student_messages",filter:`student_id=eq.${e.id}`},()=>{c()}).subscribe();return()=>{F.removeChannel(u)}},[e==null?void 0:e.id]);const o=async c=>{await F.from("student_messages").update({is_read:!0}).eq("id",c),n(t.filter(u=>u.id!==c))};if(t.length===0)return null;const i=c=>{switch(c){case"urgent":return"border-red-500 bg-red-50";case"important":return"border-yellow-500 bg-yellow-50";default:return"border-sky-500 bg-sky-50"}},l=c=>{switch(c){case"urgent":return a.jsx(Ne,{variant:"destructive",children:"Urgente"});case"important":return a.jsx(Ne,{className:"bg-yellow-500",children:"Importante"});default:return a.jsx(Ne,{className:"bg-sky-500",children:"Normal"})}};return a.jsx(at.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:a.jsxs("div",{className:"bg-white border-l-4 border-sky-500 rounded-lg shadow-sm p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fr,{className:"h-5 w-5 text-sky-600"}),a.jsxs("h3",{className:"font-bold text-lg",children:["Mensagens do Professor (",t.length,")"]})]}),a.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>s(!r),children:r?a.jsx(pc,{className:"h-4 w-4"}):a.jsx(la,{className:"h-4 w-4"})})]}),a.jsx(yy,{children:!r&&a.jsx(at.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"space-y-3",children:t.map(c=>a.jsx(Ki,{className:i(c.priority),children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Qi,{className:"font-semibold text-base",children:c.title}),l(c.priority)]}),a.jsx(Xi,{className:"text-sm text-slate-700 whitespace-pre-wrap",children:c.message})]}),a.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>o(c.id),className:"shrink-0",children:a.jsx(la,{className:"h-4 w-4"})})]})},c.id))})})]})})};function uH(e){const t=dH(e),n=h.forwardRef((r,s)=>{const{children:o,...i}=r,l=h.Children.toArray(o),c=l.find(hH);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...i,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return a.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function dH(e){const t=h.forwardRef((n,r)=>{const{children:s,...o}=n;if(h.isValidElement(s)){const i=pH(s),l=mH(o,s.props);return s.type!==h.Fragment&&(l.ref=r?hn(r,i):i),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fH=Symbol("radix.slottable");function hH(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fH}function mH(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function pH(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Rf="Dialog",[ok,PG]=rr(Rf),[gH,_r]=ok(Rf),ik=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=h.useRef(null),c=h.useRef(null),[u,d]=Br({prop:r,defaultProp:s??!1,onChange:o,caller:Rf});return a.jsx(gH,{scope:t,triggerRef:l,contentRef:c,contentId:Ht(),titleId:Ht(),descriptionId:Ht(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};ik.displayName=Rf;var ak="DialogTrigger",lk=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=_r(ak,n),o=Te(t,s.triggerRef);return a.jsx(ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":_y(s.open),...r,ref:o,onClick:ee(e.onClick,s.onOpenToggle)})});lk.displayName=ak;var wy="DialogPortal",[vH,ck]=ok(wy,{forceMount:void 0}),uk=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=_r(wy,t);return a.jsx(vH,{scope:t,forceMount:n,children:h.Children.map(r,i=>a.jsx(qn,{present:n||o.open,children:a.jsx(ka,{asChild:!0,container:s,children:i})}))})};uk.displayName=wy;var Pd="DialogOverlay",dk=h.forwardRef((e,t)=>{const n=ck(Pd,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=_r(Pd,e.__scopeDialog);return o.modal?a.jsx(qn,{present:r||o.open,children:a.jsx(xH,{...s,ref:t})}):null});dk.displayName=Pd;var yH=uH("DialogOverlay.RemoveScroll"),xH=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=_r(Pd,n);return a.jsx(vf,{as:yH,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(ce.div,{"data-state":_y(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ko="DialogContent",fk=h.forwardRef((e,t)=>{const n=ck(Ko,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=_r(Ko,e.__scopeDialog);return a.jsx(qn,{present:r||o.open,children:o.modal?a.jsx(wH,{...s,ref:t}):a.jsx(bH,{...s,ref:t})})});fk.displayName=Ko;var wH=h.forwardRef((e,t)=>{const n=_r(Ko,e.__scopeDialog),r=h.useRef(null),s=Te(t,n.contentRef,r);return h.useEffect(()=>{const o=r.current;if(o)return pf(o)},[]),a.jsx(hk,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ee(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:ee(e.onFocusOutside,o=>o.preventDefault())})}),bH=h.forwardRef((e,t)=>{const n=_r(Ko,e.__scopeDialog),r=h.useRef(!1),s=h.useRef(!1);return a.jsx(hk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),hk=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=_r(Ko,n),c=h.useRef(null),u=Te(t,c);return cf(),a.jsxs(a.Fragment,{children:[a.jsx(gc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(ja,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":_y(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(_H,{titleId:l.titleId}),a.jsx(SH,{contentRef:c,descriptionId:l.descriptionId})]})]})}),by="DialogTitle",mk=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=_r(by,n);return a.jsx(ce.h2,{id:s.titleId,...r,ref:t})});mk.displayName=by;var pk="DialogDescription",gk=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=_r(pk,n);return a.jsx(ce.p,{id:s.descriptionId,...r,ref:t})});gk.displayName=pk;var vk="DialogClose",yk=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=_r(vk,n);return a.jsx(ce.button,{type:"button",...r,ref:t,onClick:ee(e.onClick,()=>s.onOpenChange(!1))})});yk.displayName=vk;function _y(e){return e?"open":"closed"}var xk="DialogTitleWarning",[AG,wk]=w4(xk,{contentName:Ko,titleName:by,docsSlug:"dialog"}),_H=({titleId:e})=>{const t=wk(xk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},jH="DialogDescriptionWarning",SH=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wk(jH).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},bk=ik,CH=lk,_k=uk,jy=dk,Sy=fk,jk=mk,Sk=gk,NH=yk;const fo=bk,Ck=CH,kH=_k,Nk=h.forwardRef(({className:e,...t},n)=>a.jsx(jy,{ref:n,className:W("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Nk.displayName=jy.displayName;const ps=h.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(kH,{children:[a.jsx(Nk,{}),a.jsxs(Sy,{ref:r,className:W("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(NH,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(la,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ps.displayName=Sy.displayName;const gs=({className:e,...t})=>a.jsx("div",{className:W("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});gs.displayName="DialogHeader";const ho=({className:e,...t})=>a.jsx("div",{className:W("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ho.displayName="DialogFooter";const vs=h.forwardRef(({className:e,...t},n)=>a.jsx(jk,{ref:n,className:W("text-lg font-semibold leading-none tracking-tight",e),...t}));vs.displayName=jk.displayName;const mo=h.forwardRef(({className:e,...t},n)=>a.jsx(Sk,{ref:n,className:W("text-sm text-muted-foreground",e),...t}));mo.displayName=Sk.displayName;var xe=function(){return xe=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},xe.apply(this,arguments)};function EH(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function kk(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Cc(e){return e.mode==="multiple"}function Nc(e){return e.mode==="range"}function Of(e){return e.mode==="single"}var TH={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function PH(e,t){return J(e,"LLLL y",t)}function AH(e,t){return J(e,"d",t)}function MH(e,t){return J(e,"LLLL",t)}function RH(e){return"".concat(e)}function OH(e,t){return J(e,"cccccc",t)}function DH(e,t){return J(e,"yyyy",t)}var IH=Object.freeze({__proto__:null,formatCaption:PH,formatDay:AH,formatMonthCaption:MH,formatWeekNumber:RH,formatWeekdayName:OH,formatYearCaption:DH}),LH=function(e,t,n){return J(e,"do MMMM (EEEE)",n)},$H=function(){return"Month: "},FH=function(){return"Go to next month"},VH=function(){return"Go to previous month"},BH=function(e,t){return J(e,"cccc",t)},UH=function(e){return"Week n. ".concat(e)},HH=function(){return"Year: "},zH=Object.freeze({__proto__:null,labelDay:LH,labelMonthDropdown:$H,labelNext:FH,labelPrevious:VH,labelWeekNumber:UH,labelWeekday:BH,labelYearDropdown:HH});function WH(){var e="buttons",t=TH,n=xc,r={},s={},o=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:IH,labels:zH,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:o,styles:i,today:l,mode:"default"}}function qH(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,s=e.toMonth,o=e.fromDate,i=e.toDate;return r?o=Tn(r):t&&(o=new Date(t,0,1)),s?i=xf(s):n&&(i=new Date(n,11,31)),{fromDate:o?da(o):void 0,toDate:i?da(i):void 0}}var Ek=h.createContext(void 0);function GH(e){var t,n=e.initialProps,r=WH(),s=qH(n),o=s.fromDate,i=s.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var c;(Of(n)||Cc(n)||Nc(n))&&(c=n.onSelect);var u=xe(xe(xe({},r),n),{captionLayout:l,classNames:xe(xe({},r.classNames),n.classNames),components:xe({},n.components),formatters:xe(xe({},r.formatters),n.formatters),fromDate:o,labels:xe(xe({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:xe(xe({},r.modifiers),n.modifiers),modifiersClassNames:xe(xe({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:xe(xe({},r.styles),n.styles),toDate:i});return a.jsx(Ek.Provider,{value:u,children:e.children})}function Ke(){var e=h.useContext(Ek);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Tk(e){var t=Ke(),n=t.locale,r=t.classNames,s=t.styles,o=t.formatters.formatCaption;return a.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:n})})}function YH(e){return a.jsx("svg",xe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Pk(e){var t,n,r=e.onChange,s=e.value,o=e.children,i=e.caption,l=e.className,c=e.style,u=Ke(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:YH;return a.jsxs("div",{className:l,style:c,children:[a.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),a.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:o}),a.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,a.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function KH(e){var t,n=Ke(),r=n.fromDate,s=n.toDate,o=n.styles,i=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var f=[];if(kF(r,s))for(var m=Tn(r),p=r.getMonth();p<=s.getMonth();p++)f.push(Fh(m,p));else for(var m=Tn(new Date),p=0;p<=11;p++)f.push(Fh(m,p));var x=function(y){var w=Number(y.target.value),v=Fh(Tn(e.displayMonth),w);e.onChange(v)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Pk;return a.jsx(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:o.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:f.map(function(y){return a.jsx("option",{value:y.getMonth(),children:l(y,{locale:i})},y.getMonth())})})}function QH(e){var t,n=e.displayMonth,r=Ke(),s=r.fromDate,o=r.toDate,i=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,m=[];if(!s)return a.jsx(a.Fragment,{});if(!o)return a.jsx(a.Fragment,{});for(var p=s.getFullYear(),x=o.getFullYear(),g=p;g<=x;g++)m.push(kw(sC(new Date),g));var y=function(v){var b=kw(Tn(n),Number(v.target.value));e.onChange(b)},w=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Pk;return a.jsx(w,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:y,value:n.getFullYear(),caption:d(n,{locale:i}),children:m.map(function(v){return a.jsx("option",{value:v.getFullYear(),children:d(v,{locale:i})},v.getFullYear())})})}function XH(e,t){var n=h.useState(e),r=n[0],s=n[1],o=t===void 0?r:t;return[o,s]}function JH(e){var t=e.month,n=e.defaultMonth,r=e.today,s=t||n||r||new Date,o=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(o&&fa(o,s)<0){var u=-1*(c-1);s=Rt(o,u)}return i&&fa(s,i)<0&&(s=i),Tn(s)}function ZH(){var e=Ke(),t=JH(e),n=XH(t,e.month),r=n[0],s=n[1],o=function(i){var l;if(!e.disableNavigation){var c=Tn(i);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,o]}function ez(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,s=Tn(e),o=Tn(Rt(s,r)),i=fa(o,s),l=[],c=0;c<i;c++){var u=Rt(s,c);l.push(u)}return n&&(l=l.reverse()),l}function tz(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=r?o:1,l=Tn(e);if(!n)return Rt(l,i);var c=fa(n,e);if(!(c<o))return Rt(l,i)}}function nz(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=r?o:1,l=Tn(e);if(!n)return Rt(l,-i);var c=fa(l,n);if(!(c<=0))return Rt(l,-i)}}var Ak=h.createContext(void 0);function rz(e){var t=Ke(),n=ZH(),r=n[0],s=n[1],o=ez(r,t),i=tz(r,t),l=nz(r,t),c=function(f){return o.some(function(m){return Kv(f,m)})},u=function(f,m){c(f)||(m&&dC(f,m)?s(Rt(f,1+t.numberOfMonths*-1)):s(f))},d={currentMonth:r,displayMonths:o,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return a.jsx(Ak.Provider,{value:d,children:e.children})}function kc(){var e=h.useContext(Ak);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Db(e){var t,n=Ke(),r=n.classNames,s=n.styles,o=n.components,i=kc().goToMonth,l=function(d){i(Rt(d,e.displayIndex?-e.displayIndex:0))},c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:Tk,u=a.jsx(c,{id:e.id,displayMonth:e.displayMonth});return a.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:r.vhidden,children:u}),a.jsx(KH,{onChange:l,displayMonth:e.displayMonth}),a.jsx(QH,{onChange:l,displayMonth:e.displayMonth})]})}function sz(e){return a.jsx("svg",xe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function oz(e){return a.jsx("svg",xe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ad=h.forwardRef(function(e,t){var n=Ke(),r=n.classNames,s=n.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var i=o.join(" "),l=xe(xe({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),a.jsx("button",xe({},e,{ref:t,type:"button",className:i,style:l}))});function iz(e){var t,n,r=Ke(),s=r.dir,o=r.locale,i=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!e.nextMonth&&!e.previousMonth)return a.jsx(a.Fragment,{});var m=u(e.previousMonth,{locale:o}),p=[i.nav_button,i.nav_button_previous].join(" "),x=d(e.nextMonth,{locale:o}),g=[i.nav_button,i.nav_button_next].join(" "),y=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:oz,w=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:sz;return a.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&a.jsx(Ad,{name:"previous-month","aria-label":m,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?a.jsx(y,{className:i.nav_icon,style:l.nav_icon}):a.jsx(w,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&a.jsx(Ad,{name:"next-month","aria-label":x,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?a.jsx(w,{className:i.nav_icon,style:l.nav_icon}):a.jsx(y,{className:i.nav_icon,style:l.nav_icon})})]})}function Ib(e){var t=Ke().numberOfMonths,n=kc(),r=n.previousMonth,s=n.nextMonth,o=n.goToMonth,i=n.displayMonths,l=i.findIndex(function(x){return Kv(e.displayMonth,x)}),c=l===0,u=l===i.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),m=function(){r&&o(r)},p=function(){s&&o(s)};return a.jsx(iz,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:m,onNextClick:p})}function az(e){var t,n=Ke(),r=n.classNames,s=n.disableNavigation,o=n.styles,i=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:Tk,u;return s?u=a.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=a.jsx(Db,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=a.jsxs(a.Fragment,{children:[a.jsx(Db,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),a.jsx(Ib,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=a.jsxs(a.Fragment,{children:[a.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(Ib,{displayMonth:e.displayMonth,id:e.id})]}),a.jsx("div",{className:r.caption,style:o.caption,children:u})}function lz(e){var t=Ke(),n=t.footer,r=t.styles,s=t.classNames.tfoot;return n?a.jsx("tfoot",{className:s,style:r.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:n})})}):a.jsx(a.Fragment,{})}function cz(e,t,n){for(var r=n?ds(new Date):Pn(new Date,{locale:e,weekStartsOn:t}),s=[],o=0;o<7;o++){var i=Ct(r,o);s.push(i)}return s}function uz(){var e=Ke(),t=e.classNames,n=e.styles,r=e.showWeekNumber,s=e.locale,o=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=cz(s,o,i);return a.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&a.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,f){return a.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},f)})]})}function dz(){var e,t=Ke(),n=t.classNames,r=t.styles,s=t.components,o=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:uz;return a.jsx("thead",{style:r.head,className:n.head,children:a.jsx(o,{})})}function fz(e){var t=Ke(),n=t.locale,r=t.formatters.formatDay;return a.jsx(a.Fragment,{children:r(e.date,{locale:n})})}var Cy=h.createContext(void 0);function hz(e){if(!Cc(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return a.jsx(Cy.Provider,{value:t,children:e.children})}return a.jsx(mz,{initialProps:e.initialProps,children:e.children})}function mz(e){var t=e.initialProps,n=e.children,r=t.selected,s=t.min,o=t.max,i=function(u,d,f){var m,p;(m=t.onDayClick)===null||m===void 0||m.call(t,u,d,f);var x=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!x){var g=!!(!d.selected&&o&&(r==null?void 0:r.length)===o);if(!g){var y=r?kk([],r,!0):[];if(d.selected){var w=y.findIndex(function(v){return Ft(u,v)});y.splice(w,1)}else y.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,y,u,d,f)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=o&&r.length>o-1,f=r.some(function(m){return Ft(m,u)});return!!(d&&!f)});var c={selected:r,onDayClick:i,modifiers:l};return a.jsx(Cy.Provider,{value:c,children:n})}function Ny(){var e=h.useContext(Cy);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function pz(e,t){var n=t||{},r=n.from,s=n.to;return r&&s?Ft(s,e)&&Ft(r,e)?void 0:Ft(s,e)?{from:s,to:void 0}:Ft(r,e)?void 0:wd(r,e)?{from:e,to:s}:{from:r,to:e}:s?wd(e,s)?{from:s,to:e}:{from:e,to:s}:r?dC(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var ky=h.createContext(void 0);function gz(e){if(!Nc(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(ky.Provider,{value:t,children:e.children})}return a.jsx(vz,{initialProps:e.initialProps,children:e.children})}function vz(e){var t=e.initialProps,n=e.children,r=t.selected,s=r||{},o=s.from,i=s.to,l=t.min,c=t.max,u=function(p,x,g){var y,w;(y=t.onDayClick)===null||y===void 0||y.call(t,p,x,g);var v=pz(p,r);(w=t.onSelect)===null||w===void 0||w.call(t,v,p,x,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(d.range_start=[o],i?(d.range_end=[i],Ft(o,i)||(d.range_middle=[{after:o,before:i}])):d.range_end=[o]):i&&(d.range_start=[i],d.range_end=[i]),l&&(o&&!i&&d.disabled.push({after:Lh(o,l-1),before:Ct(o,l-1)}),o&&i&&d.disabled.push({after:o,before:Ct(o,l-1)}),!o&&i&&d.disabled.push({after:Lh(i,l-1),before:Ct(i,l-1)})),c){if(o&&!i&&(d.disabled.push({before:Ct(o,-c+1)}),d.disabled.push({after:Ct(o,c-1)})),o&&i){var f=Rr(i,o)+1,m=c-f;d.disabled.push({before:Lh(o,m)}),d.disabled.push({after:Ct(i,m)})}!o&&i&&(d.disabled.push({before:Ct(i,-c+1)}),d.disabled.push({after:Ct(i,c-1)}))}return a.jsx(ky.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function Ey(){var e=h.useContext(ky);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function $u(e){return Array.isArray(e)?kk([],e,!0):e!==void 0?[e]:[]}function yz(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],s=n[1];t[r]=$u(s)}),t}var br;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(br||(br={}));var xz=br.Selected,Gr=br.Disabled,wz=br.Hidden,bz=br.Today,em=br.RangeEnd,tm=br.RangeMiddle,nm=br.RangeStart,_z=br.Outside;function jz(e,t,n){var r,s=(r={},r[xz]=$u(e.selected),r[Gr]=$u(e.disabled),r[wz]=$u(e.hidden),r[bz]=[e.today],r[em]=[],r[tm]=[],r[nm]=[],r[_z]=[],r);return e.fromDate&&s[Gr].push({before:e.fromDate}),e.toDate&&s[Gr].push({after:e.toDate}),Cc(e)?s[Gr]=s[Gr].concat(t.modifiers[Gr]):Nc(e)&&(s[Gr]=s[Gr].concat(n.modifiers[Gr]),s[nm]=n.modifiers[nm],s[tm]=n.modifiers[tm],s[em]=n.modifiers[em]),s}var Mk=h.createContext(void 0);function Sz(e){var t=Ke(),n=Ny(),r=Ey(),s=jz(t,n,r),o=yz(t.modifiers),i=xe(xe({},s),o);return a.jsx(Mk.Provider,{value:i,children:e.children})}function Rk(){var e=h.useContext(Mk);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Cz(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Nz(e){return!!(e&&typeof e=="object"&&"from"in e)}function kz(e){return!!(e&&typeof e=="object"&&"after"in e)}function Ez(e){return!!(e&&typeof e=="object"&&"before"in e)}function Tz(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Pz(e,t){var n,r=t.from,s=t.to;if(r&&s){var o=Rr(s,r)<0;o&&(n=[s,r],r=n[0],s=n[1]);var i=Rr(e,r)>=0&&Rr(s,e)>=0;return i}return s?Ft(s,e):r?Ft(r,e):!1}function Az(e){return Hv(e)}function Mz(e){return Array.isArray(e)&&e.every(Hv)}function Rz(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(Az(n))return Ft(e,n);if(Mz(n))return n.includes(e);if(Nz(n))return Pz(e,n);if(Tz(n))return n.dayOfWeek.includes(e.getDay());if(Cz(n)){var r=Rr(n.before,e),s=Rr(n.after,e),o=r>0,i=s<0,l=wd(n.before,n.after);return l?i&&o:o||i}return kz(n)?Rr(e,n.after)>0:Ez(n)?Rr(n.before,e)>0:typeof n=="function"?n(e):!1})}function Ty(e,t,n){var r=Object.keys(t).reduce(function(o,i){var l=t[i];return Rz(e,l)&&o.push(i),o},[]),s={};return r.forEach(function(o){return s[o]=!0}),n&&!Kv(e,n)&&(s.outside=!0),s}function Oz(e,t){for(var n=Tn(e[0]),r=xf(e[e.length-1]),s,o,i=n;i<=r;){var l=Ty(i,t),c=!l.disabled&&!l.hidden;if(!c){i=Ct(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),s||(s=i),i=Ct(i,1)}return o||s}var Dz=365;function Ok(e,t){var n=t.moveBy,r=t.direction,s=t.context,o=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,m={day:Ct,week:Xl,month:Rt,year:C$,startOfWeek:function(y){return s.ISOWeek?ds(y):Pn(y,{locale:f,weekStartsOn:c})},endOfWeek:function(y){return s.ISOWeek?oC(y):wf(y,{locale:f,weekStartsOn:c})}},p=m[n](e,r==="after"?1:-1);r==="before"&&u?p=N$([u,p]):r==="after"&&d&&(p=k$([d,p]));var x=!0;if(o){var g=Ty(p,o);x=!g.disabled&&!g.hidden}return x?p:l.count>Dz?l.lastFocused:Ok(p,{moveBy:n,direction:r,context:s,modifiers:o,retry:xe(xe({},l),{count:l.count+1})})}var Dk=h.createContext(void 0);function Iz(e){var t=kc(),n=Rk(),r=h.useState(),s=r[0],o=r[1],i=h.useState(),l=i[0],c=i[1],u=Oz(t.displayMonths,n),d=s??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(s),o(void 0)},m=function(y){o(y)},p=Ke(),x=function(y,w){if(s){var v=Ok(s,{moveBy:y,direction:w,context:p,modifiers:n});Ft(s,v)||(t.goToDate(v,s),m(v))}},g={focusedDay:s,focusTarget:d,blur:f,focus:m,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return a.jsx(Dk.Provider,{value:g,children:e.children})}function Py(){var e=h.useContext(Dk);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Lz(e,t){var n=Rk(),r=Ty(e,n,t);return r}var Ay=h.createContext(void 0);function $z(e){if(!Of(e.initialProps)){var t={selected:void 0};return a.jsx(Ay.Provider,{value:t,children:e.children})}return a.jsx(Fz,{initialProps:e.initialProps,children:e.children})}function Fz(e){var t=e.initialProps,n=e.children,r=function(o,i,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,o,i,l),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,o,i,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,o,o,i,l)},s={selected:t.selected,onDayClick:r};return a.jsx(Ay.Provider,{value:s,children:n})}function Ik(){var e=h.useContext(Ay);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Vz(e,t){var n=Ke(),r=Ik(),s=Ny(),o=Ey(),i=Py(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,f=i.blur,m=i.focus,p=i.focusMonthBefore,x=i.focusMonthAfter,g=i.focusYearBefore,y=i.focusYearAfter,w=i.focusStartOfWeek,v=i.focusEndOfWeek,b=function(T){var k,R,A,V;Of(n)?(k=r.onDayClick)===null||k===void 0||k.call(r,e,t,T):Cc(n)?(R=s.onDayClick)===null||R===void 0||R.call(s,e,t,T):Nc(n)?(A=o.onDayClick)===null||A===void 0||A.call(o,e,t,T):(V=n.onDayClick)===null||V===void 0||V.call(n,e,t,T)},j=function(T){var k;m(e),(k=n.onDayFocus)===null||k===void 0||k.call(n,e,t,T)},S=function(T){var k;f(),(k=n.onDayBlur)===null||k===void 0||k.call(n,e,t,T)},N=function(T){var k;(k=n.onDayMouseEnter)===null||k===void 0||k.call(n,e,t,T)},_=function(T){var k;(k=n.onDayMouseLeave)===null||k===void 0||k.call(n,e,t,T)},C=function(T){var k;(k=n.onDayPointerEnter)===null||k===void 0||k.call(n,e,t,T)},P=function(T){var k;(k=n.onDayPointerLeave)===null||k===void 0||k.call(n,e,t,T)},I=function(T){var k;(k=n.onDayTouchCancel)===null||k===void 0||k.call(n,e,t,T)},L=function(T){var k;(k=n.onDayTouchEnd)===null||k===void 0||k.call(n,e,t,T)},O=function(T){var k;(k=n.onDayTouchMove)===null||k===void 0||k.call(n,e,t,T)},U=function(T){var k;(k=n.onDayTouchStart)===null||k===void 0||k.call(n,e,t,T)},$=function(T){var k;(k=n.onDayKeyUp)===null||k===void 0||k.call(n,e,t,T)},E=function(T){var k;switch(T.key){case"ArrowLeft":T.preventDefault(),T.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":T.preventDefault(),T.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":T.preventDefault(),T.stopPropagation(),u();break;case"ArrowUp":T.preventDefault(),T.stopPropagation(),d();break;case"PageUp":T.preventDefault(),T.stopPropagation(),T.shiftKey?g():p();break;case"PageDown":T.preventDefault(),T.stopPropagation(),T.shiftKey?y():x();break;case"Home":T.preventDefault(),T.stopPropagation(),w();break;case"End":T.preventDefault(),T.stopPropagation(),v();break}(k=n.onDayKeyDown)===null||k===void 0||k.call(n,e,t,T)},M={onClick:b,onFocus:j,onBlur:S,onKeyDown:E,onKeyUp:$,onMouseEnter:N,onMouseLeave:_,onPointerEnter:C,onPointerLeave:P,onTouchCancel:I,onTouchEnd:L,onTouchMove:O,onTouchStart:U};return M}function Bz(){var e=Ke(),t=Ik(),n=Ny(),r=Ey(),s=Of(e)?t.selected:Cc(e)?n.selected:Nc(e)?r.selected:void 0;return s}function Uz(e){return Object.values(br).includes(e)}function Hz(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var s=e.modifiersClassNames[r];if(s)n.push(s);else if(Uz(r)){var o=e.classNames["day_".concat(r)];o&&n.push(o)}}),n}function zz(e,t){var n=xe({},e.styles.day);return Object.keys(t).forEach(function(r){var s;n=xe(xe({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function Wz(e,t,n){var r,s,o,i=Ke(),l=Py(),c=Lz(e,t),u=Vz(e,c),d=Bz(),f=!!(i.onDayClick||i.mode!=="default");h.useEffect(function(){var N;c.outside||l.focusedDay&&f&&Ft(l.focusedDay,e)&&((N=n.current)===null||N===void 0||N.focus())},[l.focusedDay,e,n,f,c.outside]);var m=Hz(i,c).join(" "),p=zz(i,c),x=!!(c.outside&&!i.showOutsideDays||c.hidden),g=(o=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:fz,y=a.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),w={style:p,className:m,children:y,role:"gridcell"},v=l.focusTarget&&Ft(l.focusTarget,e)&&!c.outside,b=l.focusedDay&&Ft(l.focusedDay,e),j=xe(xe(xe({},w),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=b||v?0:-1,r)),u),S={isButton:f,isHidden:x,activeModifiers:c,selectedDays:d,buttonProps:j,divProps:w};return S}function qz(e){var t=h.useRef(null),n=Wz(e.date,e.displayMonth,t);return n.isHidden?a.jsx("div",{role:"gridcell"}):n.isButton?a.jsx(Ad,xe({name:"day",ref:t},n.buttonProps)):a.jsx("div",xe({},n.divProps))}function Gz(e){var t=e.number,n=e.dates,r=Ke(),s=r.onWeekNumberClick,o=r.styles,i=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!s)return a.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:d});var f=c(Number(t),{locale:l}),m=function(p){s(t,n,p)};return a.jsx(Ad,{name:"week-number","aria-label":f,className:i.weeknumber,style:o.weeknumber,onClick:m,children:d})}function Yz(e){var t,n,r=Ke(),s=r.styles,o=r.classNames,i=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:qz,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:Gz,d;return i&&(d=a.jsx("td",{className:o.cell,style:s.cell,children:a.jsx(u,{number:e.weekNumber,dates:e.dates})})),a.jsxs("tr",{className:o.row,style:s.row,children:[d,e.dates.map(function(f){return a.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:a.jsx(c,{displayMonth:e.displayMonth,date:f})},T5(f))})]})}function Lb(e,t,n){for(var r=n!=null&&n.ISOWeek?oC(t):wf(t,n),s=n!=null&&n.ISOWeek?ds(e):Pn(e,n),o=Rr(r,s),i=[],l=0;l<=o;l++)i.push(Ct(s,l));var c=i.reduce(function(u,d){var f=n!=null&&n.ISOWeek?zv(d):qv(d,n),m=u.find(function(p){return p.weekNumber===f});return m?(m.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function Kz(e,t){var n=Lb(Tn(e),xf(e),t);if(t!=null&&t.useFixedWeeks){var r=A5(e,t);if(r<6){var s=n[n.length-1],o=s.dates[s.dates.length-1],i=Xl(o,6-r),l=Lb(Xl(o,1),i,t);n.push.apply(n,l)}}return n}function Qz(e){var t,n,r,s=Ke(),o=s.locale,i=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,m=s.firstWeekContainsDate,p=s.ISOWeek,x=Kz(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:o,weekStartsOn:f,firstWeekContainsDate:m}),g=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:dz,y=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:Yz,w=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:lz;return a.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&a.jsx(g,{}),a.jsx("tbody",{className:i.tbody,style:l.tbody,children:x.map(function(v){return a.jsx(y,{displayMonth:e.displayMonth,dates:v.dates,weekNumber:v.weekNumber},v.weekNumber)})}),a.jsx(w,{displayMonth:e.displayMonth})]})}function Xz(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Jz=Xz()?h.useLayoutEffect:h.useEffect,rm=!1,Zz=0;function $b(){return"react-day-picker-".concat(++Zz)}function eW(e){var t,n=e??(rm?$b():null),r=h.useState(n),s=r[0],o=r[1];return Jz(function(){s===null&&o($b())},[]),h.useEffect(function(){rm===!1&&(rm=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function tW(e){var t,n,r=Ke(),s=r.dir,o=r.classNames,i=r.styles,l=r.components,c=kc().displayMonths,u=eW(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,f=[o.month],m=i.month,p=e.displayIndex===0,x=e.displayIndex===c.length-1,g=!p&&!x;s==="rtl"&&(t=[p,x],x=t[0],p=t[1]),p&&(f.push(o.caption_start),m=xe(xe({},m),i.caption_start)),x&&(f.push(o.caption_end),m=xe(xe({},m),i.caption_end)),g&&(f.push(o.caption_between),m=xe(xe({},m),i.caption_between));var y=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:az;return a.jsxs("div",{className:f.join(" "),style:m,children:[a.jsx(y,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(Qz,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function nW(e){var t=Ke(),n=t.classNames,r=t.styles;return a.jsx("div",{className:n.months,style:r.months,children:e.children})}function rW(e){var t,n,r=e.initialProps,s=Ke(),o=Py(),i=kc(),l=h.useState(!1),c=l[0],u=l[1];h.useEffect(function(){s.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),u(!0)))},[s.initialFocus,c,o.focus,o.focusTarget,o]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=xe(xe({},s.styles.root),s.style),m=Object.keys(r).filter(function(x){return x.startsWith("data-")}).reduce(function(x,g){var y;return xe(xe({},x),(y={},y[g]=r[g],y))},{}),p=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:nW;return a.jsx("div",xe({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:a.jsx(p,{children:i.displayMonths.map(function(x,g){return a.jsx(tW,{displayIndex:g,displayMonth:x},g)})})}))}function sW(e){var t=e.children,n=EH(e,["children"]);return a.jsx(GH,{initialProps:n,children:a.jsx(rz,{children:a.jsx($z,{initialProps:n,children:a.jsx(hz,{initialProps:n,children:a.jsx(gz,{initialProps:n,children:a.jsx(Sz,{children:a.jsx(Iz,{children:t})})})})})})})}function oW(e){return a.jsx(sW,xe({},e,{children:a.jsx(rW,{initialProps:e})}))}function Io({className:e,classNames:t,showOutsideDays:n=!0,...r}){return a.jsx(oW,{showOutsideDays:n,className:W("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:W(Sp({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:W(Sp({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>a.jsx(Cp,{className:"h-4 w-4"}),IconRight:({...s})=>a.jsx(hd,{className:"h-4 w-4"})},...r})}Io.displayName="Calendar";function Fb(e,[t,n]){return Math.min(n,Math.max(t,e))}function iW(e){const t=aW(e),n=h.forwardRef((r,s)=>{const{children:o,...i}=r,l=h.Children.toArray(o),c=l.find(cW);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...i,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return a.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function aW(e){const t=h.forwardRef((n,r)=>{const{children:s,...o}=n;if(h.isValidElement(s)){const i=dW(s),l=uW(o,s.props);return s.type!==h.Fragment&&(l.ref=r?hn(r,i):i),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lW=Symbol("radix.slottable");function cW(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lW}function uW(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function dW(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function My(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Lk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),fW="VisuallyHidden",Ry=h.forwardRef((e,t)=>a.jsx(ce.span,{...e,ref:t,style:{...Lk,...e.style}}));Ry.displayName=fW;var hW=[" ","Enter","ArrowUp","ArrowDown"],mW=[" ","Enter"],Qo="Select",[Df,If,pW]=Tf(Qo),[Ea,MG]=rr(Qo,[pW,Na]),Lf=Na(),[gW,po]=Ea(Qo),[vW,yW]=Ea(Qo),$k=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:p,form:x}=e,g=Lf(t),[y,w]=h.useState(null),[v,b]=h.useState(null),[j,S]=h.useState(!1),N=Pf(u),[_,C]=Br({prop:r,defaultProp:s??!1,onChange:o,caller:Qo}),[P,I]=Br({prop:i,defaultProp:l,onChange:c,caller:Qo}),L=h.useRef(null),O=y?x||!!y.closest("form"):!0,[U,$]=h.useState(new Set),E=Array.from(U).map(M=>M.props.value).join(";");return a.jsx(Lv,{...g,children:a.jsxs(gW,{required:p,scope:t,trigger:y,onTriggerChange:w,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:S,contentId:Ht(),value:P,onValueChange:I,open:_,onOpenChange:C,dir:N,triggerPointerDownPosRef:L,disabled:m,children:[a.jsx(Df.Provider,{scope:t,children:a.jsx(vW,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(M=>{$(T=>new Set(T).add(M))},[]),onNativeOptionRemove:h.useCallback(M=>{$(T=>{const k=new Set(T);return k.delete(M),k})},[]),children:n})}),O?a.jsxs(iE,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:M=>I(M.target.value),disabled:m,form:x,children:[P===void 0?a.jsx("option",{value:""}):null,Array.from(U)]},E):null]})})};$k.displayName=Qo;var Fk="SelectTrigger",Vk=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=Lf(n),i=po(Fk,n),l=i.disabled||r,c=Te(t,i.onTriggerChange),u=If(n),d=h.useRef("touch"),[f,m,p]=lE(g=>{const y=u().filter(b=>!b.disabled),w=y.find(b=>b.value===i.value),v=cE(y,g,w);v!==void 0&&i.onValueChange(v.value)}),x=g=>{l||(i.onOpenChange(!0),p()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return a.jsx(mf,{asChild:!0,...o,children:a.jsx(ce.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":aE(i.value)?"":void 0,...s,ref:c,onClick:ee(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&x(g)}),onPointerDown:ee(s.onPointerDown,g=>{d.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:ee(s.onKeyDown,g=>{const y=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(y&&g.key===" ")&&hW.includes(g.key)&&(x(),g.preventDefault())})})})});Vk.displayName=Fk;var Bk="SelectValue",Uk=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...l}=e,c=po(Bk,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=Te(t,c.onValueNodeChange);return kt(()=>{u(d)},[u,d]),a.jsx(ce.span,{...l,ref:f,style:{pointerEvents:"none"},children:aE(c.value)?a.jsx(a.Fragment,{children:i}):o})});Uk.displayName=Bk;var xW="SelectIcon",Hk=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return a.jsx(ce.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});Hk.displayName=xW;var wW="SelectPortal",zk=e=>a.jsx(ka,{asChild:!0,...e});zk.displayName=wW;var Xo="SelectContent",Wk=h.forwardRef((e,t)=>{const n=po(Xo,e.__scopeSelect),[r,s]=h.useState();if(kt(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?ni.createPortal(a.jsx(qk,{scope:e.__scopeSelect,children:a.jsx(Df.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(Gk,{...e,ref:t})});Wk.displayName=Xo;var ar=10,[qk,go]=Ea(Xo),bW="SelectContentImpl",_W=iW("SelectContent.RemoveScroll"),Gk=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:y,...w}=e,v=po(Xo,n),[b,j]=h.useState(null),[S,N]=h.useState(null),_=Te(t,H=>j(H)),[C,P]=h.useState(null),[I,L]=h.useState(null),O=If(n),[U,$]=h.useState(!1),E=h.useRef(!1);h.useEffect(()=>{if(b)return pf(b)},[b]),cf();const M=h.useCallback(H=>{const[ne,...Q]=O().map(me=>me.ref.current),[ie]=Q.slice(-1),de=document.activeElement;for(const me of H)if(me===de||(me==null||me.scrollIntoView({block:"nearest"}),me===ne&&S&&(S.scrollTop=0),me===ie&&S&&(S.scrollTop=S.scrollHeight),me==null||me.focus(),document.activeElement!==de))return},[O,S]),T=h.useCallback(()=>M([C,b]),[M,C,b]);h.useEffect(()=>{U&&T()},[U,T]);const{onOpenChange:k,triggerPointerDownPosRef:R}=v;h.useEffect(()=>{if(b){let H={x:0,y:0};const ne=ie=>{var de,me;H={x:Math.abs(Math.round(ie.pageX)-(((de=R.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((me=R.current)==null?void 0:me.y)??0))}},Q=ie=>{H.x<=10&&H.y<=10?ie.preventDefault():b.contains(ie.target)||k(!1),document.removeEventListener("pointermove",ne),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",Q,{capture:!0})}}},[b,k,R]),h.useEffect(()=>{const H=()=>k(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[k]);const[A,V]=lE(H=>{const ne=O().filter(de=>!de.disabled),Q=ne.find(de=>de.ref.current===document.activeElement),ie=cE(ne,H,Q);ie&&setTimeout(()=>ie.ref.current.focus())}),D=h.useCallback((H,ne,Q)=>{const ie=!E.current&&!Q;(v.value!==void 0&&v.value===ne||ie)&&(P(H),ie&&(E.current=!0))},[v.value]),z=h.useCallback(()=>b==null?void 0:b.focus(),[b]),B=h.useCallback((H,ne,Q)=>{const ie=!E.current&&!Q;(v.value!==void 0&&v.value===ne||ie)&&L(H)},[v.value]),Y=r==="popper"?Xp:Yk,X=Y===Xp?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:y}:{};return a.jsx(qk,{scope:n,content:b,viewport:S,onViewportChange:N,itemRefCallback:D,selectedItem:C,onItemLeave:z,itemTextRefCallback:B,focusSelectedItem:T,selectedItemText:I,position:r,isPositioned:U,searchRef:A,children:a.jsx(vf,{as:_W,allowPinchZoom:!0,children:a.jsx(gc,{asChild:!0,trapped:v.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:ee(s,H=>{var ne;(ne=v.trigger)==null||ne.focus({preventScroll:!0}),H.preventDefault()}),children:a.jsx(ja,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(Y,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:H=>H.preventDefault(),...w,...X,onPlaced:()=>$(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:ee(w.onKeyDown,H=>{const ne=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!ne&&H.key.length===1&&V(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let ie=O().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(H.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const de=H.target,me=ie.indexOf(de);ie=ie.slice(me+1)}setTimeout(()=>M(ie)),H.preventDefault()}})})})})})})});Gk.displayName=bW;var jW="SelectItemAlignedPosition",Yk=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=po(Xo,n),i=go(Xo,n),[l,c]=h.useState(null),[u,d]=h.useState(null),f=Te(t,_=>d(_)),m=If(n),p=h.useRef(!1),x=h.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:w,focusSelectedItem:v}=i,b=h.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&g&&y&&w){const _=o.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),P=o.valueNode.getBoundingClientRect(),I=w.getBoundingClientRect();if(o.dir!=="rtl"){const de=I.left-C.left,me=P.left-de,Qe=_.left-me,G=_.width+Qe,Xe=Math.max(G,C.width),Le=window.innerWidth-ar,We=Fb(me,[ar,Math.max(ar,Le-Xe)]);l.style.minWidth=G+"px",l.style.left=We+"px"}else{const de=C.right-I.right,me=window.innerWidth-P.right-de,Qe=window.innerWidth-_.right-me,G=_.width+Qe,Xe=Math.max(G,C.width),Le=window.innerWidth-ar,We=Fb(me,[ar,Math.max(ar,Le-Xe)]);l.style.minWidth=G+"px",l.style.right=We+"px"}const L=m(),O=window.innerHeight-ar*2,U=g.scrollHeight,$=window.getComputedStyle(u),E=parseInt($.borderTopWidth,10),M=parseInt($.paddingTop,10),T=parseInt($.borderBottomWidth,10),k=parseInt($.paddingBottom,10),R=E+M+U+k+T,A=Math.min(y.offsetHeight*5,R),V=window.getComputedStyle(g),D=parseInt(V.paddingTop,10),z=parseInt(V.paddingBottom,10),B=_.top+_.height/2-ar,Y=O-B,X=y.offsetHeight/2,H=y.offsetTop+X,ne=E+M+H,Q=R-ne;if(ne<=B){const de=L.length>0&&y===L[L.length-1].ref.current;l.style.bottom="0px";const me=u.clientHeight-g.offsetTop-g.offsetHeight,Qe=Math.max(Y,X+(de?z:0)+me+T),G=ne+Qe;l.style.height=G+"px"}else{const de=L.length>0&&y===L[0].ref.current;l.style.top="0px";const Qe=Math.max(B,E+g.offsetTop+(de?D:0)+X)+Q;l.style.height=Qe+"px",g.scrollTop=ne-B+g.offsetTop}l.style.margin=`${ar}px 0`,l.style.minHeight=A+"px",l.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,o.trigger,o.valueNode,l,u,g,y,w,o.dir,r]);kt(()=>b(),[b]);const[j,S]=h.useState();kt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const N=h.useCallback(_=>{_&&x.current===!0&&(b(),v==null||v(),x.current=!1)},[b,v]);return a.jsx(CW,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(ce.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Yk.displayName=jW;var SW="SelectPopperPosition",Xp=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ar,...o}=e,i=Lf(n);return a.jsx($v,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Xp.displayName=SW;var[CW,Oy]=Ea(Xo,{}),Jp="SelectViewport",Kk=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=go(Jp,n),i=Oy(Jp,n),l=Te(t,o.onViewportChange),c=h.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Df.Slot,{scope:n,children:a.jsx(ce.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ee(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const x=window.innerHeight-ar*2,g=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),w=Math.max(g,y);if(w<x){const v=w+p,b=Math.min(x,v),j=v-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Kk.displayName=Jp;var Qk="SelectGroup",[NW,kW]=Ea(Qk),EW=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Ht();return a.jsx(NW,{scope:n,id:s,children:a.jsx(ce.div,{role:"group","aria-labelledby":s,...r,ref:t})})});EW.displayName=Qk;var Xk="SelectLabel",Jk=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=kW(Xk,n);return a.jsx(ce.div,{id:s.id,...r,ref:t})});Jk.displayName=Xk;var Md="SelectItem",[TW,Zk]=Ea(Md),eE=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,l=po(Md,n),c=go(Md,n),u=l.value===r,[d,f]=h.useState(o??""),[m,p]=h.useState(!1),x=Te(t,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,r,s)}),g=Ht(),y=h.useRef("touch"),w=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(TW,{scope:n,value:r,disabled:s,textId:g,isSelected:u,onItemTextChange:h.useCallback(v=>{f(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(Df.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:a.jsx(ce.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:x,onFocus:ee(i.onFocus,()=>p(!0)),onBlur:ee(i.onBlur,()=>p(!1)),onClick:ee(i.onClick,()=>{y.current!=="mouse"&&w()}),onPointerUp:ee(i.onPointerUp,()=>{y.current==="mouse"&&w()}),onPointerDown:ee(i.onPointerDown,v=>{y.current=v.pointerType}),onPointerMove:ee(i.onPointerMove,v=>{var b;y.current=v.pointerType,s?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(i.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:ee(i.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(mW.includes(v.key)&&w(),v.key===" "&&v.preventDefault())})})})})});eE.displayName=Md;var el="SelectItemText",tE=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=po(el,n),l=go(el,n),c=Zk(el,n),u=yW(el,n),[d,f]=h.useState(null),m=Te(t,w=>f(w),c.onItemTextChange,w=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,w,c.value,c.disabled)}),p=d==null?void 0:d.textContent,x=h.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=u;return kt(()=>(g(x),()=>y(x)),[g,y,x]),a.jsxs(a.Fragment,{children:[a.jsx(ce.span,{id:c.textId,...o,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ni.createPortal(o.children,i.valueNode):null]})});tE.displayName=el;var nE="SelectItemIndicator",rE=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return Zk(nE,n).isSelected?a.jsx(ce.span,{"aria-hidden":!0,...r,ref:t}):null});rE.displayName=nE;var Zp="SelectScrollUpButton",PW=h.forwardRef((e,t)=>{const n=go(Zp,e.__scopeSelect),r=Oy(Zp,e.__scopeSelect),[s,o]=h.useState(!1),i=Te(t,r.onScrollButtonChange);return kt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(sE,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});PW.displayName=Zp;var eg="SelectScrollDownButton",AW=h.forwardRef((e,t)=>{const n=go(eg,e.__scopeSelect),r=Oy(eg,e.__scopeSelect),[s,o]=h.useState(!1),i=Te(t,r.onScrollButtonChange);return kt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(sE,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});AW.displayName=eg;var sE=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=go("SelectScrollButton",n),i=h.useRef(null),l=If(n),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),kt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(ce.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ee(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:ee(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:ee(s.onPointerLeave,()=>{c()})})}),MW="SelectSeparator",oE=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(ce.div,{"aria-hidden":!0,...r,ref:t})});oE.displayName=MW;var tg="SelectArrow",RW=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Lf(n),o=po(tg,n),i=go(tg,n);return o.open&&i.position==="popper"?a.jsx(Fv,{...s,...r,ref:t}):null});RW.displayName=tg;var OW="SelectBubbleInput",iE=h.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=h.useRef(null),o=Te(r,s),i=My(t);return h.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),a.jsx(ce.select,{...n,style:{...Lk,...n.style},ref:o,defaultValue:t})});iE.displayName=OW;function aE(e){return e===""||e===void 0}function lE(e){const t=mn(e),n=h.useRef(""),r=h.useRef(0),s=h.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function cE(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=DW(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function DW(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var IW=$k,uE=Vk,LW=Uk,$W=Hk,FW=zk,dE=Wk,VW=Kk,fE=Jk,hE=eE,BW=tE,UW=rE,mE=oE;const tn=IW,nn=LW,zt=h.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(uE,{ref:r,className:W("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:[t,a.jsx($W,{asChild:!0,children:a.jsx(r4,{className:"h-4 w-4 opacity-50"})})]}));zt.displayName=uE.displayName;const Wt=h.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>a.jsx(FW,{children:a.jsx(dE,{ref:s,className:W("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:a.jsx(VW,{className:W("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));Wt.displayName=dE.displayName;const HW=h.forwardRef(({className:e,...t},n)=>a.jsx(fE,{ref:n,className:W("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));HW.displayName=fE.displayName;const Pe=h.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(hE,{ref:r,className:W("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(UW,{children:a.jsx(mc,{className:"h-4 w-4"})})}),a.jsx(BW,{children:t})]}));Pe.displayName=hE.displayName;const zW=h.forwardRef(({className:e,...t},n)=>a.jsx(mE,{ref:n,className:W("-mx-1 my-1 h-px bg-muted",e),...t}));zW.displayName=mE.displayName;const Vb={0:"Dom",1:"Seg",2:"Ter",3:"Qua",4:"Qui",5:"Sex",6:"Sb"},WW=Array.from({length:68},(e,t)=>{const n=420+t*15,r=Math.floor(n/60),s=n%60;return`${String(r).padStart(2,"0")}:${String(s).padStart(2,"0")}:00`}),qW=({nextClass:e})=>{if(!e)return a.jsxs("div",{className:"bg-white rounded-lg border-l-4 border-slate-300 shadow-sm p-4 h-full flex flex-col justify-center",children:[a.jsx("h3",{className:"text-lg font-bold mb-2",children:"Prxima Aula"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Voc no tem nenhuma aula agendada no futuro."})]});const{class_datetime:t,student:n}=e;return a.jsxs("div",{className:"bg-white rounded-lg border-l-4 border-sky-500 shadow-sm p-4 h-full flex flex-col",children:[a.jsx("h3",{className:"text-lg font-bold mb-1",children:"Prxima Aula"}),a.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Comea ",Ip(new Date(t),{locale:Fe,addSuffix:!0})]}),a.jsxs("div",{className:"flex-grow",children:[a.jsx("p",{className:"text-lg font-bold mt-1",children:n!=null&&n.spanish_level?"Espanhol":"Ingls"}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Nvel:"})," ",(n==null?void 0:n.spanish_level)||"No definido"]})]}),a.jsx(Z,{asChild:!0,className:"w-full mt-3 bg-sky-600 hover:bg-sky-700",children:a.jsx("a",{href:"https://meet.google.com/tmi-xwmg-kua",target:"_blank",rel:"noopener noreferrer",children:"Iniciar Agora"})})]})},GW=()=>a.jsx(at.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx("a",{href:"https://wa.me/555198541835",target:"_blank",rel:"noopener noreferrer",children:a.jsx(Z,{size:"icon",className:"rounded-full h-14 w-14 bg-green-500 hover:bg-green-600 shadow-lg",children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-message-circle",children:[a.jsx("path",{d:"M10.3 14.7l-1.8-1.8a.9.9 0 0 0-1.3 0l-.8.8a.9.9 0 0 0 0 1.3l2.5 2.5c.4.4 1 .4 1.4 0l5.8-5.8a.9.9 0 0 0 0-1.3l-.8-.8a.9.9 0 0 0-1.3 0l-4 4zM21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0z",fill:"white"}),a.jsx("path",{d:"M21.9 12.8c0 2-1 3.8-2.6 5.1-1.4 1.1-3.1 1.7-4.9 1.7h-.1c-3.4 0-6.4-2.1-7.5-5.1-.3-1 .1-2 .8-2.8.7-.8 1.9-1.1 2.9-1.1h.1c.5 0 1 .1 1.4.3.4.1.8.4 1.1.7l.7.7c.3.3.4.7.4 1.1 0 .4-.1.8-.4 1.1l-1.3 1.3c-.3.3-.8-.4-1.1-.4.4 0 .8.1 1.1.4l.7.7c.3.3.7.4 1.1.4Z",fill:"white",strokeWidth:"0"})]})})})}),YW=()=>{var yn,ln;const{user:e,profile:t}=nr(),{toast:n}=Dt(),r=lo(),[s,o]=h.useState(!0),[i,l]=h.useState([]),[c,u]=h.useState([]),[d,f]=h.useState({available:0,scheduled:0,completed:0,pending:0,rescheduledCount:0}),[m,p]=h.useState([]),[x,g]=h.useState(null),[y,w]=h.useState(null),[v,b]=h.useState(1),[j,S]=h.useState([]),[N,_]=h.useState([]),[C,P]=h.useState(null),[I,L]=h.useState([]),[O,U]=h.useState(!1),[$,E]=h.useState(!1),[M,T]=h.useState(!1),[k,R]=h.useState(null),[A,V]=h.useState(null),[D,z]=h.useState([]),[B,Y]=h.useState(null),[X,H]=h.useState([]),[ne,Q]=h.useState(""),[ie,de]=h.useState(!1),[me,Qe]=h.useState(!1),G=ct.useRef(null),Xe=()=>{var q;return(q=G.current)==null?void 0:q.scrollIntoView({behavior:"smooth"})};h.useEffect(Xe,[X]);const Le=i[0],We=((yn=Le==null?void 0:Le.packages)==null?void 0:yn.classes_per_week)||0,sr=((ln=Le==null?void 0:Le.packages)==null?void 0:ln.class_duration_minutes)||30,sn=Math.ceil(sr/15),It=h.useCallback(async()=>{var q,ae;if(!(!e||!(t!=null&&t.age))){o(!0);try{const he=At().toISOString(),{data:ye,error:Ae}=await F.from("profiles").select("id").eq("role","professor").limit(1).single();if(Ae&&Ae.code!=="PGRST116")throw Ae;const $e=ye==null?void 0:ye.id;if(!$e){o(!1);return}w($e);const[ze,Rn,Gt,ot,yt,Ce,xt,Tt]=await Promise.all([F.from("appointments").select("*").eq("student_id",e.id).order("class_datetime",{ascending:!0}),F.from("billing").select("*, packages ( * )").eq("user_id",e.id).gte("end_date",he.split("T")[0]).order("purchase_date",{ascending:!1}),F.from("billing").select("*, packages ( * )").eq("user_id",e.id).lt("end_date",he.split("T")[0]).order("purchase_date",{ascending:!1}),F.from("assigned_packages_log").select("assigned_classes, package_id, status").eq("student_id",e.id),F.from("solicitudes_clase").select("solicitud_id, is_recurring").eq("alumno_id",e.id).eq("status","Pendiente").maybeSingle(),F.from("appointments").select("*, student:profiles!student_id(full_name, spanish_level)").eq("student_id",e.id).in("status",["scheduled","rescheduled"]).gte("class_datetime",he).order("class_datetime",{ascending:!0}).limit(1).maybeSingle(),F.from("class_feedback").select("*, appointment:appointments!fk_appointment(class_datetime)").eq("student_id",e.id).order("created_at",{ascending:!1}),F.from("chats").select("*").eq("alumno_id",e.id).maybeSingle()]),Yt=[ze.error,Rn.error,Gt.error,ot.error,yt.error,Ce.error].filter(Boolean).filter(Kt=>Kt.code!=="PGRST116");if(Yt.length)throw new Error(Yt.map(Kt=>Kt.message).join(", "));const xn=ze.data||[];p(xn),g(Ce.data);const ys=Rn.data||[],zr=ot.data||[];l(ys),u(Gt.data||[]),z(xt.data||[]),Tt.data&&(Y(Tt.data),te(Tt.data.chat_id));const wn=ys[0],Rc=((q=wn==null?void 0:wn.packages)==null?void 0:q.classes_per_week)||0,Oc=yt.data||null,Qy=zr.filter(Kt=>Kt.status!=="Cancelado").reduce((Kt,jP)=>Kt+(jP.assigned_classes||0),0);let Xy=Qy;Qy===0&&wn&&(Xy=((ae=wn.packages)==null?void 0:ae.number_of_classes)||0);const wP=xn.filter(Kt=>["completed","missed"].includes(Kt.status)).length,Jy=xn.filter(Kt=>Kt.status==="scheduled"&&M5(Se(Kt.class_datetime))).length,Zy=xn.filter(Kt=>Kt.status==="rescheduled").length;let Wf=0;Oc&&Oc.is_recurring&&(Wf=Rc);const bP=wP+Jy+Wf,_P=Math.max(0,Xy-bP+Zy);f({available:_P,scheduled:Jy,completed:xn.filter(Kt=>Kt.status==="completed").length,pending:Wf,rescheduledCount:Zy})}catch(he){n({variant:"destructive",title:"Erro ao carregar dados",description:`(${he.message})`})}finally{o(!1)}}},[e,t,n]);h.useEffect(()=>{It()},[It]),h.useEffect(()=>{if(!e||!y)return;const q=F.channel("student-dashboard-realtime").on("postgres_changes",{event:"*",schema:"public",table:"appointments",filter:`student_id=eq.${e.id}`},It).on("postgres_changes",{event:"*",schema:"public",table:"billing",filter:`user_id=eq.${e.id}`},It).on("postgres_changes",{event:"*",schema:"public",table:"solicitudes_clase",filter:`alumno_id=eq.${e.id}`},It).on("postgres_changes",{event:"*",schema:"public",table:"assigned_packages_log",filter:`student_id=eq.${e.id}`},It).on("postgres_changes",{event:"*",schema:"public",table:"class_slots",filter:`professor_id=eq.${y}`},It).subscribe();return()=>F.removeChannel(q)},[It,e,y]);const te=async q=>{Qe(!0);const{data:ae,error:he}=await F.from("mensajes").select("*").eq("chat_id",q).order("enviado_en",{ascending:!0});he||H(ae||[]),Qe(!1)},ve=async q=>{if(q.preventDefault(),!ne.trim()||!B)return;de(!0);const ae={mensaje_id:`temp-${Date.now()}`,remitente_id:e.id,contenido:ne,enviado_en:new Date().toISOString()};H(Ae=>[...Ae,ae]);const he=ne;Q("");const{error:ye}=await F.from("mensajes").insert({chat_id:B.chat_id,remitente_id:e.id,contenido:he});ye&&(n({variant:"destructive",title:"Erro ao enviar",description:ye.message}),H(Ae=>Ae.filter($e=>$e.mensaje_id!==ae.mensaje_id)),Q(he)),de(!1)},se=h.useMemo(()=>{if(D.length===0)return null;const q=["fala","leitura","escrita","compreensao","audicao","gramatica","pronuncia","vocabulario"],ae={};q.forEach(Ce=>ae[Ce]=0),D.forEach(Ce=>{q.forEach(xt=>{ae[xt]+=Ce[xt]||0})});const he=new Date;he.setDate(he.getDate()-30);const ye=D.filter(Ce=>{var Tt;return((Tt=Ce.appointment)!=null&&Tt.class_datetime?new Date(Ce.appointment.class_datetime):new Date(Ce.created_at))>=he}),Ae={};q.forEach(Ce=>Ae[Ce]=0),ye.forEach(Ce=>{q.forEach(xt=>{Ae[xt]+=Ce[xt]||0})});const $e=q.map(Ce=>({name:Ce.charAt(0).toUpperCase()+Ce.slice(1).replace("_"," "),key:Ce,average:(ae[Ce]/D.length).toFixed(1),recentAverage:ye.length>0?(Ae[Ce]/ye.length).toFixed(1):null})),Rn=($e.reduce((Ce,xt)=>Ce+parseFloat(xt.average),0)/$e.length/5*100).toFixed(0);let Gt=null,ot=null,yt=null;if(ye.length>0){Gt=($e.reduce((Tt,Yt)=>Tt+parseFloat(Yt.recentAverage||0),0)/$e.length/5*100).toFixed(0);const xt=parseFloat(Gt)-parseFloat(Rn);ot=Math.abs(xt).toFixed(0),yt=xt>=0?"up":"down"}return{dimensions:$e,overallAveragePercent:Rn,recentAveragePercent:Gt,trendPercent:ot,trendDirection:yt,totalFeedbacks:D.length,recentFeedbacksCount:ye.length}},[D]),_e=async()=>{if(d.available===1&&d.rescheduledCount>0){T(!0);return}if(We<=0){n({variant:"destructive",title:"Aulas semanais no definidas",description:"Seu pacote ativo no tem uma frequncia de aulas semanais."});return}if(d.pending>0){n({variant:"info",title:"Solicitao Pendente",description:"Voc j tem um pedido de agendamento em anlise. Aguarde a aprovao do professor."});return}E(!0);const{data:q,error:ae}=await F.from("class_slots").select("*").eq("professor_id",y).in("status",["active","filled"]);if(ae){n({variant:"destructive",title:"Erro ao buscar horrios"}),E(!1);return}S(q),E(!1),b(2)},we=q=>{L(ae=>{const he=ae.includes(q)?ae.filter(ye=>ye!==q):[...ae,q];return he.length>We?(n({variant:"info",title:"Limite semanal atingido",description:`Voc s pode selecionar ${We} dias por semana.`}),ae):(P(null),he)})};h.useEffect(()=>{if(I.length>0){const q=j.filter(he=>he.status==="active"),ae=new Set;q.forEach(he=>{const ye=he.start_time;I.every($e=>q.some(ze=>ze.day_of_week===$e&&ze.start_time===ye))&&I.every(ze=>{const Rn=Yi(ye,"HH:mm:ss",new Date);for(let Gt=0;Gt<sn;Gt++){const ot=J(fr(Rn,{minutes:Gt*15}),"HH:mm:ss");if(!q.some(Ce=>Ce.day_of_week===ze&&Ce.start_time===ot))return!1}return!0})&&ae.add(ye)}),_(Array.from(ae).sort())}else _([])},[I,j,sn]);const Et=async()=>{if(I.length!==We||!C){n({variant:"destructive",title:"Seleo incompleta",description:`Por favor, selecione ${We} dias e um horrio.`});return}if(d.available<We){n({variant:"destructive",title:"Aulas insuficientes",description:`Voc no tem aulas disponveis para agendar ${We} aulas.`});return}if(d.pending>0){n({variant:"info",title:"Solicitao Pendente",description:"Voc j tem um pedido de agendamento em anlise. Aguarde a aprovao do professor."});return}U(!0);const q={is_recurring:!0,time:C,days:I},{error:ae}=await F.from("solicitudes_clase").insert({alumno_id:e.id,profesor_id:y,horarios_propuestos:JSON.stringify(q),status:"Pendiente",is_recurring:!0});ae?n({variant:"destructive",title:"Erro ao enviar solicitao",description:ae.message}):(n({variant:"default",title:"Solicitao enviada!",description:"O professor foi notificado. Acompanhe o status em Minhas Aulas."}),b(1),P(null),L([]),It()),U(!1)},Lt=({title:q,value:ae,icon:he,loading:ye})=>a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex items-center space-x-4",children:[a.jsx("div",{className:"bg-sky-100 p-3 rounded-full",children:a.jsx(he,{className:"w-6 h-6 text-sky-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500 text-sm",children:q}),ye?a.jsx("div",{className:"h-7 w-12 bg-slate-200 rounded-md animate-pulse mt-1"}):a.jsx("p",{className:"text-2xl font-bold text-slate-800",children:ae})]})]}),on=({status:q})=>{const ae={scheduled:{label:"Agendada",className:"bg-blue-100 text-blue-800"},completed:{label:"Realizada",className:"bg-green-100 text-green-800"},canceled:{label:"Cancelada",className:"bg-red-100 text-red-800"},missed:{label:"Falta",className:"bg-orange-100 text-orange-800"},rescheduled:{label:"Reagendada",className:"bg-purple-100 text-purple-800"}},{label:he,className:ye}=ae[q]||{label:q};return a.jsx(Ne,{variant:"outline",className:W("font-semibold",ye),children:he})},an=async()=>{if(!k||!A){n({variant:"destructive",title:"Seleo incompleta",description:"Por favor, selecione uma data e um horrio."});return}if(d.available<1||d.rescheduledCount<1){n({variant:"destructive",title:"Crdito insuficiente",description:"Voc no tem crditos de aula reagendada disponveis."});return}U(!0);try{const q=i.find(ye=>{var Ae;return((Ae=ye.packages)==null?void 0:Ae.name)==="reagenda ahora"})||i.find(ye=>{var Ae;return((Ae=ye.packages)==null?void 0:Ae.name)==="Personalizado"});if(!q)throw new Error('Pacote de reagendamento no encontrado. Certifique-se de que "reagenda ahora" ou "Personalizado" exista na tabela de pacotes.');const{error:ae}=await F.from("solicitudes_clase").insert({alumno_id:e.id,profesor_id:y,horarios_propuestos:JSON.stringify({is_recurring:!1,time:A,date:J(k,"yyyy-MM-dd")}),status:"Pendiente",is_recurring:!1});if(ae)throw ae;const{error:he}=await F.from("assigned_packages_log").insert({professor_id:y,student_id:e.id,package_id:q.package_id,assigned_classes:-1,status:"approved",observation:`Crdito consumido pelo pedido de aula pontual em ${J(k,"dd/MM/yyyy")}.`});if(he)throw he;n({variant:"default",title:"Solicitao enviada!",description:`Pedido de aula pontual em ${J(k,"dd/MM/yyyy")} s ${A} enviado. O crdito foi debitado.`}),T(!1),R(null),V(null),It()}catch(q){n({variant:"destructive",title:"Erro ao enviar solicitao",description:q.message})}finally{U(!1)}};return a.jsx(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start mb-6",children:[a.jsxs("div",{className:"flex-1 mb-4 sm:mb-0",children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Painel do Aluno"}),a.jsxs("p",{className:"text-lg text-slate-600",children:["Bem-vindo(a) de volta, ",a.jsx("span",{className:"font-semibold text-sky-600",children:(t==null?void 0:t.full_name)||(e==null?void 0:e.email)}),"!"]})]}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsx(qW,{nextClass:x})})]}),a.jsx(cH,{}),a.jsxs(xl,{defaultValue:"agenda",className:"w-full mt-8",children:[a.jsxs(tc,{className:"grid w-full grid-cols-2 md:grid-cols-5 bg-slate-200",children:[a.jsxs(mr,{value:"agenda",children:[a.jsx(jv,{className:"mr-2 h-4 w-4 hidden sm:block"}),"Agenda"]}),a.jsxs(mr,{value:"aulas",children:[a.jsx(Gl,{className:"mr-2 h-4 w-4 hidden sm:block"}),"Aulas"]}),a.jsxs(mr,{value:"conversas",children:[a.jsx(Fr,{className:"mr-2 h-4 w-4 hidden sm:block"}),"Conversas"]}),a.jsxs(mr,{value:"desempenho",children:[a.jsx(Gx,{className:"mr-2 h-4 w-4 hidden sm:block"}),"Desempenho"]}),a.jsxs(mr,{value:"faturas",children:[a.jsx(a4,{className:"mr-2 h-4 w-4 hidden sm:block"}),"Faturas"]})]}),a.jsxs(Ar,{value:"faturas",className:"mt-4 space-y-6",children:[a.jsxs(Ki,{className:"border-sky-400 bg-sky-50 text-sky-900 [&>svg]:text-sky-600",children:[a.jsx(Nv,{className:"h-4 w-4"}),a.jsx(Qi,{className:"font-bold",children:"Dica de Ouro!"}),a.jsx(Xi,{children:"Sabia que voc pode reagendar aulas perdidas? Converse com seu professor e aproveite ao mximo seu pacote, sempre dentro dos 30 dias de validade. Flexibilidade  a chave para o sucesso!"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Contratos Ativos"}),s?a.jsx("p",{children:"Carregando..."}):i.length>0?i.map(q=>{var ae,he;return a.jsxs("div",{className:"p-4 border rounded-lg bg-sky-50 border-sky-200 mb-4",children:[a.jsxs("p",{className:"text-lg font-semibold",children:[(ae=q.packages)==null?void 0:ae.name," (",(he=q.packages)==null?void 0:he.number_of_classes," aulas/ms)"]}),a.jsxs("p",{className:"text-sm text-slate-600",children:["Preo: ",a.jsxs("span",{className:"font-semibold",children:["R$ ",q.amount_paid]})]}),a.jsxs("p",{className:"text-sm text-slate-600",children:["Comprado em: ",J(Se(q.purchase_date),"PPP",{locale:Fe})," | Vlido at: ",a.jsx("span",{className:"font-semibold",children:J(Se(q.end_date),"PPP",{locale:Fe})})]})]},q.id)}):a.jsx("p",{className:"text-slate-500",children:"Nenhum contrato ativo."})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Histrico de Faturas"}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:s?a.jsx("p",{className:"p-4",children:"Carregando..."}):c.length>0?a.jsxs(qo,{children:[a.jsx(Go,{className:"bg-slate-50",children:a.jsxs(pt,{children:[a.jsx(je,{children:"Pacote"}),a.jsx(je,{children:"Data da Compra"}),a.jsx(je,{children:"Data de Expirao"})]})}),a.jsx(Yo,{children:c.map(q=>a.jsxs(pt,{children:[a.jsx(pe,{children:q.packages.name}),a.jsx(pe,{children:J(Se(q.purchase_date),"PPP",{locale:Fe})}),a.jsx(pe,{children:J(Se(q.end_date),"PPP",{locale:Fe})})]},q.id))})]}):a.jsx("p",{className:"p-8 text-center text-slate-500",children:"Nenhum histrico encontrado."})})]})]}),a.jsxs(Ar,{value:"agenda",className:"mt-4 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(Lt,{title:"Aulas Disponveis",value:d.available,icon:n4,loading:s}),a.jsx(Lt,{title:"Aulas Pendentes",value:d.pending,icon:Kx,loading:s}),a.jsx(Lt,{title:"Aulas Agendadas",value:d.scheduled,icon:e4,loading:s}),a.jsx(Lt,{title:"Aulas Realizadas",value:d.completed,icon:ZI,loading:s})]}),d.rescheduledCount>0&&d.available>0&&a.jsxs("div",{className:"p-6 bg-yellow-50 border border-yellow-200 rounded-lg shadow-sm",children:[a.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[a.jsx(Sv,{className:"h-6 w-6 text-yellow-600"}),"Agendar Aula Pontual (",d.rescheduledCount," Crdito",d.rescheduledCount>1?"s":"",")"]}),a.jsxs("p",{className:"text-slate-700 mb-4",children:["Voc tem **",d.rescheduledCount," crdito(s)** disponvel(is) de aulas reagendadas. Escolha uma data e horrio especficos."]}),a.jsxs(fo,{open:M,onOpenChange:T,children:[a.jsx(Ck,{asChild:!0,children:a.jsx(Z,{variant:"default",className:"bg-yellow-600 hover:bg-yellow-700 text-white",disabled:d.pending>0,children:"Agendar Aula Pontual"})}),a.jsxs(ps,{className:"sm:max-w-[425px]",children:[a.jsxs(gs,{children:[a.jsx(vs,{children:"Agendar Aula Pontual"}),a.jsx(mo,{children:"Selecione a data e o horrio."})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsx(Io,{mode:"single",selected:k,onSelect:q=>{R(q),V(null)},locale:Fe,className:"rounded-md border shadow"}),a.jsxs(tn,{onValueChange:V,value:A||"",children:[a.jsx(zt,{children:a.jsx(nn,{placeholder:"Selecione um horrio"})}),a.jsx(Wt,{children:WW.filter((q,ae)=>ae%2===0).map(q=>a.jsx(Pe,{value:q.substring(0,5)+":00",children:q.substring(0,5)},q))})]})]}),a.jsx(ho,{children:a.jsx(Z,{onClick:an,disabled:O||!k||!A,children:O?a.jsxs(a.Fragment,{children:[a.jsx(De,{className:"mr-2 h-4 w-4 animate-spin"})," Enviando..."]}):"Enviar Pedido de Aula"})})]})]})]}),a.jsx("div",{className:"p-6 bg-white rounded-lg shadow-sm",children:a.jsxs(yy,{mode:"wait",children:[v===1&&a.jsxs(at.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Agendar Minhas Aulas Semanais"}),a.jsxs(Ki,{children:[a.jsx(u4,{className:"h-4 w-4"}),a.jsx(Qi,{children:"Como funciona?"}),a.jsx(Xi,{children:"Escolha um horrio fixo e os dias da semana para suas aulas. Esta seleo ser enviada ao professor para aprovao e se repetir durante a validade do seu pacote."})]}),a.jsx("div",{className:"mt-6 flex justify-center",children:a.jsx(Z,{onClick:_e,disabled:$||d.available<=0||d.pending>0||!Le,children:d.pending>0?"Aguardando Aprovao...":$?a.jsxs(a.Fragment,{children:[a.jsx(De,{className:"mr-2 h-4 w-4 animate-spin"})," Carregando..."]}):"Comear Agendamento"})}),d.pending>0&&a.jsxs(Ki,{className:"mt-4 border-sky-400 bg-sky-50 text-sky-800 [&>svg]:text-sky-600",children:[a.jsx(Kx,{className:"h-4 w-4"}),a.jsx(Qi,{children:"Solicitao em Anlise"}),a.jsxs(Xi,{children:["Seu pedido de agendamento de **",We," aulas** est sendo analisado pelo professor. Voc no poder fazer um novo agendamento at que este seja aprovado ou rejeitado."]})]})]},"step1"),v===2&&a.jsxs(at.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Passo 2: Escolha os dias e o horrio"}),a.jsx(Z,{variant:"outline",onClick:()=>{b(1),P(null),L([])},children:"Voltar"})]}),$?a.jsx("div",{className:"flex justify-center items-center h-48",children:a.jsx(De,{className:"w-8 h-8 animate-spin"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-lg mb-2",children:["1. Selecione ",We," dias da semana"]}),a.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:Object.keys(Vb).map(q=>{const ae=parseInt(q),he=j.some(ye=>ye.day_of_week===ae&&ye.status==="active");return a.jsx(Z,{variant:I.includes(ae)?"default":"outline",onClick:()=>we(ae),disabled:!he,className:W("transition-all",I.includes(ae)&&"bg-sky-600 hover:bg-sky-700 ring-2 ring-sky-500 ring-offset-2",!he&&"bg-slate-100 text-slate-400 cursor-not-allowed"),children:Vb[ae]},ae)})})]}),I.length>0&&a.jsxs(at.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"2. Selecione um horrio"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 max-h-72 overflow-y-auto rounded-lg border p-3 bg-slate-50/50",children:N.length>0?N.map(q=>a.jsxs("button",{onClick:()=>P(q),className:W("flex items-center justify-between p-2 rounded-md border text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",C===q?"bg-sky-600 text-white border-sky-700 shadow-md":"bg-white hover:bg-slate-100"),children:[a.jsx("span",{className:W(C===q?"text-white":"text-slate-700"),children:q.substring(0,5)}),C===q&&a.jsx(o4,{className:"h-5 w-5 text-white"})]},q)):a.jsx("p",{className:"col-span-full text-center text-slate-500 py-8",children:"Nenhum horrio comum disponvel para os dias selecionados."})})]})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsxs(Z,{onClick:Et,disabled:O||I.length>0&&I.length!==We||!C,children:[O?a.jsx(De,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(ia,{className:"mr-2 h-4 w-4"}),"Enviar Solicitao"]})})]},"step2")]})})]}),a.jsxs(Ar,{value:"aulas",className:"mt-4 space-y-6 bg-white p-6 rounded-lg shadow-sm",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Minhas Aulas"}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsxs(qo,{children:[a.jsx(Go,{className:"bg-slate-50",children:a.jsxs(pt,{children:[a.jsx(je,{children:"Data"}),a.jsx(je,{children:"Hora"}),a.jsx(je,{children:"Durao"}),a.jsx(je,{children:"Status"})]})}),a.jsx(Yo,{children:s?a.jsx(pt,{children:a.jsx(pe,{colSpan:"4",className:"text-center",children:"Carregando..."})}):m.length>0?m.map(q=>a.jsxs(pt,{children:[a.jsx(pe,{className:"font-medium",children:J(Se(q.class_datetime),"PPP",{locale:Fe})}),a.jsx(pe,{children:J(Se(q.class_datetime),"HH:mm")}),a.jsxs(pe,{children:[q.duration_minutes||30," min"]}),a.jsx(pe,{children:a.jsx(on,{status:q.status})})]},q.id)):a.jsx(pt,{children:a.jsx(pe,{colSpan:"4",className:"text-center p-8 text-slate-500",children:"Nenhuma aula encontrada."})})})]})})]}),a.jsx(Ar,{value:"conversas",className:"mt-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm flex flex-col h-[600px] border overflow-hidden",children:[a.jsx("header",{className:"p-4 border-b bg-slate-50 flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-sky-100 flex items-center justify-center text-sky-600",children:a.jsx(uS,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold",children:"Chat com Professor"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Tire suas dvidas em tempo real"})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50",children:[me?a.jsx("div",{className:"flex justify-center items-center h-full",children:a.jsx(De,{className:"w-8 h-8 animate-spin text-sky-600"})}):X.length>0?X.map((q,ae)=>{const he=q.remitente_id===e.id;return a.jsx("div",{className:W("flex",he?"justify-end":"justify-start"),children:a.jsxs("div",{className:W("max-w-[80%] rounded-2xl px-4 py-2 shadow-sm",he?"bg-sky-600 text-white rounded-tr-none":"bg-white text-slate-800 rounded-tl-none border"),children:[a.jsx("p",{className:"text-sm",children:q.contenido}),a.jsx("p",{className:W("text-[10px] mt-1 text-right",he?"text-sky-100":"text-slate-400"),children:J(Se(q.enviado_en),"HH:mm")})]})},q.mensaje_id||ae)}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[a.jsx(f4,{className:"h-12 w-12 mb-2 opacity-20"}),a.jsx("p",{children:"Inicie uma conversa com seu professor!"})]}),a.jsx("div",{ref:G})]}),a.jsxs("form",{onSubmit:ve,className:"p-4 border-t bg-white flex gap-2",children:[a.jsx("input",{value:ne,onChange:q=>Q(q.target.value),placeholder:"Escreva sua mensagem...",className:"flex-1 bg-slate-100 border-none rounded-full px-4 py-2 text-sm focus:ring-2 focus:ring-sky-500 outline-none",disabled:ie}),a.jsx(Z,{type:"submit",size:"icon",className:"rounded-full bg-sky-600 h-10 w-10 shrink-0",disabled:ie||!ne.trim(),children:ie?a.jsx(De,{className:"h-4 w-4 animate-spin"}):a.jsx(ia,{className:"h-4 w-4"})})]})]})}),a.jsx(Ar,{value:"desempenho",className:"mt-4 space-y-6",children:a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[a.jsx("h2",{className:"text-xl font-bold mb-6",children:"Meu Desempenho"}),se?a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:0},className:"bg-gradient-to-br from-sky-500 to-sky-600 p-6 rounded-xl text-white shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sky-100 text-sm font-medium",children:"Mdia Geral"}),a.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:a.jsx(aa,{className:"h-5 w-5 text-white"})})]}),a.jsxs("p",{className:"text-4xl font-black",children:[se.overallAveragePercent,"%"]}),a.jsxs("p",{className:"text-sky-100 text-xs mt-1",children:["Baseado em ",se.totalFeedbacks," avaliaes"]})]}),a.jsxs(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"bg-gradient-to-br from-emerald-500 to-emerald-600 p-6 rounded-xl text-white shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-emerald-100 text-sm font-medium",children:"ltimos 30 Dias"}),a.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:a.jsx(Fn,{className:"h-5 w-5 text-white"})})]}),a.jsx("p",{className:"text-4xl font-black",children:se.recentAveragePercent?`${se.recentAveragePercent}%`:"N/A"}),a.jsx("p",{className:"text-emerald-100 text-xs mt-1",children:se.recentFeedbacksCount>0?`${se.recentFeedbacksCount} avaliaes recentes`:"Sem avaliaes neste perodo"})]}),a.jsxs(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:W("p-6 rounded-xl text-white shadow-lg",se.trendDirection==="up"?"bg-gradient-to-br from-green-500 to-green-600":se.trendDirection==="down"?"bg-gradient-to-br from-orange-500 to-orange-600":"bg-gradient-to-br from-slate-500 to-slate-600"),children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:W("text-sm font-medium",se.trendDirection==="up"?"text-green-100":se.trendDirection==="down"?"text-orange-100":"text-slate-100"),children:"Tendncia"}),a.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:se.trendDirection==="up"?a.jsx(v4,{className:"h-5 w-5 text-white"}):se.trendDirection==="down"?a.jsx(g4,{className:"h-5 w-5 text-white"}):a.jsx(h4,{className:"h-5 w-5 text-white"})})]}),a.jsx("p",{className:"text-4xl font-black flex items-center gap-2",children:se.trendPercent?a.jsxs(a.Fragment,{children:[se.trendDirection==="up"?"+":se.trendDirection==="down"?"-":"",se.trendPercent,"%"]}):"N/A"}),a.jsx("p",{className:W("text-xs mt-1",se.trendDirection==="up"?"text-green-100":se.trendDirection==="down"?"text-orange-100":"text-slate-100"),children:se.trendDirection==="up"?"Voc est evoluindo!":se.trendDirection==="down"?"Hora de focar mais!":"Sem dados suficientes"})]})]}),a.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-100",children:[a.jsx("h3",{className:"text-lg font-bold mb-6 text-slate-800",children:"Desempenho por Competncia"}),a.jsx("div",{className:"flex items-end justify-between gap-2 h-64 px-4",children:se.dimensions.map((q,ae)=>{const he=parseFloat(q.average)/5*100,ye=Ae=>Ae>=80?"from-emerald-400 to-emerald-600":Ae>=60?"from-sky-400 to-sky-600":Ae>=40?"from-yellow-400 to-yellow-600":"from-orange-400 to-orange-600";return a.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[a.jsxs("div",{className:"relative w-full flex flex-col items-center",children:[a.jsx(at.span,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5+ae*.1},className:"text-xs font-bold text-slate-700 mb-1",children:q.average}),a.jsx("div",{className:"w-full h-48 bg-slate-200 rounded-t-lg overflow-hidden flex items-end",children:a.jsx(at.div,{initial:{height:0},animate:{height:`${he}%`},transition:{duration:1,delay:ae*.1,ease:"easeOut"},className:W("w-full rounded-t-lg bg-gradient-to-t shadow-inner",ye(he))})})]}),a.jsx("span",{className:"text-[10px] font-medium text-slate-600 mt-2 text-center leading-tight",children:q.name})]},q.key)})}),a.jsxs("div",{className:"flex justify-center gap-6 mt-6 pt-4 border-t border-slate-200",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-emerald-400 to-emerald-600"}),a.jsx("span",{className:"text-xs text-slate-600",children:"Excelente (80%)"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-sky-400 to-sky-600"}),a.jsx("span",{className:"text-xs text-slate-600",children:"Bom (60-79%)"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-yellow-400 to-yellow-600"}),a.jsx("span",{className:"text-xs text-slate-600",children:"Regular (40-59%)"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-orange-400 to-orange-600"}),a.jsx("span",{className:"text-xs text-slate-600",children:"A melhorar (<40%)"})]})]})]}),a.jsxs("div",{className:"pt-6 border-t",children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:"Comentrios e Feedbacks do Professor"}),a.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2",children:D.length===0?a.jsx("p",{className:"text-center text-slate-500 py-8",children:"Nenhum feedback encontrado."}):D.map(q=>{var Ae,$e;const ae=["fala","leitura","escrita","compreensao","audicao","gramatica","pronuncia","vocabulario"],he=ae.reduce((ze,Rn)=>ze+(q[Rn]||0),0)/ae.length,ye=(he/5*100).toFixed(0);return a.jsxs(at.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"p-5 rounded-xl bg-white border-2 border-slate-100 hover:border-sky-200 hover:shadow-md transition-all",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-sky-100 rounded-lg",children:a.jsx(Fn,{className:"h-4 w-4 text-sky-600"})}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-bold text-slate-800",children:(Ae=q.appointment)!=null&&Ae.class_datetime?J(Se(q.appointment.class_datetime),"PPP",{locale:Fe}):"Aula"}),a.jsx("p",{className:"text-xs text-slate-500",children:($e=q.appointment)!=null&&$e.class_datetime?J(Se(q.appointment.class_datetime),"HH:mm"):""})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(ze=>a.jsx(aa,{className:W("h-4 w-4",ze<=Math.round(he)?"text-yellow-400 fill-yellow-400":"text-slate-200")},ze))}),a.jsxs(Ne,{variant:"outline",className:W("text-xs font-bold",parseInt(ye)>=80?"border-emerald-300 bg-emerald-50 text-emerald-700":parseInt(ye)>=60?"border-sky-300 bg-sky-50 text-sky-700":parseInt(ye)>=40?"border-yellow-300 bg-yellow-50 text-yellow-700":"border-orange-300 bg-orange-50 text-orange-700"),children:[ye,"%"]})]})]}),a.jsx("div",{className:"bg-slate-50 p-4 rounded-lg mb-4",children:a.jsxs("p",{className:"text-sm text-slate-700 italic leading-relaxed",children:['"',q.comment||"Sem comentrio adicional do professor.",'"']})}),a.jsx("div",{className:"grid grid-cols-4 md:grid-cols-8 gap-2",children:ae.map(ze=>a.jsxs("div",{className:"text-center p-2 bg-white border rounded-lg",children:[a.jsx("p",{className:"text-[10px] text-slate-500 font-medium truncate",children:ze.charAt(0).toUpperCase()+ze.slice(1)}),a.jsx("p",{className:W("text-sm font-bold mt-1",q[ze]>=4?"text-emerald-600":q[ze]>=3?"text-sky-600":q[ze]>=2?"text-yellow-600":"text-orange-600"),children:q[ze]})]},ze))})]},q.id)})})]})]}):a.jsxs("div",{className:"text-center py-12 text-slate-500",children:[a.jsx(Gx,{className:"h-12 w-12 mx-auto mb-4 opacity-20"}),a.jsx("p",{children:"Ainda no h avaliaes disponveis para gerar seu dashboard."}),a.jsx("p",{className:"text-sm",children:"As notas aparecero aqui aps suas aulas serem avaliadas pelo professor."})]})]})})]}),a.jsxs("div",{className:"fixed bottom-6 right-24 z-50 flex gap-3",children:[a.jsx(at.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(Z,{size:"icon",onClick:()=>r("/spanish-assistant"),className:"rounded-full h-14 w-14 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg",title:"Asistente de Espaol IA",children:a.jsx(hl,{className:"h-7 w-7"})})}),a.jsx(GW,{})]})]})})},tt=h.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:W("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));tt.displayName="Input";var KW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],QW=KW.reduce((e,t)=>{const n=bv(`Primitive.${t}`),r=h.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),XW="Label",pE=h.forwardRef((e,t)=>a.jsx(QW.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));pE.displayName=XW;var gE=pE;const JW=hc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),He=h.forwardRef(({className:e,...t},n)=>a.jsx(gE,{ref:n,className:W(JW(),e),...t}));He.displayName=gE.displayName;const Bb=300,ZW=e=>{const t=Math.floor(e/60),n=Math.floor(e%60);return`${t}:${n.toString().padStart(2,"0")}`},e7=()=>{const[e,t]=h.useState(""),[n,r]=h.useState(""),[s,o]=h.useState(!1),[i,l]=h.useState(!1),{signIn:c,sendPasswordResetLink:u}=nr(),{toast:d}=Dt(),[f,m]=h.useState(0);h.useEffect(()=>{const g=localStorage.getItem("passwordResetRequestTime");if(g){const w=(Date.now()-parseInt(g,10))/1e3,v=Math.max(0,Bb-w);m(v)}let y;return f>0&&(y=setInterval(()=>{m(w=>Math.max(0,w-1))},1e3)),()=>clearInterval(y)},[f]);const p=async()=>{if(f>0){d({variant:"info",title:"Aguarde um momento",description:`Voc poder solicitar um novo link em ${Math.ceil(f/60)} minutos.`});return}if(!e){d({variant:"destructive",title:"E-mail necessrio",description:"Por favor, insira seu e-mail para redefinir a senha."});return}o(!0);const{error:g}=await u(e);g||(localStorage.setItem("passwordResetRequestTime",Date.now().toString()),m(Bb)),o(!1)},x=async g=>{g.preventDefault(),o(!0),await c(e,n),o(!1)};return a.jsxs(at.div,{className:"flex flex-col items-center justify-center min-h-[70vh]",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},children:[a.jsx("div",{className:"text-center mb-8",children:a.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Painel do Aluno"})}),a.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-2xl shadow-lg",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("h2",{className:"text-2xl font-bold",children:[a.jsx("span",{className:"text-sky-600",children:"Conexion"}),a.jsx("span",{className:"text-slate-800",children:" America"})]}),a.jsx("p",{className:"text-slate-500 mt-2",children:"Faa login para acessar seu painel."})]}),a.jsxs("form",{onSubmit:x,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(He,{htmlFor:"email",children:"Email"}),a.jsx(tt,{id:"email",type:"email",placeholder:"seu@email.com",value:e,onChange:g=>t(g.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(He,{htmlFor:"password",children:"Senha"}),a.jsx("button",{type:"button",onClick:p,className:"text-sm font-medium text-sky-600 hover:underline disabled:text-slate-400 disabled:no-underline",disabled:f>0,children:f>0?a.jsxs("span",{className:"flex items-center",children:[a.jsx(oi,{className:"mr-1 h-4 w-4"}),"Aguarde ",ZW(f)]}):"Esqueci a minha senha"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(tt,{id:"password",type:i?"text":"password",value:n,onChange:g=>r(g.target.value),required:!0,className:"pr-10"}),a.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-slate-500",children:i?a.jsx(af,{size:20}):a.jsx(pc,{size:20})})]})]}),a.jsx(Z,{type:"submit",className:"w-full bg-sky-600 hover:bg-sky-700",disabled:s,children:s?"Entrando...":"Entrar"})]}),a.jsxs("p",{className:"text-sm text-center text-slate-500",children:["No tem uma conta?"," ",a.jsx(Qs,{to:"/register",className:"font-medium text-sky-600 hover:underline",children:"Registre-se"})]})]})]})},t7=()=>{const[e,t]=h.useState(!1),{signUp:n,signIn:r}=nr();lo();const[s,o]=h.useState(""),[i,l]=h.useState(""),[c,u]=h.useState(""),[d,f]=h.useState(""),[m,p]=h.useState(!1),x=async g=>{g.preventDefault(),t(!0);const y="student",{error:w}=await n(s,i,{data:{username:c,full_name:d,role:y}});w||await r(s,i),t(!1)};return a.jsx(at.div,{className:"flex items-center justify-center min-h-[80vh]",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},children:a.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-2xl shadow-lg",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Crie sua conta de Aluno"}),a.jsx("p",{className:"text-slate-500",children:"Comece sua jornada conosco!"})]}),a.jsxs("form",{onSubmit:x,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(He,{htmlFor:"fullName-student",children:"Nome Completo"}),a.jsx(tt,{id:"fullName-student",type:"text",placeholder:"Seu nome completo",value:d,onChange:g=>f(g.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(He,{htmlFor:"username-student",children:"Nome de Usurio"}),a.jsx(tt,{id:"username-student",type:"text",placeholder:"Ex: joaosilva123",value:c,onChange:g=>u(g.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(He,{htmlFor:"email-student",children:"Email"}),a.jsx(tt,{id:"email-student",type:"email",placeholder:"seu@email.com",value:s,onChange:g=>o(g.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(He,{htmlFor:"password-student",children:"Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx(tt,{id:"password-student",type:m?"text":"password",placeholder:"",value:i,onChange:g=>l(g.target.value),required:!0,className:"pr-10"}),a.jsx("button",{type:"button",onClick:()=>p(!m),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-slate-500",children:m?a.jsx(af,{size:20}):a.jsx(pc,{size:20})})]})]}),a.jsx(Z,{type:"submit",className:"w-full bg-sky-600 hover:bg-sky-700",disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx(De,{className:"mr-2 h-4 w-4 animate-spin"})," Criando conta..."]}):"Criar Conta de Aluno"})]}),a.jsxs("p",{className:"text-sm text-center text-slate-500",children:["J tem uma conta?"," ",a.jsx(Qs,{to:"/login",className:"font-medium text-sky-600 hover:underline",children:"Faa login"})]}),a.jsxs("p",{className:"text-xs text-center text-slate-400",children:[" um professor?"," ",a.jsx(Qs,{to:"/professor-login",className:"font-medium text-sky-600 hover:underline",children:"Acesse o portal do professor"})]})]})})},n7=()=>{const[e,t]=h.useState(""),[n,r]=h.useState(""),[s,o]=h.useState(!1),[i,l]=h.useState(!1),{updateUserPassword:c}=nr(),{toast:u}=Dt(),d=async f=>{if(f.preventDefault(),!e||!n){u({variant:"destructive",title:"Campos obrigatrios",description:"Por favor, preencha todos os campos."});return}if(e!==n){u({variant:"destructive",title:"As senhas no coincidem!",description:"Por favor, verifique sua nova senha."});return}o(!0),await c(e),o(!1)};return a.jsx(at.div,{className:"flex items-center justify-center min-h-[80vh]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:a.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-2xl shadow-lg",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Crie sua Senha"}),a.jsx("p",{className:"text-slate-500",children:"Crie uma nova senha para sua conta."})]}),a.jsxs("form",{onSubmit:d,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(He,{htmlFor:"password",children:"Nova Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx(tt,{id:"password",type:i?"text":"password",placeholder:"",value:e,onChange:f=>t(f.target.value),required:!0,className:"pr-10"}),a.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-slate-500",children:i?a.jsx(af,{size:20}):a.jsx(pc,{size:20})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(He,{htmlFor:"confirmPassword",children:"Confirmar Nova Senha"}),a.jsx(tt,{id:"confirmPassword",type:i?"text":"password",placeholder:"",value:n,onChange:f=>r(f.target.value),required:!0})]}),a.jsx(Z,{type:"submit",className:"w-full bg-sky-600 hover:bg-sky-700",disabled:s,children:s?"Salvando...":"Salvar Nova Senha"})]})]})})},r7=({onLogin:e,loading:t})=>{const[n,r]=h.useState(""),[s,o]=h.useState(""),[i,l]=h.useState(!1),c=u=>{u.preventDefault(),e(n,s)};return a.jsxs("form",{onSubmit:c,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(He,{htmlFor:"email-login",children:"Email"}),a.jsx(tt,{id:"email-login",type:"email",placeholder:"seu@email.com",value:n,onChange:u=>r(u.target.value),required:!0,className:"bg-slate-900 border-slate-700 text-white focus:ring-sky-500"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(He,{htmlFor:"password-login",children:"Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx(tt,{id:"password-login",type:i?"text":"password",value:s,onChange:u=>o(u.target.value),required:!0,className:"pr-10 bg-slate-900 border-slate-700 text-white focus:ring-sky-500"}),a.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-slate-400",children:i?a.jsx(af,{size:20}):a.jsx(pc,{size:20})})]})]}),a.jsx(Z,{type:"submit",className:"w-full bg-sky-600 hover:bg-sky-700 text-white",disabled:t,children:t?a.jsxs(a.Fragment,{children:[a.jsx(De,{className:"mr-2 h-4 w-4 animate-spin"})," Verificando..."]}):"Entrar"})]})},s7=()=>{const[e,t]=h.useState(!1),{toast:n}=Dt(),{setProfessorSession:r}=nr(),s=lo(),o=async(i,l)=>{t(!0);const{data:c,error:u}=await F.auth.signInWithPassword({email:i,password:l});if(u||!c.user){n({variant:"destructive",title:"Credenciais invlidas",description:"O e-mail ou a senha esto incorretos."}),t(!1);return}const{data:d,error:f}=await F.from("profiles").select("role").eq("id",c.user.id).single();if(f||!["professor","superadmin"].includes(d==null?void 0:d.role))n({variant:"destructive",title:"Acesso Negado",description:"Voc no tem permisso para acessar este painel."}),await F.auth.signOut();else{r(!0);const p=d.role==="superadmin"?"Bem-vindo ao painel administrativo.":"Bem-vindo ao painel do professor.";n({variant:"info",title:"Login bem-sucedido!",description:p}),s("/professor-dashboard")}t(!1)};return a.jsxs(at.div,{className:"flex flex-col items-center justify-center min-h-screen bg-slate-900 text-white p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:[a.jsx("div",{className:"absolute top-8 left-8",children:a.jsxs(Qs,{to:"/",className:"text-left",children:[a.jsxs("div",{className:"text-3xl font-bold",children:[a.jsx("span",{className:"text-sky-400",children:"Conexion"}),a.jsx("span",{className:"text-slate-100",children:" America"})]}),a.jsx("p",{className:"text-xs text-slate-400 tracking-wider mt-1",children:"A qualquer hora, Em qualquer lugar..."})]})}),a.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-slate-800/50 backdrop-blur-sm rounded-2xl shadow-lg border border-slate-700",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(cS,{className:"mx-auto h-12 w-12 text-sky-400"}),a.jsx("h1",{className:"text-3xl font-bold text-white mt-4",children:"Portal do Professor"}),a.jsx("p",{className:"text-slate-400",children:"Acesso exclusivo para administradores."})]}),a.jsx("div",{className:"mt-6",children:a.jsx(r7,{onLogin:o,loading:e})}),a.jsx("div",{className:"text-center mt-4",children:a.jsx(Qs,{to:"/login",className:"text-sm text-slate-400 hover:text-white transition-colors",children:"Ir para o Portal do Aluno "})})]})]})};function o7(e){const t=i7(e),n=h.forwardRef((r,s)=>{const{children:o,...i}=r,l=h.Children.toArray(o),c=l.find(l7);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...i,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return a.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function i7(e){const t=h.forwardRef((n,r)=>{const{children:s,...o}=n;if(h.isValidElement(s)){const i=u7(s),l=c7(o,s.props);return s.type!==h.Fragment&&(l.ref=r?hn(r,i):i),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var a7=Symbol("radix.slottable");function l7(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===a7}function c7(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function u7(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ng=["Enter"," "],d7=["ArrowDown","PageUp","Home"],vE=["ArrowUp","PageDown","End"],f7=[...d7,...vE],h7={ltr:[...ng,"ArrowRight"],rtl:[...ng,"ArrowLeft"]},m7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ec="Menu",[nc,p7,g7]=Tf(Ec),[li,yE]=rr(Ec,[g7,Na,Af]),$f=Na(),xE=Af(),[v7,ci]=li(Ec),[y7,Tc]=li(Ec),wE=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=e,l=$f(t),[c,u]=h.useState(null),d=h.useRef(!1),f=mn(o),m=Pf(s);return h.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),a.jsx(Lv,{...l,children:a.jsx(v7,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(y7,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:i,children:r})})})};wE.displayName=Ec;var x7="MenuAnchor",Dy=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=$f(n);return a.jsx(mf,{...s,...r,ref:t})});Dy.displayName=x7;var Iy="MenuPortal",[w7,bE]=li(Iy,{forceMount:void 0}),_E=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,o=ci(Iy,t);return a.jsx(w7,{scope:t,forceMount:n,children:a.jsx(qn,{present:n||o.open,children:a.jsx(ka,{asChild:!0,container:s,children:r})})})};_E.displayName=Iy;var Zn="MenuContent",[b7,Ly]=li(Zn),jE=h.forwardRef((e,t)=>{const n=bE(Zn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=ci(Zn,e.__scopeMenu),i=Tc(Zn,e.__scopeMenu);return a.jsx(nc.Provider,{scope:e.__scopeMenu,children:a.jsx(qn,{present:r||o.open,children:a.jsx(nc.Slot,{scope:e.__scopeMenu,children:i.modal?a.jsx(_7,{...s,ref:t}):a.jsx(j7,{...s,ref:t})})})})}),_7=h.forwardRef((e,t)=>{const n=ci(Zn,e.__scopeMenu),r=h.useRef(null),s=Te(t,r);return h.useEffect(()=>{const o=r.current;if(o)return pf(o)},[]),a.jsx($y,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ee(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),j7=h.forwardRef((e,t)=>{const n=ci(Zn,e.__scopeMenu);return a.jsx($y,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),S7=o7("MenuContent.ScrollLock"),$y=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:x,...g}=e,y=ci(Zn,n),w=Tc(Zn,n),v=$f(n),b=xE(n),j=p7(n),[S,N]=h.useState(null),_=h.useRef(null),C=Te(t,_,y.onContentChange),P=h.useRef(0),I=h.useRef(""),L=h.useRef(0),O=h.useRef(null),U=h.useRef("right"),$=h.useRef(0),E=x?vf:h.Fragment,M=x?{as:S7,allowPinchZoom:!0}:void 0,T=R=>{var H,ne;const A=I.current+R,V=j().filter(Q=>!Q.disabled),D=document.activeElement,z=(H=V.find(Q=>Q.ref.current===D))==null?void 0:H.textValue,B=V.map(Q=>Q.textValue),Y=I7(B,A,z),X=(ne=V.find(Q=>Q.textValue===Y))==null?void 0:ne.ref.current;(function Q(ie){I.current=ie,window.clearTimeout(P.current),ie!==""&&(P.current=window.setTimeout(()=>Q(""),1e3))})(A),X&&setTimeout(()=>X.focus())};h.useEffect(()=>()=>window.clearTimeout(P.current),[]),cf();const k=h.useCallback(R=>{var V,D;return U.current===((V=O.current)==null?void 0:V.side)&&$7(R,(D=O.current)==null?void 0:D.area)},[]);return a.jsx(b7,{scope:n,searchRef:I,onItemEnter:h.useCallback(R=>{k(R)&&R.preventDefault()},[k]),onItemLeave:h.useCallback(R=>{var A;k(R)||((A=_.current)==null||A.focus(),N(null))},[k]),onTriggerLeave:h.useCallback(R=>{k(R)&&R.preventDefault()},[k]),pointerGraceTimerRef:L,onPointerGraceIntentChange:h.useCallback(R=>{O.current=R},[]),children:a.jsx(E,{...M,children:a.jsx(gc,{asChild:!0,trapped:s,onMountAutoFocus:ee(o,R=>{var A;R.preventDefault(),(A=_.current)==null||A.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(ja,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:a.jsx(zN,{asChild:!0,...b,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:N,onEntryFocus:ee(c,R=>{w.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx($v,{role:"menu","aria-orientation":"vertical","data-state":FE(y.open),"data-radix-menu-content":"",dir:w.dir,...v,...g,ref:C,style:{outline:"none",...g.style},onKeyDown:ee(g.onKeyDown,R=>{const V=R.target.closest("[data-radix-menu-content]")===R.currentTarget,D=R.ctrlKey||R.altKey||R.metaKey,z=R.key.length===1;V&&(R.key==="Tab"&&R.preventDefault(),!D&&z&&T(R.key));const B=_.current;if(R.target!==B||!f7.includes(R.key))return;R.preventDefault();const X=j().filter(H=>!H.disabled).map(H=>H.ref.current);vE.includes(R.key)&&X.reverse(),O7(X)}),onBlur:ee(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(P.current),I.current="")}),onPointerMove:ee(e.onPointerMove,rc(R=>{const A=R.target,V=$.current!==R.clientX;if(R.currentTarget.contains(A)&&V){const D=R.clientX>$.current?"right":"left";U.current=D,$.current=R.clientX}}))})})})})})})});jE.displayName=Zn;var C7="MenuGroup",Fy=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(ce.div,{role:"group",...r,ref:t})});Fy.displayName=C7;var N7="MenuLabel",SE=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(ce.div,{...r,ref:t})});SE.displayName=N7;var Rd="MenuItem",Ub="menu.itemSelect",Ff=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=h.useRef(null),i=Tc(Rd,e.__scopeMenu),l=Ly(Rd,e.__scopeMenu),c=Te(t,o),u=h.useRef(!1),d=()=>{const f=o.current;if(!n&&f){const m=new CustomEvent(Ub,{bubbles:!0,cancelable:!0});f.addEventListener(Ub,p=>r==null?void 0:r(p),{once:!0}),kv(f,m),m.defaultPrevented?u.current=!1:i.onClose()}};return a.jsx(CE,{...s,ref:c,disabled:n,onClick:ee(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:ee(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:ee(e.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||ng.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Ff.displayName=Rd;var CE=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,i=Ly(Rd,n),l=xE(n),c=h.useRef(null),u=Te(t,c),[d,f]=h.useState(!1),[m,p]=h.useState("");return h.useEffect(()=>{const x=c.current;x&&p((x.textContent??"").trim())},[o.children]),a.jsx(nc.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:a.jsx(WN,{asChild:!0,...l,focusable:!r,children:a.jsx(ce.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:ee(e.onPointerMove,rc(x=>{r?i.onItemLeave(x):(i.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ee(e.onPointerLeave,rc(x=>i.onItemLeave(x))),onFocus:ee(e.onFocus,()=>f(!0)),onBlur:ee(e.onBlur,()=>f(!1))})})})}),k7="MenuCheckboxItem",NE=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return a.jsx(AE,{scope:e.__scopeMenu,checked:n,children:a.jsx(Ff,{role:"menuitemcheckbox","aria-checked":Od(n)?"mixed":n,...s,ref:t,"data-state":By(n),onSelect:ee(s.onSelect,()=>r==null?void 0:r(Od(n)?!0:!n),{checkForDefaultPrevented:!1})})})});NE.displayName=k7;var kE="MenuRadioGroup",[E7,T7]=li(kE,{value:void 0,onValueChange:()=>{}}),EE=h.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,o=mn(r);return a.jsx(E7,{scope:e.__scopeMenu,value:n,onValueChange:o,children:a.jsx(Fy,{...s,ref:t})})});EE.displayName=kE;var TE="MenuRadioItem",PE=h.forwardRef((e,t)=>{const{value:n,...r}=e,s=T7(TE,e.__scopeMenu),o=n===s.value;return a.jsx(AE,{scope:e.__scopeMenu,checked:o,children:a.jsx(Ff,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":By(o),onSelect:ee(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});PE.displayName=TE;var Vy="MenuItemIndicator",[AE,P7]=li(Vy,{checked:!1}),ME=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,o=P7(Vy,n);return a.jsx(qn,{present:r||Od(o.checked)||o.checked===!0,children:a.jsx(ce.span,{...s,ref:t,"data-state":By(o.checked)})})});ME.displayName=Vy;var A7="MenuSeparator",RE=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(ce.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});RE.displayName=A7;var M7="MenuArrow",OE=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=$f(n);return a.jsx(Fv,{...s,...r,ref:t})});OE.displayName=M7;var R7="MenuSub",[RG,DE]=li(R7),tl="MenuSubTrigger",IE=h.forwardRef((e,t)=>{const n=ci(tl,e.__scopeMenu),r=Tc(tl,e.__scopeMenu),s=DE(tl,e.__scopeMenu),o=Ly(tl,e.__scopeMenu),i=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=h.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(Dy,{asChild:!0,...u,children:a.jsx(CE,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":FE(n.open),...e,ref:hn(t,s.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ee(e.onPointerMove,rc(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ee(e.onPointerLeave,rc(f=>{var p,x;d();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const g=(x=n.content)==null?void 0:x.dataset.side,y=g==="right",w=y?-5:5,v=m[y?"left":"right"],b=m[y?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:v,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:v,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ee(e.onKeyDown,f=>{var p;const m=o.searchRef.current!=="";e.disabled||m&&f.key===" "||h7[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});IE.displayName=tl;var LE="MenuSubContent",$E=h.forwardRef((e,t)=>{const n=bE(Zn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=ci(Zn,e.__scopeMenu),i=Tc(Zn,e.__scopeMenu),l=DE(LE,e.__scopeMenu),c=h.useRef(null),u=Te(t,c);return a.jsx(nc.Provider,{scope:e.__scopeMenu,children:a.jsx(qn,{present:r||o.open,children:a.jsx(nc.Slot,{scope:e.__scopeMenu,children:a.jsx($y,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ee(e.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ee(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:ee(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),m=m7[i.dir].includes(d.key);f&&m&&(o.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});$E.displayName=LE;function FE(e){return e?"open":"closed"}function Od(e){return e==="indeterminate"}function By(e){return Od(e)?"indeterminate":e?"checked":"unchecked"}function O7(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function D7(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function I7(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=D7(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function L7(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],u=l.x,d=l.y,f=c.x,m=c.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(s=!s)}return s}function $7(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return L7(n,t)}function rc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var F7=wE,V7=Dy,B7=_E,U7=jE,H7=Fy,z7=SE,W7=Ff,q7=NE,G7=EE,Y7=PE,K7=ME,Q7=RE,X7=OE,J7=IE,Z7=$E,Vf="DropdownMenu",[e9,OG]=rr(Vf,[yE]),vn=yE(),[t9,VE]=e9(Vf),BE=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=vn(t),u=h.useRef(null),[d,f]=Br({prop:s,defaultProp:o??!1,onChange:i,caller:Vf});return a.jsx(t9,{scope:t,triggerId:Ht(),triggerRef:u,contentId:Ht(),open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),modal:l,children:a.jsx(F7,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};BE.displayName=Vf;var UE="DropdownMenuTrigger",HE=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=VE(UE,n),i=vn(n);return a.jsx(V7,{asChild:!0,...i,children:a.jsx(ce.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:hn(t,o.triggerRef),onPointerDown:ee(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:ee(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});HE.displayName=UE;var n9="DropdownMenuPortal",zE=e=>{const{__scopeDropdownMenu:t,...n}=e,r=vn(t);return a.jsx(B7,{...r,...n})};zE.displayName=n9;var WE="DropdownMenuContent",qE=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=VE(WE,n),o=vn(n),i=h.useRef(!1);return a.jsx(U7,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:t,onCloseAutoFocus:ee(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:ee(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qE.displayName=WE;var r9="DropdownMenuGroup",s9=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=vn(n);return a.jsx(H7,{...s,...r,ref:t})});s9.displayName=r9;var o9="DropdownMenuLabel",GE=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=vn(n);return a.jsx(z7,{...s,...r,ref:t})});GE.displayName=o9;var i9="DropdownMenuItem",YE=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=vn(n);return a.jsx(W7,{...s,...r,ref:t})});YE.displayName=i9;var a9="DropdownMenuCheckboxItem",KE=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=vn(n);return a.jsx(q7,{...s,...r,ref:t})});KE.displayName=a9;var l9="DropdownMenuRadioGroup",c9=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=vn(n);return a.jsx(G7,{...s,...r,ref:t})});c9.displayName=l9;var u9="DropdownMenuRadioItem",QE=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=vn(n);return a.jsx(Y7,{...s,...r,ref:t})});QE.displayName=u9;var d9="DropdownMenuItemIndicator",XE=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=vn(n);return a.jsx(K7,{...s,...r,ref:t})});XE.displayName=d9;var f9="DropdownMenuSeparator",JE=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=vn(n);return a.jsx(Q7,{...s,...r,ref:t})});JE.displayName=f9;var h9="DropdownMenuArrow",m9=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=vn(n);return a.jsx(X7,{...s,...r,ref:t})});m9.displayName=h9;var p9="DropdownMenuSubTrigger",ZE=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=vn(n);return a.jsx(J7,{...s,...r,ref:t})});ZE.displayName=p9;var g9="DropdownMenuSubContent",eT=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=vn(n);return a.jsx(Z7,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eT.displayName=g9;var v9=BE,y9=HE,x9=zE,tT=qE,nT=GE,rT=YE,sT=KE,oT=QE,iT=XE,aT=JE,lT=ZE,cT=eT;const Dd=v9,Id=y9,w9=h.forwardRef(({className:e,inset:t,children:n,...r},s)=>a.jsxs(lT,{ref:s,className:W("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,a.jsx(hd,{className:"ml-auto h-4 w-4"})]}));w9.displayName=lT.displayName;const b9=h.forwardRef(({className:e,...t},n)=>a.jsx(cT,{ref:n,className:W("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));b9.displayName=cT.displayName;const sc=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(x9,{children:a.jsx(tT,{ref:r,sideOffset:t,className:W("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));sc.displayName=tT.displayName;const $r=h.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(rT,{ref:r,className:W("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));$r.displayName=rT.displayName;const _9=h.forwardRef(({className:e,children:t,checked:n,...r},s)=>a.jsxs(sT,{ref:s,className:W("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(iT,{children:a.jsx(mc,{className:"h-4 w-4"})})}),t]}));_9.displayName=sT.displayName;const j9=h.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(oT,{ref:r,className:W("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(iT,{children:a.jsx(i4,{className:"h-2 w-2 fill-current"})})}),t]}));j9.displayName=oT.displayName;const rg=h.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(nT,{ref:r,className:W("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));rg.displayName=nT.displayName;const oc=h.forwardRef(({className:e,...t},n)=>a.jsx(aT,{ref:n,className:W("-mx-1 my-1 h-px bg-muted",e),...t}));oc.displayName=aT.displayName;function S9(e,t=[]){let n=[];function r(o,i){const l=h.createContext(i);l.displayName=o+"Context";const c=n.length;n=[...n,i];const u=f=>{var w;const{scope:m,children:p,...x}=f,g=((w=m==null?void 0:m[e])==null?void 0:w[c])||l,y=h.useMemo(()=>x,Object.values(x));return a.jsx(g.Provider,{value:y,children:p})};u.displayName=o+"Provider";function d(f,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,x=h.useContext(p);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,C9(s,...t)]}function C9(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var N9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Uy=N9.reduce((e,t)=>{const n=bv(`Primitive.${t}`),r=h.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),uT={exports:{}},dT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pa=h;function k9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var E9=typeof Object.is=="function"?Object.is:k9,T9=pa.useState,P9=pa.useEffect,A9=pa.useLayoutEffect,M9=pa.useDebugValue;function R9(e,t){var n=t(),r=T9({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return A9(function(){s.value=n,s.getSnapshot=t,sm(s)&&o({inst:s})},[e,n,t]),P9(function(){return sm(s)&&o({inst:s}),e(function(){sm(s)&&o({inst:s})})},[e]),M9(n),n}function sm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!E9(e,n)}catch{return!0}}function O9(e,t){return t()}var D9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?O9:R9;dT.useSyncExternalStore=pa.useSyncExternalStore!==void 0?pa.useSyncExternalStore:D9;uT.exports=dT;var I9=uT.exports;function L9(){return I9.useSyncExternalStore($9,()=>!0,()=>!1)}function $9(){return()=>{}}var Hy="Avatar",[F9,DG]=S9(Hy),[V9,fT]=F9(Hy),hT=h.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=h.useState("idle");return a.jsx(V9,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:a.jsx(Uy.span,{...r,ref:t})})});hT.displayName=Hy;var mT="AvatarImage",pT=h.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,i=fT(mT,n),l=B9(r,o),c=mn(u=>{s(u),i.onImageLoadingStatusChange(u)});return kt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(Uy.img,{...o,ref:t,src:r}):null});pT.displayName=mT;var gT="AvatarFallback",vT=h.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=fT(gT,n),[i,l]=h.useState(r===void 0);return h.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&o.imageLoadingStatus!=="loaded"?a.jsx(Uy.span,{...s,ref:t}):null});vT.displayName=gT;function Hb(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function B9(e,{referrerPolicy:t,crossOrigin:n}){const r=L9(),s=h.useRef(null),o=(()=>r?(s.current||(s.current=new window.Image),s.current):null)(),[i,l]=h.useState(()=>Hb(o,e));return kt(()=>{l(Hb(o,e))},[o,e]),kt(()=>{const c=f=>()=>{l(f)};if(!o)return;const u=c("loaded"),d=c("error");return o.addEventListener("load",u),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,n,t]),i}var yT=hT,xT=pT,wT=vT;const vo=h.forwardRef(({className:e,...t},n)=>a.jsx(yT,{ref:n,className:W("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));vo.displayName=yT.displayName;const yo=h.forwardRef(({className:e,...t},n)=>a.jsx(xT,{ref:n,className:W("aspect-square h-full w-full",e),...t}));yo.displayName=xT.displayName;const xo=h.forwardRef(({className:e,...t},n)=>a.jsx(wT,{ref:n,className:W("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));xo.displayName=wT.displayName;const U9={0:"Dom",1:"Seg",2:"Ter",3:"Qua",4:"Qui",5:"Sex",6:"Sb"},zb=({dashboardData:e})=>{var w,v,b,j,S,N;const{toast:t}=Dt(),[n,r]=h.useState(null),[s,o]=h.useState([]),[i,l]=h.useState([]),c=e==null?void 0:e.professorId,u=(e==null?void 0:e.data)||{},d=(e==null?void 0:e.loading)||!1,f=e==null?void 0:e.onUpdate,m=(u==null?void 0:u.appointments)||[],p=h.useMemo(()=>{if(!m||m.length===0)return null;const _=new Date,C=m.filter(P=>{if(!P.class_datetime)return!1;const I=new Date(P.class_datetime),L=P.status;return I>=_&&["scheduled","rescheduled"].includes(L)}).sort((P,I)=>new Date(P.class_datetime)-new Date(I.class_datetime));return C.length>0?C[0]:null},[m]),x=h.useMemo(()=>{if(!m||m.length===0)return[];const _=new Date;return m.filter(C=>{if(!C.class_datetime)return!1;const P=new Date(C.class_datetime),I=C.status;return P>=_&&["scheduled","rescheduled"].includes(I)}).sort((C,P)=>new Date(C.class_datetime)-new Date(P.class_datetime))},[m]);h.useEffect(()=>{Array.isArray(u==null?void 0:u.scheduleRequests)?o(u.scheduleRequests):o([])},[u==null?void 0:u.scheduleRequests]),h.useEffect(()=>{if(!m||m.length===0){l([]);return}const _=new Date,C=new Date(_.getTime()+24*60*60*1e3),P=m.filter(I=>{if(!I.class_datetime)return!1;const L=new Date(I.class_datetime),O=I.status;return L>=_&&L<=C&&["scheduled","rescheduled"].includes(O)}).sort((I,L)=>new Date(I.class_datetime)-new Date(L.class_datetime));l(P)},[m]);const g=async(_,C)=>{var L;r(_);const P=s.find(O=>O.solicitud_id===_);if(!P){t({variant:"destructive",title:"Erro",description:"Solicitao no encontrada."}),r(null);return}const{error:I}=await F.from("solicitudes_clase").update({status:C}).eq("solicitud_id",_);if(I){t({variant:"destructive",title:"Erro ao atualizar",description:I.message}),r(null);return}if(C==="Aceita"&&P.is_recurring){if(typeof P.horarios_propuestos!="string"||!P.horarios_propuestos){t({variant:"destructive",title:"Erro de Agendamento",description:"Formato de horrio invlido."}),r(null);return}try{const O=JSON.parse(P.horarios_propuestos),U=P.alumno_id,{data:$,error:E}=await F.from("billing").select("end_date, packages(number_of_classes, class_duration_minutes)").eq("user_id",U).gte("end_date",At().toISOString()).order("purchase_date",{ascending:!1}).limit(1).single();if(E||!$)throw new Error("Fatura ativa do aluno no encontrada.");const M=Se($.end_date),T=$.packages.number_of_classes,k=$.packages.class_duration_minutes,R=Math.ceil(k/15),{data:A,error:V}=await F.from("class_slots").select("id, day_of_week, start_time, status").eq("professor_id",c);if(V)throw V;const D=[],z=new Set;let B=new Date,Y=0;for(;B<=M&&Y<T;){const X=Zs(B);if(O.days.includes(X)){const H=O.time,ne=Yi(H,"HH:mm:ss",B),Q=[];let ie=!0;for(let de=0;de<R;de++){const me=J(fr(ne,{minutes:de*15}),"HH:mm:ss"),Qe=A.find(G=>G.day_of_week===X&&G.start_time===me);if(!Qe||Qe.status!=="active"){ie=!1;break}Q.push(Qe)}if(ie){const de=Q[0],[me,Qe]=H.split(":").map(Number),G=new Date(B.getFullYear(),B.getMonth(),B.getDate(),me,Qe,0);D.push({student_id:U,professor_id:c,class_datetime:G.toISOString(),class_slot_id:de.id,status:"scheduled",duration_minutes:k}),Q.forEach(Xe=>z.add(Xe.id)),Y++}}B=fr(B,{days:1})}if(D.length>0){const{error:X}=await F.from("appointments").insert(D,{onConflict:"class_slot_id, class_datetime"});if(X)throw new Error(`Falha ao criar aulas: ${X.message}`);if(z.size>0){const{error:H}=await F.from("class_slots").update({status:"filled"}).in("id",Array.from(z));if(H)throw new Error(`Falha ao bloquear horrios: ${H.message}`)}t({variant:"default",title:"Solicitao Aceita!",description:`${D.length} aulas agendadas e ${z.size} horrios bloqueados.`})}else t({variant:"warning",title:"Aulas no agendadas",description:"Nenhum horrio correspondente foi encontrado para criar as aulas."})}catch(O){await F.from("solicitudes_clase").update({status:"Pendiente"}).eq("solicitud_id",_),t({variant:"destructive",title:"Erro ao processar agendamento",description:O.message})}}else if(C==="Aceita"&&!P.is_recurring)try{const O=JSON.parse(P.horarios_propuestos),U=P.alumno_id,{data:$,error:E}=await F.from("billing").select("packages(class_duration_minutes)").eq("user_id",U).gte("end_date",At().toISOString()).order("purchase_date",{ascending:!1}).limit(1).single();if(E||!$)throw new Error("Fatura ativa do aluno no encontrada.");const M=((L=$.packages)==null?void 0:L.class_duration_minutes)||30,T=Se(O.date),[k,R]=O.time.split(":").map(Number),A=new Date(T.getFullYear(),T.getMonth(),T.getDate(),k,R,0),{error:V}=await F.from("appointments").insert({student_id:U,professor_id:c,class_datetime:A.toISOString(),status:"scheduled",duration_minutes:M});if(V)throw new Error(`Falha ao criar aula: ${V.message}`);t({variant:"default",title:"Aula Pontual Agendada!",description:`Aula agendada para ${J(T,"dd/MM/yyyy")} s ${O.time.substring(0,5)}.`})}catch(O){await F.from("solicitudes_clase").update({status:"Pendiente"}).eq("solicitud_id",_),t({variant:"destructive",title:"Erro ao processar aula pontual",description:O.message})}else C==="Rejeitada"&&t({variant:"destructive",title:"Solicitao Rejeitada"});f&&f(_),r(null)},y=_=>{try{if(!_||typeof _!="string"||!_.startsWith("{"))return a.jsx("p",{className:"text-sm text-slate-500",children:"Detalhes no disponveis"});const C=JSON.parse(_);return C.is_recurring?a.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-700 mt-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(oi,{className:"w-4 h-4 text-sky-600"}),a.jsx("span",{className:"font-semibold",children:C.time.substring(0,5)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yx,{className:"w-4 h-4 text-sky-600"}),a.jsx("span",{className:"font-semibold",children:C.days.map(P=>U9[P]).join(", ")})]})]}):a.jsx("p",{className:"text-sm text-slate-500",children:"Aula individual"})}catch{return a.jsx("p",{className:"text-xs text-red-500",children:"Erro ao ler detalhes"})}};return a.jsx("div",{className:"w-full",children:a.jsx("div",{className:"w-full px-4 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white p-4 sm:p-6 rounded-lg shadow-sm",children:[a.jsxs("h3",{className:"font-bold mb-4",children:["Solicitaes de Agendamento (",s.length,")"]}),d?a.jsx("div",{className:"flex justify-center p-4",children:a.jsx(De,{className:"w-6 h-6 animate-spin"})}):s.length>0?a.jsx("div",{className:"space-y-4",children:s.map(_=>{var C,P,I,L;return a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-slate-50 rounded-lg border",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-3 sm:mb-0",children:[a.jsxs(vo,{children:[a.jsx(yo,{src:(C=_.profile)==null?void 0:C.avatar_url}),a.jsx(xo,{children:(I=(P=_.profile)==null?void 0:P.full_name)==null?void 0:I[0]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:(L=_.profile)==null?void 0:L.full_name}),y(_.horarios_propuestos)]})]}),a.jsxs("div",{className:"flex gap-2 mt-3 sm:mt-0 self-end sm:self-center",children:[a.jsx(Z,{size:"sm",variant:"outline",className:"text-green-600 border-green-600 hover:bg-green-50 hover:text-green-700",onClick:()=>g(_.solicitud_id,"Aceita"),disabled:n===_.solicitud_id,children:n===_.solicitud_id?a.jsx(De,{className:"w-4 h-4 animate-spin"}):a.jsx(mc,{className:"w-4 h-4"})}),a.jsx(Z,{size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 hover:text-red-700",onClick:()=>g(_.solicitud_id,"Rejeitada"),disabled:n===_.solicitud_id,children:n===_.solicitud_id?a.jsx(De,{className:"w-4 h-4 animate-spin"}):a.jsx(la,{className:"w-4 h-4"})})]})]},_.solicitud_id)})}):a.jsxs("div",{className:"text-center py-10 text-slate-500",children:[a.jsx(t4,{className:"w-12 h-12 mx-auto mb-2 text-slate-400"}),a.jsx("p",{className:"font-semibold",children:"Nenhuma solicitao pendente."}),a.jsx("p",{className:"text-sm",children:"Quando um aluno solicitar uma aula, aparecer aqui."})]})]}),a.jsxs("div",{className:"space-y-4 lg:space-y-8",children:[a.jsxs("div",{className:"bg-white rounded-lg border-l-4 border-sky-500 shadow-sm p-4",children:[a.jsx("h3",{className:"text-lg font-bold mb-2",children:"Prxima Aula"}),d?a.jsx("p",{children:"Carregando..."}):p?a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-xs text-slate-500",children:["Comea ",Ip(new Date(p.class_datetime),{locale:Fe,addSuffix:!0})]}),a.jsx("h3",{className:"text-lg font-bold mt-1",children:(w=p.student)!=null&&w.spanish_level?"Espanhol":"Ingls"}),a.jsxs("p",{className:"text-sm mt-2",children:[a.jsx("strong",{children:"Aluno:"})," ",((v=p.student)==null?void 0:v.full_name)||"No definido"]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Nvel:"})," ",((b=p.student)==null?void 0:b.spanish_level)||"No definido"]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Professor:"})," ",((j=p.professor)==null?void 0:j.full_name)||((N=(S=u.professors)==null?void 0:S.find(_=>_.id===p.professor_id))==null?void 0:N.full_name)||"No definido"]}),a.jsx(Z,{asChild:!0,className:"w-full mt-4 bg-sky-600 hover:bg-sky-700",children:a.jsx("a",{href:"https://meet.google.com/tmi-xwmg-kua",target:"_blank",rel:"noopener noreferrer",children:"Iniciar Aula"})})]}):a.jsx("p",{className:"text-slate-500 text-sm",children:"Nenhuma aula agendada."})]}),a.jsxs("div",{className:"bg-white rounded-lg border-l-4 border-blue-500 shadow-sm p-4",children:[a.jsx("h3",{className:"text-lg font-bold mb-3",children:"Prximas 24 Horas"}),d?a.jsx("p",{className:"text-sm text-slate-500",children:"Carregando..."}):i.length>0?a.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:i.map(_=>{var P;const C=Se(_.class_datetime);return a.jsxs("div",{className:"flex justify-between items-center p-2 border rounded hover:bg-slate-50",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-slate-800",children:((P=_.student)==null?void 0:P.full_name)||"Aluno"}),a.jsx("p",{className:"text-xs text-slate-500",children:J(C,"dd/MM 's' HH:mm",{locale:Fe})})]}),a.jsxs("div",{className:"text-xs text-slate-600",children:[_.duration_minutes||30," min"]})]},_.id)})}):a.jsx("p",{className:"text-slate-500 text-sm",children:"Nenhuma aula nas prximas 24 horas."})]}),a.jsxs("div",{className:"bg-white rounded-lg border-l-4 border-emerald-500 shadow-sm p-4",children:[a.jsxs("h3",{className:"text-lg font-bold mb-2",children:["Todas as Aulas Agendadas (",x.length,")"]}),d?a.jsx("p",{children:"Carregando..."}):x.length>0?a.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:x.map((_,C)=>{var P;return a.jsx("div",{className:W("p-3 rounded-lg border transition-all",C===0?"bg-sky-50 border-sky-200":"bg-slate-50 border-slate-200"),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs text-slate-500",children:Ip(new Date(_.class_datetime),{locale:Fe,addSuffix:!0})}),a.jsx("p",{className:"text-sm font-medium",children:J(new Date(_.class_datetime),"EEE, dd/MM 's' HH:mm",{locale:Fe})}),a.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[a.jsx("strong",{children:"Aluno:"})," ",((P=_.student)==null?void 0:P.full_name)||"N/A"]})]}),C===0&&a.jsx("span",{className:"text-xs bg-sky-500 text-white px-2 py-1 rounded-full font-medium",children:"Prxima"})]})},_.id)})}):a.jsxs("div",{className:"text-center py-6 text-slate-500",children:[a.jsx(Yx,{className:"w-10 h-10 mx-auto mb-2 text-slate-400"}),a.jsx("p",{className:"text-sm",children:"Nenhuma aula agendada no momento."})]})]})]})]})})})},Pc=h.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:W("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Pc.displayName="Textarea";const vi=Array.from({length:68},(e,t)=>{const n=420+t*15,r=Math.floor(n/60),s=n%60;return`${String(r).padStart(2,"0")}:${String(s).padStart(2,"0")}`}),H9=({rating:e,setRating:t})=>a.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(n=>a.jsx(aa,{className:`h-6 w-6 cursor-pointer ${e>=n?"text-yellow-400 fill-yellow-400":"text-gray-300"}`,onClick:()=>t&&t(n)},n))}),z9=({appointment:e,isOpen:t,onClose:n,onFeedbackSent:r})=>{var x,g,y,w;const{toast:s}=Dt(),[o,i]=h.useState(!1),[l,c]=h.useState({fala:0,leitura:0,escrita:0,compreensao:0,audicao:0,gramatica:0,pronuncia:0,vocabulario:0}),[u,d]=h.useState(""),f=(v,b)=>c(j=>({...j,[v]:b})),m=()=>{c({fala:0,leitura:0,escrita:0,compreensao:0,audicao:0,gramatica:0,pronuncia:0,vocabulario:0}),d("")},p=async()=>{var v,b;if(Object.values(l).some(j=>j===0)){s({variant:"destructive",title:"Avaliao incompleta",description:"Por favor, preencha todas as estrelas."});return}i(!0);try{const{data:j,error:S}=await F.from("class_feedback").insert([{appointment_id:e.id,professor_id:e.professor_id,student_id:e.student_id,comment:u,...l}]).select().single();if(S)throw S;const{error:N}=await F.from("appointments").update({status:"completed",feedback_id:j.id}).eq("id",e.id);if(N)throw N;const{error:_}=await F.from("assigned_packages_log").insert({professor_id:e.professorId,student_id:e.student_id,package_id:e.customPackageId,assigned_classes:-1,status:"completed",observation:`Dbito de aula concluda: ${J(Se(e.class_datetime),"dd/MM/yyyy HH:mm")}`});_&&console.error("Error creating debit log:",_);const{error:C}=await F.from("notifications").insert({user_id:e.student_id,type:"class_feedback",content:{message:`Sua aula de ${(v=e.student)!=null&&v.spanish_level?"Espanhol":"Ingls"} foi avaliada.`,subject:(b=e.student)!=null&&b.spanish_level?"Espanhol":"Ingls",appointmentId:e.id,ratings:l,comment:u}});C&&console.error("Error creating feedback notification:",C),s({variant:"default",title:"Feedback enviado!",description:"O aluno foi notificado sobre a avaliao."}),m(),r(),n()}catch(j){s({variant:"destructive",title:"Erro ao enviar feedback",description:j.message})}finally{i(!1)}};return e?a.jsx(fo,{open:t,onOpenChange:n,children:a.jsxs(ps,{className:"max-w-md",children:[a.jsxs(gs,{children:[a.jsx(vs,{children:"Avaliar Aluno"}),a.jsxs(mo,{className:"flex items-center gap-4 pt-2",children:[a.jsxs(vo,{children:[a.jsx(yo,{src:(x=e.student)==null?void 0:x.avatar_url}),a.jsx(xo,{children:(y=(g=e.student)==null?void 0:g.full_name)==null?void 0:y[0]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold",children:(w=e.student)==null?void 0:w.full_name}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx(Fn,{className:"h-3 w-3"})," ",J(Se(e.class_datetime),"dd/MM/yyyy"),a.jsx(oi,{className:"h-3 w-3"})," ",J(Se(e.class_datetime),"HH:mm")]})]})]})]}),a.jsxs("div",{className:"space-y-3 py-4 max-h-[50vh] overflow-y-auto pr-2",children:[Object.keys(l).map(v=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"capitalize text-sm font-medium",children:v.replace("_"," ")}),a.jsx(H9,{rating:l[v],setRating:b=>f(v,b)})]},v)),a.jsx(Pc,{placeholder:"Adicione um comentrio sobre o desempenho do Aluno...",value:u,onChange:v=>d(v.target.value),className:"mt-4"})]}),a.jsx(ho,{children:a.jsx(Z,{onClick:p,disabled:o,className:"bg-sky-600 hover:bg-sky-700 text-white",children:o?a.jsxs(a.Fragment,{children:[a.jsx(De,{className:"mr-2 h-4 w-4 animate-spin"})," Salvando..."]}):"Salvar"})})]})}):null},W9=({appointment:e,isOpen:t,onClose:n,onReschedule:r})=>{var C,P,I,L;const{toast:s}=Dt(),[o,i]=h.useState(null),[l,c]=h.useState(""),[u,d]=h.useState(""),[f,m]=h.useState(!1),[p,x]=h.useState(vi.filter(O=>O>="07:00"&&O<="23:30")),[g,y]=h.useState(!1),[w,v]=h.useState(!1),b=e!=null&&e.class_datetime?Se(e.class_datetime):null,j=b&&e.duration_minutes?J(new Date(b.getTime()+e.duration_minutes*6e4),"HH:mm"):"N/A",S=b?`${J(b,"HH:mm")} - ${j}`:"N/A",N=h.useCallback(async O=>{if(!O||!(e!=null&&e.professorId)||!(e!=null&&e.duration_minutes)){x(vi.filter(B=>B>="07:00"&&B<="23:30"));return}y(!0);const U=J(O,"yyyy-MM-dd"),$=Zs(O),{data:E,error:M}=await F.from("class_slots").select("start_time").eq("professor_id",e.professorId).eq("day_of_week",$).eq("status","active");if(M){console.error("Error fetching preferred slots:",M),y(!1),x(vi.filter(B=>B>="07:00"&&B<="23:30"));return}const T=new Set(E.map(B=>B.start_time.substring(0,5))),{data:k,error:R}=await F.from("appointments").select("class_datetime, duration_minutes, id").eq("professor_id",e.professorId).in("status",["scheduled","rescheduled","pending"]).gte("class_datetime",`${U}T00:00:00-03:00`).lte("class_datetime",`${U}T23:59:59-03:00`);if(R){console.error("Error fetching day appointments:",R),y(!1),x(vi.filter(B=>B>="07:00"&&B<="23:30"));return}const A=new Set,V=e.duration_minutes,D=Math.ceil(V/15);k.forEach(B=>{if(B.id===e.id)return;const Y=Se(B.class_datetime),X=B.duration_minutes||V,H=Math.ceil(X/15);for(let ne=0;ne<H;ne++){const Q=J(new Date(Y.getTime()+ne*15*6e4),"HH:mm");A.add(Q)}});const z=vi.filter(B=>{if(B<"07:00"||B>"23:30")return!1;const Y=Yi(B,"HH:mm",O);if(wd(new Date,Y))return!1;for(let X=0;X<D;X++){const H=J(fr(Y,{minutes:X*15*6e4}),"HH:mm");if(H>"23:30"||A.has(H)||!T.has(H))return!1}return!0});x(z),y(!1)},[e==null?void 0:e.professorId,e==null?void 0:e.duration_minutes,e==null?void 0:e.id]);h.useEffect(()=>{o&&Rp(o)?(N(o),c("")):(x(vi.filter(O=>O>="07:00"&&O<="23:30")),c(""))},[o,N]);const _=async()=>{if(!o||!l){s({variant:"destructive",title:"Campos obrigatrios",description:"Selecione uma nova data e um novo horrio."});return}m(!0);try{const[O,U]=l.split(":").map(Number),$=new Date(o.getFullYear(),o.getMonth(),o.getDate(),O,U,0);if(!Rp($))throw new Error("A data e hora selecionadas so invlidas.");const E=$.toISOString(),{error:M}=await F.from("appointments").update({class_datetime:E,status:"scheduled"}).eq("id",e.id);if(M)throw M;const{error:T}=await F.from("assigned_packages_log").insert({professor_id:e.professorId,student_id:e.student_id,package_id:e.customPackageId,assigned_classes:1,status:"rescheduled_credit",observation:`Crdito devolvido pela remarcao (Prof.) da aula original em ${J(Se(e.class_datetime),"dd/MM/yyyy")}. Novo horrio: ${J(o,"dd/MM/yyyy")} ${l}. Motivo: ${u}`});T&&console.error("Error creating credit log:",T),await F.from("notifications").insert({user_id:e.student_id,type:"class_rescheduled",content:{message:`Sua aula foi reagendada pelo professor para ${J(o,"dd/MM/yyyy")} s ${l}.`,newDateTime:E,oldDateTime:e.class_datetime}}),s({variant:"default",title:"Aula Reagendada!",description:`Aula de ${e.student.full_name} reagendada para ${J(o,"dd/MM/yyyy")} s ${l}.`}),r(),n()}catch(O){s({variant:"destructive",title:"Erro ao salvar reagendamento",description:O.message})}finally{m(!1)}};return e?a.jsx(fo,{open:t,onOpenChange:n,children:a.jsxs(ps,{className:"sm:max-w-[480px]",children:[a.jsxs(gs,{children:[a.jsx(vs,{children:"Reagendar Aula"}),a.jsx(mo,{className:"pt-2",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(vo,{children:[a.jsx(yo,{src:(C=e.student)==null?void 0:C.avatar_url}),a.jsx(xo,{children:(I=(P=e.student)==null?void 0:P.full_name)==null?void 0:I[0]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:(L=e.student)==null?void 0:L.full_name}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx(Fn,{className:"h-3 w-3"})," ",J(Se(e.class_datetime),"dd/MM/yyyy"),a.jsx(oi,{className:"h-3 w-3"})," ",S]})]})]})})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-sky-600 flex items-center",children:"Nova Data"}),a.jsxs(As,{open:w,onOpenChange:v,children:[a.jsx(Ms,{asChild:!0,children:a.jsxs(Z,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[a.jsx(Fn,{className:"mr-2 h-4 w-4"}),o?J(o,"dd/MM/yyyy",{locale:Fe}):a.jsx("span",{children:"dd/mm/aaaa"})]})}),a.jsx(Jr,{className:"w-auto p-0",children:a.jsx(Io,{mode:"single",selected:o,onSelect:O=>{i(O),v(!1)},initialFocus:!0,locale:Fe,disabled:O=>O<new Date})})]}),a.jsx("h4",{className:"text-sm font-semibold text-sky-600 flex items-center",children:"Novo Horrio"}),a.jsxs(tn,{onValueChange:c,value:l,disabled:g||!o,children:[a.jsx(zt,{className:"w-full",children:a.jsx(nn,{placeholder:g?"Carregando horrios...":"Selecione um horrio disponvel..."})}),a.jsx(Wt,{className:"max-h-60 overflow-y-auto",children:p.length>0?p.map(O=>a.jsx(Pe,{value:O,children:O},O)):a.jsx("div",{className:"p-2 text-center text-slate-500",children:o?"Nenhum horrio disponvel nas preferncias.":"Selecione uma data primeiro."})})]}),a.jsx("h4",{className:"text-sm font-semibold text-sky-600 mt-6",children:"Descrio"}),a.jsx(Pc,{placeholder:"Descreva o motivo do reagendamento...",value:u,onChange:O=>d(O.target.value)})]}),a.jsx(ho,{children:a.jsx(Z,{onClick:_,disabled:f||!o||!l,className:"bg-sky-600 hover:bg-sky-700",children:f?a.jsxs(a.Fragment,{children:[a.jsx(De,{className:"mr-2 h-4 w-4 animate-spin"})," Salvar"]}):"Salvar"})})]})}):null},Wb=({dashboardData:e})=>{const{toast:t}=Dt(),[n,r]=h.useState(""),[s,o]=h.useState(null),[i,l]=h.useState("TODAS"),[c,u]=h.useState("all"),[d,f]=h.useState(null),[m,p]=h.useState(!1),[x,g]=h.useState(!1),[y,w]=h.useState(!1),[v,b]=h.useState(""),[j,S]=h.useState(""),[N,_]=h.useState(1),[C,P]=h.useState(10),I=(e==null?void 0:e.data)||{},L=(e==null?void 0:e.loading)||!1,O=e==null?void 0:e.professorId,U=e==null?void 0:e.onUpdate,$=(e==null?void 0:e.isSuperadmin)||!1,E=I.professors||[],M=I.appointments||[],T=I.packages||[],[k,R]=h.useState("all"),A=[{value:"all",label:"Todos os status"},{value:"scheduled",label:"Agendada"},{value:"completed",label:"Concluda"},{value:"missed",label:"Faltou"},{value:"canceled",label:"Cancelada"},{value:"refunded",label:"Reembolsada"}],V=()=>{U&&U()},D=h.useMemo(()=>{var G;return(G=T.find(Xe=>Xe.name==="Personalizado"))==null?void 0:G.id},[T]),z=()=>J(new Date,"yyyy-MM-dd"),B=()=>J(Ct(new Date,1),"yyyy-MM-dd"),Y=()=>{(v||j)&&l("TODAS"),w(!1),_(1)},X=G=>{l(G),o(null),_(1)},H=async G=>{var We;if(!window.confirm(`Tem certeza que deseja marcar a aula de ${((We=G.student)==null?void 0:We.full_name)||"este aluno"} como FALTA? Esta ao no pode ser desfeita e consumir um crdito do aluno.`))return;const{error:Xe}=await F.from("appointments").update({status:"missed"}).eq("id",G.id);if(Xe){t({variant:"destructive",title:"Erro ao marcar falta",description:Xe.message});return}const{error:Le}=await F.from("assigned_packages_log").insert({professor_id:O,student_id:G.student_id,package_id:D,assigned_classes:-1,status:"missed",observation:`Dbito de falta: ${J(Se(G.class_datetime),"dd/MM/yyyy HH:mm")}`});Le&&console.error("Error creating debit log for missed class:",Le),await F.from("notifications").insert({user_id:G.student_id,type:"class_missed",content:{message:`Sua aula de ${J(Se(G.class_datetime),"dd/MM/yyyy")} foi marcada como falta.`}}),t({variant:"default",title:"Aula marcada como falta!"}),V()},ne=G=>{f({...G,customPackageId:D,professorId:O}),g(!0)},Q=h.useMemo(()=>(M||[]).filter(G=>{var sn,It;const Xe=!n||((It=(sn=G.student)==null?void 0:sn.full_name)==null?void 0:It.toLowerCase().includes(n.toLowerCase()));let Le=!0;if(v||j)if(G.class_datetime){const te=J(Se(G.class_datetime),"yyyy-MM-dd");v&&j?Le=te>=v&&te<=j:v?Le=te>=v:j&&(Le=te<=j)}else Le=!1;else s?Le=G.class_datetime&&J(Se(G.class_datetime),"yyyy-MM-dd")===J(new Date(s),"yyyy-MM-dd"):i==="HOJE"?Le=G.class_datetime&&J(Se(G.class_datetime),"yyyy-MM-dd")===z():i==="AMANHA"&&(Le=G.class_datetime&&J(Se(G.class_datetime),"yyyy-MM-dd")===B());let We=!0;c&&c!=="all"&&(We=G.status===c||c==="canceled"&&(G.status==="canceled"||G.status==="cancelled"));let sr=!0;return $&&k!=="all"&&(sr=G.professor_id===k),Xe&&Le&&We&&sr}).sort((G,Xe)=>new Date(G.class_datetime)-new Date(Xe.class_datetime)),[M,n,s,i,c,v,j,$,k]),ie=Math.ceil(Q.length/C),de=h.useMemo(()=>{const G=(N-1)*C;return Q.slice(G,G+C)},[Q,N,C]);h.useEffect(()=>{_(1)},[n,s,i,c]);const me=G=>{f({...G,customPackageId:D,professorId:O}),p(!0)},Qe=({status:G})=>{switch(G){case"scheduled":return a.jsx(Ne,{className:"bg-sky-500 hover:bg-sky-600 text-white",children:"Agendada"});case"completed":return a.jsx(Ne,{className:"bg-green-500 hover:bg-green-600 text-white",children:"Concluda"});case"canceled":case"cancelled":return a.jsx(Ne,{variant:"destructive",children:"Cancelada"});case"missed":return a.jsx(Ne,{className:"bg-orange-500 hover:bg-orange-600 text-white",children:"Faltou"});case"rescheduled":return a.jsx(Ne,{className:"bg-purple-500 hover:bg-purple-600 text-white",children:"Reagendada"});case"refunded":return a.jsx(Ne,{className:"bg-pink-500 hover:bg-pink-600 text-white",children:"Reembolsada"});default:return a.jsx(Ne,{variant:"secondary",children:G})}};return a.jsxs("div",{className:"w-full px-4 lg:px-8 bg-white p-6 rounded-lg shadow-sm",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Aulas"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Por aqui  possvel visualizar todas as aulas."})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[a.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-[300px]",children:[a.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),a.jsx(tt,{placeholder:"Pesquisar por Aluno",value:n,onChange:G=>r(G.target.value),className:"pl-10 border-slate-300 focus:border-sky-500 focus:ring-sky-500"})]}),a.jsxs("div",{className:"flex items-center border rounded-lg overflow-hidden",children:[a.jsx(Z,{variant:i==="HOJE"?"default":"ghost",size:"sm",onClick:()=>X("HOJE"),className:W("rounded-none border-r px-4 h-10",i==="HOJE"?"bg-sky-500 hover:bg-sky-600 text-white":"text-slate-600 hover:bg-slate-100"),children:"Hoje"}),a.jsx(Z,{variant:i==="AMANHA"?"default":"ghost",size:"sm",onClick:()=>X("AMANHA"),className:W("rounded-none border-r px-4 h-10",i==="AMANHA"?"bg-sky-500 hover:bg-sky-600 text-white":"text-slate-600 hover:bg-slate-100"),children:"Amanh"}),a.jsx(Z,{variant:i==="TODAS"?"default":"ghost",size:"sm",onClick:()=>X("TODAS"),className:W("rounded-none px-4 h-10",i==="TODAS"?"bg-sky-500 hover:bg-sky-600 text-white":"text-slate-600 hover:bg-slate-100"),children:"Todas"})]}),a.jsxs(tn,{value:c,onValueChange:u,children:[a.jsx(zt,{className:"w-[220px] border-slate-300",children:a.jsx(nn,{placeholder:"Selecione o status da aula"})}),a.jsx(Wt,{children:A.map(G=>a.jsx(Pe,{value:G.value,children:G.label},G.value))})]}),$&&E.length>0&&a.jsxs(tn,{value:k,onValueChange:R,children:[a.jsxs(zt,{className:"w-[200px] border-slate-300",children:[a.jsx(_v,{className:"h-4 w-4 mr-2"}),a.jsx(nn,{placeholder:"Filtrar professor"})]}),a.jsxs(Wt,{children:[a.jsx(Pe,{value:"all",children:"Todos os professores"}),E.map(G=>a.jsx(Pe,{value:G.id,children:G.full_name},G.id))]})]}),a.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>w(!0),className:"flex items-center gap-2 h-10 px-4 border-slate-300 text-slate-600 hover:bg-slate-100",children:[a.jsx("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filtros"]})]}),a.jsx(fo,{open:y,onOpenChange:w,children:a.jsxs(ps,{className:"sm:max-w-[450px]",children:[a.jsxs(gs,{children:[a.jsx(vs,{children:"Filtros"}),a.jsx(mo,{children:"Filtros tabela de aulas"})]}),a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-sky-600",children:"Data de Inicio"}),a.jsx(tt,{type:"date",value:v,onChange:G=>b(G.target.value),className:"border-slate-300",placeholder:"dd/mm/aaaa"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-sky-600",children:"Data Fim"}),a.jsx(tt,{type:"date",value:j,onChange:G=>S(G.target.value),className:"border-slate-300",placeholder:"dd/mm/aaaa"})]})]})}),a.jsxs(ho,{children:[a.jsx(Z,{variant:"outline",onClick:()=>{b(""),S("")},className:"mr-2",children:"Limpar"}),a.jsx(Z,{onClick:Y,className:"bg-sky-600 hover:bg-sky-700 text-white",children:"Filtrar"})]})]})}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsxs(qo,{children:[a.jsx(Go,{className:"bg-slate-50",children:a.jsxs(pt,{children:[a.jsx(je,{children:"Aluno"}),a.jsx(je,{children:"Matria"}),a.jsx(je,{children:"Tipo de aula"}),a.jsx(je,{children:"Data"}),a.jsx(je,{children:"Horrio"}),a.jsx(je,{children:"Status"}),a.jsx(je,{className:"text-right",children:"Aes"})]})}),a.jsx(Yo,{children:L?a.jsx(pt,{children:a.jsx(pe,{colSpan:"7",className:"text-center p-8",children:a.jsx(De,{className:"mx-auto h-6 w-6 animate-spin"})})}):de.length>0?de.map(G=>{var sr,sn,It,te,ve,se;const Xe=G.class_datetime?Se(G.class_datetime):null,Le=Xe&&G.duration_minutes?new Date(Xe.getTime()+G.duration_minutes*6e4):null,We=Xe&&Le?`${J(Xe,"HH'h'mm")} - ${J(Le,"HH'h'mm")}`:"N/A";return a.jsxs(pt,{children:[a.jsx(pe,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(vo,{className:"h-8 w-8",children:[a.jsx(yo,{src:(sr=G.student)==null?void 0:sr.avatar_url}),a.jsx(xo,{className:"bg-pink-100 text-pink-600 text-xs",children:((It=(sn=G.student)==null?void 0:sn.full_name)==null?void 0:It[0])||"A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-400",children:((te=G.student)==null?void 0:te.username)||"N/A"}),a.jsx("p",{className:"font-medium text-slate-800",children:((ve=G.student)==null?void 0:ve.full_name)||"N/A"})]})]})}),a.jsx(pe,{className:"text-slate-600",children:(se=G.student)!=null&&se.spanish_level?"Espanhol":"Ingls"}),a.jsx(pe,{className:"text-slate-600",children:"Efetiva"}),a.jsx(pe,{children:a.jsxs("div",{className:"flex items-center gap-1 text-slate-600",children:[a.jsx(Fn,{className:"h-4 w-4 text-slate-400"}),G.class_datetime?J(Se(G.class_datetime),"dd/MM/yyyy"):"N/A"]})}),a.jsx(pe,{children:a.jsxs("div",{className:"flex items-center gap-1 text-slate-600",children:[a.jsx(oi,{className:"h-4 w-4 text-slate-400"}),We]})}),a.jsx(pe,{children:a.jsx(Qe,{status:G.status})}),a.jsx(pe,{className:"text-right",children:a.jsxs(Dd,{children:[a.jsx(Id,{asChild:!0,children:a.jsx(Z,{variant:"ghost",size:"icon",children:a.jsx(aS,{className:"w-4 h-4"})})}),a.jsxs(sc,{children:[a.jsxs($r,{onClick:()=>me(G),disabled:!["scheduled","rescheduled"].includes(G.status),children:[a.jsx(aa,{className:"mr-2 h-4 w-4"})," Marcar como Concluda"]}),a.jsxs($r,{onClick:()=>ne(G),disabled:!["scheduled","missed","canceled","cancelled"].includes(G.status),children:[a.jsx(Sv,{className:"mr-2 h-4 w-4"})," Reagendar"]}),a.jsxs($r,{onClick:()=>H(G),disabled:!["scheduled"].includes(G.status),className:"text-orange-600 focus:text-orange-700 focus:bg-orange-50",children:[a.jsx(lf,{className:"mr-2 h-4 w-4"})," Marcar Falta"]})]})]})})]},G.id)}):a.jsx(pt,{children:a.jsx(pe,{colSpan:"7",className:"text-center p-8 text-slate-500",children:"Nenhuma aula encontrada com o filtro atual."})})})]})}),a.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm text-slate-600",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{children:["Total: ",Q.length]})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:"por pgina:"}),a.jsxs(tn,{value:String(C),onValueChange:G=>P(Number(G)),children:[a.jsx(zt,{className:"w-[70px] h-8 border-slate-300",children:a.jsx(nn,{})}),a.jsxs(Wt,{children:[a.jsx(Pe,{value:"5",children:"5"}),a.jsx(Pe,{value:"10",children:"10"}),a.jsx(Pe,{value:"20",children:"20"}),a.jsx(Pe,{value:"50",children:"50"})]})]})]}),a.jsx("span",{className:"min-w-[80px] text-center",children:Q.length>0?`${(N-1)*C+1} - ${Math.min(N*C,Q.length)}`:"0 - 0"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>_(1),disabled:N===1,children:a.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})}),a.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>_(G=>Math.max(1,G-1)),disabled:N===1,children:a.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>_(G=>Math.min(ie,G+1)),disabled:N>=ie,children:a.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),a.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>_(ie),disabled:N>=ie,children:a.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})})]})]})]}),a.jsx(z9,{appointment:d,isOpen:m,onClose:()=>p(!1),onFeedbackSent:V}),d&&a.jsx(W9,{appointment:d,isOpen:x,onClose:()=>g(!1),onReschedule:V})]})},q9={0:"Domingo",1:"Segunda",2:"Tera",3:"Quarta",4:"Quinta",5:"Sexta",6:"Sbado"},G9=()=>{const e=[];for(let t=7;t<=23;t++)for(let n=0;n<60&&!(t===23&&n>45);n+=15)e.push(`${String(t).padStart(2,"0")}:${String(n).padStart(2,"0")}`);return e},Y9=G9(),qb=({dashboardData:e})=>{var E,M;const t=e==null?void 0:e.professorId,n=e==null?void 0:e.onUpdate,r=(e==null?void 0:e.loading)||!1,s=(e==null?void 0:e.isSuperadmin)||!1,o=((E=e==null?void 0:e.data)==null?void 0:E.professors)||[],i=((M=e==null?void 0:e.data)==null?void 0:M.appointments)||[],l=h.useMemo(()=>At(),[]),[c,u]=h.useState(l),[d,f]=h.useState("week"),[m,p]=h.useState("all"),[x,g]=h.useState(()=>{const T=new Date;return`${String(T.getHours()).padStart(2,"0")}:${String(T.getMinutes()).padStart(2,"0")}`}),y=h.useRef(null),w=h.useRef(null),v=h.useMemo(()=>Pn(c,{weekStartsOn:0}),[c]),b=h.useMemo(()=>wf(c,{weekStartsOn:0}),[c]),j=h.useMemo(()=>{const T=[];for(let k=0;k<7;k++)T.push(Ct(v,k));return T},[v]),S=h.useMemo(()=>{const T=J(v,"yyyy-MM-dd"),k=J(b,"yyyy-MM-dd");return i.filter(R=>{if(!R.class_datetime)return!1;const A=R.class_datetime.substring(0,10),V=R.status;return s&&m!=="all"&&R.professor_id!==m?!1:A>=T&&A<=k&&["scheduled","completed","rescheduled","missed"].includes(V)})},[i,v,b,s,m]);h.useEffect(()=>{const T=setInterval(()=>{const k=new Date;g(`${String(k.getHours()).padStart(2,"0")}:${String(k.getMinutes()).padStart(2,"0")}`)},6e4);return()=>clearInterval(T)},[]),h.useEffect(()=>{y.current&&w.current&&N()&&setTimeout(()=>{var T;(T=y.current)==null||T.scrollIntoView({behavior:"smooth",block:"center"})},500)},[d]);const N=()=>j.some(T=>Ft(T,l)),_=()=>{const[T,k]=x.split(":").map(Number),R=T*60+k,A=7*60,V=24*60;if(R<A||R>V)return null;const D=R-A,z=Math.floor(D/15),Y=D%15/15*100;return{slotIndex:z,percentageIntoSlot:Y}},C=()=>u(zF(c,1)),P=()=>u(Xl(c,1)),I=()=>u(HF(c,1)),L=()=>u(Rt(c,1)),O=(T,k)=>S.filter(R=>{const A=Se(R.class_datetime),V=J(A,"HH:mm");return Ft(A,T)&&V===k}),U=T=>`${Math.ceil(T/15)*60}px`,$=T=>{var A,V,D;const k=(A=T.student)==null?void 0:A.spanish_level,R=T.status==="completed"?"bg-green-100 border-green-300":T.status==="rescheduled"?"bg-blue-200 border-blue-400":T.status==="missed"?"bg-red-100 border-red-300":"bg-blue-50 border-blue-200";return a.jsxs("div",{className:W("absolute left-0 right-0 mx-1 p-2 rounded border text-xs overflow-hidden",R),style:{height:U(T.duration_minutes||30),zIndex:10},children:[a.jsx("div",{className:"font-semibold truncate text-slate-800",children:((V=T.student)==null?void 0:V.full_name)||"Sin nombre"}),a.jsx("div",{className:"text-slate-600 text-[10px]",children:k?"Espanhol":"Ingls"}),s&&a.jsxs("div",{className:"text-slate-500 text-[10px] truncate",children:["Prof: ",((D=o.find(z=>z.id===T.professor_id))==null?void 0:D.full_name)||""]})]},T.id)};return t?a.jsx("div",{className:"w-full px-4 lg:px-8",children:a.jsxs("div",{className:"w-full bg-white rounded-lg shadow-sm",children:[a.jsxs("div",{className:"p-4 border-b flex items-center justify-between flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Horrios de Aula"}),s&&o.length>0&&a.jsxs(tn,{value:m,onValueChange:p,children:[a.jsxs(zt,{className:"w-[200px]",children:[a.jsx(_v,{className:"h-4 w-4 mr-2"}),a.jsx(nn,{placeholder:"Filtrar professor"})]}),a.jsxs(Wt,{children:[a.jsx(Pe,{value:"all",children:"Todos os professores"}),o.map(T=>a.jsx(Pe,{value:T.id,children:T.full_name},T.id))]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2 border rounded-lg px-2 py-1",children:[a.jsx(Z,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:I,children:a.jsx(Cp,{className:"h-4 w-4"})}),a.jsx("span",{className:"text-sm font-medium min-w-[120px] text-center",children:J(c,"MMMM yyyy",{locale:Fe})}),a.jsx(Z,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:L,children:a.jsx(hd,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex items-center gap-2 border rounded-lg px-2 py-1",children:[a.jsx(Z,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:C,children:a.jsx(Cp,{className:"h-4 w-4"})}),a.jsxs("span",{className:"text-sm font-medium min-w-[200px] text-center",children:[J(v,"dd",{locale:Fe})," de ",J(v,"MMMM",{locale:Fe})," - ",J(b,"dd",{locale:Fe})," de ",J(b,"MMMM yyyy",{locale:Fe})]}),a.jsx(Z,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:P,children:a.jsx(hd,{className:"h-4 w-4"})})]}),a.jsxs(Z,{onClick:()=>{n&&n()},className:"bg-blue-500 hover:bg-blue-600 text-white",size:"sm",children:[a.jsx(p4,{className:"h-4 w-4 mr-2"}),"Atualizar Horrios"]}),a.jsxs("div",{className:"flex border rounded-lg",children:[a.jsx(Z,{variant:d==="week"?"default":"ghost",size:"icon",className:W("h-8 w-8",d==="week"&&"bg-sky-600"),onClick:()=>f("week"),children:a.jsx(l4,{className:"h-4 w-4"})}),a.jsx(Z,{variant:d==="list"?"default":"ghost",size:"icon",className:W("h-8 w-8",d==="list"&&"bg-sky-600"),onClick:()=>f("list"),children:a.jsx(d4,{className:"h-4 w-4"})})]})]})]}),d==="week"&&a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("div",{className:"min-w-[1000px] mx-auto",children:[a.jsxs("div",{className:"grid grid-cols-8 border-b bg-slate-50",style:{gridTemplateColumns:"80px repeat(7, 1fr)"},children:[a.jsx("div",{className:"p-2 text-center text-sm font-medium text-slate-600 border-r",children:"Horrio"}),j.map((T,k)=>{const R=Ft(T,l);return a.jsxs("div",{className:W("p-2 text-center border-r last:border-r-0",R?"bg-orange-100 border-b-2 border-orange-500":""),children:[a.jsxs("div",{className:W("text-sm font-medium",R?"text-orange-700 font-bold":"text-slate-700"),children:[q9[Zs(T)],R&&a.jsx("span",{className:"ml-1 text-xs bg-orange-500 text-white px-1.5 py-0.5 rounded",children:"HOJE"})]}),a.jsx("div",{className:W("text-xs mt-0.5",R?"text-orange-600 font-bold":"text-slate-500"),children:J(T,"dd/MM")})]},k)})]}),a.jsx("div",{ref:w,className:"relative",style:{maxHeight:"600px",overflowY:"auto"},children:r?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx(De,{className:"h-8 w-8 animate-spin text-sky-600"})}):Y9.map((T,k)=>{const R=_(),A=R&&R.slotIndex===k;return a.jsxs("div",{className:"grid grid-cols-8 border-b hover:bg-slate-50 relative",style:{minHeight:"60px",gridTemplateColumns:"80px repeat(7, 1fr)"},ref:A?y:null,children:[A&&N()&&a.jsx("div",{className:"absolute left-0 right-0 z-20 pointer-events-none",style:{top:`${R.percentageIntoSlot}%`},children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-[80px] flex items-center justify-end pr-1",children:a.jsx("span",{className:"text-[10px] text-red-600 font-bold bg-red-100 px-1 rounded",children:x})}),a.jsx("div",{className:"flex-1 h-0.5 bg-red-500 relative",children:a.jsx("div",{className:"absolute left-0 -top-1 w-2 h-2 bg-red-500 rounded-full"})})]})}),a.jsx("div",{className:"p-2 text-center text-xs text-slate-600 border-r bg-slate-50 font-medium",children:T}),j.map((V,D)=>{const z=Ft(V,l),B=O(V,T);return a.jsx("div",{className:W("relative border-r last:border-r-0",z&&"bg-orange-50/50"),style:{minHeight:"60px"},children:B.map(Y=>$(Y))},D)})]},T)})})]})}),d==="list"&&a.jsx("div",{className:"p-4",children:r?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx(De,{className:"h-8 w-8 animate-spin text-sky-600"})}):S.length>0?a.jsx("div",{className:"space-y-2",children:S.map(T=>{var V,D;const k=Se(T.class_datetime),R=T.status==="completed"?"bg-green-100 border-green-300":T.status==="rescheduled"?"bg-blue-200 border-blue-400":T.status==="missed"?"bg-red-100 border-red-300":"bg-blue-50 border-blue-200",A=T.status==="missed"?"text-red-800":"text-slate-800";return a.jsx("div",{className:`p-4 border-2 rounded-lg hover:shadow-md transition-shadow ${R}`,children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("div",{className:`font-semibold ${A}`,children:((V=T.student)==null?void 0:V.full_name)||"Sin nombre"}),a.jsx("div",{className:"text-sm text-slate-600",children:(D=T.student)!=null&&D.spanish_level?"Espanhol":"Ingls"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:`text-sm font-medium ${A}`,children:J(k,"dd/MM/yyyy")}),a.jsxs("div",{className:"text-sm text-slate-600",children:[J(k,"HH:mm")," (",T.duration_minutes||30," min)"]})]})]})},T.id)})}):a.jsx("div",{className:"text-center py-12 text-slate-500",children:"Nenhuma aula agendada para esta semana."})})]})}):a.jsx("div",{className:"flex justify-center p-8",children:a.jsx(De,{className:"h-8 w-8 animate-spin text-sky-600"})})};var Bf="Checkbox",[K9,IG]=rr(Bf),[Q9,zy]=K9(Bf);function X9(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:o,form:i,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[m,p]=Br({prop:n,defaultProp:s??!1,onChange:c,caller:Bf}),[x,g]=h.useState(null),[y,w]=h.useState(null),v=h.useRef(!1),b=x?!!i||!!x.closest("form"):!0,j={checked:m,disabled:o,setChecked:p,control:x,setControl:g,name:l,form:i,value:d,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:Gs(s)?!1:s,isFormControl:b,bubbleInput:y,setBubbleInput:w};return a.jsx(Q9,{scope:t,...j,children:J9(f)?f(j):r})}var bT="CheckboxTrigger",_T=h.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:o,value:i,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:x}=zy(bT,e),g=Te(s,d),y=h.useRef(c);return h.useEffect(()=>{const w=o==null?void 0:o.form;if(w){const v=()=>f(y.current);return w.addEventListener("reset",v),()=>w.removeEventListener("reset",v)}},[o,f]),a.jsx(ce.button,{type:"button",role:"checkbox","aria-checked":Gs(c)?"mixed":c,"aria-required":u,"data-state":kT(c),"data-disabled":l?"":void 0,disabled:l,value:i,...r,ref:g,onKeyDown:ee(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:ee(n,w=>{f(v=>Gs(v)?!0:!v),x&&p&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})})});_T.displayName=bT;var Wy=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:i,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return a.jsx(X9,{__scopeCheckbox:n,checked:s,defaultChecked:o,disabled:l,required:i,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>a.jsxs(a.Fragment,{children:[a.jsx(_T,{...f,ref:t,__scopeCheckbox:n}),m&&a.jsx(NT,{__scopeCheckbox:n})]})})});Wy.displayName=Bf;var jT="CheckboxIndicator",ST=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,o=zy(jT,n);return a.jsx(qn,{present:r||Gs(o.checked)||o.checked===!0,children:a.jsx(ce.span,{"data-state":kT(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});ST.displayName=jT;var CT="CheckboxBubbleInput",NT=h.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:i,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:p}=zy(CT,e),x=Te(n,p),g=My(o),y=Ov(r);h.useEffect(()=>{const v=m;if(!v)return;const b=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(b,"checked").set,N=!s.current;if(g!==o&&S){const _=new Event("click",{bubbles:N});v.indeterminate=Gs(o),S.call(v,Gs(o)?!1:o),v.dispatchEvent(_)}},[m,g,o,s]);const w=h.useRef(Gs(o)?!1:o);return a.jsx(ce.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??w.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:x,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});NT.displayName=CT;function J9(e){return typeof e=="function"}function Gs(e){return e==="indeterminate"}function kT(e){return Gs(e)?"indeterminate":e?"checked":"unchecked"}const ET=h.forwardRef(({className:e,...t},n)=>a.jsx(Wy,{ref:n,className:W("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(ST,{className:W("flex items-center justify-center text-current"),children:a.jsx(mc,{className:"h-4 w-4"})})}));ET.displayName=Wy.displayName;const Z9={0:"Dom",1:"Seg",2:"Ter",3:"Qua",4:"Qui",5:"Sex",6:"Sb"},om={0:"Domingo",1:"Segunda",2:"Tera",3:"Quarta",4:"Quinta",5:"Sexta",6:"Sbado"},eq=()=>{const e=[];for(let t=7;t<=23;t++)for(let n=0;n<60&&!(t===23&&n>45);n+=15)e.push(`${String(t).padStart(2,"0")}:${String(n).padStart(2,"0")}`);return e},tq=eq(),nq=({student:e,isOpen:t,onClose:n,onUpdate:r,professorId:s,scheduledAppointments:o})=>{const{toast:i}=Dt(),[l,c]=h.useState(!1),[u,d]=h.useState({0:{enabled:!1,time:"08:00"},1:{enabled:!1,time:"08:00"},2:{enabled:!1,time:"08:00"},3:{enabled:!1,time:"08:00"},4:{enabled:!1,time:"08:00"},5:{enabled:!1,time:"08:00"},6:{enabled:!1,time:"08:00"}});h.useMemo(()=>{if(o&&o.length>0){const g={};for(let y=0;y<7;y++)g[y]={enabled:!1,time:"08:00"};o.forEach(y=>{const w=Se(y.class_datetime),v=Zs(w),b=J(w,"HH:mm");g[v].enabled||(g[v]={enabled:!0,time:b})}),d(g)}},[o]);const f=g=>{d(y=>({...y,[g]:{...y[g],enabled:!y[g].enabled}}))},m=(g,y)=>{d(w=>({...w,[g]:{...w[g],time:y}}))},p=async()=>{const g=Object.entries(u).filter(([w,v])=>v.enabled);if(g.length===0){i({variant:"destructive",title:"Campos obrigatrios",description:"Selecione pelo menos um dia da semana."});return}const y=g.map(([w,v])=>`${om[w]} s ${v.time}`).join(`
`);if(window.confirm(`Tem certeza que deseja alterar o horrio das aulas de ${e.full_name}?

Novos horrios:
${y}

Isso afetar ${o.length} aulas agendadas.`)){c(!0);try{const w={};o.forEach(S=>{const N=Se(S.class_datetime),_=J(N,"yyyy-ww");w[_]||(w[_]=[]),w[_].push(S)});const v=[];for(const[S,N]of Object.entries(w)){N.sort((O,U)=>new Date(O.class_datetime)-new Date(U.class_datetime));const _=N[0],C=Se(_.class_datetime),P=Zs(C),I=new Date(C);I.setDate(I.getDate()-P);const L=[];g.forEach(([O,U])=>{const $=new Date(I);$.setDate($.getDate()+parseInt(O));const[E,M]=U.time.split(":").map(Number);$.setHours(E,M,0,0),L.push($)}),L.sort((O,U)=>O-U),N.forEach((O,U)=>{U<L.length?v.push({id:O.id,class_datetime:L[U].toISOString()}):v.push({id:O.id,status:"cancelled"})})}for(const S of v){const{error:N}=await F.from("appointments").update(S.status?{status:S.status}:{class_datetime:S.class_datetime}).eq("id",S.id);if(N)throw N}const b=v.filter(S=>!S.status).length,j=v.filter(S=>S.status).length;i({title:"Horrios atualizados!",description:`${b} aulas reagendadas${j>0?` e ${j} canceladas`:""}.`}),r(),n()}catch(w){console.error("Error updating schedule:",w),i({variant:"destructive",title:"Erro ao atualizar horrios",description:w.message})}finally{c(!1)}}};if(!e)return null;const x=Object.entries(u).filter(([g,y])=>y.enabled);return a.jsx(fo,{open:t,onOpenChange:n,children:a.jsxs(ps,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[a.jsxs(gs,{children:[a.jsx(vs,{children:"Alterar Dias e Horrios"}),a.jsxs(mo,{children:["Alterar os dias da semana e horrios das aulas agendadas de ",e.full_name]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[a.jsxs("p",{className:"text-sm font-medium text-slate-700 mb-1",children:["Aulas agendadas: ",o.length]}),a.jsx("p",{className:"text-xs text-slate-500",children:'Somente aulas com status "agendada" sero alteradas'})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(He,{className:"text-base font-semibold",children:"Dias da Semana e Horrios"}),a.jsx("div",{className:"space-y-2",children:Object.entries(om).map(([g,y])=>{const w=parseInt(g),v=u[w];return a.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-slate-50",children:[a.jsx(ET,{id:`day-${w}`,checked:v.enabled,onCheckedChange:()=>f(w)}),a.jsx("label",{htmlFor:`day-${w}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer flex-1",children:y}),a.jsxs(tn,{value:v.time,onValueChange:b=>m(w,b),disabled:!v.enabled,children:[a.jsx(zt,{className:`w-[120px] ${!v.enabled&&"opacity-50"}`,children:a.jsx(nn,{})}),a.jsx(Wt,{className:"max-h-60",children:tq.map(b=>a.jsx(Pe,{value:b,children:b},b))})]})]},w)})})]}),x.length>0&&a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Novos horrios:"}),a.jsx("div",{className:"space-y-1",children:x.map(([g,y])=>a.jsxs("p",{className:"text-sm text-blue-700",children:[" ",om[g]," s ",y.time]},g))})]})]}),a.jsxs(ho,{children:[a.jsx(Z,{variant:"outline",onClick:n,children:"Cancelar"}),a.jsx(Z,{onClick:p,disabled:l||x.length===0,className:"bg-sky-600 hover:bg-sky-700",children:l?a.jsxs(a.Fragment,{children:[a.jsx(De,{className:"mr-2 h-4 w-4 animate-spin"})," Salvando..."]}):"Salvar Alteraes"})]})]})})},Gb=({dashboardData:e})=>{const{toast:t}=Dt(),[n,r]=h.useState(""),[s,o]=h.useState(null),[i,l]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState(""),[m,p]=h.useState(""),[x,g]=h.useState("normal"),[y,w]=h.useState(!1),v=(e==null?void 0:e.data)||{},b=(e==null?void 0:e.loading)||!1,j=e==null?void 0:e.professorId,S=e==null?void 0:e.onUpdate,N=(e==null?void 0:e.isSuperadmin)||!1,_=v.professors||[],[C,P]=h.useState("all"),I=v.students||[],L=v.allBillings||[],O=v.appointments||[],U=v.assignedLogs||[],E=h.useMemo(()=>!I||!L||!O||!U?[]:I.map(A=>{const V=O.filter(Q=>Q.student_id===A.id),D=V.filter(Q=>Q.status==="scheduled"),z={};D.forEach(Q=>{const ie=Se(Q.class_datetime),de=Zs(ie),me=J(ie,"HH:mm");z[de]||(z[de]=me)});const Y=U.filter(Q=>Q.student_id===A.id&&Q.status!=="Cancelado").reduce((Q,ie)=>Q+(ie.assigned_classes||0),0),X=V.filter(Q=>["scheduled","completed","missed"].includes(Q.status)).length,H=Y-X,ne=D.length;return{...A,availableClasses:Math.max(0,H),scheduledClasses:ne,daySchedules:z,scheduledAppointments:D}}),[I,L,O,U]).filter(A=>{var D;const V=(D=A.full_name)==null?void 0:D.toLowerCase().includes(n.toLowerCase());if(N&&C!=="all"){const z=O.some(B=>B.student_id===A.id&&B.professor_id===C);return V&&z}return V}),M=async A=>{const D=!(A.is_active!==!1),z=D?"ativar":"inativar";if(window.confirm(`Tem certeza que deseja ${z} o aluno ${A.full_name}?`))try{const{error:B}=await F.from("profiles").update({is_active:D}).eq("id",A.id);if(B)throw B;if(D)t({title:"Sucesso!",description:"Aluno ativado com sucesso."});else{const{data:Y,error:X}=await F.from("appointments").select("class_slot_id, duration_minutes, class_datetime").eq("student_id",A.id).gte("class_datetime",At().toISOString()).in("status",["scheduled","pending","rescheduled"]);if(X)console.error("Error fetching appointments:",X);else if(Y&&Y.length>0){const H=new Set;for(const ne of Y)if(ne.class_slot_id&&(H.add(ne.class_slot_id),Math.ceil((ne.duration_minutes||30)/15)>1)){const{data:ie}=await F.from("class_slots").select("id, day_of_week, start_time").eq("professor_id",j).eq("status","filled");ie==null||ie.forEach(de=>H.add(de.id))}if(H.size>0){const{error:ne}=await F.from("class_slots").update({status:"active"}).in("id",Array.from(H));ne?(console.error("Error liberating slots:",ne),t({variant:"warning",title:"Aviso",description:"Aluno inativado, mas alguns horrios podem no ter sido liberados."})):t({title:"Sucesso!",description:`Aluno inativado e ${H.size} horrio(s) liberado(s) com sucesso.`})}await F.from("appointments").update({status:"cancelled"}).eq("student_id",A.id).gte("class_datetime",At().toISOString()).in("status",["scheduled","pending","rescheduled"])}}S&&S()}catch(B){console.error("Error toggling student status:",B),t({variant:"destructive",title:"Erro",description:`No foi possvel ${z} o aluno: ${B.message}`})}},T=A=>{o(A),l(!0)},k=A=>{o(A),u(!0)},R=async()=>{if(!d.trim()||!m.trim()){t({variant:"destructive",title:"Campos obrigatrios",description:"Preencha o ttulo e a mensagem."});return}w(!0);try{const{error:A}=await F.from("student_messages").insert({professor_id:j,student_id:s.id,title:d,message:m,priority:x});if(A)throw A;await F.from("notifications").insert({user_id:s.id,type:"professor_message",content:{message:`Nova mensagem do professor: ${d}`,priority:x}}),t({title:"Mensagem enviada!",description:`Mensagem enviada para ${s.full_name}.`}),l(!1),f(""),p(""),g("normal")}catch(A){t({variant:"destructive",title:"Erro ao enviar mensagem",description:A.message})}finally{w(!1)}};return a.jsx("div",{className:"w-full",children:a.jsx("div",{className:"w-full px-4 lg:px-8",children:a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[a.jsxs("h3",{className:"font-bold mb-4",children:["Gerenciar Alunos (",E.length,")"]}),a.jsxs("div",{className:"flex justify-between items-center mb-4 gap-4 flex-wrap",children:[a.jsxs("div",{className:"relative w-full max-w-sm",children:[a.jsx(Cv,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-500"}),a.jsx(tt,{placeholder:"Buscar por nome...",value:n,onChange:A=>r(A.target.value),className:"pl-10"})]}),N&&_.length>0&&a.jsxs(tn,{value:C,onValueChange:P,children:[a.jsxs(zt,{className:"w-[200px]",children:[a.jsx(_v,{className:"h-4 w-4 mr-2"}),a.jsx(nn,{placeholder:"Filtrar professor"})]}),a.jsxs(Wt,{children:[a.jsx(Pe,{value:"all",children:"Todos os professores"}),_.map(A=>a.jsx(Pe,{value:A.id,children:A.full_name},A.id))]})]})]}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsxs(qo,{children:[a.jsx(Go,{className:"bg-slate-50",children:a.jsxs(pt,{children:[a.jsx(je,{children:"Cdigo"}),a.jsx(je,{children:"Nome"}),a.jsx(je,{children:"Idade"}),a.jsx(je,{children:"Nvel"}),a.jsx(je,{children:"Professor"}),a.jsx(je,{children:"Dias de Aula"}),a.jsx(je,{children:"Aulas Agendadas"}),a.jsx(je,{children:"Estado"}),a.jsx(je,{children:"Membro Desde"}),a.jsx(je,{className:"text-right",children:"Aes"})]})}),a.jsx(Yo,{children:b?a.jsx(pt,{children:a.jsx(pe,{colSpan:"9",className:"text-center",children:a.jsx(De,{className:"mx-auto my-4 h-6 w-6 animate-spin"})})}):E.length>0?E.map(A=>{var V,D;return a.jsxs(pt,{children:[a.jsx(pe,{className:"font-mono text-sm text-slate-600",children:A.student_code||"-"}),a.jsx(pe,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(vo,{className:"h-8 w-8",children:[a.jsx(yo,{src:A.avatar_url}),a.jsx(xo,{children:((V=A.full_name)==null?void 0:V[0])||"A"})]}),A.full_name]})}),a.jsx(pe,{children:A.age||"N/A"}),a.jsx(pe,{children:A.spanish_level||"N/A"}),a.jsx(pe,{children:((D=_.find(z=>z.id===A.assigned_professor_id))==null?void 0:D.full_name)||""}),a.jsx(pe,{children:Object.keys(A.daySchedules).length>0?a.jsx("div",{className:"flex flex-col gap-1",children:Object.entries(A.daySchedules).sort(([z],[B])=>parseInt(z)-parseInt(B)).map(([z,B])=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ne,{variant:"outline",className:"text-xs",children:Z9[z]}),a.jsxs("span",{className:"text-xs text-slate-600",children:[a.jsx(oi,{className:"inline h-3 w-3 mr-1"}),B]})]},z))}):a.jsx("span",{className:"text-xs text-slate-400",children:"Sem aulas"})}),a.jsx(pe,{children:a.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[a.jsx(jv,{className:"h-4 w-4 text-sky-500"}),A.scheduledClasses]})}),a.jsx(pe,{children:A.is_active!==!1?a.jsx(Ne,{className:"bg-green-100 text-green-800 hover:bg-green-200",children:"Ativo"}):a.jsx(Ne,{variant:"destructive",children:"Inativo"})}),a.jsx(pe,{children:J(new Date(A.created_at),"dd/MM/yyyy")}),a.jsx(pe,{className:"text-right",children:a.jsxs(Dd,{children:[a.jsx(Id,{asChild:!0,children:a.jsx(Z,{variant:"ghost",size:"icon",children:a.jsx(aS,{className:"h-4 w-4"})})}),a.jsxs(sc,{align:"end",children:[A.scheduledAppointments.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs($r,{onClick:()=>k(A),children:[a.jsx(Fn,{className:"mr-2 h-4 w-4 text-blue-600"}),"Alterar Dias/Horrios"]}),a.jsx(oc,{})]}),a.jsx($r,{onClick:()=>M(A),children:A.is_active!==!1?a.jsxs(a.Fragment,{children:[a.jsx(lf,{className:"mr-2 h-4 w-4 text-orange-600"})," Inativar Aluno"]}):a.jsxs(a.Fragment,{children:[a.jsx(lS,{className:"mr-2 h-4 w-4 text-green-600"})," Ativar Aluno"]})}),a.jsx(oc,{}),a.jsxs($r,{onClick:()=>T(A),children:[a.jsx(Fr,{className:"mr-2 h-4 w-4 text-sky-600"}),"Enviar Mensagem"]})]})]})})]},A.id)}):a.jsx(pt,{children:a.jsx(pe,{colSpan:"10",className:"text-center py-8 text-slate-500",children:"Nenhum aluno encontrado."})})})]})}),a.jsx(fo,{open:i,onOpenChange:l,children:a.jsxs(ps,{className:"sm:max-w-[500px]",children:[a.jsxs(gs,{children:[a.jsxs(vs,{children:["Enviar Mensagem para ",s==null?void 0:s.full_name]}),a.jsx(mo,{children:"A mensagem aparecer no painel do aluno como um aviso importante."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(He,{htmlFor:"title",children:"Ttulo da Mensagem"}),a.jsx(tt,{id:"title",placeholder:"Ex: Tarefa da prxima aula",value:d,onChange:A=>f(A.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(He,{htmlFor:"message",children:"Mensagem"}),a.jsx(Pc,{id:"message",placeholder:"Digite sua mensagem...",value:m,onChange:A=>p(A.target.value),rows:5})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(He,{htmlFor:"priority",children:"Prioridade"}),a.jsxs(tn,{value:x,onValueChange:g,children:[a.jsx(zt,{id:"priority",children:a.jsx(nn,{})}),a.jsxs(Wt,{children:[a.jsx(Pe,{value:"normal",children:"Normal"}),a.jsx(Pe,{value:"important",children:"Importante"}),a.jsx(Pe,{value:"urgent",children:"Urgente"})]})]})]})]}),a.jsx(ho,{children:a.jsx(Z,{onClick:R,disabled:y,className:"bg-sky-500 hover:bg-sky-600",children:y?a.jsxs(a.Fragment,{children:[a.jsx(De,{className:"mr-2 h-4 w-4 animate-spin"})," Enviando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ia,{className:"mr-2 h-4 w-4"})," Enviar Mensagem"]})})})]})}),a.jsx(nq,{student:s,isOpen:c,onClose:()=>u(!1),onUpdate:S,professorId:j,scheduledAppointments:(s==null?void 0:s.scheduledAppointments)||[]})]})})})},rq=({activeChat:e,professorId:t,professorName:n,onBack:r})=>{var w;const[s,o]=h.useState([]),[i,l]=h.useState(""),[c,u]=h.useState(!0),[d,f]=h.useState(!1),m=h.useRef(null),{toast:p}=Dt(),x=()=>{var v;return(v=m.current)==null?void 0:v.scrollIntoView({behavior:"smooth"})},g=h.useCallback(async()=>{if(!(e!=null&&e.chat_id))return;u(!0);const{data:v,error:b}=await F.from("mensajes").select("*").eq("chat_id",e.chat_id).order("enviado_en",{ascending:!0});if(b)p({variant:"destructive",title:"Erro ao carregar mensagens."});else{o(v||[]);const{error:j,count:S}=await F.from("mensajes").update({leido:!0}).eq("chat_id",e.chat_id).neq("remitente_id",t).eq("leido",!1);j?console.error("Erro ao marcar mensagens como lidas:",j):S>0&&console.log(`${S} mensagens marcadas como lidas`)}u(!1)},[e,p,t]);h.useEffect(()=>{g();const v=F.channel(`professor-chat-${e.chat_id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"mensajes",filter:`chat_id=eq.${e.chat_id}`},b=>{b.new.remitente_id!==t&&o(j=>[...j,b.new])}).subscribe();return()=>F.removeChannel(v)},[e,g,t]),h.useEffect(x,[s]);const y=async v=>{if(v.preventDefault(),!i.trim())return;f(!0);const b=i;l("");const j={mensaje_id:`temp-${Date.now()}`,chat_id:e.chat_id,remitente_id:t,contenido:b,enviado_en:new Date().toISOString()};o(N=>[...N,j]);const{error:S}=await F.from("mensajes").insert({chat_id:e.chat_id,remitente_id:t,contenido:b.trim()});S?(p({variant:"destructive",title:"Erro ao enviar",description:S.message}),o(N=>N.filter(_=>_.mensaje_id!==j.mensaje_id)),l(b)):await F.from("notifications").insert({user_id:e.alumno_id,type:"new_message",content:{message:`Nova mensagem de ${n}`,senderName:n,chatId:e.chat_id}}),f(!1)};return a.jsx("div",{className:"w-full",children:a.jsx("div",{className:"w-full px-4 lg:px-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm flex flex-col h-[75vh]",children:[a.jsxs("header",{className:"p-4 border-b flex items-center gap-4 sticky top-0 bg-white z-10",children:[a.jsx(Z,{variant:"ghost",size:"icon",onClick:r,children:a.jsx(oS,{className:"w-5 h-5"})}),a.jsxs(vo,{children:[a.jsx(yo,{src:e.alumno_avatar_url}),a.jsx(xo,{children:((w=e.alumno_full_name)==null?void 0:w[0])||"A"})]}),a.jsx("h3",{className:"font-bold",children:e.alumno_full_name})]}),a.jsxs("main",{className:"flex-1 p-4 overflow-y-auto bg-slate-50 space-y-4",children:[c?a.jsx("div",{className:"flex justify-center items-center h-full",children:a.jsx(De,{className:"w-8 h-8 animate-spin text-sky-600"})}):s.length>0?s.map(v=>{const b=v.remitente_id===t;return a.jsx("div",{className:W("flex",b?"justify-end":"justify-start"),children:a.jsx("div",{className:W("rounded-lg px-4 py-2 max-w-[80%]",b?"bg-sky-600 text-white":"bg-slate-200 text-slate-800"),children:a.jsx("p",{className:"text-sm",children:v.contenido})})},v.mensaje_id)}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-slate-400",children:[a.jsx("p",{children:"Nenhuma mensagem nesta conversa ainda."}),a.jsx("p",{className:"text-sm",children:"Envie a primeira mensagem para comear."})]}),a.jsx("div",{ref:m})]}),a.jsx("footer",{className:"p-4 border-t bg-white",children:a.jsxs("form",{onSubmit:y,className:"flex gap-2",children:[a.jsx(tt,{value:i,onChange:v=>l(v.target.value),placeholder:"Digite sua mensagem...",autoComplete:"off",disabled:d}),a.jsx(Z,{type:"submit",disabled:d||!i.trim(),children:d?a.jsx(De,{className:"w-4 h-4 animate-spin"}):a.jsx(ia,{className:"w-4 h-4"})})]})})]})})})},Yb=({dashboardData:e})=>{var g;const t=e==null?void 0:e.professorId,n=(e==null?void 0:e.professorName)||"Professor",r=((g=e==null?void 0:e.data)==null?void 0:g.chatList)||[],s=(e==null?void 0:e.loading)||!1,[o,i]=h.useState([]),[l,c]=h.useState(null),[u,d]=h.useState({}),{toast:f}=Dt(),m=h.useCallback(async()=>{if(t){if(r.length>0&&!s){i(r);return}if(!s){const{data:y,error:w}=await F.rpc("get_professor_chat_list",{p_id:t});w?(console.error("Error fetching chat list:",w),f({variant:"destructive",title:"Erro ao carregar conversas",description:w.message})):i(y||[])}}},[t,r.length,s,f]),p=h.useCallback(async()=>{if(!t||o.length===0)return;const y=o.map(v=>v.chat_id),w={};for(const v of y){const{count:b,error:j}=await F.from("mensajes").select("mensaje_id",{count:"exact",head:!0}).eq("chat_id",v).neq("remitente_id",t).eq("leido",!1);j||(w[v]=b||0)}d(w)},[t,o]);h.useEffect(()=>{if(r.length>0&&o.length===0&&i(r),!t)return;const y=v=>{m(),p()},w=F.channel("professor-chat-list").on("postgres_changes",{event:"INSERT",schema:"public",table:"mensajes"},y).on("postgres_changes",{event:"INSERT",schema:"public",table:"chats",filter:`profesor_id=eq.${t}`},y).subscribe();return()=>F.removeChannel(w)},[t,m,p,r]),h.useEffect(()=>{o.length>0&&p()},[o,p]);const x=h.useCallback(()=>{c(null),p()},[p]);return l?a.jsx(rq,{activeChat:l,professorId:t,professorName:n,onBack:x}):a.jsx("div",{className:"w-full",children:a.jsx("div",{className:"w-full px-4 lg:px-8",children:a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:"Conversas com Alunos"}),a.jsx("div",{className:"space-y-2 max-h-[70vh] overflow-y-auto",children:s?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx(De,{className:"w-8 h-8 animate-spin text-sky-600"})}):o.length>0?o.map(y=>{var w;return a.jsxs("div",{onClick:()=>c(y),className:W("flex items-start gap-4 p-3 rounded-lg hover:bg-slate-100 cursor-pointer transition-colors border",u[y.chat_id]>0&&"bg-sky-50 border-sky-200"),children:[a.jsxs(vo,{children:[a.jsx(yo,{src:y.alumno_avatar_url}),a.jsx(xo,{children:((w=y.alumno_full_name)==null?void 0:w[0])||"A"})]}),a.jsxs("div",{className:"flex-1 overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:W("font-semibold text-slate-800 truncate",u[y.chat_id]>0&&"text-sky-800"),children:y.alumno_full_name}),a.jsxs("div",{className:"flex items-center gap-2",children:[u[y.chat_id]>0&&a.jsx("span",{className:"bg-sky-600 text-white text-xs px-2 py-0.5 rounded-full font-medium",children:u[y.chat_id]}),y.last_message_time&&a.jsx("p",{className:"text-xs text-slate-400 flex-shrink-0",children:uC(new Date(y.last_message_time),{addSuffix:!0,locale:Fe})})]})]}),a.jsx("p",{className:W("text-sm truncate",u[y.chat_id]>0?"text-slate-700 font-medium":"text-slate-500"),children:y.last_message_content||"Nenhuma mensagem ainda."})]})]},y.chat_id)}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center text-slate-500",children:[a.jsx(Fr,{className:"w-16 h-16 mb-4"}),a.jsx("p",{className:"text-lg",children:"Nenhuma conversa iniciada."}),a.jsx("p",{className:"text-sm",children:"Quando um aluno enviar uma mensagem, ela aparecer aqui."})]})})]})})})};var Uf="Switch",[sq,LG]=rr(Uf),[oq,iq]=sq(Uf),TT=h.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,p]=h.useState(null),x=Te(t,b=>p(b)),g=h.useRef(!1),y=m?d||!!m.closest("form"):!0,[w,v]=Br({prop:s,defaultProp:o??!1,onChange:u,caller:Uf});return a.jsxs(oq,{scope:n,checked:w,disabled:l,children:[a.jsx(ce.button,{type:"button",role:"switch","aria-checked":w,"aria-required":i,"data-state":RT(w),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:ee(e.onClick,b=>{v(j=>!j),y&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),y&&a.jsx(MT,{control:m,bubbles:!g.current,name:r,value:c,checked:w,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});TT.displayName=Uf;var PT="SwitchThumb",AT=h.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=iq(PT,n);return a.jsx(ce.span,{"data-state":RT(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});AT.displayName=PT;var aq="SwitchBubbleInput",MT=h.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},o)=>{const i=h.useRef(null),l=Te(i,o),c=My(n),u=Ov(t);return h.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&p){const x=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(x)}},[c,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});MT.displayName=aq;function RT(e){return e?"checked":"unchecked"}var OT=TT,lq=AT;const sg=h.forwardRef(({className:e,...t},n)=>a.jsx(OT,{className:W("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:a.jsx(lq,{className:W("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));sg.displayName=OT.displayName;var Kb=1,cq=.9,uq=.8,dq=.17,im=.1,am=.999,fq=.9999,hq=.99,mq=/[\\\/_+.#"@\[\(\{&]/,pq=/[\\\/_+.#"@\[\(\{&]/g,gq=/[\s-]/,DT=/[\s-]/g;function og(e,t,n,r,s,o,i){if(o===t.length)return s===e.length?Kb:hq;var l=`${s},${o}`;if(i[l]!==void 0)return i[l];for(var c=r.charAt(o),u=n.indexOf(c,s),d=0,f,m,p,x;u>=0;)f=og(e,t,n,r,u+1,o+1,i),f>d&&(u===s?f*=Kb:mq.test(e.charAt(u-1))?(f*=uq,p=e.slice(s,u-1).match(pq),p&&s>0&&(f*=Math.pow(am,p.length))):gq.test(e.charAt(u-1))?(f*=cq,x=e.slice(s,u-1).match(DT),x&&s>0&&(f*=Math.pow(am,x.length))):(f*=dq,s>0&&(f*=Math.pow(am,u-s))),e.charAt(u)!==t.charAt(o)&&(f*=fq)),(f<im&&n.charAt(u-1)===r.charAt(o+1)||r.charAt(o+1)===r.charAt(o)&&n.charAt(u-1)!==r.charAt(o))&&(m=og(e,t,n,r,u+1,o+2,i),m*im>f&&(f=m*im)),f>d&&(d=f),u=n.indexOf(c,u+1);return i[l]=d,d}function Qb(e){return e.toLowerCase().replace(DT," ")}function vq(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,og(e,t,Qb(e),Qb(t),0,0,{})}var Ga='[cmdk-group=""]',lm='[cmdk-group-items=""]',yq='[cmdk-group-heading=""]',IT='[cmdk-item=""]',Xb=`${IT}:not([aria-disabled="true"])`,ig="cmdk-item-select",xi="data-value",xq=(e,t,n)=>vq(e,t,n),LT=h.createContext(void 0),Ac=()=>h.useContext(LT),$T=h.createContext(void 0),qy=()=>h.useContext($T),FT=h.createContext(void 0),VT=h.forwardRef((e,t)=>{let n=wi(()=>{var D,z;return{search:"",value:(z=(D=e.value)!=null?D:e.defaultValue)!=null?z:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=wi(()=>new Set),s=wi(()=>new Map),o=wi(()=>new Map),i=wi(()=>new Set),l=BT(e),{label:c,children:u,value:d,onValueChange:f,filter:m,shouldFilter:p,loop:x,disablePointerSelection:g=!1,vimBindings:y=!0,...w}=e,v=Ht(),b=Ht(),j=Ht(),S=h.useRef(null),N=Pq();Jo(()=>{if(d!==void 0){let D=d.trim();n.current.value=D,_.emit()}},[d]),Jo(()=>{N(6,U)},[]);let _=h.useMemo(()=>({subscribe:D=>(i.current.add(D),()=>i.current.delete(D)),snapshot:()=>n.current,setState:(D,z,B)=>{var Y,X,H,ne;if(!Object.is(n.current[D],z)){if(n.current[D]=z,D==="search")O(),I(),N(1,L);else if(D==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Q=document.getElementById(j);Q?Q.focus():(Y=document.getElementById(v))==null||Y.focus()}if(N(7,()=>{var Q;n.current.selectedItemId=(Q=$())==null?void 0:Q.id,_.emit()}),B||N(5,U),((X=l.current)==null?void 0:X.value)!==void 0){let Q=z??"";(ne=(H=l.current).onValueChange)==null||ne.call(H,Q);return}}_.emit()}},emit:()=>{i.current.forEach(D=>D())}}),[]),C=h.useMemo(()=>({value:(D,z,B)=>{var Y;z!==((Y=o.current.get(D))==null?void 0:Y.value)&&(o.current.set(D,{value:z,keywords:B}),n.current.filtered.items.set(D,P(z,B)),N(2,()=>{I(),_.emit()}))},item:(D,z)=>(r.current.add(D),z&&(s.current.has(z)?s.current.get(z).add(D):s.current.set(z,new Set([D]))),N(3,()=>{O(),I(),n.current.value||L(),_.emit()}),()=>{o.current.delete(D),r.current.delete(D),n.current.filtered.items.delete(D);let B=$();N(4,()=>{O(),(B==null?void 0:B.getAttribute("id"))===D&&L(),_.emit()})}),group:D=>(s.current.has(D)||s.current.set(D,new Set),()=>{o.current.delete(D),s.current.delete(D)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:v,inputId:j,labelId:b,listInnerRef:S}),[]);function P(D,z){var B,Y;let X=(Y=(B=l.current)==null?void 0:B.filter)!=null?Y:xq;return D?X(D,n.current.search,z):0}function I(){if(!n.current.search||l.current.shouldFilter===!1)return;let D=n.current.filtered.items,z=[];n.current.filtered.groups.forEach(Y=>{let X=s.current.get(Y),H=0;X.forEach(ne=>{let Q=D.get(ne);H=Math.max(Q,H)}),z.push([Y,H])});let B=S.current;E().sort((Y,X)=>{var H,ne;let Q=Y.getAttribute("id"),ie=X.getAttribute("id");return((H=D.get(ie))!=null?H:0)-((ne=D.get(Q))!=null?ne:0)}).forEach(Y=>{let X=Y.closest(lm);X?X.appendChild(Y.parentElement===X?Y:Y.closest(`${lm} > *`)):B.appendChild(Y.parentElement===B?Y:Y.closest(`${lm} > *`))}),z.sort((Y,X)=>X[1]-Y[1]).forEach(Y=>{var X;let H=(X=S.current)==null?void 0:X.querySelector(`${Ga}[${xi}="${encodeURIComponent(Y[0])}"]`);H==null||H.parentElement.appendChild(H)})}function L(){let D=E().find(B=>B.getAttribute("aria-disabled")!=="true"),z=D==null?void 0:D.getAttribute(xi);_.setState("value",z||void 0)}function O(){var D,z,B,Y;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let X=0;for(let H of r.current){let ne=(z=(D=o.current.get(H))==null?void 0:D.value)!=null?z:"",Q=(Y=(B=o.current.get(H))==null?void 0:B.keywords)!=null?Y:[],ie=P(ne,Q);n.current.filtered.items.set(H,ie),ie>0&&X++}for(let[H,ne]of s.current)for(let Q of ne)if(n.current.filtered.items.get(Q)>0){n.current.filtered.groups.add(H);break}n.current.filtered.count=X}function U(){var D,z,B;let Y=$();Y&&(((D=Y.parentElement)==null?void 0:D.firstChild)===Y&&((B=(z=Y.closest(Ga))==null?void 0:z.querySelector(yq))==null||B.scrollIntoView({block:"nearest"})),Y.scrollIntoView({block:"nearest"}))}function $(){var D;return(D=S.current)==null?void 0:D.querySelector(`${IT}[aria-selected="true"]`)}function E(){var D;return Array.from(((D=S.current)==null?void 0:D.querySelectorAll(Xb))||[])}function M(D){let z=E()[D];z&&_.setState("value",z.getAttribute(xi))}function T(D){var z;let B=$(),Y=E(),X=Y.findIndex(ne=>ne===B),H=Y[X+D];(z=l.current)!=null&&z.loop&&(H=X+D<0?Y[Y.length-1]:X+D===Y.length?Y[0]:Y[X+D]),H&&_.setState("value",H.getAttribute(xi))}function k(D){let z=$(),B=z==null?void 0:z.closest(Ga),Y;for(;B&&!Y;)B=D>0?Eq(B,Ga):Tq(B,Ga),Y=B==null?void 0:B.querySelector(Xb);Y?_.setState("value",Y.getAttribute(xi)):T(D)}let R=()=>M(E().length-1),A=D=>{D.preventDefault(),D.metaKey?R():D.altKey?k(1):T(1)},V=D=>{D.preventDefault(),D.metaKey?M(0):D.altKey?k(-1):T(-1)};return h.createElement(ce.div,{ref:t,tabIndex:-1,...w,"cmdk-root":"",onKeyDown:D=>{var z;(z=w.onKeyDown)==null||z.call(w,D);let B=D.nativeEvent.isComposing||D.keyCode===229;if(!(D.defaultPrevented||B))switch(D.key){case"n":case"j":{y&&D.ctrlKey&&A(D);break}case"ArrowDown":{A(D);break}case"p":case"k":{y&&D.ctrlKey&&V(D);break}case"ArrowUp":{V(D);break}case"Home":{D.preventDefault(),M(0);break}case"End":{D.preventDefault(),R();break}case"Enter":{D.preventDefault();let Y=$();if(Y){let X=new Event(ig);Y.dispatchEvent(X)}}}}},h.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:Mq},c),Hf(e,D=>h.createElement($T.Provider,{value:_},h.createElement(LT.Provider,{value:C},D))))}),wq=h.forwardRef((e,t)=>{var n,r;let s=Ht(),o=h.useRef(null),i=h.useContext(FT),l=Ac(),c=BT(e),u=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:i==null?void 0:i.forceMount;Jo(()=>{if(!u)return l.item(s,i==null?void 0:i.id)},[u]);let d=UT(s,o,[e.value,e.children,o],e.keywords),f=qy(),m=no(N=>N.value&&N.value===d.current),p=no(N=>u||l.filter()===!1?!0:N.search?N.filtered.items.get(s)>0:!0);h.useEffect(()=>{let N=o.current;if(!(!N||e.disabled))return N.addEventListener(ig,x),()=>N.removeEventListener(ig,x)},[p,e.onSelect,e.disabled]);function x(){var N,_;g(),(_=(N=c.current).onSelect)==null||_.call(N,d.current)}function g(){f.setState("value",d.current,!0)}if(!p)return null;let{disabled:y,value:w,onSelect:v,forceMount:b,keywords:j,...S}=e;return h.createElement(ce.div,{ref:hn(o,t),...S,id:s,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!m,"data-disabled":!!y,"data-selected":!!m,onPointerMove:y||l.getDisablePointerSelection()?void 0:g,onClick:y?void 0:x},e.children)}),bq=h.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:s,...o}=e,i=Ht(),l=h.useRef(null),c=h.useRef(null),u=Ht(),d=Ac(),f=no(p=>s||d.filter()===!1?!0:p.search?p.filtered.groups.has(i):!0);Jo(()=>d.group(i),[]),UT(i,l,[e.value,e.heading,c]);let m=h.useMemo(()=>({id:i,forceMount:s}),[s]);return h.createElement(ce.div,{ref:hn(l,t),...o,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&h.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),Hf(e,p=>h.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},h.createElement(FT.Provider,{value:m},p))))}),_q=h.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,s=h.useRef(null),o=no(i=>!i.search);return!n&&!o?null:h.createElement(ce.div,{ref:hn(s,t),...r,"cmdk-separator":"",role:"separator"})}),jq=h.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,s=e.value!=null,o=qy(),i=no(u=>u.search),l=no(u=>u.selectedItemId),c=Ac();return h.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),h.createElement(ce.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:s?e.value:i,onChange:u=>{s||o.setState("search",u.target.value),n==null||n(u.target.value)}})}),Sq=h.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...s}=e,o=h.useRef(null),i=h.useRef(null),l=no(u=>u.selectedItemId),c=Ac();return h.useEffect(()=>{if(i.current&&o.current){let u=i.current,d=o.current,f,m=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=u.offsetHeight;d.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return m.observe(u),()=>{cancelAnimationFrame(f),m.unobserve(u)}}},[]),h.createElement(ce.div,{ref:hn(o,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":r,id:c.listId},Hf(e,u=>h.createElement("div",{ref:hn(i,c.listInnerRef),"cmdk-list-sizer":""},u)))}),Cq=h.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:s,contentClassName:o,container:i,...l}=e;return h.createElement(bk,{open:n,onOpenChange:r},h.createElement(_k,{container:i},h.createElement(jy,{"cmdk-overlay":"",className:s}),h.createElement(Sy,{"aria-label":e.label,"cmdk-dialog":"",className:o},h.createElement(VT,{ref:t,...l}))))}),Nq=h.forwardRef((e,t)=>no(n=>n.filtered.count===0)?h.createElement(ce.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),kq=h.forwardRef((e,t)=>{let{progress:n,children:r,label:s="Loading...",...o}=e;return h.createElement(ce.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Hf(e,i=>h.createElement("div",{"aria-hidden":!0},i)))}),Mn=Object.assign(VT,{List:Sq,Item:wq,Input:jq,Group:bq,Separator:_q,Dialog:Cq,Empty:Nq,Loading:kq});function Eq(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function Tq(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function BT(e){let t=h.useRef(e);return Jo(()=>{t.current=e}),t}var Jo=typeof window>"u"?h.useEffect:h.useLayoutEffect;function wi(e){let t=h.useRef();return t.current===void 0&&(t.current=e()),t}function no(e){let t=qy(),n=()=>e(t.snapshot());return h.useSyncExternalStore(t.subscribe,n,n)}function UT(e,t,n,r=[]){let s=h.useRef(),o=Ac();return Jo(()=>{var i;let l=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():s.current}})(),c=r.map(u=>u.trim());o.value(e,l,c),(i=t.current)==null||i.setAttribute(xi,l),s.current=l}),s}var Pq=()=>{let[e,t]=h.useState(),n=wi(()=>new Map);return Jo(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,s)=>{n.current.set(r,s),t({})}};function Aq(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Hf({asChild:e,children:t},n){return e&&h.isValidElement(t)?h.cloneElement(Aq(t),{ref:t.ref},n(t.props.children)):n(t)}var Mq={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const HT=h.forwardRef(({className:e,...t},n)=>a.jsx(Mn,{ref:n,className:W("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));HT.displayName=Mn.displayName;const zT=h.forwardRef(({className:e,...t},n)=>a.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[a.jsx(Cv,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),a.jsx(Mn.Input,{ref:n,className:W("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));zT.displayName=Mn.Input.displayName;const WT=h.forwardRef(({className:e,...t},n)=>a.jsx(Mn.List,{ref:n,className:W("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));WT.displayName=Mn.List.displayName;const qT=h.forwardRef((e,t)=>a.jsx(Mn.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));qT.displayName=Mn.Empty.displayName;const GT=h.forwardRef(({className:e,...t},n)=>a.jsx(Mn.Group,{ref:n,className:W("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));GT.displayName=Mn.Group.displayName;const Rq=h.forwardRef(({className:e,...t},n)=>a.jsx(Mn.Separator,{ref:n,className:W("-mx-1 h-px bg-border",e),...t}));Rq.displayName=Mn.Separator.displayName;const YT=h.forwardRef(({className:e,...t},n)=>a.jsx(Mn.Item,{ref:n,className:W("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled='true']:pointer-events-none data-[disabled='true']:opacity-50",e),...t}));YT.displayName=Mn.Item.displayName;const gu=Array.from({length:68},(e,t)=>{const n=420+t*15,r=Math.floor(n/60),s=n%60;return`${String(r).padStart(2,"0")}:${String(s).padStart(2,"0")}:00`}),Oq=({professorId:e,onDelete:t})=>{const[n,r]=h.useState([]),[s,o]=h.useState(!0),i=h.useCallback(async()=>{if(!e)return;o(!0);const{data:d,error:f}=await F.from("assigned_packages_log").select(`
        id, student_id, package_id, observation, assigned_classes, assigned_at, status, 
        student:profiles!student_id(full_name),
        package:packages(name)
      `).eq("professor_id",e).order("assigned_at",{ascending:!1});if(f){console.error("Error fetching logs:",f),o(!1);return}const m=[...new Set(d.map(y=>y.student_id))],{data:p,error:x}=await F.from("billing").select("id, user_id, package_id, purchase_date, end_date, amount_paid").in("user_id",m);x&&console.error("Error fetching billings:",x);const g=d.map(y=>{const w=(p||[]).filter(v=>v.user_id===y.student_id&&v.package_id===y.package_id&&new Date(v.purchase_date)<=new Date(y.assigned_at)).sort((v,b)=>new Date(b.purchase_date)-new Date(v.purchase_date))[0];return{...y,start_date:(w==null?void 0:w.purchase_date)||null,end_date:(w==null?void 0:w.end_date)||null,total_classes_sent:y.assigned_classes,amount_paid:(w==null?void 0:w.amount_paid)||0}});r(g||[]),o(!1)},[e]);h.useEffect(()=>{i();const d=F.channel("assigned-packages-history").on("postgres_changes",{event:"INSERT",schema:"public",table:"assigned_packages_log",filter:`professor_id=eq.${e}`},i).on("postgres_changes",{event:"UPDATE",schema:"public",table:"assigned_packages_log",filter:`professor_id=eq.${e}`},i).subscribe();return()=>F.removeChannel(d)},[i,e]);const l=async d=>{r(f=>f.map(m=>m.id===d.id?{...m,status:"Cancelado"}:m)),await t(d)},c=({status:d})=>{const f=d==="Cancelado",m=d==="missed"||d==="completed"||d==="rescheduled_credit";let p="default";f&&(p="destructive"),m&&(p="secondary");let x=d;return f&&(x="Desfeito"),d==="missed"&&(x="Falta"),d==="completed"&&(x="Concludo"),d==="rescheduled_credit"&&(x="Crdito Ativo"),a.jsx(Ne,{variant:p,children:x})},u=d=>{const f=d||0;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f)};return a.jsxs(ps,{className:"max-w-5xl",children:[" ",a.jsx(gs,{children:a.jsx(vs,{children:"Histrico de Pacotes Includos"})}),a.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:a.jsxs(qo,{children:[a.jsx(Go,{children:a.jsxs(pt,{children:[a.jsx(je,{children:"Aluno"}),a.jsx(je,{children:"Pacote"}),a.jsx(je,{children:"Aulas Total"}),a.jsx(je,{children:"Preo Pago"})," ",a.jsx(je,{children:"Data Incio"}),a.jsx(je,{children:"Data Fim"}),a.jsx(je,{children:"Data Atribuio"}),a.jsx(je,{children:"Status"}),a.jsx(je,{children:"Aes"})]})}),a.jsx(Yo,{children:s?a.jsx(pt,{children:a.jsx(pe,{colSpan:"9",className:"text-center",children:a.jsx(De,{className:"mx-auto my-4 h-6 w-6 animate-spin"})})}):n.length>0?n.map(d=>{var f,m;return a.jsxs(pt,{className:d.status==="Cancelado"?"opacity-60 bg-slate-50":"",children:[a.jsx(pe,{children:((f=d.student)==null?void 0:f.full_name)||"N/A"}),a.jsx(pe,{children:((m=d.package)==null?void 0:m.name)||"Pacote no encontrado"}),a.jsx(pe,{children:d.total_classes_sent||"N/A"}),a.jsx(pe,{children:u(d.amount_paid)})," ",a.jsx(pe,{children:d.start_date?J(Se(d.start_date),"dd/MM/yyyy"):"N/A"}),a.jsx(pe,{children:d.end_date?J(Se(d.end_date),"dd/MM/yyyy"):"N/A"}),a.jsx(pe,{children:J(Se(d.assigned_at),"dd/MM/yyyy HH:mm",{locale:Fe})}),a.jsx(pe,{children:a.jsx(c,{status:d.status})}),a.jsx(pe,{children:d.status==="Ativo"||d.status==="rescheduled_credit"?a.jsx(Z,{variant:"destructive",size:"sm",onClick:()=>l(d),children:"Desfazer"}):a.jsx(Ne,{variant:"destructive",className:"bg-red-100 text-red-700 hover:bg-red-100 cursor-default",children:"DESFEITO"})})]},d.id)}):a.jsx(pt,{children:a.jsx(pe,{colSpan:"9",className:"text-center py-8 text-slate-500",children:"Nenhum registro encontrado."})})})]})})]})},KT=({dashboardData:e})=>{const{toast:t}=Dt(),n=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"],r=(e==null?void 0:e.data)||{},s=(e==null?void 0:e.loading)||!1,o=e==null?void 0:e.professorId,i=r.students||[],l=r.packages||[],c=r.classSlots||[],u=e==null?void 0:e.onUpdate,[d,f]=h.useState([]),[m,p]=h.useState(!1),[x,g]=h.useState(!1),[y,w]=h.useState(null),[v,b]=h.useState(null),[j,S]=h.useState(""),[N,_]=h.useState(""),[C,P]=h.useState({totalClasses:"",duration:"30",time:gu[0].substring(0,5),days:[],price:"",startDate:At(),endDate:Rt(At(),1)}),{totalClasses:I,duration:L,time:O,days:U,price:$,endDate:E,startDate:M}=C,T=(te,ve)=>{P(se=>({...se,[te]:ve}))},k=te=>{T("days",U.includes(te)?U.filter(ve=>ve!==te):[...U,te])},[R,A]=h.useState(!1),[V,D]=h.useState(null),[z,B]=h.useState([]),[Y,X]=h.useState({}),[H,ne]=h.useState(At()),[Q,ie]=h.useState(Rt(At(),1)),de=i.find(te=>te.id===y),me=l.find(te=>te.id===parseInt(v)),G=(me==null?void 0:me.name)==="Personalizado";h.useEffect(()=>{if(!Array.isArray(c))return;const te=new Map;c.forEach(se=>{const _e=se.start_time.length===5?`${se.start_time}:00`:se.start_time;te.set(`${se.day_of_week}-${_e}`,se)});const ve=[];for(let se=0;se<7;se++)gu.forEach(_e=>{const we=`${se}-${_e}`,Et=te.get(we);Et?ve.push(Et):ve.push({professor_id:o,day_of_week:se,start_time:_e,status:"inactive"})});f(ve)},[c,o,s]),h.useEffect(()=>{(async()=>{if(!o)return;const{data:ve,error:se}=await F.from("appointments").select(`
          id, class_datetime, duration_minutes, status,
          student:profiles!student_id(full_name)
        `).eq("professor_id",o).gte("class_datetime",At().toISOString()).in("status",["scheduled","pending","rescheduled"]);if(se){console.error("Error fetching future appointments:",se);return}B(ve||[]);const _e={};(ve||[]).forEach(we=>{var yn;const Et=Se(we.class_datetime),Lt=Zs(Et);J(Et,"HH:mm:ss");const on=we.duration_minutes||30,an=Math.ceil(on/15);for(let ln=0;ln<an;ln++){const q=fr(Et,{minutes:ln*15}),ae=J(q,"HH:mm:ss"),he=`${Lt}-${ae}`;_e[he]={appointmentId:we.id,studentName:(yn=we.student)==null?void 0:yn.full_name,isFirstSlot:ln===0,status:we.status}}}),X(_e)})()},[o,s]);const Xe=(te,ve)=>{f(se=>se.map(_e=>{if(_e.day_of_week===te&&_e.start_time===ve){const we=_e.status==="active"?"inactive":"active";return _e.status==="filled"?_e:{..._e,status:we}}return _e}))},Le=(te,ve)=>{f(se=>se.map(_e=>_e.day_of_week===te&&_e.status!=="filled"?{..._e,status:ve?"active":"inactive"}:_e))},We=async()=>{p(!0);const te=d.map(ve=>{const{id:se,created_at:_e,...we}=ve;return{...we,professor_id:o}});try{if(!o)throw new Error("ID do Professor no est disponvel.");const{error:ve}=await F.from("class_slots").upsert(te,{onConflict:"professor_id, day_of_week, start_time"});if(ve)throw ve;t({variant:"default",title:"Sucesso!",description:"Suas preferncias de horrio foram salvas."}),u&&u()}catch(ve){console.error("Error saving slots:",ve),t({variant:"destructive",title:"Erro ao salvar",description:`No foi possvel salvar as alteraes: ${ve.message}`})}finally{p(!1)}},sr=async(te,ve)=>{const se=`${te.day_of_week}-${te.start_time}`;try{if(ve!=null&&ve.appointmentId){const _e=ve.studentName||"Aluno desconhecido";if(!window.confirm(`Este horrio est ocupado por: ${_e}

Ao liberar este horrio:
 O agendamento ser CANCELADO
 O horrio ficar DISPONVEL

Deseja continuar?`))return;D(se);const{error:we}=await F.from("appointments").update({status:"cancelled"}).eq("id",ve.appointmentId);if(we)throw we;t({title:"Horrio liberado!",description:`O horrio foi liberado. Agendamento de ${_e} foi cancelado.`})}else{if(!window.confirm(`Deseja liberar este horrio?

O horrio ficar disponvel para novos agendamentos.`))return;D(se);const{error:_e}=await F.from("class_slots").update({status:"active"}).eq("id",te.id);if(_e)throw _e;t({title:"Horrio liberado!",description:"O horrio foi liberado com sucesso."})}u&&u()}catch(_e){console.error("Error liberating slot:",_e),t({variant:"destructive",title:"Erro ao liberar horrio",description:_e.message})}finally{D(null)}},sn=h.useCallback(async te=>{const{id:ve,student_id:se,package_id:_e}=te;if(window.confirm(`ATENO: Voc est prestes a desfazer a incluso de um pacote. Isso ir:

1. Marcar o registro como CANCELADO (Permanecer no histrico).
2. CANCELAR a fatura ativa mais recente.
3. EXCLUIR TODAS AS AULAS FUTURAS agendadas.
4. LIBERAR OS HORRIOS RECORRENTES (slots).

Confirma a operao?`))try{const{error:we}=await F.from("assigned_packages_log").update({status:"Cancelado"}).eq("id",ve);if(we)throw we;let Et=!1,Lt=!1;const{data:on,error:an}=await F.from("billing").select("id").eq("user_id",se).eq("package_id",_e).gte("end_date",J(At(),"yyyy-MM-dd")).order("purchase_date",{ascending:!1}).limit(1).maybeSingle();if(an&&an.code!=="PGRST116")throw an;if(on){const{error:ye}=await F.from("billing").delete().eq("id",on.id);if(ye)throw ye;Et=!0}const{count:yn,error:ln}=await F.from("appointments").delete({count:"exact"}).eq("student_id",se).gte("class_datetime",At().toISOString()).in("status",["scheduled","pending","rescheduled"]);if(ln)throw ln;const{data:q,error:ae}=await F.from("solicitudes_clase").select("solicitud_id, horarios_propuestos, is_recurring").eq("alumno_id",se).in("status",["Aceita","Aprovada","Pendiente"]).eq("is_recurring",!0).order("solicitud_id",{ascending:!1}).limit(1).maybeSingle();if(ae&&ae.code!=="PGRST116")throw ae;if(q)try{const ye=JSON.parse(q.horarios_propuestos);if(ye&&ye.days&&ye.time){const{data:$e,error:ze}=await F.from("class_slots").select("id").eq("professor_id",o).in("day_of_week",ye.days).gte("start_time",ye.time).eq("status","filled");if(ze)throw ze;if($e&&$e.length>0){const Rn=$e.map(yt=>yt.id),{error:Gt,count:ot}=await F.from("class_slots").update({status:"active"},{count:"exact"}).in("id",Rn);if(Gt)throw Gt;Lt=ot>0}}const{error:Ae}=await F.from("solicitudes_clase").delete().eq("solicitud_id",q.solicitud_id);Ae&&console.warn("Erro ao deletar solicitao:",Ae)}catch(ye){console.warn("Could not parse or revert slots:",ye)}let he="Operao concluda. O registro foi marcado como CANCELADO.";Et&&(he+=" A fatura ativa foi removida."),yn>0&&(he+=` ${yn} aulas futuras foram excludas.`),Lt&&(he+=" Os horrios recorrentes foram liberados."),t({variant:"default",title:"Pacote Cancelado!",description:he}),u&&u()}catch(we){console.error("Error in handleDeleteLog:",we),t({variant:"destructive",title:"Erro ao desfazer pacote",description:`Ocorreu um erro: ${we.message}`})}},[o,t,u]),It=async te=>{if(te.preventDefault(),!y||!v){t({variant:"destructive",title:"Campos obrigatrios",description:"Selecione aluno e pacote."});return}if(G){if(!I||!L||!O||U.length===0||!$||!E||!M){t({variant:"destructive",title:"Campos do Pacote Personalizado obrigatrios",description:"Por favor, preencha todos os detalhes do agendamento (aulas, durao, horrio, dias, preo, data de incio e validade)."}),A(!1);return}}else if(!Q||!H){t({variant:"destructive",title:"Campos obrigatrios",description:"Selecione a data de incio e de validade."});return}if(!me){t({variant:"destructive",title:"Pacote no encontrado"}),A(!1);return}if(!o){t({variant:"destructive",title:"Erro de Autenticao",description:"ID do Professor no est disponvel."}),A(!1);return}A(!0);let ve=0,se=0,_e=Q,we=H;G?(ve=parseFloat($),se=parseInt(I,10),_e=E,we=M):(se=me.number_of_classes,ve=me.price);const{error:Et}=await F.from("billing").insert({user_id:y,package_id:me.id,amount_paid:ve,purchase_date:J(we,"yyyy-MM-dd"),end_date:J(_e,"yyyy-MM-dd")});if(Et){t({variant:"destructive",title:"Erro ao incluir fatura",description:Et.message}),A(!1);return}const{error:Lt}=await F.from("assigned_packages_log").insert({professor_id:o,student_id:y,package_id:me.id,observation:N,assigned_classes:se,status:"Ativo"});if(G&&!Et)try{const on=se,an=parseInt(L,10),yn=Math.ceil(an/15),ln=y,{data:q,error:ae}=await F.from("class_slots").select("id, day_of_week, start_time, status").eq("professor_id",o);if(ae)throw ae;const he=[],ye=U.map(ot=>n[ot]);for(const ot of U){const yt=`${O}:00`;for(let Ce=0;Ce<yn;Ce++){const xt=Yi(yt,"HH:mm:ss",new Date),Tt=J(fr(xt,{minutes:Ce*15}),"HH:mm:ss"),Yt=q.find(xn=>xn.day_of_week===ot&&xn.start_time===Tt);Yt&&Yt.status==="filled"&&he.push({day:n[ot],time:Tt.substring(0,5)})}}if(he.length>0){const ot=he.map(yt=>`${yt.day} s ${yt.time}`).join(", ");t({variant:"destructive",title:" Horrio j ocupado!",description:`Os seguintes horrios j esto ocupados: ${ot}. Por favor, escolha outros horrios.`,duration:8e3}),A(!1);return}const Ae=[];let $e=new Date(we),ze=0;const{data:Rn,error:Gt}=await F.from("appointments").select("class_datetime, duration_minutes").eq("professor_id",o).gte("class_datetime",J(At(),"yyyy-MM-dd")).in("status",["scheduled","rescheduled"]);for(Gt&&console.error("Error checking for appointments:",Gt);ze<on&&$e<=_e;){const ot=Zs($e);if(U.includes(ot)){const yt=O,Ce=`${yt}:00`,xt=Yi(Ce,"HH:mm:ss",$e);let Tt=!0;for(let Yt=0;Yt<yn;Yt++){const xn=J(fr(xt,{minutes:Yt*15}),"HH:mm:ss");if(!q.find(wn=>wn.day_of_week===ot&&wn.start_time===xn)){Tt=!1;break}const zr=fr($e,{hours:xt.getHours(),minutes:xt.getMinutes()+Yt*15});if((Rn||[]).some(wn=>{const Rc=Se(wn.class_datetime),Oc=fr(Rc,{minutes:wn.duration_minutes||30});return zr>=Rc&&zr<Oc})){Tt=!1;break}}if(Tt){const[Yt,xn]=yt.split(":").map(Number),ys=new Date($e.getFullYear(),$e.getMonth(),$e.getDate(),Yt,xn,0),zr=q.find(wn=>wn.day_of_week===ot&&wn.start_time===Ce);Ae.push({student_id:ln,professor_id:o,class_datetime:ys.toISOString(),class_slot_id:zr.id,status:"scheduled",duration_minutes:an}),ze++}}$e=fr($e,{days:1})}if(Ae.length>0){const{error:ot}=await F.from("appointments").insert(Ae);if(ot)throw new Error(`Falha ao criar aulas agendadas. Se houver conflitos de horrio, parte do agendamento pode ter sido ignorada. Detalhes: ${ot.message}`);const yt=new Set;for(const Ce of U){const xt=`${O}:00`;for(let Tt=0;Tt<yn;Tt++){const Yt=Yi(xt,"HH:mm:ss",new Date),xn=J(fr(Yt,{minutes:Tt*15}),"HH:mm:ss"),ys=q.find(zr=>zr.day_of_week===Ce&&zr.start_time===xn);ys&&yt.add(ys.id)}}if(yt.size>0){const{error:Ce}=await F.from("class_slots").update({status:"filled"}).in("id",Array.from(yt));Ce?console.error("Error blocking slots:",Ce):console.log(`${yt.size} horrios bloqueados com sucesso`)}t({variant:"info",title:"Agendamento Automtico!",description:`${Ae.length} aulas foram agendadas e os horrios foram bloqueados.`})}else t({variant:"warning",title:"Agendamento Falhou",description:"Nenhum horrio disponvel encontrado dentro do perodo para este pacote."})}catch(on){t({variant:"destructive",title:"Erro de Agendamento Automtico",description:on.message})}await F.from("notifications").insert({user_id:y,type:"new_package",content:{message:`Voc recebeu um novo pacote: ${me.name}`,packageName:me.name,classCount:se}}),Lt?t({variant:"destructive",title:"Erro ao registrar",description:`Pacote atribudo, mas falha ao registrar no histrico: ${Lt.message}`}):(t({variant:"default",title:"Paquete includo!",description:`Paquete "${me.name}" (${se} aulas) fue incluido para ${de.full_name}.`}),w(null),b(null),S(""),_(""),ne(At()),ie(Rt(At(),1)),P({totalClasses:"",duration:"30",time:gu[0].substring(0,5),days:[],price:"",startDate:At(),endDate:Rt(At(),1)}),u&&u()),A(!1)};return h.useEffect(()=>{G||ie(Rt(H,1))},[H,G]),a.jsx("div",{className:"w-full px-4 lg:px-8",children:a.jsxs("div",{className:"w-full space-y-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-bold",children:"Incluir Aulas para Aluno"}),a.jsxs(fo,{children:[a.jsx(Ck,{asChild:!0,children:a.jsxs(Z,{variant:"outline",children:[a.jsx(c4,{className:"mr-2 h-4 w-4"})," Ver Histrico"]})}),a.jsx(Oq,{professorId:o,onDelete:sn})]})]}),a.jsxs("form",{onSubmit:It,className:"space-y-4 max-w-2xl",children:[a.jsxs(As,{open:x,onOpenChange:g,children:[a.jsx(Ms,{asChild:!0,children:a.jsxs(Z,{variant:"outline",role:"combobox","aria-expanded":x,className:"w-full justify-between",children:[de?de.full_name:"Selecione um alumno...",a.jsx(s4,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),a.jsx(Jr,{className:"w-[--radix-popover-trigger-width] p-0",children:a.jsxs(HT,{children:[a.jsx(zT,{placeholder:"Buscar alumno..."}),a.jsxs(WT,{children:[a.jsx(qT,{children:"Nenhum alumno encontrado."}),a.jsx(GT,{children:i.map(te=>a.jsxs(YT,{value:te.full_name,onSelect:()=>{w(te.id),g(!1)},children:[a.jsx(mc,{className:W("mr-2 h-4 w-4",y===te.id?"opacity-100":"opacity-0")}),te.full_name]},te.id))})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs(tn,{onValueChange:te=>{b(te),S("")},value:v||"",children:[a.jsx(zt,{children:a.jsx(nn,{placeholder:"Selecione um pacote"})}),a.jsx(Wt,{children:l.map(te=>a.jsx(Pe,{value:te.id.toString(),children:te.name},te.id))})]}),!G&&a.jsxs(As,{children:[a.jsx(Ms,{asChild:!0,children:a.jsxs(Z,{variant:"outline",className:W("w-full justify-start text-left font-normal",!H&&"text-muted-foreground"),children:[a.jsx(Fn,{className:"mr-2 h-4 w-4"}),H?J(H,"PPP",{locale:Fe}):a.jsx("span",{children:"Data de Incio"})]})}),a.jsx(Jr,{className:"w-auto p-0",children:a.jsx(Io,{mode:"single",selected:H,onSelect:ne,initialFocus:!0,locale:Fe})})]}),!G&&a.jsxs(As,{children:[a.jsx(Ms,{asChild:!0,children:a.jsxs(Z,{variant:"outline",className:W("w-full justify-start text-left font-normal",!Q&&"text-muted-foreground"),children:[a.jsx(Fn,{className:"mr-2 h-4 w-4"}),Q?J(Q,"PPP",{locale:Fe}):a.jsx("span",{children:"Data de Fim"})]})}),a.jsx(Jr,{className:"w-auto p-0",children:a.jsx(Io,{mode:"single",selected:Q,onSelect:ie,initialFocus:!0,locale:Fe})})]})]}),G?a.jsxs(at.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"space-y-4 overflow-hidden p-4 border border-sky-300 rounded-lg bg-sky-50",children:[a.jsx("h4",{className:"text-lg font-semibold text-sky-800",children:"Detalhes do Pacote Personalizado"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(He,{htmlFor:"pck-price",children:"Preo Pago (R$)"}),a.jsx(tt,{id:"pck-price",type:"number",placeholder:"Ex: 500.00",value:$||"",onChange:te=>T("price",te.target.value),required:!0,min:"0"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(He,{htmlFor:"pck-total-classes",children:"Total de Aulas"}),a.jsx(tt,{id:"pck-total-classes",type:"number",placeholder:"Ex: 12",value:I||"",onChange:te=>T("totalClasses",te.target.value),required:!0,min:"1"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(He,{htmlFor:"pck-start-date",children:"Data de Incio"}),a.jsxs(As,{children:[a.jsx(Ms,{asChild:!0,children:a.jsxs(Z,{variant:"outline",className:W("w-full justify-start text-left font-normal"),children:[a.jsx(Fn,{className:"mr-2 h-4 w-4"}),J(M,"PPP",{locale:Fe})]})}),a.jsx(Jr,{className:"w-auto p-0",children:a.jsx(Io,{mode:"single",selected:M,onSelect:te=>T("startDate",te),initialFocus:!0,locale:Fe})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(He,{htmlFor:"pck-duration",children:"Durao (Minutos)"}),a.jsxs(tn,{onValueChange:te=>T("duration",te),value:L,required:!0,children:[a.jsx(zt,{id:"pck-duration",children:a.jsx(nn,{placeholder:"Durao"})}),a.jsxs(Wt,{children:[a.jsx(Pe,{value:"30",children:"30 Minutos"}),a.jsx(Pe,{value:"45",children:"45 Minutos"}),a.jsx(Pe,{value:"60",children:"60 Minutos"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(He,{htmlFor:"pck-time",children:"Horrio de Incio Fixo"}),a.jsxs(tn,{onValueChange:te=>T("time",te),value:O,required:!0,children:[a.jsx(zt,{id:"pck-time",children:a.jsx(nn,{placeholder:"Horrio (Ex: 10:00)"})}),a.jsx(Wt,{children:gu.filter((te,ve)=>ve%2===0).map(te=>a.jsx(Pe,{value:te.substring(0,5),children:te.substring(0,5)},te.substring(0,5)))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(He,{children:"Validade (Trmino)"}),a.jsxs(As,{children:[a.jsx(Ms,{asChild:!0,children:a.jsxs(Z,{variant:"outline",className:W("w-full justify-start text-left font-normal"),children:[a.jsx(Fn,{className:"mr-2 h-4 w-4"}),J(E,"PPP",{locale:Fe})]})}),a.jsx(Jr,{className:"w-auto p-0",children:a.jsx(Io,{mode:"single",selected:E,onSelect:te=>T("endDate",te),initialFocus:!0,locale:Fe})})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(He,{children:"Dias da Semana Fixos"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((te,ve)=>a.jsx(Z,{type:"button",variant:U.includes(ve)?"default":"outline",size:"sm",onClick:()=>k(ve),children:te.substring(0,3)},ve))}),U.length===0&&a.jsx("p",{className:"text-red-500 text-sm",children:"Selecione pelo menos um dia."})]})]},"pck-personal-details"):null,a.jsx(Pc,{placeholder:"Observao (motivo da incluso)",value:N,onChange:te=>_(te.target.value)}),a.jsx(Z,{type:"submit",className:"w-full bg-sky-600 hover:bg-sky-700",disabled:R,children:R?a.jsxs(a.Fragment,{children:[a.jsx(De,{className:"mr-2 h-4 w-4 animate-spin"})," Incluindo..."]}):"Incluir Pacote"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold",children:"Preferncias de Horrios"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Ative ou desative os horrios de aula para o ciclo semanal."})]}),a.jsx(Z,{onClick:We,disabled:m,children:m?a.jsxs(a.Fragment,{children:[a.jsx(De,{className:"mr-2 h-4 w-4 animate-spin"})," Salvando..."]}):"Salvar Alteraes"})]}),a.jsx("div",{className:"space-y-6 mt-6",children:n.map((te,ve)=>{const se=d==null?void 0:d.filter(we=>we.day_of_week===ve),_e=se==null?void 0:se.filter(we=>we.status!=="filled").every(we=>we.status==="active");return a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-3 border-b pb-2",children:[a.jsx("h4",{className:"font-semibold text-lg",children:te}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-slate-500",children:_e?"Desativar todos":"Ativar todos"}),a.jsx(sg,{checked:_e,onCheckedChange:we=>Le(ve,we),"aria-label":`Ativar/desativar todos os horrios de ${te}`})]})]}),s?a.jsx(De,{className:"h-6 w-6 animate-spin"}):a.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4",children:se==null?void 0:se.map(we=>{const Et=`${we.day_of_week}-${we.start_time}`,Lt=Y[Et],on=we.status==="filled",an=!!Lt,yn=we.status==="active",ln=we.status==="inactive";return a.jsxs("div",{className:W("flex flex-col gap-1 p-2 rounded-md border",an||on?"bg-sky-100 border-sky-300":ln?"bg-slate-200 border-slate-300":"bg-white border-slate-200"),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:W("text-sm font-medium",an||on?"text-sky-700":ln?"text-slate-500":"text-slate-700"),children:we.start_time.substring(0,5)}),!an&&!on&&a.jsx(sg,{checked:yn,onCheckedChange:()=>Xe(we.day_of_week,we.start_time),"aria-label":`Ativar/desativar ${we.start_time}`,className:"h-4 w-7"})]}),(an||on)&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-xs text-sky-700 font-medium truncate",children:(Lt==null?void 0:Lt.studentName)||"Ocupado"}),a.jsx(Z,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs hover:bg-red-100 hover:text-red-700",onClick:()=>sr(we,Lt),disabled:V===Et,title:"Clique para liberar este horrio",children:V===Et?a.jsx(De,{className:"h-3 w-3 animate-spin"}):"Liberar"})]})]},we.start_time)})})]},te)})})]})]})})},wl=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:W("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));wl.displayName="Card";const bl=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:W("flex flex-col space-y-1.5 p-6",e),...t}));bl.displayName="CardHeader";const _l=h.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:W("text-2xl font-semibold leading-none tracking-tight",e),...t}));_l.displayName="CardTitle";const jl=h.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:W("text-sm text-muted-foreground",e),...t}));jl.displayName="CardDescription";const Sl=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:W("p-6 pt-0",e),...t}));Sl.displayName="CardContent";const Dq=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:W("flex items-center p-6 pt-0",e),...t}));Dq.displayName="CardFooter";const Iq=({dashboardData:e})=>{const{toast:t}=Dt(),[n,r]=h.useState("preferencias"),[s,o]=h.useState("all"),[i,l]=h.useState(""),[c,u]=h.useState(!1),[d,f]=h.useState(null),[m,p]=h.useState(!1),[x,g]=h.useState({full_name:"",username:"",role:"student",assigned_professor_id:""}),y=(e==null?void 0:e.data)||{},w=e==null?void 0:e.onUpdate,v=y.professors||[],b=y.allProfiles||[],j=y.students||[],S=b.filter(L=>{var O,U;return((O=L.full_name)==null?void 0:O.toLowerCase().includes(i.toLowerCase()))||((U=L.username)==null?void 0:U.toLowerCase().includes(i.toLowerCase()))}),N=s==="all"?y.classSlots||[]:(y.classSlots||[]).filter(L=>L.professor_id===s),_=()=>{f(null),g({full_name:"",username:"",role:"student",assigned_professor_id:""}),u(!0)},C=L=>{f(L),g({full_name:L.full_name||"",username:L.username||"",role:L.role||"student",assigned_professor_id:L.assigned_professor_id||""}),u(!0)},P=async L=>{const O=L.is_active===!1,U=O?"ativar":"inativar";if(window.confirm(`Tem certeza que deseja ${U} o usurio ${L.full_name}?`))try{const{error:$}=await F.from("profiles").update({is_active:O}).eq("id",L.id);if($)throw $;t({title:"Sucesso",description:`Usurio ${O?"ativado":"inativado"} com sucesso.`}),w==null||w()}catch($){console.error("Error toggling user status:",$),t({title:"Erro",description:"Erro ao alterar status do usurio.",variant:"destructive"})}},I=async()=>{if(!x.full_name.trim()){t({title:"Erro",description:"Nome  obrigatrio.",variant:"destructive"});return}p(!0);try{if(d){const L={full_name:x.full_name.trim(),role:x.role,assigned_professor_id:x.assigned_professor_id||null},{error:O}=await F.from("profiles").update(L).eq("id",d.id);if(O)throw O;t({title:"Sucesso",description:"Usurio atualizado com sucesso."})}else t({title:"Informao",description:"Para criar novos usurios, utilize o painel de autenticao do Supabase.",variant:"default"});u(!1),w==null||w()}catch(L){console.error("Error saving user:",L),t({title:"Erro",description:"Erro ao salvar usurio.",variant:"destructive"})}finally{p(!1)}};return a.jsxs("div",{className:"px-4 lg:px-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(kp,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Administrao"}),a.jsx("p",{className:"text-slate-500",children:"Gerencie usurios, preferncias e perfis de acesso"})]})]}),a.jsxs(xl,{value:n,onValueChange:r,className:"w-full",children:[a.jsxs(tc,{className:"grid w-full grid-cols-3 max-w-md",children:[a.jsxs(mr,{value:"preferencias",className:"flex items-center gap-2",children:[a.jsx(Np,{className:"h-4 w-4"}),"Preferncias"]}),a.jsxs(mr,{value:"usuarios",className:"flex items-center gap-2",children:[a.jsx(Mu,{className:"h-4 w-4"}),"Usurios"]}),a.jsxs(mr,{value:"perfis",className:"flex items-center gap-2",children:[a.jsx(kp,{className:"h-4 w-4"}),"Perfis"]})]}),a.jsx(Ar,{value:"preferencias",className:"mt-6",children:a.jsxs(wl,{children:[a.jsx(bl,{children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx(_l,{children:"Preferncias dos Professores"}),a.jsx(jl,{children:"Visualize as preferncias de horrios de todos os professores"})]}),a.jsxs(tn,{value:s,onValueChange:o,children:[a.jsx(zt,{className:"w-[250px]",children:a.jsx(nn,{placeholder:"Filtrar por professor"})}),a.jsxs(Wt,{children:[a.jsx(Pe,{value:"all",children:"Todos os professores"}),v.map(L=>a.jsx(Pe,{value:L.id,children:L.full_name},L.id))]})]})]})}),a.jsx(Sl,{children:s!=="all"?a.jsx(KT,{dashboardData:{...e,data:{...y,classSlots:N},professorId:s}}):a.jsxs("div",{className:"text-center py-8 text-slate-500",children:[a.jsx(Np,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),a.jsx("p",{children:"Selecione um professor para ver suas preferncias"})]})})]})}),a.jsx(Ar,{value:"usuarios",className:"mt-6",children:a.jsxs(wl,{children:[a.jsx(bl,{children:a.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[a.jsxs("div",{children:[a.jsx(_l,{children:"Gesto de Usurios"}),a.jsx(jl,{children:"Crie, edite e gerencie todos os usurios do sistema"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Cv,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(tt,{placeholder:"Buscar usurio...",value:i,onChange:L=>l(L.target.value),className:"pl-10 w-[200px]"})]}),a.jsxs(Z,{onClick:_,className:"bg-purple-600 hover:bg-purple-700",children:[a.jsx(x4,{className:"h-4 w-4 mr-2"}),"Novo Usurio"]})]})]})}),a.jsx(Sl,{children:a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsxs(qo,{children:[a.jsx(Go,{className:"bg-slate-50",children:a.jsxs(pt,{children:[a.jsx(je,{children:"Nome"}),a.jsx(je,{children:"Username"}),a.jsx(je,{children:"Tipo"}),a.jsx(je,{children:"Professor Vinculado"}),a.jsx(je,{children:"Estado"}),a.jsx(je,{children:"Criado em"}),a.jsx(je,{className:"text-right",children:"Aes"})]})}),a.jsx(Yo,{children:S.length>0?S.map(L=>{var O;return a.jsxs(pt,{children:[a.jsx(pe,{className:"font-medium",children:L.full_name}),a.jsx(pe,{className:"text-slate-500",children:L.username}),a.jsx(pe,{children:a.jsx(Ne,{variant:L.role==="superadmin"?"destructive":L.role==="professor"?"default":"secondary",children:L.role==="superadmin"?"Admin":L.role==="professor"?"Professor":"Aluno"})}),a.jsx(pe,{children:L.role==="student"&&L.assigned_professor_id&&((O=v.find(U=>U.id===L.assigned_professor_id))==null?void 0:O.full_name)||""}),a.jsx(pe,{children:L.is_active!==!1?a.jsx(Ne,{className:"bg-green-100 text-green-800",children:"Ativo"}):a.jsx(Ne,{variant:"destructive",children:"Inativo"})}),a.jsx(pe,{children:L.created_at?J(new Date(L.created_at),"dd/MM/yyyy"):"-"}),a.jsx(pe,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>C(L),title:"Editar",children:a.jsx(m4,{className:"h-4 w-4 text-blue-600"})}),a.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>P(L),title:L.is_active!==!1?"Inativar":"Ativar",children:L.is_active!==!1?a.jsx(lf,{className:"h-4 w-4 text-orange-600"}):a.jsx(lS,{className:"h-4 w-4 text-green-600"})})]})})]},L.id)}):a.jsx(pt,{children:a.jsx(pe,{colSpan:7,className:"text-center py-8 text-slate-500",children:"Nenhum usurio encontrado."})})})]})})})]})}),a.jsx(Ar,{value:"perfis",className:"mt-6",children:a.jsxs(wl,{children:[a.jsxs(bl,{children:[a.jsx(_l,{children:"Perfis de Acesso"}),a.jsx(jl,{children:"Gerencie os perfis e permisses de acesso ao sistema"})]}),a.jsxs(Sl,{children:[a.jsxs("div",{className:"grid gap-4",children:[a.jsx("div",{className:"border rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-slate-800",children:"Aluno (student)"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Acesso ao portal do aluno com aulas e chat"}),a.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[a.jsx(Ne,{variant:"outline",className:"text-xs",children:"Dashboard"}),a.jsx(Ne,{variant:"outline",className:"text-xs",children:"Aulas"}),a.jsx(Ne,{variant:"outline",className:"text-xs",children:"Chat"}),a.jsx(Ne,{variant:"outline",className:"text-xs",children:"Avaliaes"})]})]}),a.jsxs(Ne,{variant:"secondary",children:[j.length," usurios"]})]})}),a.jsx("div",{className:"border rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-slate-800",children:"Professor (professor)"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Acesso completo ao painel do professor"}),a.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[a.jsx(Ne,{variant:"outline",className:"text-xs",children:"Incio"}),a.jsx(Ne,{variant:"outline",className:"text-xs",children:"Agenda"}),a.jsx(Ne,{variant:"outline",className:"text-xs",children:"Alunos"}),a.jsx(Ne,{variant:"outline",className:"text-xs",children:"Aulas"}),a.jsx(Ne,{variant:"outline",className:"text-xs",children:"Conversas"}),a.jsx(Ne,{variant:"outline",className:"text-xs",children:"Preferncias"})]})]}),a.jsxs(Ne,{variant:"default",children:[v.length," usurios"]})]})}),a.jsx("div",{className:"border rounded-lg p-4 border-purple-200 bg-purple-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-purple-800",children:"Administrador (superadmin)"}),a.jsx("p",{className:"text-sm text-purple-600",children:"Acesso total a todos os recursos e dados"}),a.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[a.jsx(Ne,{variant:"outline",className:"text-xs border-purple-300 text-purple-700",children:"Todas as abas do Professor"}),a.jsx(Ne,{variant:"outline",className:"text-xs border-purple-300 text-purple-700",children:"Administrao"}),a.jsx(Ne,{variant:"outline",className:"text-xs border-purple-300 text-purple-700",children:"Viso Global"})]})]}),a.jsxs(Ne,{variant:"destructive",children:[b.filter(L=>L.role==="superadmin").length," usurios"]})]})})]}),a.jsx("div",{className:"mt-6 p-4 bg-slate-50 rounded-lg",children:a.jsxs("p",{className:"text-sm text-slate-600",children:[a.jsx("strong",{children:"Nota:"})," A gesto avanada de perfis e permisses personalizadas ser implementada em verses futuras."]})})]})]})})]}),a.jsx(fo,{open:c,onOpenChange:u,children:a.jsxs(ps,{className:"sm:max-w-[425px]",children:[a.jsxs(gs,{children:[a.jsx(vs,{children:d?"Editar Usurio":"Novo Usurio"}),a.jsx(mo,{children:d?"Atualize as informaes do usurio.":"Preencha os dados do novo usurio."})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(He,{htmlFor:"full_name",children:"Nome completo *"}),a.jsx(tt,{id:"full_name",value:x.full_name,onChange:L=>g({...x,full_name:L.target.value}),placeholder:"Nome do usurio"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(He,{htmlFor:"username",children:"Username"}),a.jsx(tt,{id:"username",value:x.username,onChange:L=>g({...x,username:L.target.value}),placeholder:"username",disabled:!!d})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(He,{htmlFor:"role",children:"Tipo de usurio"}),a.jsxs(tn,{value:x.role,onValueChange:L=>g({...x,role:L}),children:[a.jsx(zt,{children:a.jsx(nn,{placeholder:"Selecione o tipo"})}),a.jsxs(Wt,{children:[a.jsx(Pe,{value:"student",children:"Aluno"}),a.jsx(Pe,{value:"professor",children:"Professor"}),a.jsx(Pe,{value:"superadmin",children:"Administrador"})]})]})]}),x.role==="student"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(He,{htmlFor:"professor",children:"Professor vinculado"}),a.jsxs(tn,{value:x.assigned_professor_id,onValueChange:L=>g({...x,assigned_professor_id:L}),children:[a.jsx(zt,{children:a.jsx(nn,{placeholder:"Selecione um professor"})}),a.jsxs(Wt,{children:[a.jsx(Pe,{value:"",children:"Nenhum"}),v.map(L=>a.jsx(Pe,{value:L.id,children:L.full_name},L.id))]})]})]})]}),a.jsxs(ho,{children:[a.jsx(Z,{variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),a.jsx(Z,{onClick:I,disabled:m,className:"bg-purple-600 hover:bg-purple-700",children:m?a.jsxs(a.Fragment,{children:[a.jsx(De,{className:"mr-2 h-4 w-4 animate-spin"})," Salvando..."]}):"Salvar"})]})]})})]})},Lq=async(e,t=!1)=>{const n=At().toISOString(),{data:r,error:s}=await F.from("profiles").select("full_name, role").eq("id",e).maybeSingle();if(s)throw s;let o=F.from("solicitudes_clase").select("*, profile:profiles!alumno_id(*), profesor:profiles!profesor_id(full_name)").eq("status","Pendiente").order("solicitud_id",{ascending:!0});t||(o=o.eq("profesor_id",e));const{data:i,error:l}=await o;if(l)throw l;let c=F.from("appointments").select("*, student:profiles!student_id(full_name, spanish_level), professor:profiles!professor_id(full_name)").in("status",["scheduled","rescheduled"]).gte("class_datetime",n).order("class_datetime",{ascending:!0});t||(c=c.eq("professor_id",e));const{data:u,error:d}=await c;if(d&&d.code!=="PGRST116")throw d;const{data:f,error:m}=await F.from("profiles").select("*, created_at").order("role",{ascending:!0}).order("full_name",{ascending:!0});if(m)throw m;const p=f.filter(U=>U.role==="student"),x=f.filter(U=>U.role==="professor"),{data:g,error:y}=await F.from("packages").select("*");if(y)throw y;let w=F.from("class_slots").select("*");t||(w=w.eq("professor_id",e));const{data:v,error:b}=await w;if(b)throw b;let j=F.from("appointments").select("*, student:profiles!student_id(full_name, spanish_level), professor:profiles!professor_id(full_name)").order("class_datetime",{ascending:!1});t||(j=j.eq("professor_id",e));const{data:S,error:N}=await j;N&&console.error("Erro no fetch de appointments:",N);const{data:_,error:C}=await F.from("billing").select("*, packages(name)").order("purchase_date",{ascending:!1});if(C)throw C;const{data:P,error:I}=await F.from("assigned_packages_log").select("*");if(I)throw I;const{data:L,error:O}=await F.rpc("get_professor_chat_list",{p_id:e});if(O&&O.code!=="42883")throw O;return{professorId:e,professorName:(r==null?void 0:r.full_name)||(t?"Administrador":"Professor(a)"),userRole:(r==null?void 0:r.role)||"professor",isSuperadmin:t,scheduleRequests:i||[],upcomingClasses:u||[],students:p||[],professors:x||[],allProfiles:f||[],packages:g||[],classSlots:v||[],appointments:S||[],allBillings:_||[],assignedLogs:P||[],chatList:L||[]}},$q=()=>a.jsxs(Qs,{to:"/",className:"flex items-baseline gap-1 hover:opacity-80 transition-opacity",children:[a.jsx("span",{className:"text-xl sm:text-2xl font-bold text-sky-500",children:"Conexin"}),a.jsx("span",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:"Amrica"})]}),Fq=()=>{var N;const{user:e,profile:t,signOut:n}=nr(),{toast:r}=Dt(),s=lo(),[o,i]=h.useState("home"),[l,c]=h.useState(!1),[u,d]=h.useState(null),[f,m]=h.useState(!0),[p,x]=h.useState(!1),[g,y]=h.useState(!1),w=async()=>{await n(),s("/professor-login")},v=h.useCallback(async()=>{const _=e==null?void 0:e.id;if(!_){m(!0);return}m(!0),x(!1);try{const{data:C}=await F.from("profiles").select("role").eq("id",_).maybeSingle(),P=(C==null?void 0:C.role)==="superadmin",I=await Lq(_,P);d({data:I,professorId:I.professorId,professorName:I.professorName,userRole:I.userRole,isSuperadmin:I.isSuperadmin,loading:!1,onUpdate:v})}catch(C){console.error("Erro ao carregar dados do dashboard:",C);const P=C.message||"Erro desconhecido ao conectar ao Supabase.";x(!0),d(null),r({variant:"destructive",title:"Erro de Conexo",description:`No foi possvel carregar os dados do dashboard. Detalhes: ${P}`})}finally{m(!1)}},[e==null?void 0:e.id,r]);h.useEffect(()=>{e!=null&&e.id?v():e===null&&!t&&!f&&s("/professor-login")},[e,s,v]),h.useEffect(()=>{if(!(e!=null&&e.id))return;const _=F.channel("appointments-changes").on("postgres_changes",{event:"*",schema:"public",table:"appointments"},()=>{v()}).subscribe(),C=F.channel("requests-changes").on("postgres_changes",{event:"*",schema:"public",table:"solicitudes_clase"},()=>{v()}).subscribe(),P=F.channel("profiles-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles"},()=>{v()}).subscribe();return()=>{F.removeChannel(_),F.removeChannel(C),F.removeChannel(P)}},[e==null?void 0:e.id,v]),h.useEffect(()=>{const _=()=>{window.innerWidth>=1024&&c(!1)};return window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[]),h.useEffect(()=>{const _=async()=>{if(e!=null&&e.id)try{const{data:P,error:I}=await F.from("chats").select("chat_id").eq("profesor_id",e.id);if(I)throw I;if(!P||P.length===0){y(!1);return}const L=P.map($=>$.chat_id),{count:O,error:U}=await F.from("mensajes").select("mensaje_id",{count:"exact",head:!0}).in("chat_id",L).neq("remitente_id",e.id).eq("leido",!1);if(U)throw U;y(O>0)}catch(P){console.error("Erro ao verificar mensagens no lidas:",P)}};_();const C=F.channel("messages-changes").on("postgres_changes",{event:"*",schema:"public",table:"mensajes"},()=>{_()}).subscribe();return()=>{F.removeChannel(C)}},[e==null?void 0:e.id]),h.useEffect(()=>{if(o==="conversas"&&g&&(e!=null&&e.id)){const _=setTimeout(async()=>{try{const{data:C}=await F.from("chats").select("chat_id").eq("profesor_id",e.id);if(C&&C.length>0){const P=C.map(I=>I.chat_id);await F.from("mensajes").update({leido:!0}).in("chat_id",P).neq("remitente_id",e.id).eq("leido",!1)}y(!1)}catch(C){console.error("Erro ao marcar mensagens como lidas:",C)}},1e3);return()=>clearTimeout(_)}},[o,g,e==null?void 0:e.id]);const j=(u==null?void 0:u.isSuperadmin)||!1?[{id:"home",icon:Qx,label:"Incio",component:zb},{id:"agenda",icon:Fn,label:"Agenda",component:qb},{id:"conversas",icon:Fr,label:"Conversas",component:Yb},{id:"alunos",icon:Mu,label:"Alunos",component:Gb},{id:"aulas",icon:Gl,label:"Aulas",component:Wb},{id:"administracao",icon:kp,label:"Administrao",component:Iq}]:[{id:"home",icon:Qx,label:"Incio",component:zb},{id:"agenda",icon:Fn,label:"Agenda",component:qb},{id:"conversas",icon:Fr,label:"Conversas",component:Yb},{id:"alunos",icon:Mu,label:"Alunos",component:Gb},{id:"aulas",icon:Gl,label:"Aulas",component:Wb},{id:"preferencias",icon:Np,label:"Preferncias",component:KT}],S=()=>a.jsxs(at.div,{initial:{x:"-100%"},animate:{x:l?"0%":"-100%"},transition:{duration:.3},className:"fixed inset-y-0 left-0 z-40 w-64 bg-gray-900 text-white p-6 shadow-2xl lg:hidden",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8 lg:hidden",children:[a.jsx("h2",{className:"text-2xl font-bold text-blue-400",children:"Dashboard"}),a.jsx(Z,{variant:"ghost",className:"text-white hover:bg-gray-700",onClick:()=>c(!1),children:a.jsx(Xx,{className:"h-6 w-6"})})]}),a.jsx(xl,{value:o,onOpenChange:i,orientation:"vertical",className:"h-full",children:a.jsx(tc,{className:"flex flex-col h-full bg-transparent space-y-2",children:j.map(_=>a.jsxs(mr,{value:_.id,onClick:()=>{i(_.id),c(!1)},className:`w-full justify-start text-lg px-4 py-3 rounded-xl transition-all duration-200 ${o===_.id?"bg-blue-600 text-white shadow-lg":_.id==="conversas"&&g?"text-blue-800 font-bold hover:bg-gray-800":"text-gray-300 hover:bg-gray-800"}`,disabled:f,children:[a.jsx(_.icon,{className:"h-5 w-5 mr-3"}),_.label,_.id==="conversas"&&g&&a.jsx("span",{className:"ml-auto bg-blue-600 text-white text-xs px-2 py-1 rounded-full",children:"Nova"})]},_.id))})}),a.jsxs(Z,{onClick:w,className:"w-full justify-start text-lg px-4 py-3 rounded-xl mt-auto bg-transparent border border-red-500 text-red-400 hover:bg-red-900 hover:text-white",children:[a.jsx(md,{className:"h-5 w-5 mr-3"}),"Sair"]})]});return f||!u&&!p?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(De,{className:"h-12 w-12 text-sky-500 animate-spin"}),a.jsx("p",{className:"mt-4 text-xl font-semibold text-slate-700",children:"Carregando Painel do Professor..."})]})}):p||!u?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:a.jsxs("div",{className:"flex flex-col items-center p-8 bg-white rounded-lg shadow-xl",children:[a.jsx(y4,{className:"h-12 w-12 text-red-500 mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Erro ao Carregar Dados"}),a.jsx("p",{className:"mt-2 text-slate-600 text-center",children:"No foi possvel carregar a informao do dashboard. Verifique sua conexo ou tente novamente."}),a.jsx(Z,{onClick:v,className:"mt-4 bg-sky-500 hover:bg-sky-600",children:"Tentar Novamente"})]})}):a.jsxs("div",{className:"flex min-h-screen bg-background",children:[a.jsx(S,{}),l&&a.jsx("div",{className:"fixed inset-0 z-30 bg-black opacity-50 lg:hidden",onClick:()=>c(!1)}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"flex flex-col bg-white shadow-md",children:[a.jsx("div",{className:"w-full flex justify-center items-center h-16 bg-white border-b border-slate-200",children:a.jsxs("div",{className:"w-full px-4 lg:px-8 flex justify-between items-center",children:[a.jsx($q,{}),a.jsxs(Dd,{children:[a.jsx(Id,{asChild:!0,children:a.jsxs(Z,{variant:"ghost",className:"relative h-8 w-auto pr-3 rounded-full text-slate-800 hover:bg-slate-100",children:[a.jsxs("div",{className:"flex flex-col items-end mr-2",children:[a.jsx("p",{className:"text-sm font-medium leading-none",children:u.professorName||"Professor"}),a.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:(e==null?void 0:e.email)||"email@escola.com"})]}),a.jsx("div",{className:"h-8 w-8 rounded-full bg-slate-200 flex items-center justify-center text-lg font-bold text-sky-600",children:(((N=e==null?void 0:e.email)==null?void 0:N[0])||"P").toUpperCase()})]})}),a.jsxs(sc,{className:"w-56",align:"end",forceMount:!0,children:[a.jsx(rg,{className:"font-normal",children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:"text-sm font-medium leading-none text-slate-800",children:u.professorName||"Professor"}),a.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:(e==null?void 0:e.email)||"email@escola.com"})]})}),a.jsx(oc,{}),a.jsxs($r,{onClick:w,className:"text-red-600 focus:text-red-700",children:[a.jsx(md,{className:"mr-2 h-4 w-4"}),"Sair"]})]})]})]})}),a.jsx("div",{className:"hidden lg:block bg-white border-b border-slate-200",children:a.jsx("div",{className:"w-full px-4 lg:px-8",children:a.jsx(xl,{value:o,onOpenChange:i,className:"h-full",children:a.jsx(tc,{className:"w-full justify-start h-auto p-0 bg-transparent rounded-none",children:j.map(_=>a.jsxs(mr,{value:_.id,onClick:()=>i(_.id),className:`relative flex items-center text-base px-4 py-3 mr-2 rounded-none transition-all duration-200 border-b-2 border-transparent 
                                                ${o===_.id?"text-sky-600 border-sky-600 font-semibold":_.id==="conversas"&&g?"text-blue-800 font-bold hover:text-blue-900":"text-gray-600 hover:text-gray-800"}`,children:[a.jsx(_.icon,{className:"h-5 w-5 mr-2"}),_.label,_.id==="conversas"&&g&&a.jsx("span",{className:"ml-2 bg-blue-600 text-white text-xs px-2 py-0.5 rounded-full",children:"Nova"})]},_.id))})})})}),a.jsxs("header",{className:"flex items-center justify-between px-4 py-3 bg-white shadow-md lg:hidden",children:[a.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>c(!0),className:"hover:bg-slate-100",children:a.jsx(Xx,{className:"h-6 w-6 text-slate-800"})}),a.jsx("h1",{className:"text-lg font-bold text-slate-800",children:"Painel do Professor"}),a.jsxs(Dd,{children:[a.jsx(Id,{asChild:!0,children:a.jsx(Z,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:a.jsx(Mu,{className:"h-5 w-5"})})}),a.jsxs(sc,{className:"w-56",align:"end",forceMount:!0,children:[a.jsx(rg,{className:"font-normal",children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:"text-sm font-medium leading-none text-slate-800",children:u.professorName||"Professor"}),a.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:(e==null?void 0:e.email)||"email@escola.com"})]})}),a.jsx(oc,{}),a.jsx($r,{onClick:()=>i("preferencias"),children:"Preferncias"}),a.jsx($r,{onClick:w,children:"Sair"})]})]})]})]}),a.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto w-full",children:a.jsx("div",{className:"w-full py-4 lg:py-8",children:a.jsx(xl,{value:o,onOpenChange:i,className:"h-full",children:j.map(_=>a.jsx(Ar,{value:_.id,className:"mt-0",children:a.jsx(_.component,{dashboardData:u})},_.id))})})})]})]})},yi={grammar:{articles:{definite:{el:"masculino singular",la:"femenino singular",los:"masculino plural",las:"femenino plural"},indefinite:{un:"masculino singular",una:"femenino singular",unos:"masculino plural",unas:"femenino plural"}},pronouns:{subject:["yo","t","l/ella/usted","nosotros/nosotras","vosotros/vosotras","ellos/ellas/ustedes"],object:["me","te","lo/la/le","nos","os","los/las/les"]},verbTenses:{present:"Presente",preterite:"Pretrito",imperfect:"Imperfecto",future:"Futuro",conditional:"Condicional"}},vocabulary:{greetings:{hola:"ol","buenos das":"bom dia","buenas tardes":"boa tarde","buenas noches":"boa noite",adis:"adeus","hasta luego":"at logo"},numbers:{uno:"1",dos:"2",tres:"3",cuatro:"4",cinco:"5",seis:"6",siete:"7",ocho:"8",nueve:"9",diez:"10"},colors:{rojo:"vermelho",azul:"azul",verde:"verde",amarillo:"amarelo",negro:"preto",blanco:"branco",gris:"cinza"},family:{padre:"pai",madre:"me",hijo:"filho",hija:"filha",hermano:"irmo",hermana:"irm",abuelo:"av",abuela:"av"}},verbs:{ser:{present:{yo:"soy",t:"eres",l:"es",nosotros:"somos",vosotros:"sois",ellos:"son"},preterite:{yo:"fui",t:"fuiste",l:"fue",nosotros:"fuimos",vosotros:"fuisteis",ellos:"fueron"}},estar:{present:{yo:"estoy",t:"ests",l:"est",nosotros:"estamos",vosotros:"estis",ellos:"estn"}},hablar:{present:{yo:"hablo",t:"hablas",l:"habla",nosotros:"hablamos",vosotros:"hablis",ellos:"hablan"}},tener:{present:{yo:"tengo",t:"tienes",l:"tiene",nosotros:"tenemos",vosotros:"tenis",ellos:"tienen"}}},phrases:{"cmo ests?":"como voc est?","qu tal?":"como vai?","me llamo":"meu nome ","cmo te llamas?":"como voc se chama?","mucho gusto":"muito prazer","por favor":"por favor",gracias:"obrigado/obrigada","de nada":"de nada","lo siento":"desculpe","no entiendo":"no entendo"},rules:{gender:"En espaol, los sustantivos tienen gnero (masculino o femenino). Generalmente, palabras que terminan en -o son masculinas y las que terminan en -a son femeninas.",serVsEstar:"SER se usa para caractersticas permanentes (soy brasileo). ESTAR se usa para estados temporales (estoy cansado).",accentuation:"Las tildes en espaol indican dnde recae el acento de la palabra y pueden cambiar el significado."}},Vq={greeting:/\b(hola|oi|ol|buenos das|bom dia|hey)\b/i,farewell:/\b(adis|adeus|tchau|at logo|hasta luego)\b/i,howToSay:/\b(cmo se dice|como se diz|como fala|traduz|traduo)\b/i,conjugation:/\b(conjug|verbo|tiempo verbal)\b/i,grammar:/\b(gramtica|regra|por que|porque|diferena)\b/i,practice:/\b(praticar|exerccio|treinar|aprender)\b/i,help:/\b(ajuda|help|socorro|no entendo)\b/i,level:/\b(nvel|nivel|bsico|intermedirio|avanado)\b/i};class Bq{constructor(){this.context=[],this.userLevel="bsico"}processMessage(t){const n=t.toLowerCase().trim(),r=this.detectIntent(n),s=this.generateResponse(r,n);return this.context.push({user:t,ai:s,intent:r}),this.context.length>10&&this.context.shift(),s}detectIntent(t){for(const[n,r]of Object.entries(Vq))if(r.test(t))return n;return this.isAskingTranslation(t)?"translation":this.isAskingConjugation(t)?"conjugation":this.isAskingGrammar(t)?"grammar":"general"}generateResponse(t,n){switch(t){case"greeting":return this.handleGreeting();case"farewell":return this.handleFarewell();case"howToSay":case"translation":return this.handleTranslation(n);case"conjugation":return this.handleConjugation(n);case"grammar":return this.handleGrammar(n);case"practice":return this.handlePractice();case"help":return this.handleHelp();case"level":return this.handleLevel(n);default:return this.handleGeneral(n)}}handleGreeting(){const t=["Hola! Soy tu asistente de espaol. En qu puedo ayudarte hoy?","Buenos das! Estoy aqu para ayudarte a aprender espaol. Qu te gustara practicar?","Hola! Listo para practicar espaol? Pregntame lo que quieras."];return t[Math.floor(Math.random()*t.length)]}handleFarewell(){const t=["Hasta luego! Sigue practicando tu espaol. ","Adis! Nos vemos pronto. Buen estudio! ","Hasta la prxima! Recuerda practicar todos los das. "];return t[Math.floor(Math.random()*t.length)]}handleTranslation(t){for(const[n,r]of Object.entries(yi.vocabulary))for(const[s,o]of Object.entries(r))if(t.includes(s.toLowerCase())||t.includes(o.toLowerCase()))return` "${s}" en espaol significa "${o}" en portugus.

 Ejemplo: "El cielo es ${s}" = "O cu  ${o}"`;for(const[n,r]of Object.entries(yi.phrases))if(t.includes(n.toLowerCase()))return` "${n}" se traduce como "${r}".

 Es una frase muy til!`;return' No encontr esa palabra en mi base de datos. Podras ser ms especfico? Por ejemplo: "Cmo se dice casa?" o "Traduce rojo"'}handleConjugation(t){const n=Object.keys(yi.verbs);for(const r of n)if(t.includes(r)){const s=yi.verbs[r];let o=` Conjugacin del verbo "${r.toUpperCase()}":

`;if(s.present){o+=`**Presente:**
`;for(const[i,l]of Object.entries(s.present))o+=` ${i}: ${l}
`}if(s.preterite){o+=`
**Pretrito:**
`;for(const[i,l]of Object.entries(s.preterite))o+=` ${i}: ${l}
`}return o}return" Puedo ayudarte con los verbos: ser, estar, hablar, tener. Cul te gustara conjugar?"}handleGrammar(t){return t.includes("ser")||t.includes("estar")?` **Diferencia entre SER y ESTAR:**

${yi.rules.serVsEstar}

**Ejemplos:**
 Soy profesor (permanente)
 Estoy cansado (temporal)`:t.includes("gnero")||t.includes("masculino")||t.includes("femenino")?` **Gnero en Espaol:**

${yi.rules.gender}

**Ejemplos:**
 el libro (masculino)
 la mesa (femenino)`:` Puedo explicarte sobre:
 Diferencia entre SER y ESTAR
 Gnero de sustantivos
 Artculos (el, la, los, las)
 Pronombres

Qu te gustara aprender?`}handlePractice(){const t=[` **Ejercicio:** Traduce al espaol:
1. Bom dia
2. Como voc est?
3. Meu nome  Joo

Intenta responder!`,` **Prctica:** Completa con SER o ESTAR:
1. Yo ___ brasileo
2. Ella ___ cansada
3. Nosotros ___ en casa`,` **Desafo:** Conjuga el verbo HABLAR en presente:
Yo ___
T ___
l/Ella ___`];return t[Math.floor(Math.random()*t.length)]}handleHelp(){return` **Cmo puedo ayudarte?**

Puedo ayudarte con:

 **Traduccin:** "Cmo se dice casa?"
 **Conjugacin:** "Conjuga el verbo ser"
 **Gramtica:** "Diferencia entre ser y estar"
 **Prctica:** "Quiero practicar"
 **Nivel:** "Cambiar a nivel intermedio"

Pregntame lo que necesites!`}handleLevel(t){return t.includes("bsico")?(this.userLevel="bsico"," Nivel cambiado a BSICO. Empezaremos con lo fundamental."):t.includes("intermedirio")||t.includes("intermedio")?(this.userLevel="intermedirio"," Nivel cambiado a INTERMEDIRIO. Vamos a profundizar ms!"):t.includes("avanado")||t.includes("avanzado")?(this.userLevel="avanado"," Nivel cambiado a AVANADO. Preparado para el desafo!"):` Tu nivel actual es: ${this.userLevel.toUpperCase()}

Puedes cambiarlo diciendo:
 "Cambiar a bsico"
 "Cambiar a intermedirio"
 "Cambiar a avanado"`}handleGeneral(t){const n=[" Interesante pregunta. Podras ser ms especfico? Puedo ayudarte con traduccin, gramtica, conjugacin o prctica."," No estoy seguro de entender. Quieres que te ayude con vocabulario, gramtica o ejercicios?"," Buena pregunta! Intenta preguntar sobre: traduccin de palabras, conjugacin de verbos, o reglas gramaticales."];return n[Math.floor(Math.random()*n.length)]}isAskingTranslation(t){return t.includes("traduz")||t.includes("significa")||t.includes("como se dice")||t.includes("como fala")}isAskingConjugation(t){return t.includes("conjug")||t.includes("verbo")||t.includes("tiempo")}isAskingGrammar(t){return t.includes("gramtica")||t.includes("regra")||t.includes("diferena")||t.includes("por que")}getSuggestions(){return['Cmo se dice "casa"?',"Conjuga el verbo ser","Diferencia entre ser y estar","Quiero practicar","Nmeros en espaol","Colores en espaol"].sort(()=>.5-Math.random()).slice(0,3)}}const cm=new Bq,Uq=({className:e})=>{const[t,n]=h.useState([{role:"assistant",content:`Hola!  Soy tu asistente de espaol. Puedo ayudarte con:

 Traduccin de palabras
 Conjugacin de verbos
 Reglas gramaticales
 Ejercicios de prctica

En qu puedo ayudarte hoy?`,timestamp:new Date}]),[r,s]=h.useState(""),[o,i]=h.useState(!1),[l,c]=h.useState(cm.getSuggestions()),u=h.useRef(null);h.useEffect(()=>{u.current&&(u.current.scrollTop=u.current.scrollHeight)},[t]);const d=async(p=r)=>{if(!p.trim())return;const x={role:"user",content:p,timestamp:new Date};n(w=>[...w,x]),s(""),i(!0),await new Promise(w=>setTimeout(w,500));const y={role:"assistant",content:cm.processMessage(p),timestamp:new Date};n(w=>[...w,y]),i(!1),c(cm.getSuggestions())},f=p=>{d(p)},m=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),d())};return a.jsxs(wl,{className:W("w-full max-w-4xl mx-auto",e),children:[a.jsx(bl,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:a.jsx(hl,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx(_l,{className:"text-xl",children:"Asistente de Espaol"}),a.jsx(jl,{className:"text-blue-100",children:"IA especializada en enseanza de espaol"})]})]})}),a.jsxs(Sl,{className:"p-0",children:[a.jsx("div",{ref:u,className:"h-[500px] p-4 overflow-y-auto bg-slate-50",children:a.jsxs("div",{className:"space-y-4",children:[t.map((p,x)=>a.jsxs("div",{className:W("flex gap-3",p.role==="user"?"justify-end":"justify-start"),children:[p.role==="assistant"&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-purple-500 p-2 rounded-full",children:a.jsx(hl,{className:"h-5 w-5 text-white"})})}),a.jsxs("div",{className:W("max-w-[80%] rounded-lg px-4 py-3",p.role==="user"?"bg-blue-600 text-white":"bg-slate-100 text-slate-900"),children:[a.jsx("div",{className:"whitespace-pre-wrap text-sm",children:p.content}),a.jsx("div",{className:W("text-xs mt-2",p.role==="user"?"text-blue-100":"text-slate-500"),children:p.timestamp.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),p.role==="user"&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"bg-blue-600 p-2 rounded-full",children:a.jsx(uS,{className:"h-5 w-5 text-white"})})})]},x)),o&&a.jsxs("div",{className:"flex gap-3 justify-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-purple-500 p-2 rounded-full",children:a.jsx(hl,{className:"h-5 w-5 text-white"})})}),a.jsx("div",{className:"bg-slate-100 rounded-lg px-4 py-3",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),a.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),a.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]})]})}),l.length>0&&a.jsxs("div",{className:"px-4 py-2 border-t bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Nv,{className:"h-4 w-4 text-purple-600"}),a.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Sugestes:"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((p,x)=>a.jsx(Ne,{variant:"outline",className:"cursor-pointer hover:bg-blue-50 hover:border-blue-300 transition-colors",onClick:()=>f(p),children:p},x))})]}),a.jsxs("div",{className:"p-4 border-t bg-white",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(tt,{value:r,onChange:p=>s(p.target.value),onKeyPress:m,placeholder:"Digite sua pergunta em portugus ou espaol...",className:"flex-1",disabled:o}),a.jsx(Z,{onClick:()=>d(),disabled:!r.trim()||o,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:a.jsx(ia,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-slate-500",children:[a.jsx(Gl,{className:"h-3 w-3"}),a.jsx("span",{children:"Pressione Enter para enviar  Shift+Enter para nova linha"})]})]})]})]})},Hq=()=>{const e=lo();return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[a.jsx("div",{className:"bg-white border-b shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>e(-1),children:a.jsx(oS,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Asistente de Espaol IA"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Modelo local de inteligencia artificial"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs font-medium",children:" Gratis"}),a.jsx("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-medium",children:" Local"})]})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsxs("h2",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[a.jsx(Nv,{className:"h-5 w-5 text-purple-600"}),"Caractersticas"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:a.jsx(JI,{className:"h-4 w-4 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"IA Local"}),a.jsx("p",{className:"text-xs text-slate-600",children:"Funciona sin internet, 100% gratis"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:a.jsx(Fr,{className:"h-4 w-4 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"Chat Inteligente"}),a.jsx("p",{className:"text-xs text-slate-600",children:"Respuestas contextuales y personalizadas"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"bg-pink-100 p-2 rounded-lg",children:a.jsx(Gl,{className:"h-4 w-4 text-pink-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"Base de Conocimiento"}),a.jsx("p",{className:"text-xs text-slate-600",children:"Gramtica, vocabulario y conjugaciones"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsx("h2",{className:"font-bold text-lg mb-4",children:"Ejemplos de Uso"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[a.jsx("p",{className:"font-medium text-blue-600",children:"Traduccin:"}),a.jsx("p",{className:"text-slate-600",children:'"Cmo se dice casa?"'})]}),a.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[a.jsx("p",{className:"font-medium text-purple-600",children:"Conjugacin:"}),a.jsx("p",{className:"text-slate-600",children:'"Conjuga el verbo ser"'})]}),a.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[a.jsx("p",{className:"font-medium text-pink-600",children:"Gramtica:"}),a.jsx("p",{className:"text-slate-600",children:'"Diferencia entre ser y estar"'})]}),a.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[a.jsx("p",{className:"font-medium text-green-600",children:"Prctica:"}),a.jsx("p",{className:"text-slate-600",children:'"Quiero practicar"'})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg shadow-sm p-6 text-white",children:[a.jsx("h2",{className:"font-bold text-lg mb-4",children:"Capacidades"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{children:"Vocabulario"}),a.jsx("span",{children:"50+ palabras"})]}),a.jsx("div",{className:"bg-white/20 rounded-full h-2",children:a.jsx("div",{className:"bg-white rounded-full h-2 w-3/4"})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{children:"Verbos"}),a.jsx("span",{children:"4 verbos"})]}),a.jsx("div",{className:"bg-white/20 rounded-full h-2",children:a.jsx("div",{className:"bg-white rounded-full h-2 w-1/2"})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{children:"Reglas"}),a.jsx("span",{children:"3 reglas"})]}),a.jsx("div",{className:"bg-white/20 rounded-full h-2",children:a.jsx("div",{className:"bg-white rounded-full h-2 w-2/3"})})]})]}),a.jsx("p",{className:"text-xs mt-4 text-blue-100",children:" Este es un modelo de prueba. Puede expandirse con ms conocimiento."})]})]}),a.jsx("div",{className:"lg:col-span-2",children:a.jsx(Uq,{})})]})})]})},zq=()=>{const{user:e}=nr(),{toast:t}=Dt(),[n,r]=h.useState(!1),[s,o]=h.useState(""),[i,l]=h.useState([]),[c,u]=h.useState(!1),d=h.useRef(null),[f,m]=h.useState(null),[p,x]=h.useState(null),[g,y]=h.useState(!0),w=()=>{var S;(S=d.current)==null||S.scrollIntoView({behavior:"smooth"})},v=h.useCallback(async S=>{if(!e||!S)return null;let{data:N,error:_}=await F.from("chats").select("chat_id").eq("alumno_id",e.id).eq("profesor_id",S).maybeSingle();if(_&&_.code!=="PGRST116")return console.error("Error fetching chat:",_),t({variant:"destructive",title:"Erro no Chat",description:"No foi possvel carregar a conversa."}),null;if(N)return N.chat_id;{const{data:C,error:P}=await F.from("chats").insert({alumno_id:e.id,profesor_id:S}).select("chat_id").single();return P?(console.error("Error creating chat:",P),t({variant:"destructive",title:"Erro no Chat",description:"No foi possvel iniciar uma nova conversa."}),null):C.chat_id}},[e,t]),b=h.useCallback(async()=>{if(!e||!n)return;y(!0);const{data:S,error:N}=await F.from("profiles").select("id").eq("role","professor").limit(1).maybeSingle();if(N||!S){t({variant:"destructive",title:"Erro no Chat",description:"Professor no cadastrado. No  possvel iniciar o chat."}),y(!1);return}const _=S.id;m(_);const C=await v(_);if(!C){y(!1);return}x(C);const{data:P,error:I}=await F.from("mensajes").select("*").eq("chat_id",C).order("enviado_en",{ascending:!0});I?(console.error("Error fetching messages:",I),t({variant:"destructive",title:"Erro no Chat",description:"No foi possvel carregar as mensagens."})):l(P||[]),y(!1)},[e,n,v,t]);h.useEffect(()=>{n?b():(l([]),x(null),m(null))},[n,b]),h.useEffect(()=>{if(!p)return;const S=F.channel(`chat-room-${p}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"mensajes",filter:`chat_id=eq.${p}`},N=>{N.new.remitente_id!==e.id&&l(_=>[..._,N.new])}).subscribe();return()=>{F.removeChannel(S)}},[p,e.id]),h.useEffect(w,[i]);const j=async S=>{if(S.preventDefault(),!s.trim()||!e||!p)return;u(!0);const N=s;o("");const _={mensaje_id:`temp-${Date.now()}`,chat_id:p,remitente_id:e.id,contenido:N,enviado_en:new Date().toISOString(),leido:!1};l(P=>[...P,_]);const{error:C}=await F.from("mensajes").insert({chat_id:p,remitente_id:e.id,contenido:N});C&&(t({variant:"destructive",title:"Erro ao enviar",description:C.message}),o(N),l(P=>P.filter(I=>I.mensaje_id!==_.mensaje_id))),u(!1)};return a.jsxs(As,{open:n,onOpenChange:r,children:[a.jsx(Ms,{asChild:!0,children:a.jsx(at.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(Z,{size:"icon",className:"rounded-full w-16 h-16 bg-sky-600 hover:bg-sky-700 shadow-lg",children:n?a.jsx(la,{className:"h-8 w-8"}):a.jsx(Fr,{className:"h-8 w-8"})})})}),a.jsx(Jr,{side:"top",align:"end",className:"w-80 md:w-96 p-0 border-0 rounded-2xl shadow-2xl mr-4 mb-2",sideOffset:10,children:a.jsx(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},children:a.jsxs("div",{className:"flex flex-col h-[28rem]",children:[a.jsxs("header",{className:"p-4 bg-sky-600 text-white rounded-t-2xl flex items-center gap-3",children:[a.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:a.jsx(hl,{className:"h-6 w-6"})}),a.jsx("h3",{className:"font-bold text-lg",children:"Fale com o Professor"})]}),a.jsxs("main",{className:"flex-1 p-4 bg-slate-50 overflow-y-auto space-y-4",children:[g?a.jsx("div",{className:"flex justify-center items-center h-full",children:a.jsx(De,{className:"w-8 h-8 animate-spin text-sky-600"})}):i.map(S=>{const N=S.remitente_id===e.id;return a.jsx("div",{className:W("flex",N?"justify-end":"justify-start"),children:a.jsx("div",{className:W("rounded-lg px-4 py-2 max-w-[80%]",N?"bg-sky-600 text-white":"bg-slate-200 text-slate-800"),children:a.jsx("p",{className:"text-sm",children:S.contenido})})},S.mensaje_id)}),a.jsx("div",{ref:d}),i.length===0&&!g&&a.jsx("div",{className:"text-center text-sm text-slate-400 pt-16",children:"O histrico de mensagens aparecer aqui. Envie a primeira!"})]}),a.jsx("footer",{className:"p-4 bg-white border-t rounded-b-2xl",children:a.jsxs("form",{onSubmit:j,className:"flex items-center gap-2",children:[a.jsx(tt,{type:"text",placeholder:"Digite sua mensagem...",value:s,onChange:S=>o(S.target.value),disabled:c||g||!p}),a.jsx(Z,{type:"submit",size:"icon",disabled:c||g||!s.trim()||!p,children:a.jsx(ia,{className:"h-4 w-4"})})]})})]})})})]})},Wq=()=>{const{user:e,fetchProfile:t}=nr(),[n,r]=h.useState(""),[s,o]=h.useState(""),[i,l]=h.useState(!1),{toast:c}=Dt(),u=async d=>{if(d.preventDefault(),!n||!s){c({variant:"destructive",title:"Campos obrigatrios",description:"Por favor, preencha todos os campos."});return}l(!0);const{error:f}=await F.from("profiles").update({age:parseInt(n,10),spanish_level:s}).eq("id",e.id);f?c({variant:"destructive",title:"Erro ao salvar",description:f.message}):(c({variant:"info",title:"Informaes salvas!",description:"Obrigado por completar seu perfil."}),await t(e.id)),l(!1)};return a.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:a.jsxs(at.div,{className:"bg-white p-8 rounded-xl shadow-2xl w-full max-w-md",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[a.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:"Quase l!"}),a.jsx("p",{className:"text-slate-500 text-center mb-6",children:"Precisamos de mais algumas informaes para personalizar sua experincia."}),a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(He,{htmlFor:"age",children:"Qual  a sua idade?"}),a.jsx(tt,{id:"age",type:"number",placeholder:"Ex: 25",value:n,onChange:d=>r(d.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(He,{htmlFor:"spanishLevel",children:"Qual seu nvel de espanhol?"}),a.jsxs(tn,{onValueChange:o,value:s,children:[a.jsx(zt,{id:"spanishLevel",children:a.jsx(nn,{placeholder:"Selecione seu nvel"})}),a.jsxs(Wt,{children:[a.jsx(Pe,{value:"Iniciante",children:"Iniciante (A1/A2)"}),a.jsx(Pe,{value:"Intermedirio",children:"Intermedirio (B1/B2)"}),a.jsx(Pe,{value:"Avanado",children:"Avanado (C1/C2)"}),a.jsx(Pe,{value:"Nenhum",children:"No tenho conhecimento"})]})]})]}),a.jsx(Z,{type:"submit",className:"w-full bg-sky-600 hover:bg-sky-700",disabled:i,children:i?"Salvando...":"Salvar e Continuar"})]})]})})},qq=()=>a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:a.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-2xl shadow-2xl border-l-4 border-red-500 animate-in fade-in zoom-in duration-300",children:[a.jsxs(Ki,{variant:"destructive",children:[a.jsx(Qi,{className:"text-xl font-bold",children:"Acesso Bloqueado"}),a.jsxs(Xi,{className:"mt-2 text-slate-700",children:["Sua conta foi marcada como ",a.jsx("strong",{children:"inativa"}),". Para reativ-la e continuar suas aulas, por favor, entre em contato com o suporte da escola."]})]}),a.jsx("a",{href:"https://wa.me/555198541835",target:"_blank",rel:"noopener noreferrer",className:"block",children:a.jsxs(Z,{className:"w-full bg-green-500 hover:bg-green-600 text-white shadow-lg text-base py-6",children:[a.jsx(Fr,{className:"mr-2 h-5 w-5"}),"Falar com o Suporte (WhatsApp)"]})}),a.jsx("p",{className:"text-xs text-center text-slate-500",children:"Esta mensagem permanecer visvel at que voc entre em contato com o suporte."})]})});function Gq(){const{user:e,loading:t,professorSession:n,profile:r}=nr(),s=ri();if(t)return a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:a.jsx("div",{className:"text-xl font-semibold text-slate-700",children:"Carregando..."})});const o=!["/professor-login","/professor-dashboard"].includes(s.pathname),i=e&&r&&!r.age,l=e&&(r==null?void 0:r.role)==="student";return l&&r&&r.is_active===!1?a.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[o&&a.jsx(Ew,{}),a.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:a.jsx(qq,{})}),o&&a.jsx(Tw,{})]}):a.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[a.jsxs(up,{children:[a.jsx("title",{children:"Conexin Amrica"}),a.jsx("meta",{name:"description",content:"Portal de Conexin Amrica."}),a.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),a.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"true"}),a.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap",rel:"stylesheet"})]}),o&&a.jsx(Ew,{}),i&&a.jsx(Wq,{}),a.jsx("main",{className:`flex-grow ${o?"container mx-auto px-4 py-8":""} ${i?"blur-sm pointer-events-none":""}`,children:a.jsx(yy,{mode:"wait",children:a.jsxs(HM,{location:s,children:[a.jsx(js,{path:"/",element:e?a.jsx(YW,{}):a.jsx(La,{to:"/login"})}),a.jsx(js,{path:"/login",element:e?a.jsx(La,{to:"/"}):a.jsx(e7,{})}),a.jsx(js,{path:"/register",element:e?a.jsx(La,{to:"/"}):a.jsx(t7,{})}),a.jsx(js,{path:"/update-password",element:a.jsx(n7,{})}),a.jsx(js,{path:"/professor-login",element:n?a.jsx(La,{to:"/professor-dashboard"}):a.jsx(s7,{})}),a.jsx(js,{path:"/professor-dashboard",element:n?a.jsx(Fq,{}):a.jsx(La,{to:"/professor-login"})}),a.jsx(js,{path:"/spanish-assistant",element:a.jsx(Hq,{})})]},s.pathname)})}),l&&!i&&a.jsx("div",{className:"fixed bottom-6 right-6 z-50 flex items-end gap-3",children:a.jsx(zq,{})}),o&&!i&&a.jsx(Tw,{})]})}var Gy="ToastProvider",[Yy,Yq,Kq]=Tf("Toast"),[QT,$G]=rr("Toast",[Kq]),[Qq,zf]=QT(Gy),XT=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[l,c]=h.useState(null),[u,d]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Gy}\`. Expected non-empty \`string\`.`),a.jsx(Yy.Provider,{scope:t,children:a.jsx(Qq,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>d(p=>p+1),[]),onToastRemove:h.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:i})})};XT.displayName=Gy;var JT="ToastViewport",Xq=["F8"],ag="toast.viewportPause",lg="toast.viewportResume",ZT=h.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=Xq,label:s="Notifications ({hotkey})",...o}=e,i=zf(JT,n),l=Yq(n),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),m=Te(t,f,i.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=i.toastCount>0;h.useEffect(()=>{const y=w=>{var b;r.length!==0&&r.every(j=>w[j]||w.code===j)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),h.useEffect(()=>{const y=c.current,w=f.current;if(x&&y&&w){const v=()=>{if(!i.isClosePausedRef.current){const N=new CustomEvent(ag);w.dispatchEvent(N),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const N=new CustomEvent(lg);w.dispatchEvent(N),i.isClosePausedRef.current=!1}},j=N=>{!y.contains(N.relatedTarget)&&b()},S=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",v),y.addEventListener("focusout",j),y.addEventListener("pointermove",v),y.addEventListener("pointerleave",S),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",v),y.removeEventListener("focusout",j),y.removeEventListener("pointermove",v),y.removeEventListener("pointerleave",S),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[x,i.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:y})=>{const v=l().map(b=>{const j=b.ref.current,S=[j,...uG(j)];return y==="forwards"?S:S.reverse()});return(y==="forwards"?v.reverse():v).flat()},[l]);return h.useEffect(()=>{const y=f.current;if(y){const w=v=>{var S,N,_;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const C=document.activeElement,P=v.shiftKey;if(v.target===y&&P){(S=u.current)==null||S.focus();return}const O=g({tabbingDirection:P?"backwards":"forwards"}),U=O.findIndex($=>$===C);um(O.slice(U+1))?v.preventDefault():P?(N=u.current)==null||N.focus():(_=d.current)==null||_.focus()}};return y.addEventListener("keydown",w),()=>y.removeEventListener("keydown",w)}},[l,g]),a.jsxs(L4,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&a.jsx(cg,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});um(y)}}),a.jsx(Yy.Slot,{scope:n,children:a.jsx(ce.ol,{tabIndex:-1,...o,ref:m})}),x&&a.jsx(cg,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});um(y)}})]})});ZT.displayName=JT;var eP="ToastFocusProxy",cg=h.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=zf(eP,n);return a.jsx(Ry,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&r()}})});cg.displayName=eP;var Mc="Toast",Jq="toast.swipeStart",Zq="toast.swipeMove",eG="toast.swipeCancel",tG="toast.swipeEnd",tP=h.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=e,[l,c]=Br({prop:r,defaultProp:s??!0,onChange:o,caller:Mc});return a.jsx(qn,{present:n||l,children:a.jsx(sG,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:mn(e.onPause),onResume:mn(e.onResume),onSwipeStart:ee(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ee(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});tP.displayName=Mc;var[nG,rG]=QT(Mc,{onClose(){}}),sG=h.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...x}=e,g=zf(Mc,n),[y,w]=h.useState(null),v=Te(t,$=>w($)),b=h.useRef(null),j=h.useRef(null),S=s||g.duration,N=h.useRef(0),_=h.useRef(S),C=h.useRef(0),{onToastAdd:P,onToastRemove:I}=g,L=mn(()=>{var E;(y==null?void 0:y.contains(document.activeElement))&&((E=g.viewport)==null||E.focus()),i()}),O=h.useCallback($=>{!$||$===1/0||(window.clearTimeout(C.current),N.current=new Date().getTime(),C.current=window.setTimeout(L,$))},[L]);h.useEffect(()=>{const $=g.viewport;if($){const E=()=>{O(_.current),u==null||u()},M=()=>{const T=new Date().getTime()-N.current;_.current=_.current-T,window.clearTimeout(C.current),c==null||c()};return $.addEventListener(ag,M),$.addEventListener(lg,E),()=>{$.removeEventListener(ag,M),$.removeEventListener(lg,E)}}},[g.viewport,S,c,u,O]),h.useEffect(()=>{o&&!g.isClosePausedRef.current&&O(S)},[o,S,g.isClosePausedRef,O]),h.useEffect(()=>(P(),()=>I()),[P,I]);const U=h.useMemo(()=>y?lP(y):null,[y]);return g.viewport?a.jsxs(a.Fragment,{children:[U&&a.jsx(oG,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:U}),a.jsx(nG,{scope:n,onClose:L,children:ni.createPortal(a.jsx(Yy.ItemSlot,{scope:n,children:a.jsx(I4,{asChild:!0,onEscapeKeyDown:ee(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||L(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(ce.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ee(e.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:ee(e.onPointerDown,$=>{$.button===0&&(b.current={x:$.clientX,y:$.clientY})}),onPointerMove:ee(e.onPointerMove,$=>{if(!b.current)return;const E=$.clientX-b.current.x,M=$.clientY-b.current.y,T=!!j.current,k=["left","right"].includes(g.swipeDirection),R=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,A=k?R(0,E):0,V=k?0:R(0,M),D=$.pointerType==="touch"?10:2,z={x:A,y:V},B={originalEvent:$,delta:z};T?(j.current=z,vu(Zq,f,B,{discrete:!1})):Jb(z,g.swipeDirection,D)?(j.current=z,vu(Jq,d,B,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(E)>D||Math.abs(M)>D)&&(b.current=null)}),onPointerUp:ee(e.onPointerUp,$=>{const E=j.current,M=$.target;if(M.hasPointerCapture($.pointerId)&&M.releasePointerCapture($.pointerId),j.current=null,b.current=null,E){const T=$.currentTarget,k={originalEvent:$,delta:E};Jb(E,g.swipeDirection,g.swipeThreshold)?vu(tG,p,k,{discrete:!0}):vu(eG,m,k,{discrete:!0}),T.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),oG=e=>{const{__scopeToast:t,children:n,...r}=e,s=zf(Mc,t),[o,i]=h.useState(!1),[l,c]=h.useState(!1);return lG(()=>i(!0)),h.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(ka,{asChild:!0,children:a.jsx(Ry,{...r,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},iG="ToastTitle",nP=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(ce.div,{...r,ref:t})});nP.displayName=iG;var aG="ToastDescription",rP=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(ce.div,{...r,ref:t})});rP.displayName=aG;var sP="ToastAction",oP=h.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?a.jsx(aP,{altText:n,asChild:!0,children:a.jsx(Ky,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${sP}\`. Expected non-empty \`string\`.`),null)});oP.displayName=sP;var iP="ToastClose",Ky=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=rG(iP,n);return a.jsx(aP,{asChild:!0,children:a.jsx(ce.button,{type:"button",...r,ref:t,onClick:ee(e.onClick,s.onClose)})})});Ky.displayName=iP;var aP=h.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return a.jsx(ce.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function lP(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),cG(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...lP(r))}}),t}function vu(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?kv(s,o):s.dispatchEvent(o)}var Jb=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function lG(e=()=>{}){const t=mn(e);kt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function cG(e){return e.nodeType===e.ELEMENT_NODE}function uG(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function um(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var dG=XT,cP=ZT,uP=tP,dP=nP,fP=rP,hP=oP,mP=Ky;const fG=dG,pP=ct.forwardRef(({className:e,...t},n)=>a.jsx(cP,{ref:n,className:W("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));pP.displayName=cP.displayName;const hG=hc("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground",info:"group info border-sky-200 bg-sky-100 text-sky-800"}},defaultVariants:{variant:"default"}}),gP=ct.forwardRef(({className:e,variant:t,...n},r)=>a.jsx(uP,{ref:r,className:W(hG({variant:t}),e),...n}));gP.displayName=uP.displayName;const mG=ct.forwardRef(({className:e,...t},n)=>a.jsx(hP,{ref:n,className:W("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));mG.displayName=hP.displayName;const vP=ct.forwardRef(({className:e,...t},n)=>a.jsx(mP,{ref:n,className:W("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 group-[.info]:text-sky-600 group-[.info]:hover:text-sky-800",e),"toast-close":"",...t,children:a.jsx(la,{className:"h-4 w-4"})}));vP.displayName=mP.displayName;const yP=ct.forwardRef(({className:e,...t},n)=>a.jsx(dP,{ref:n,className:W("text-sm font-semibold",e),...t}));yP.displayName=dP.displayName;const xP=ct.forwardRef(({className:e,...t},n)=>a.jsx(fP,{ref:n,className:W("text-sm opacity-90",e),...t}));xP.displayName=fP.displayName;function pG(){const{toasts:e}=Dt();return a.jsxs(fG,{children:[e.map(({id:t,title:n,description:r,action:s,...o})=>a.jsxs(gP,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(yP,{children:n}),r&&a.jsx(xP,{children:r})]}),s,a.jsx(vP,{})]},t)),a.jsx(pP,{})]})}dm.createRoot(document.getElementById("root")).render(a.jsx(a.Fragment,{children:a.jsx(QM,{children:a.jsxs(fI,{children:[a.jsx(Gq,{}),a.jsx(pG,{})]})})}));
