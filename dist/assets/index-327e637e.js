var sM=Object.defineProperty;var rM=(e,t,s)=>t in e?sM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Ae=(e,t,s)=>(rM(e,typeof t!="symbol"?t+"":t,s),s);function e1(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();var rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function nM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(s,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),s}var t1={exports:{}},dm={},s1={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cd=Symbol.for("react.element"),aM=Symbol.for("react.portal"),oM=Symbol.for("react.fragment"),iM=Symbol.for("react.strict_mode"),lM=Symbol.for("react.profiler"),cM=Symbol.for("react.provider"),dM=Symbol.for("react.context"),uM=Symbol.for("react.forward_ref"),fM=Symbol.for("react.suspense"),mM=Symbol.for("react.memo"),hM=Symbol.for("react.lazy"),zy=Symbol.iterator;function pM(e){return e===null||typeof e!="object"?null:(e=zy&&e[zy]||e["@@iterator"],typeof e=="function"?e:null)}var r1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n1=Object.assign,a1={};function Dl(e,t,s){this.props=e,this.context=t,this.refs=a1,this.updater=s||r1}Dl.prototype.isReactComponent={};Dl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function o1(){}o1.prototype=Dl.prototype;function Xx(e,t,s){this.props=e,this.context=t,this.refs=a1,this.updater=s||r1}var Qx=Xx.prototype=new o1;Qx.constructor=Xx;n1(Qx,Dl.prototype);Qx.isPureReactComponent=!0;var By=Array.isArray,i1=Object.prototype.hasOwnProperty,Jx={current:null},l1={key:!0,ref:!0,__self:!0,__source:!0};function c1(e,t,s){var r,a={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)i1.call(t,r)&&!l1.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:Cd,type:e,key:o,ref:i,props:a,_owner:Jx.current}}function gM(e,t){return{$$typeof:Cd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cd}function xM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Uy=/\/+/g;function Ch(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xM(""+e.key):t.toString(36)}function Iu(e,t,s,r,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Cd:case aM:i=!0}}if(i)return i=e,a=a(i),e=r===""?"."+Ch(i,0):r,By(a)?(s="",e!=null&&(s=e.replace(Uy,"$&/")+"/"),Iu(a,t,s,"",function(d){return d})):a!=null&&(Zx(a)&&(a=gM(a,s+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Uy,"$&/")+"/")+e)),t.push(a)),1;if(i=0,r=r===""?".":r+":",By(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+Ch(o,l);i+=Iu(o,t,s,c,a)}else if(c=pM(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+Ch(o,l++),i+=Iu(o,t,s,c,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Zd(e,t,s){if(e==null)return e;var r=[],a=0;return Iu(e,r,"","",function(o){return t.call(s,o,a++)}),r}function vM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mr={current:null},Lu={transition:null},yM={ReactCurrentDispatcher:mr,ReactCurrentBatchConfig:Lu,ReactCurrentOwner:Jx};function d1(){throw Error("act(...) is not supported in production builds of React.")}ft.Children={map:Zd,forEach:function(e,t,s){Zd(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Zd(e,function(){t++}),t},toArray:function(e){return Zd(e,function(t){return t})||[]},only:function(e){if(!Zx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ft.Component=Dl;ft.Fragment=oM;ft.Profiler=lM;ft.PureComponent=Xx;ft.StrictMode=iM;ft.Suspense=fM;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yM;ft.act=d1;ft.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=n1({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Jx.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)i1.call(t,c)&&!l1.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Cd,type:e.type,key:a,ref:o,props:r,_owner:i}};ft.createContext=function(e){return e={$$typeof:dM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cM,_context:e},e.Consumer=e};ft.createElement=c1;ft.createFactory=function(e){var t=c1.bind(null,e);return t.type=e,t};ft.createRef=function(){return{current:null}};ft.forwardRef=function(e){return{$$typeof:uM,render:e}};ft.isValidElement=Zx;ft.lazy=function(e){return{$$typeof:hM,_payload:{_status:-1,_result:e},_init:vM}};ft.memo=function(e,t){return{$$typeof:mM,type:e,compare:t===void 0?null:t}};ft.startTransition=function(e){var t=Lu.transition;Lu.transition={};try{e()}finally{Lu.transition=t}};ft.unstable_act=d1;ft.useCallback=function(e,t){return mr.current.useCallback(e,t)};ft.useContext=function(e){return mr.current.useContext(e)};ft.useDebugValue=function(){};ft.useDeferredValue=function(e){return mr.current.useDeferredValue(e)};ft.useEffect=function(e,t){return mr.current.useEffect(e,t)};ft.useId=function(){return mr.current.useId()};ft.useImperativeHandle=function(e,t,s){return mr.current.useImperativeHandle(e,t,s)};ft.useInsertionEffect=function(e,t){return mr.current.useInsertionEffect(e,t)};ft.useLayoutEffect=function(e,t){return mr.current.useLayoutEffect(e,t)};ft.useMemo=function(e,t){return mr.current.useMemo(e,t)};ft.useReducer=function(e,t,s){return mr.current.useReducer(e,t,s)};ft.useRef=function(e){return mr.current.useRef(e)};ft.useState=function(e){return mr.current.useState(e)};ft.useSyncExternalStore=function(e,t,s){return mr.current.useSyncExternalStore(e,t,s)};ft.useTransition=function(){return mr.current.useTransition()};ft.version="18.3.1";s1.exports=ft;var f=s1.exports;const Vt=hi(f),um=e1({__proto__:null,default:Vt},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bM=f,wM=Symbol.for("react.element"),jM=Symbol.for("react.fragment"),NM=Object.prototype.hasOwnProperty,_M=bM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SM={key:!0,ref:!0,__self:!0,__source:!0};function u1(e,t,s){var r,a={},o=null,i=null;s!==void 0&&(o=""+s),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)NM.call(t,r)&&!SM.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:wM,type:e,key:o,ref:i,props:a,_owner:_M.current}}dm.Fragment=jM;dm.jsx=u1;dm.jsxs=u1;t1.exports=dm;var n=t1.exports,Gp={},f1={exports:{}},Ur={},m1={exports:{}},h1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,P){var A=k.length;k.push(P);e:for(;0<A;){var B=A-1>>>1,L=k[B];if(0<a(L,P))k[B]=P,k[A]=L,A=B;else break e}}function s(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var P=k[0],A=k.pop();if(A!==P){k[0]=A;e:for(var B=0,L=k.length,H=L>>>1;B<H;){var I=2*(B+1)-1,G=k[I],K=I+1,q=k[K];if(0>a(G,A))K<L&&0>a(q,G)?(k[B]=q,k[K]=A,B=K):(k[B]=G,k[I]=A,B=I);else if(K<L&&0>a(q,A))k[B]=q,k[K]=A,B=K;else break e}}return P}function a(k,P){var A=k.sortIndex-P.sortIndex;return A!==0?A:k.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,m=null,h=3,p=!1,x=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(k){for(var P=s(d);P!==null;){if(P.callback===null)r(d);else if(P.startTime<=k)r(d),P.sortIndex=P.expirationTime,t(c,P);else break;P=s(d)}}function j(k){if(g=!1,w(k),!x)if(s(c)!==null)x=!0,T(N);else{var P=s(d);P!==null&&F(j,P.startTime-k)}}function N(k,P){x=!1,g&&(g=!1,b(S),S=-1),p=!0;var A=h;try{for(w(P),m=s(c);m!==null&&(!(m.expirationTime>P)||k&&!z());){var B=m.callback;if(typeof B=="function"){m.callback=null,h=m.priorityLevel;var L=B(m.expirationTime<=P);P=e.unstable_now(),typeof L=="function"?m.callback=L:m===s(c)&&r(c),w(P)}else r(c);m=s(c)}if(m!==null)var H=!0;else{var I=s(d);I!==null&&F(j,I.startTime-P),H=!1}return H}finally{m=null,h=A,p=!1}}var C=!1,_=null,S=-1,O=5,D=-1;function z(){return!(e.unstable_now()-D<O)}function M(){if(_!==null){var k=e.unstable_now();D=k;var P=!0;try{P=_(!0,k)}finally{P?U():(C=!1,_=null)}}else C=!1}var U;if(typeof v=="function")U=function(){v(M)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,E=$.port2;$.port1.onmessage=M,U=function(){E.postMessage(null)}}else U=function(){y(M,0)};function T(k){_=k,C||(C=!0,U())}function F(k,P){S=y(function(){k(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,T(N))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(k){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var A=h;h=P;try{return k()}finally{h=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,P){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var A=h;h=k;try{return P()}finally{h=A}},e.unstable_scheduleCallback=function(k,P,A){var B=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?B+A:B):A=B,k){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=A+L,k={id:u++,callback:P,priorityLevel:k,startTime:A,expirationTime:L,sortIndex:-1},A>B?(k.sortIndex=A,t(d,k),s(c)===null&&k===s(d)&&(g?(b(S),S=-1):g=!0,F(j,A-B))):(k.sortIndex=L,t(c,k),x||p||(x=!0,T(N))),k},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(k){var P=h;return function(){var A=h;h=P;try{return k.apply(this,arguments)}finally{h=A}}}})(h1);m1.exports=h1;var CM=m1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EM=f,Vr=CM;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p1=new Set,Bc={};function pi(e,t){gl(e,t),gl(e+"Capture",t)}function gl(e,t){for(Bc[e]=t,e=0;e<t.length;e++)p1.add(t[e])}var xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yp=Object.prototype.hasOwnProperty,kM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hy={},qy={};function TM(e){return Yp.call(qy,e)?!0:Yp.call(Hy,e)?!1:kM.test(e)?qy[e]=!0:(Hy[e]=!0,!1)}function PM(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function AM(e,t,s,r){if(t===null||typeof t>"u"||PM(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function hr(e,t,s,r,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Gs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Gs[e]=new hr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Gs[t]=new hr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Gs[e]=new hr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Gs[e]=new hr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Gs[e]=new hr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Gs[e]=new hr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Gs[e]=new hr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Gs[e]=new hr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Gs[e]=new hr(e,5,!1,e.toLowerCase(),null,!1,!1)});var ev=/[\-:]([a-z])/g;function tv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ev,tv);Gs[t]=new hr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ev,tv);Gs[t]=new hr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ev,tv);Gs[t]=new hr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Gs[e]=new hr(e,1,!1,e.toLowerCase(),null,!1,!1)});Gs.xlinkHref=new hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Gs[e]=new hr(e,1,!1,e.toLowerCase(),null,!0,!0)});function sv(e,t,s,r){var a=Gs.hasOwnProperty(t)?Gs[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(AM(t,s,a,r)&&(s=null),r||a===null?TM(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,r=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var Ca=EM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eu=Symbol.for("react.element"),Fi=Symbol.for("react.portal"),Vi=Symbol.for("react.fragment"),rv=Symbol.for("react.strict_mode"),Kp=Symbol.for("react.profiler"),g1=Symbol.for("react.provider"),x1=Symbol.for("react.context"),nv=Symbol.for("react.forward_ref"),Xp=Symbol.for("react.suspense"),Qp=Symbol.for("react.suspense_list"),av=Symbol.for("react.memo"),Ia=Symbol.for("react.lazy"),v1=Symbol.for("react.offscreen"),Wy=Symbol.iterator;function Jl(e){return e===null||typeof e!="object"?null:(e=Wy&&e[Wy]||e["@@iterator"],typeof e=="function"?e:null)}var fs=Object.assign,Eh;function xc(e){if(Eh===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Eh=t&&t[1]||""}return`
`+Eh+e}var kh=!1;function Th(e,t){if(!e||kh)return"";kh=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),o=r.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{kh=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?xc(e):""}function MM(e){switch(e.tag){case 5:return xc(e.type);case 16:return xc("Lazy");case 13:return xc("Suspense");case 19:return xc("SuspenseList");case 0:case 2:case 15:return e=Th(e.type,!1),e;case 11:return e=Th(e.type.render,!1),e;case 1:return e=Th(e.type,!0),e;default:return""}}function Jp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vi:return"Fragment";case Fi:return"Portal";case Kp:return"Profiler";case rv:return"StrictMode";case Xp:return"Suspense";case Qp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case x1:return(e.displayName||"Context")+".Consumer";case g1:return(e._context.displayName||"Context")+".Provider";case nv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case av:return t=e.displayName||null,t!==null?t:Jp(e.type)||"Memo";case Ia:t=e._payload,e=e._init;try{return Jp(e(t))}catch{}}return null}function RM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jp(t);case 8:return t===rv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function uo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function y1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function OM(e){var t=y1(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,o=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tu(e){e._valueTracker||(e._valueTracker=OM(e))}function b1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=y1(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function of(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zp(e,t){var s=t.checked;return fs({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Gy(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=uo(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function w1(e,t){t=t.checked,t!=null&&sv(e,"checked",t,!1)}function eg(e,t){w1(e,t);var s=uo(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tg(e,t.type,s):t.hasOwnProperty("defaultValue")&&tg(e,t.type,uo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yy(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function tg(e,t,s){(t!=="number"||of(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var vc=Array.isArray;function rl(e,t,s,r){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&r&&(e[s].defaultSelected=!0)}else{for(s=""+uo(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function sg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return fs({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ky(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(he(92));if(vc(s)){if(1<s.length)throw Error(he(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:uo(s)}}function j1(e,t){var s=uo(t.value),r=uo(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function Xy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function N1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?N1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var su,_1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(su=su||document.createElement("div"),su.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=su.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Uc(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Cc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DM=["Webkit","ms","Moz","O"];Object.keys(Cc).forEach(function(e){DM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cc[t]=Cc[e]})});function S1(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Cc.hasOwnProperty(e)&&Cc[e]?(""+t).trim():t+"px"}function C1(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,a=S1(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,a):e[s]=a}}var IM=fs({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ng(e,t){if(t){if(IM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function ag(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var og=null;function ov(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ig=null,nl=null,al=null;function Qy(e){if(e=Td(e)){if(typeof ig!="function")throw Error(he(280));var t=e.stateNode;t&&(t=gm(t),ig(e.stateNode,e.type,t))}}function E1(e){nl?al?al.push(e):al=[e]:nl=e}function k1(){if(nl){var e=nl,t=al;if(al=nl=null,Qy(e),t)for(e=0;e<t.length;e++)Qy(t[e])}}function T1(e,t){return e(t)}function P1(){}var Ph=!1;function A1(e,t,s){if(Ph)return e(t,s);Ph=!0;try{return T1(e,t,s)}finally{Ph=!1,(nl!==null||al!==null)&&(P1(),k1())}}function Hc(e,t){var s=e.stateNode;if(s===null)return null;var r=gm(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(he(231,t,typeof s));return s}var lg=!1;if(xa)try{var Zl={};Object.defineProperty(Zl,"passive",{get:function(){lg=!0}}),window.addEventListener("test",Zl,Zl),window.removeEventListener("test",Zl,Zl)}catch{lg=!1}function LM(e,t,s,r,a,o,i,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(u){this.onError(u)}}var Ec=!1,lf=null,cf=!1,cg=null,$M={onError:function(e){Ec=!0,lf=e}};function FM(e,t,s,r,a,o,i,l,c){Ec=!1,lf=null,LM.apply($M,arguments)}function VM(e,t,s,r,a,o,i,l,c){if(FM.apply(this,arguments),Ec){if(Ec){var d=lf;Ec=!1,lf=null}else throw Error(he(198));cf||(cf=!0,cg=d)}}function gi(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function M1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jy(e){if(gi(e)!==e)throw Error(he(188))}function zM(e){var t=e.alternate;if(!t){if(t=gi(e),t===null)throw Error(he(188));return t!==e?null:e}for(var s=e,r=t;;){var a=s.return;if(a===null)break;var o=a.alternate;if(o===null){if(r=a.return,r!==null){s=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===s)return Jy(a),e;if(o===r)return Jy(a),t;o=o.sibling}throw Error(he(188))}if(s.return!==r.return)s=a,r=o;else{for(var i=!1,l=a.child;l;){if(l===s){i=!0,s=a,r=o;break}if(l===r){i=!0,r=a,s=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===s){i=!0,s=o,r=a;break}if(l===r){i=!0,r=o,s=a;break}l=l.sibling}if(!i)throw Error(he(189))}}if(s.alternate!==r)throw Error(he(190))}if(s.tag!==3)throw Error(he(188));return s.stateNode.current===s?e:t}function R1(e){return e=zM(e),e!==null?O1(e):null}function O1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=O1(e);if(t!==null)return t;e=e.sibling}return null}var D1=Vr.unstable_scheduleCallback,Zy=Vr.unstable_cancelCallback,BM=Vr.unstable_shouldYield,UM=Vr.unstable_requestPaint,ws=Vr.unstable_now,HM=Vr.unstable_getCurrentPriorityLevel,iv=Vr.unstable_ImmediatePriority,I1=Vr.unstable_UserBlockingPriority,df=Vr.unstable_NormalPriority,qM=Vr.unstable_LowPriority,L1=Vr.unstable_IdlePriority,fm=null,zn=null;function WM(e){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(fm,e,void 0,(e.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:KM,GM=Math.log,YM=Math.LN2;function KM(e){return e>>>=0,e===0?32:31-(GM(e)/YM|0)|0}var ru=64,nu=4194304;function yc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uf(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=s&268435455;if(i!==0){var l=i&~a;l!==0?r=yc(l):(o&=i,o!==0&&(r=yc(o)))}else i=s&~a,i!==0?r=yc(i):o!==0&&(r=yc(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-bn(t),a=1<<s,r|=e[s],t&=~a;return r}function XM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QM(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-bn(o),l=1<<i,c=a[i];c===-1?(!(l&s)||l&r)&&(a[i]=XM(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function dg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $1(){var e=ru;return ru<<=1,!(ru&4194240)&&(ru=64),e}function Ah(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Ed(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bn(t),e[t]=s}function JM(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-bn(s),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,s&=~o}}function lv(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-bn(s),a=1<<r;a&t|e[r]&t&&(e[r]|=t),s&=~a}}var Lt=0;function F1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var V1,cv,z1,B1,U1,ug=!1,au=[],Ya=null,Ka=null,Xa=null,qc=new Map,Wc=new Map,Fa=[],ZM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eb(e,t){switch(e){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":qc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wc.delete(t.pointerId)}}function ec(e,t,s,r,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Td(t),t!==null&&cv(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function eR(e,t,s,r,a){switch(t){case"focusin":return Ya=ec(Ya,e,t,s,r,a),!0;case"dragenter":return Ka=ec(Ka,e,t,s,r,a),!0;case"mouseover":return Xa=ec(Xa,e,t,s,r,a),!0;case"pointerover":var o=a.pointerId;return qc.set(o,ec(qc.get(o)||null,e,t,s,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Wc.set(o,ec(Wc.get(o)||null,e,t,s,r,a)),!0}return!1}function H1(e){var t=Bo(e.target);if(t!==null){var s=gi(t);if(s!==null){if(t=s.tag,t===13){if(t=M1(s),t!==null){e.blockedOn=t,U1(e.priority,function(){z1(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $u(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=fg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);og=r,s.target.dispatchEvent(r),og=null}else return t=Td(s),t!==null&&cv(t),e.blockedOn=s,!1;t.shift()}return!0}function tb(e,t,s){$u(e)&&s.delete(t)}function tR(){ug=!1,Ya!==null&&$u(Ya)&&(Ya=null),Ka!==null&&$u(Ka)&&(Ka=null),Xa!==null&&$u(Xa)&&(Xa=null),qc.forEach(tb),Wc.forEach(tb)}function tc(e,t){e.blockedOn===t&&(e.blockedOn=null,ug||(ug=!0,Vr.unstable_scheduleCallback(Vr.unstable_NormalPriority,tR)))}function Gc(e){function t(a){return tc(a,e)}if(0<au.length){tc(au[0],e);for(var s=1;s<au.length;s++){var r=au[s];r.blockedOn===e&&(r.blockedOn=null)}}for(Ya!==null&&tc(Ya,e),Ka!==null&&tc(Ka,e),Xa!==null&&tc(Xa,e),qc.forEach(t),Wc.forEach(t),s=0;s<Fa.length;s++)r=Fa[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<Fa.length&&(s=Fa[0],s.blockedOn===null);)H1(s),s.blockedOn===null&&Fa.shift()}var ol=Ca.ReactCurrentBatchConfig,ff=!0;function sR(e,t,s,r){var a=Lt,o=ol.transition;ol.transition=null;try{Lt=1,dv(e,t,s,r)}finally{Lt=a,ol.transition=o}}function rR(e,t,s,r){var a=Lt,o=ol.transition;ol.transition=null;try{Lt=4,dv(e,t,s,r)}finally{Lt=a,ol.transition=o}}function dv(e,t,s,r){if(ff){var a=fg(e,t,s,r);if(a===null)zh(e,t,r,mf,s),eb(e,r);else if(eR(a,e,t,s,r))r.stopPropagation();else if(eb(e,r),t&4&&-1<ZM.indexOf(e)){for(;a!==null;){var o=Td(a);if(o!==null&&V1(o),o=fg(e,t,s,r),o===null&&zh(e,t,r,mf,s),o===a)break;a=o}a!==null&&r.stopPropagation()}else zh(e,t,r,null,s)}}var mf=null;function fg(e,t,s,r){if(mf=null,e=ov(r),e=Bo(e),e!==null)if(t=gi(e),t===null)e=null;else if(s=t.tag,s===13){if(e=M1(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mf=e,null}function q1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HM()){case iv:return 1;case I1:return 4;case df:case qM:return 16;case L1:return 536870912;default:return 16}default:return 16}}var Ha=null,uv=null,Fu=null;function W1(){if(Fu)return Fu;var e,t=uv,s=t.length,r,a="value"in Ha?Ha.value:Ha.textContent,o=a.length;for(e=0;e<s&&t[e]===a[e];e++);var i=s-e;for(r=1;r<=i&&t[s-r]===a[o-r];r++);return Fu=a.slice(e,1<r?1-r:void 0)}function Vu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ou(){return!0}function sb(){return!1}function Hr(e){function t(s,r,a,o,i){this._reactName=s,this._targetInst=a,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ou:sb,this.isPropagationStopped=sb,this}return fs(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ou)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ou)},persist:function(){},isPersistent:ou}),t}var Il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fv=Hr(Il),kd=fs({},Il,{view:0,detail:0}),nR=Hr(kd),Mh,Rh,sc,mm=fs({},kd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sc&&(sc&&e.type==="mousemove"?(Mh=e.screenX-sc.screenX,Rh=e.screenY-sc.screenY):Rh=Mh=0,sc=e),Mh)},movementY:function(e){return"movementY"in e?e.movementY:Rh}}),rb=Hr(mm),aR=fs({},mm,{dataTransfer:0}),oR=Hr(aR),iR=fs({},kd,{relatedTarget:0}),Oh=Hr(iR),lR=fs({},Il,{animationName:0,elapsedTime:0,pseudoElement:0}),cR=Hr(lR),dR=fs({},Il,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uR=Hr(dR),fR=fs({},Il,{data:0}),nb=Hr(fR),mR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pR[e])?!!t[e]:!1}function mv(){return gR}var xR=fs({},kd,{key:function(e){if(e.key){var t=mR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mv,charCode:function(e){return e.type==="keypress"?Vu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vR=Hr(xR),yR=fs({},mm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ab=Hr(yR),bR=fs({},kd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mv}),wR=Hr(bR),jR=fs({},Il,{propertyName:0,elapsedTime:0,pseudoElement:0}),NR=Hr(jR),_R=fs({},mm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),SR=Hr(_R),CR=[9,13,27,32],hv=xa&&"CompositionEvent"in window,kc=null;xa&&"documentMode"in document&&(kc=document.documentMode);var ER=xa&&"TextEvent"in window&&!kc,G1=xa&&(!hv||kc&&8<kc&&11>=kc),ob=String.fromCharCode(32),ib=!1;function Y1(e,t){switch(e){case"keyup":return CR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zi=!1;function kR(e,t){switch(e){case"compositionend":return K1(t);case"keypress":return t.which!==32?null:(ib=!0,ob);case"textInput":return e=t.data,e===ob&&ib?null:e;default:return null}}function TR(e,t){if(zi)return e==="compositionend"||!hv&&Y1(e,t)?(e=W1(),Fu=uv=Ha=null,zi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return G1&&t.locale!=="ko"?null:t.data;default:return null}}var PR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!PR[e.type]:t==="textarea"}function X1(e,t,s,r){E1(r),t=hf(t,"onChange"),0<t.length&&(s=new fv("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var Tc=null,Yc=null;function AR(e){i_(e,0)}function hm(e){var t=Hi(e);if(b1(t))return e}function MR(e,t){if(e==="change")return t}var Q1=!1;if(xa){var Dh;if(xa){var Ih="oninput"in document;if(!Ih){var cb=document.createElement("div");cb.setAttribute("oninput","return;"),Ih=typeof cb.oninput=="function"}Dh=Ih}else Dh=!1;Q1=Dh&&(!document.documentMode||9<document.documentMode)}function db(){Tc&&(Tc.detachEvent("onpropertychange",J1),Yc=Tc=null)}function J1(e){if(e.propertyName==="value"&&hm(Yc)){var t=[];X1(t,Yc,e,ov(e)),A1(AR,t)}}function RR(e,t,s){e==="focusin"?(db(),Tc=t,Yc=s,Tc.attachEvent("onpropertychange",J1)):e==="focusout"&&db()}function OR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hm(Yc)}function DR(e,t){if(e==="click")return hm(t)}function IR(e,t){if(e==="input"||e==="change")return hm(t)}function LR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jn=typeof Object.is=="function"?Object.is:LR;function Kc(e,t){if(jn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var a=s[r];if(!Yp.call(t,a)||!jn(e[a],t[a]))return!1}return!0}function ub(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fb(e,t){var s=ub(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ub(s)}}function Z1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Z1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function e_(){for(var e=window,t=of();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=of(e.document)}return t}function pv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $R(e){var t=e_(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Z1(s.ownerDocument.documentElement,s)){if(r!==null&&pv(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,o=Math.min(r.start,a);r=r.end===void 0?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=fb(s,o);var i=fb(s,r);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var FR=xa&&"documentMode"in document&&11>=document.documentMode,Bi=null,mg=null,Pc=null,hg=!1;function mb(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;hg||Bi==null||Bi!==of(r)||(r=Bi,"selectionStart"in r&&pv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pc&&Kc(Pc,r)||(Pc=r,r=hf(mg,"onSelect"),0<r.length&&(t=new fv("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=Bi)))}function iu(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Ui={animationend:iu("Animation","AnimationEnd"),animationiteration:iu("Animation","AnimationIteration"),animationstart:iu("Animation","AnimationStart"),transitionend:iu("Transition","TransitionEnd")},Lh={},t_={};xa&&(t_=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);function pm(e){if(Lh[e])return Lh[e];if(!Ui[e])return e;var t=Ui[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in t_)return Lh[e]=t[s];return e}var s_=pm("animationend"),r_=pm("animationiteration"),n_=pm("animationstart"),a_=pm("transitionend"),o_=new Map,hb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yo(e,t){o_.set(e,t),pi(t,[e])}for(var $h=0;$h<hb.length;$h++){var Fh=hb[$h],VR=Fh.toLowerCase(),zR=Fh[0].toUpperCase()+Fh.slice(1);yo(VR,"on"+zR)}yo(s_,"onAnimationEnd");yo(r_,"onAnimationIteration");yo(n_,"onAnimationStart");yo("dblclick","onDoubleClick");yo("focusin","onFocus");yo("focusout","onBlur");yo(a_,"onTransitionEnd");gl("onMouseEnter",["mouseout","mouseover"]);gl("onMouseLeave",["mouseout","mouseover"]);gl("onPointerEnter",["pointerout","pointerover"]);gl("onPointerLeave",["pointerout","pointerover"]);pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BR=new Set("cancel close invalid load scroll toggle".split(" ").concat(bc));function pb(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,VM(r,t,void 0,e),e.currentTarget=null}function i_(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==o&&a.isPropagationStopped())break e;pb(a,l,d),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==o&&a.isPropagationStopped())break e;pb(a,l,d),o=c}}}if(cf)throw e=cg,cf=!1,cg=null,e}function es(e,t){var s=t[yg];s===void 0&&(s=t[yg]=new Set);var r=e+"__bubble";s.has(r)||(l_(t,e,2,!1),s.add(r))}function Vh(e,t,s){var r=0;t&&(r|=4),l_(s,e,r,t)}var lu="_reactListening"+Math.random().toString(36).slice(2);function Xc(e){if(!e[lu]){e[lu]=!0,p1.forEach(function(s){s!=="selectionchange"&&(BR.has(s)||Vh(s,!1,e),Vh(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[lu]||(t[lu]=!0,Vh("selectionchange",!1,t))}}function l_(e,t,s,r){switch(q1(t)){case 1:var a=sR;break;case 4:a=rR;break;default:a=dv}s=a.bind(null,t,s,e),a=void 0,!lg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function zh(e,t,s,r,a){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=Bo(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}A1(function(){var d=o,u=ov(s),m=[];e:{var h=o_.get(e);if(h!==void 0){var p=fv,x=e;switch(e){case"keypress":if(Vu(s)===0)break e;case"keydown":case"keyup":p=vR;break;case"focusin":x="focus",p=Oh;break;case"focusout":x="blur",p=Oh;break;case"beforeblur":case"afterblur":p=Oh;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=rb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=oR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=wR;break;case s_:case r_:case n_:p=cR;break;case a_:p=NR;break;case"scroll":p=nR;break;case"wheel":p=SR;break;case"copy":case"cut":case"paste":p=uR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ab}var g=(t&4)!==0,y=!g&&e==="scroll",b=g?h!==null?h+"Capture":null:h;g=[];for(var v=d,w;v!==null;){w=v;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,b!==null&&(j=Hc(v,b),j!=null&&g.push(Qc(v,j,w)))),y)break;v=v.return}0<g.length&&(h=new p(h,x,null,s,u),m.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&s!==og&&(x=s.relatedTarget||s.fromElement)&&(Bo(x)||x[va]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(x=s.relatedTarget||s.toElement,p=d,x=x?Bo(x):null,x!==null&&(y=gi(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=d),p!==x)){if(g=rb,j="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=ab,j="onPointerLeave",b="onPointerEnter",v="pointer"),y=p==null?h:Hi(p),w=x==null?h:Hi(x),h=new g(j,v+"leave",p,s,u),h.target=y,h.relatedTarget=w,j=null,Bo(u)===d&&(g=new g(b,v+"enter",x,s,u),g.target=w,g.relatedTarget=y,j=g),y=j,p&&x)t:{for(g=p,b=x,v=0,w=g;w;w=Ci(w))v++;for(w=0,j=b;j;j=Ci(j))w++;for(;0<v-w;)g=Ci(g),v--;for(;0<w-v;)b=Ci(b),w--;for(;v--;){if(g===b||b!==null&&g===b.alternate)break t;g=Ci(g),b=Ci(b)}g=null}else g=null;p!==null&&gb(m,h,p,g,!1),x!==null&&y!==null&&gb(m,y,x,g,!0)}}e:{if(h=d?Hi(d):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var N=MR;else if(lb(h))if(Q1)N=IR;else{N=OR;var C=RR}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=DR);if(N&&(N=N(e,d))){X1(m,N,s,u);break e}C&&C(e,h,d),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&tg(h,"number",h.value)}switch(C=d?Hi(d):window,e){case"focusin":(lb(C)||C.contentEditable==="true")&&(Bi=C,mg=d,Pc=null);break;case"focusout":Pc=mg=Bi=null;break;case"mousedown":hg=!0;break;case"contextmenu":case"mouseup":case"dragend":hg=!1,mb(m,s,u);break;case"selectionchange":if(FR)break;case"keydown":case"keyup":mb(m,s,u)}var _;if(hv)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else zi?Y1(e,s)&&(S="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(S="onCompositionStart");S&&(G1&&s.locale!=="ko"&&(zi||S!=="onCompositionStart"?S==="onCompositionEnd"&&zi&&(_=W1()):(Ha=u,uv="value"in Ha?Ha.value:Ha.textContent,zi=!0)),C=hf(d,S),0<C.length&&(S=new nb(S,e,null,s,u),m.push({event:S,listeners:C}),_?S.data=_:(_=K1(s),_!==null&&(S.data=_)))),(_=ER?kR(e,s):TR(e,s))&&(d=hf(d,"onBeforeInput"),0<d.length&&(u=new nb("onBeforeInput","beforeinput",null,s,u),m.push({event:u,listeners:d}),u.data=_))}i_(m,t)})}function Qc(e,t,s){return{instance:e,listener:t,currentTarget:s}}function hf(e,t){for(var s=t+"Capture",r=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Hc(e,s),o!=null&&r.unshift(Qc(e,o,a)),o=Hc(e,t),o!=null&&r.push(Qc(e,o,a))),e=e.return}return r}function Ci(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gb(e,t,s,r,a){for(var o=t._reactName,i=[];s!==null&&s!==r;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,a?(c=Hc(s,o),c!=null&&i.unshift(Qc(s,c,l))):a||(c=Hc(s,o),c!=null&&i.push(Qc(s,c,l)))),s=s.return}i.length!==0&&e.push({event:t,listeners:i})}var UR=/\r\n?/g,HR=/\u0000|\uFFFD/g;function xb(e){return(typeof e=="string"?e:""+e).replace(UR,`
`).replace(HR,"")}function cu(e,t,s){if(t=xb(t),xb(e)!==t&&s)throw Error(he(425))}function pf(){}var pg=null,gg=null;function xg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vg=typeof setTimeout=="function"?setTimeout:void 0,qR=typeof clearTimeout=="function"?clearTimeout:void 0,vb=typeof Promise=="function"?Promise:void 0,WR=typeof queueMicrotask=="function"?queueMicrotask:typeof vb<"u"?function(e){return vb.resolve(null).then(e).catch(GR)}:vg;function GR(e){setTimeout(function(){throw e})}function Bh(e,t){var s=t,r=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(r===0){e.removeChild(a),Gc(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=a}while(s);Gc(t)}function Qa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Ll=Math.random().toString(36).slice(2),Rn="__reactFiber$"+Ll,Jc="__reactProps$"+Ll,va="__reactContainer$"+Ll,yg="__reactEvents$"+Ll,YR="__reactListeners$"+Ll,KR="__reactHandles$"+Ll;function Bo(e){var t=e[Rn];if(t)return t;for(var s=e.parentNode;s;){if(t=s[va]||s[Rn]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=yb(e);e!==null;){if(s=e[Rn])return s;e=yb(e)}return t}e=s,s=e.parentNode}return null}function Td(e){return e=e[Rn]||e[va],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function gm(e){return e[Jc]||null}var bg=[],qi=-1;function bo(e){return{current:e}}function ss(e){0>qi||(e.current=bg[qi],bg[qi]=null,qi--)}function Kt(e,t){qi++,bg[qi]=e.current,e.current=t}var fo={},nr=bo(fo),_r=bo(!1),ei=fo;function xl(e,t){var s=e.type.contextTypes;if(!s)return fo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in s)a[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Sr(e){return e=e.childContextTypes,e!=null}function gf(){ss(_r),ss(nr)}function bb(e,t,s){if(nr.current!==fo)throw Error(he(168));Kt(nr,t),Kt(_r,s)}function c_(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(he(108,RM(e)||"Unknown",a));return fs({},s,r)}function xf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fo,ei=nr.current,Kt(nr,e),Kt(_r,_r.current),!0}function wb(e,t,s){var r=e.stateNode;if(!r)throw Error(he(169));s?(e=c_(e,t,ei),r.__reactInternalMemoizedMergedChildContext=e,ss(_r),ss(nr),Kt(nr,e)):ss(_r),Kt(_r,s)}var la=null,xm=!1,Uh=!1;function d_(e){la===null?la=[e]:la.push(e)}function XR(e){xm=!0,d_(e)}function wo(){if(!Uh&&la!==null){Uh=!0;var e=0,t=Lt;try{var s=la;for(Lt=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}la=null,xm=!1}catch(a){throw la!==null&&(la=la.slice(e+1)),D1(iv,wo),a}finally{Lt=t,Uh=!1}}return null}var Wi=[],Gi=0,vf=null,yf=0,Qr=[],Jr=0,ti=null,ua=1,fa="";function Ro(e,t){Wi[Gi++]=yf,Wi[Gi++]=vf,vf=e,yf=t}function u_(e,t,s){Qr[Jr++]=ua,Qr[Jr++]=fa,Qr[Jr++]=ti,ti=e;var r=ua;e=fa;var a=32-bn(r)-1;r&=~(1<<a),s+=1;var o=32-bn(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,ua=1<<32-bn(t)+a|s<<a|r,fa=o+e}else ua=1<<o|s<<a|r,fa=e}function gv(e){e.return!==null&&(Ro(e,1),u_(e,1,0))}function xv(e){for(;e===vf;)vf=Wi[--Gi],Wi[Gi]=null,yf=Wi[--Gi],Wi[Gi]=null;for(;e===ti;)ti=Qr[--Jr],Qr[Jr]=null,fa=Qr[--Jr],Qr[Jr]=null,ua=Qr[--Jr],Qr[Jr]=null}var $r=null,Lr=null,os=!1,xn=null;function f_(e,t){var s=Zr(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function jb(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$r=e,Lr=Qa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$r=e,Lr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=ti!==null?{id:ua,overflow:fa}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Zr(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,$r=e,Lr=null,!0):!1;default:return!1}}function wg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function jg(e){if(os){var t=Lr;if(t){var s=t;if(!jb(e,t)){if(wg(e))throw Error(he(418));t=Qa(s.nextSibling);var r=$r;t&&jb(e,t)?f_(r,s):(e.flags=e.flags&-4097|2,os=!1,$r=e)}}else{if(wg(e))throw Error(he(418));e.flags=e.flags&-4097|2,os=!1,$r=e}}}function Nb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$r=e}function du(e){if(e!==$r)return!1;if(!os)return Nb(e),os=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xg(e.type,e.memoizedProps)),t&&(t=Lr)){if(wg(e))throw m_(),Error(he(418));for(;t;)f_(e,t),t=Qa(t.nextSibling)}if(Nb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Lr=Qa(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Lr=null}}else Lr=$r?Qa(e.stateNode.nextSibling):null;return!0}function m_(){for(var e=Lr;e;)e=Qa(e.nextSibling)}function vl(){Lr=$r=null,os=!1}function vv(e){xn===null?xn=[e]:xn.push(e)}var QR=Ca.ReactCurrentBatchConfig;function rc(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(he(309));var r=s.stateNode}if(!r)throw Error(he(147,e));var a=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(he(284));if(!s._owner)throw Error(he(290,e))}return e}function uu(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _b(e){var t=e._init;return t(e._payload)}function h_(e){function t(b,v){if(e){var w=b.deletions;w===null?(b.deletions=[v],b.flags|=16):w.push(v)}}function s(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function r(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function a(b,v){return b=to(b,v),b.index=0,b.sibling=null,b}function o(b,v,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<v?(b.flags|=2,v):w):(b.flags|=2,v)):(b.flags|=1048576,v)}function i(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,v,w,j){return v===null||v.tag!==6?(v=Xh(w,b.mode,j),v.return=b,v):(v=a(v,w),v.return=b,v)}function c(b,v,w,j){var N=w.type;return N===Vi?u(b,v,w.props.children,j,w.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ia&&_b(N)===v.type)?(j=a(v,w.props),j.ref=rc(b,v,w),j.return=b,j):(j=Gu(w.type,w.key,w.props,null,b.mode,j),j.ref=rc(b,v,w),j.return=b,j)}function d(b,v,w,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Qh(w,b.mode,j),v.return=b,v):(v=a(v,w.children||[]),v.return=b,v)}function u(b,v,w,j,N){return v===null||v.tag!==7?(v=Yo(w,b.mode,j,N),v.return=b,v):(v=a(v,w),v.return=b,v)}function m(b,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Xh(""+v,b.mode,w),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case eu:return w=Gu(v.type,v.key,v.props,null,b.mode,w),w.ref=rc(b,null,v),w.return=b,w;case Fi:return v=Qh(v,b.mode,w),v.return=b,v;case Ia:var j=v._init;return m(b,j(v._payload),w)}if(vc(v)||Jl(v))return v=Yo(v,b.mode,w,null),v.return=b,v;uu(b,v)}return null}function h(b,v,w,j){var N=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(b,v,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case eu:return w.key===N?c(b,v,w,j):null;case Fi:return w.key===N?d(b,v,w,j):null;case Ia:return N=w._init,h(b,v,N(w._payload),j)}if(vc(w)||Jl(w))return N!==null?null:u(b,v,w,j,null);uu(b,w)}return null}function p(b,v,w,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(w)||null,l(v,b,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case eu:return b=b.get(j.key===null?w:j.key)||null,c(v,b,j,N);case Fi:return b=b.get(j.key===null?w:j.key)||null,d(v,b,j,N);case Ia:var C=j._init;return p(b,v,w,C(j._payload),N)}if(vc(j)||Jl(j))return b=b.get(w)||null,u(v,b,j,N,null);uu(v,j)}return null}function x(b,v,w,j){for(var N=null,C=null,_=v,S=v=0,O=null;_!==null&&S<w.length;S++){_.index>S?(O=_,_=null):O=_.sibling;var D=h(b,_,w[S],j);if(D===null){_===null&&(_=O);break}e&&_&&D.alternate===null&&t(b,_),v=o(D,v,S),C===null?N=D:C.sibling=D,C=D,_=O}if(S===w.length)return s(b,_),os&&Ro(b,S),N;if(_===null){for(;S<w.length;S++)_=m(b,w[S],j),_!==null&&(v=o(_,v,S),C===null?N=_:C.sibling=_,C=_);return os&&Ro(b,S),N}for(_=r(b,_);S<w.length;S++)O=p(_,b,S,w[S],j),O!==null&&(e&&O.alternate!==null&&_.delete(O.key===null?S:O.key),v=o(O,v,S),C===null?N=O:C.sibling=O,C=O);return e&&_.forEach(function(z){return t(b,z)}),os&&Ro(b,S),N}function g(b,v,w,j){var N=Jl(w);if(typeof N!="function")throw Error(he(150));if(w=N.call(w),w==null)throw Error(he(151));for(var C=N=null,_=v,S=v=0,O=null,D=w.next();_!==null&&!D.done;S++,D=w.next()){_.index>S?(O=_,_=null):O=_.sibling;var z=h(b,_,D.value,j);if(z===null){_===null&&(_=O);break}e&&_&&z.alternate===null&&t(b,_),v=o(z,v,S),C===null?N=z:C.sibling=z,C=z,_=O}if(D.done)return s(b,_),os&&Ro(b,S),N;if(_===null){for(;!D.done;S++,D=w.next())D=m(b,D.value,j),D!==null&&(v=o(D,v,S),C===null?N=D:C.sibling=D,C=D);return os&&Ro(b,S),N}for(_=r(b,_);!D.done;S++,D=w.next())D=p(_,b,S,D.value,j),D!==null&&(e&&D.alternate!==null&&_.delete(D.key===null?S:D.key),v=o(D,v,S),C===null?N=D:C.sibling=D,C=D);return e&&_.forEach(function(M){return t(b,M)}),os&&Ro(b,S),N}function y(b,v,w,j){if(typeof w=="object"&&w!==null&&w.type===Vi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case eu:e:{for(var N=w.key,C=v;C!==null;){if(C.key===N){if(N=w.type,N===Vi){if(C.tag===7){s(b,C.sibling),v=a(C,w.props.children),v.return=b,b=v;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ia&&_b(N)===C.type){s(b,C.sibling),v=a(C,w.props),v.ref=rc(b,C,w),v.return=b,b=v;break e}s(b,C);break}else t(b,C);C=C.sibling}w.type===Vi?(v=Yo(w.props.children,b.mode,j,w.key),v.return=b,b=v):(j=Gu(w.type,w.key,w.props,null,b.mode,j),j.ref=rc(b,v,w),j.return=b,b=j)}return i(b);case Fi:e:{for(C=w.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){s(b,v.sibling),v=a(v,w.children||[]),v.return=b,b=v;break e}else{s(b,v);break}else t(b,v);v=v.sibling}v=Qh(w,b.mode,j),v.return=b,b=v}return i(b);case Ia:return C=w._init,y(b,v,C(w._payload),j)}if(vc(w))return x(b,v,w,j);if(Jl(w))return g(b,v,w,j);uu(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(s(b,v.sibling),v=a(v,w),v.return=b,b=v):(s(b,v),v=Xh(w,b.mode,j),v.return=b,b=v),i(b)):s(b,v)}return y}var yl=h_(!0),p_=h_(!1),bf=bo(null),wf=null,Yi=null,yv=null;function bv(){yv=Yi=wf=null}function wv(e){var t=bf.current;ss(bf),e._currentValue=t}function Ng(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function il(e,t){wf=e,yv=Yi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nr=!0),e.firstContext=null)}function an(e){var t=e._currentValue;if(yv!==e)if(e={context:e,memoizedValue:t,next:null},Yi===null){if(wf===null)throw Error(he(308));Yi=e,wf.dependencies={lanes:0,firstContext:e}}else Yi=Yi.next=e;return t}var Uo=null;function jv(e){Uo===null?Uo=[e]:Uo.push(e)}function g_(e,t,s,r){var a=t.interleaved;return a===null?(s.next=s,jv(t)):(s.next=a.next,a.next=s),t.interleaved=s,ya(e,r)}function ya(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var La=!1;function Nv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function x_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ha(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ja(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,yt&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,ya(e,s)}return a=r.interleaved,a===null?(t.next=t,jv(r)):(t.next=a.next,a.next=t),r.interleaved=t,ya(e,s)}function zu(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,lv(e,s)}}function Sb(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var a=null,o=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};o===null?a=o=i:o=o.next=i,s=s.next}while(s!==null);o===null?a=o=t:o=o.next=t}else a=o=t;s={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function jf(e,t,s,r){var a=e.updateQueue;La=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?o=d:i.next=d,i=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==i&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(o!==null){var m=a.baseState;i=0,u=d=c=null,l=o;do{var h=l.lane,p=l.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(h=t,p=s,g.tag){case 1:if(x=g.payload,typeof x=="function"){m=x.call(p,m,h);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,h=typeof x=="function"?x.call(p,m,h):x,h==null)break e;m=fs({},m,h);break e;case 2:La=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=m):u=u.next=p,i|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(1);if(u===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);ri|=i,e.lanes=i,e.memoizedState=m}}function Cb(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=s,typeof a!="function")throw Error(he(191,a));a.call(r)}}}var Pd={},Bn=bo(Pd),Zc=bo(Pd),ed=bo(Pd);function Ho(e){if(e===Pd)throw Error(he(174));return e}function _v(e,t){switch(Kt(ed,t),Kt(Zc,e),Kt(Bn,Pd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rg(t,e)}ss(Bn),Kt(Bn,t)}function bl(){ss(Bn),ss(Zc),ss(ed)}function v_(e){Ho(ed.current);var t=Ho(Bn.current),s=rg(t,e.type);t!==s&&(Kt(Zc,e),Kt(Bn,s))}function Sv(e){Zc.current===e&&(ss(Bn),ss(Zc))}var ls=bo(0);function Nf(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hh=[];function Cv(){for(var e=0;e<Hh.length;e++)Hh[e]._workInProgressVersionPrimary=null;Hh.length=0}var Bu=Ca.ReactCurrentDispatcher,qh=Ca.ReactCurrentBatchConfig,si=0,us=null,Rs=null,$s=null,_f=!1,Ac=!1,td=0,JR=0;function Qs(){throw Error(he(321))}function Ev(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!jn(e[s],t[s]))return!1;return!0}function kv(e,t,s,r,a,o){if(si=o,us=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bu.current=e===null||e.memoizedState===null?sO:rO,e=s(r,a),Ac){o=0;do{if(Ac=!1,td=0,25<=o)throw Error(he(301));o+=1,$s=Rs=null,t.updateQueue=null,Bu.current=nO,e=s(r,a)}while(Ac)}if(Bu.current=Sf,t=Rs!==null&&Rs.next!==null,si=0,$s=Rs=us=null,_f=!1,t)throw Error(he(300));return e}function Tv(){var e=td!==0;return td=0,e}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $s===null?us.memoizedState=$s=e:$s=$s.next=e,$s}function on(){if(Rs===null){var e=us.alternate;e=e!==null?e.memoizedState:null}else e=Rs.next;var t=$s===null?us.memoizedState:$s.next;if(t!==null)$s=t,Rs=e;else{if(e===null)throw Error(he(310));Rs=e,e={memoizedState:Rs.memoizedState,baseState:Rs.baseState,baseQueue:Rs.baseQueue,queue:Rs.queue,next:null},$s===null?us.memoizedState=$s=e:$s=$s.next=e}return $s}function sd(e,t){return typeof t=="function"?t(e):t}function Wh(e){var t=on(),s=t.queue;if(s===null)throw Error(he(311));s.lastRenderedReducer=e;var r=Rs,a=r.baseQueue,o=s.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}r.baseQueue=a=o,s.pending=null}if(a!==null){o=a.next,r=r.baseState;var l=i=null,c=null,d=o;do{var u=d.lane;if((si&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,i=r):c=c.next=m,us.lanes|=u,ri|=u}d=d.next}while(d!==null&&d!==o);c===null?i=r:c.next=l,jn(r,t.memoizedState)||(Nr=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,s.lastRenderedState=r}if(e=s.interleaved,e!==null){a=e;do o=a.lane,us.lanes|=o,ri|=o,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Gh(e){var t=on(),s=t.queue;if(s===null)throw Error(he(311));s.lastRenderedReducer=e;var r=s.dispatch,a=s.pending,o=t.memoizedState;if(a!==null){s.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);jn(o,t.memoizedState)||(Nr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),s.lastRenderedState=o}return[o,r]}function y_(){}function b_(e,t){var s=us,r=on(),a=t(),o=!jn(r.memoizedState,a);if(o&&(r.memoizedState=a,Nr=!0),r=r.queue,Pv(N_.bind(null,s,r,e),[e]),r.getSnapshot!==t||o||$s!==null&&$s.memoizedState.tag&1){if(s.flags|=2048,rd(9,j_.bind(null,s,r,a,t),void 0,null),Fs===null)throw Error(he(349));si&30||w_(s,t,a)}return a}function w_(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=us.updateQueue,t===null?(t={lastEffect:null,stores:null},us.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function j_(e,t,s,r){t.value=s,t.getSnapshot=r,__(t)&&S_(e)}function N_(e,t,s){return s(function(){__(t)&&S_(e)})}function __(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!jn(e,s)}catch{return!0}}function S_(e){var t=ya(e,1);t!==null&&wn(t,e,1,-1)}function Eb(e){var t=An();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sd,lastRenderedState:e},t.queue=e,e=e.dispatch=tO.bind(null,us,e),[t.memoizedState,e]}function rd(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=us.updateQueue,t===null?(t={lastEffect:null,stores:null},us.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function C_(){return on().memoizedState}function Uu(e,t,s,r){var a=An();us.flags|=e,a.memoizedState=rd(1|t,s,void 0,r===void 0?null:r)}function vm(e,t,s,r){var a=on();r=r===void 0?null:r;var o=void 0;if(Rs!==null){var i=Rs.memoizedState;if(o=i.destroy,r!==null&&Ev(r,i.deps)){a.memoizedState=rd(t,s,o,r);return}}us.flags|=e,a.memoizedState=rd(1|t,s,o,r)}function kb(e,t){return Uu(8390656,8,e,t)}function Pv(e,t){return vm(2048,8,e,t)}function E_(e,t){return vm(4,2,e,t)}function k_(e,t){return vm(4,4,e,t)}function T_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function P_(e,t,s){return s=s!=null?s.concat([e]):null,vm(4,4,T_.bind(null,t,e),s)}function Av(){}function A_(e,t){var s=on();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&Ev(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function M_(e,t){var s=on();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&Ev(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function R_(e,t,s){return si&21?(jn(s,t)||(s=$1(),us.lanes|=s,ri|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nr=!0),e.memoizedState=s)}function ZR(e,t){var s=Lt;Lt=s!==0&&4>s?s:4,e(!0);var r=qh.transition;qh.transition={};try{e(!1),t()}finally{Lt=s,qh.transition=r}}function O_(){return on().memoizedState}function eO(e,t,s){var r=eo(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},D_(e))I_(t,s);else if(s=g_(e,t,s,r),s!==null){var a=ur();wn(s,e,r,a),L_(s,t,r)}}function tO(e,t,s){var r=eo(e),a={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(D_(e))I_(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,s);if(a.hasEagerState=!0,a.eagerState=l,jn(l,i)){var c=t.interleaved;c===null?(a.next=a,jv(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}s=g_(e,t,a,r),s!==null&&(a=ur(),wn(s,e,r,a),L_(s,t,r))}}function D_(e){var t=e.alternate;return e===us||t!==null&&t===us}function I_(e,t){Ac=_f=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function L_(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,lv(e,s)}}var Sf={readContext:an,useCallback:Qs,useContext:Qs,useEffect:Qs,useImperativeHandle:Qs,useInsertionEffect:Qs,useLayoutEffect:Qs,useMemo:Qs,useReducer:Qs,useRef:Qs,useState:Qs,useDebugValue:Qs,useDeferredValue:Qs,useTransition:Qs,useMutableSource:Qs,useSyncExternalStore:Qs,useId:Qs,unstable_isNewReconciler:!1},sO={readContext:an,useCallback:function(e,t){return An().memoizedState=[e,t===void 0?null:t],e},useContext:an,useEffect:kb,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Uu(4194308,4,T_.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Uu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uu(4,2,e,t)},useMemo:function(e,t){var s=An();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=An();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eO.bind(null,us,e),[r.memoizedState,e]},useRef:function(e){var t=An();return e={current:e},t.memoizedState=e},useState:Eb,useDebugValue:Av,useDeferredValue:function(e){return An().memoizedState=e},useTransition:function(){var e=Eb(!1),t=e[0];return e=ZR.bind(null,e[1]),An().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=us,a=An();if(os){if(s===void 0)throw Error(he(407));s=s()}else{if(s=t(),Fs===null)throw Error(he(349));si&30||w_(r,t,s)}a.memoizedState=s;var o={value:s,getSnapshot:t};return a.queue=o,kb(N_.bind(null,r,o,e),[e]),r.flags|=2048,rd(9,j_.bind(null,r,o,s,t),void 0,null),s},useId:function(){var e=An(),t=Fs.identifierPrefix;if(os){var s=fa,r=ua;s=(r&~(1<<32-bn(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=td++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=JR++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rO={readContext:an,useCallback:A_,useContext:an,useEffect:Pv,useImperativeHandle:P_,useInsertionEffect:E_,useLayoutEffect:k_,useMemo:M_,useReducer:Wh,useRef:C_,useState:function(){return Wh(sd)},useDebugValue:Av,useDeferredValue:function(e){var t=on();return R_(t,Rs.memoizedState,e)},useTransition:function(){var e=Wh(sd)[0],t=on().memoizedState;return[e,t]},useMutableSource:y_,useSyncExternalStore:b_,useId:O_,unstable_isNewReconciler:!1},nO={readContext:an,useCallback:A_,useContext:an,useEffect:Pv,useImperativeHandle:P_,useInsertionEffect:E_,useLayoutEffect:k_,useMemo:M_,useReducer:Gh,useRef:C_,useState:function(){return Gh(sd)},useDebugValue:Av,useDeferredValue:function(e){var t=on();return Rs===null?t.memoizedState=e:R_(t,Rs.memoizedState,e)},useTransition:function(){var e=Gh(sd)[0],t=on().memoizedState;return[e,t]},useMutableSource:y_,useSyncExternalStore:b_,useId:O_,unstable_isNewReconciler:!1};function mn(e,t){if(e&&e.defaultProps){t=fs({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function _g(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:fs({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var ym={isMounted:function(e){return(e=e._reactInternals)?gi(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=ur(),a=eo(e),o=ha(r,a);o.payload=t,s!=null&&(o.callback=s),t=Ja(e,o,a),t!==null&&(wn(t,e,a,r),zu(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=ur(),a=eo(e),o=ha(r,a);o.tag=1,o.payload=t,s!=null&&(o.callback=s),t=Ja(e,o,a),t!==null&&(wn(t,e,a,r),zu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ur(),r=eo(e),a=ha(s,r);a.tag=2,t!=null&&(a.callback=t),t=Ja(e,a,r),t!==null&&(wn(t,e,r,s),zu(t,e,r))}};function Tb(e,t,s,r,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Kc(s,r)||!Kc(a,o):!0}function $_(e,t,s){var r=!1,a=fo,o=t.contextType;return typeof o=="object"&&o!==null?o=an(o):(a=Sr(t)?ei:nr.current,r=t.contextTypes,o=(r=r!=null)?xl(e,a):fo),t=new t(s,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ym,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Pb(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&ym.enqueueReplaceState(t,t.state,null)}function Sg(e,t,s,r){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Nv(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=an(o):(o=Sr(t)?ei:nr.current,a.context=xl(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(_g(e,t,o,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ym.enqueueReplaceState(a,a.state,null),jf(e,s,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function wl(e,t){try{var s="",r=t;do s+=MM(r),r=r.return;while(r);var a=s}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function Yh(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Cg(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var aO=typeof WeakMap=="function"?WeakMap:Map;function F_(e,t,s){s=ha(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){Ef||(Ef=!0,Ig=r),Cg(e,t)},s}function V_(e,t,s){s=ha(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;s.payload=function(){return r(a)},s.callback=function(){Cg(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(s.callback=function(){Cg(e,t),typeof r!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),s}function Ab(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new aO;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(s)||(a.add(s),e=yO.bind(null,e,t,s),t.then(e,e))}function Mb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rb(e,t,s,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=ha(-1,1),t.tag=2,Ja(s,t,1))),s.lanes|=1),e)}var oO=Ca.ReactCurrentOwner,Nr=!1;function cr(e,t,s,r){t.child=e===null?p_(t,null,s,r):yl(t,e.child,s,r)}function Ob(e,t,s,r,a){s=s.render;var o=t.ref;return il(t,a),r=kv(e,t,s,r,o,a),s=Tv(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ba(e,t,a)):(os&&s&&gv(t),t.flags|=1,cr(e,t,r,a),t.child)}function Db(e,t,s,r,a){if(e===null){var o=s.type;return typeof o=="function"&&!Fv(o)&&o.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=o,z_(e,t,o,r,a)):(e=Gu(s.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(s=s.compare,s=s!==null?s:Kc,s(i,r)&&e.ref===t.ref)return ba(e,t,a)}return t.flags|=1,e=to(o,r),e.ref=t.ref,e.return=t,t.child=e}function z_(e,t,s,r,a){if(e!==null){var o=e.memoizedProps;if(Kc(o,r)&&e.ref===t.ref)if(Nr=!1,t.pendingProps=r=o,(e.lanes&a)!==0)e.flags&131072&&(Nr=!0);else return t.lanes=e.lanes,ba(e,t,a)}return Eg(e,t,s,r,a)}function B_(e,t,s){var r=t.pendingProps,a=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kt(Xi,Rr),Rr|=s;else{if(!(s&1073741824))return e=o!==null?o.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Kt(Xi,Rr),Rr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:s,Kt(Xi,Rr),Rr|=r}else o!==null?(r=o.baseLanes|s,t.memoizedState=null):r=s,Kt(Xi,Rr),Rr|=r;return cr(e,t,a,s),t.child}function U_(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Eg(e,t,s,r,a){var o=Sr(s)?ei:nr.current;return o=xl(t,o),il(t,a),s=kv(e,t,s,r,o,a),r=Tv(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ba(e,t,a)):(os&&r&&gv(t),t.flags|=1,cr(e,t,s,a),t.child)}function Ib(e,t,s,r,a){if(Sr(s)){var o=!0;xf(t)}else o=!1;if(il(t,a),t.stateNode===null)Hu(e,t),$_(t,s,r),Sg(t,s,r,a),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,d=s.contextType;typeof d=="object"&&d!==null?d=an(d):(d=Sr(s)?ei:nr.current,d=xl(t,d));var u=s.getDerivedStateFromProps,m=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Pb(t,i,r,d),La=!1;var h=t.memoizedState;i.state=h,jf(t,r,i,a),c=t.memoizedState,l!==r||h!==c||_r.current||La?(typeof u=="function"&&(_g(t,s,u,r),c=t.memoizedState),(l=La||Tb(t,s,l,r,h,c,d))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=d,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,x_(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:mn(t.type,l),i.props=d,m=t.pendingProps,h=i.context,c=s.contextType,typeof c=="object"&&c!==null?c=an(c):(c=Sr(s)?ei:nr.current,c=xl(t,c));var p=s.getDerivedStateFromProps;(u=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==m||h!==c)&&Pb(t,i,r,c),La=!1,h=t.memoizedState,i.state=h,jf(t,r,i,a);var x=t.memoizedState;l!==m||h!==x||_r.current||La?(typeof p=="function"&&(_g(t,s,p,r),x=t.memoizedState),(d=La||Tb(t,s,d,r,h,x,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,x,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,x,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),i.props=r,i.state=x,i.context=c,r=d):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return kg(e,t,s,r,o,a)}function kg(e,t,s,r,a,o){U_(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return a&&wb(t,s,!1),ba(e,t,o);r=t.stateNode,oO.current=t;var l=i&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=yl(t,e.child,null,o),t.child=yl(t,null,l,o)):cr(e,t,l,o),t.memoizedState=r.state,a&&wb(t,s,!0),t.child}function H_(e){var t=e.stateNode;t.pendingContext?bb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bb(e,t.context,!1),_v(e,t.containerInfo)}function Lb(e,t,s,r,a){return vl(),vv(a),t.flags|=256,cr(e,t,s,r),t.child}var Tg={dehydrated:null,treeContext:null,retryLane:0};function Pg(e){return{baseLanes:e,cachePool:null,transitions:null}}function q_(e,t,s){var r=t.pendingProps,a=ls.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Kt(ls,a&1),e===null)return jg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=jm(i,r,0,null),e=Yo(e,r,s,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Pg(s),t.memoizedState=Tg,e):Mv(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return iO(e,t,i,r,l,a,s);if(o){o=r.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=to(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=to(l,o):(o=Yo(o,i,s,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Pg(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~s,t.memoizedState=Tg,r}return o=e.child,e=o.sibling,r=to(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function Mv(e,t){return t=jm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fu(e,t,s,r){return r!==null&&vv(r),yl(t,e.child,null,s),e=Mv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function iO(e,t,s,r,a,o,i){if(s)return t.flags&256?(t.flags&=-257,r=Yh(Error(he(422))),fu(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=jm({mode:"visible",children:r.children},a,0,null),o=Yo(o,a,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&yl(t,e.child,null,i),t.child.memoizedState=Pg(i),t.memoizedState=Tg,o);if(!(t.mode&1))return fu(e,t,i,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(he(419)),r=Yh(o,r,void 0),fu(e,t,i,r)}if(l=(i&e.childLanes)!==0,Nr||l){if(r=Fs,r!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,ya(e,a),wn(r,e,a,-1))}return $v(),r=Yh(Error(he(421))),fu(e,t,i,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=bO.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,Lr=Qa(a.nextSibling),$r=t,os=!0,xn=null,e!==null&&(Qr[Jr++]=ua,Qr[Jr++]=fa,Qr[Jr++]=ti,ua=e.id,fa=e.overflow,ti=t),t=Mv(t,r.children),t.flags|=4096,t)}function $b(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ng(e.return,t,s)}function Kh(e,t,s,r,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=s,o.tailMode=a)}function W_(e,t,s){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(cr(e,t,r.children,s),r=ls.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$b(e,s,t);else if(e.tag===19)$b(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Kt(ls,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&Nf(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),Kh(t,!1,a,s,o);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Nf(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}Kh(t,!0,s,null,o);break;case"together":Kh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ba(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),ri|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,s=to(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=to(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function lO(e,t,s){switch(t.tag){case 3:H_(t),vl();break;case 5:v_(t);break;case 1:Sr(t.type)&&xf(t);break;case 4:_v(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Kt(bf,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Kt(ls,ls.current&1),t.flags|=128,null):s&t.child.childLanes?q_(e,t,s):(Kt(ls,ls.current&1),e=ba(e,t,s),e!==null?e.sibling:null);Kt(ls,ls.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return W_(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Kt(ls,ls.current),r)break;return null;case 22:case 23:return t.lanes=0,B_(e,t,s)}return ba(e,t,s)}var G_,Ag,Y_,K_;G_=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Ag=function(){};Y_=function(e,t,s,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ho(Bn.current);var o=null;switch(s){case"input":a=Zp(e,a),r=Zp(e,r),o=[];break;case"select":a=fs({},a,{value:void 0}),r=fs({},r,{value:void 0}),o=[];break;case"textarea":a=sg(e,a),r=sg(e,r),o=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=pf)}ng(s,r);var i;s=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(i in l)l.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Bc.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var c=r[d];if(l=a!=null?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(s||(s={}),s[i]=c[i])}else s||(o||(o=[]),o.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Bc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&es("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}s&&(o=o||[]).push("style",s);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};K_=function(e,t,s,r){s!==r&&(t.flags|=4)};function nc(e,t){if(!os)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Js(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function cO(e,t,s){var r=t.pendingProps;switch(xv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Js(t),null;case 1:return Sr(t.type)&&gf(),Js(t),null;case 3:return r=t.stateNode,bl(),ss(_r),ss(nr),Cv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(du(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xn!==null&&(Fg(xn),xn=null))),Ag(e,t),Js(t),null;case 5:Sv(t);var a=Ho(ed.current);if(s=t.type,e!==null&&t.stateNode!=null)Y_(e,t,s,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(he(166));return Js(t),null}if(e=Ho(Bn.current),du(t)){r=t.stateNode,s=t.type;var o=t.memoizedProps;switch(r[Rn]=t,r[Jc]=o,e=(t.mode&1)!==0,s){case"dialog":es("cancel",r),es("close",r);break;case"iframe":case"object":case"embed":es("load",r);break;case"video":case"audio":for(a=0;a<bc.length;a++)es(bc[a],r);break;case"source":es("error",r);break;case"img":case"image":case"link":es("error",r),es("load",r);break;case"details":es("toggle",r);break;case"input":Gy(r,o),es("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},es("invalid",r);break;case"textarea":Ky(r,o),es("invalid",r)}ng(s,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&cu(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&cu(r.textContent,l,e),a=["children",""+l]):Bc.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&es("scroll",r)}switch(s){case"input":tu(r),Yy(r,o,!0);break;case"textarea":tu(r),Xy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=pf)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=N1(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(s,{is:r.is}):(e=i.createElement(s),s==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,s),e[Rn]=t,e[Jc]=r,G_(e,t,!1,!1),t.stateNode=e;e:{switch(i=ag(s,r),s){case"dialog":es("cancel",e),es("close",e),a=r;break;case"iframe":case"object":case"embed":es("load",e),a=r;break;case"video":case"audio":for(a=0;a<bc.length;a++)es(bc[a],e);a=r;break;case"source":es("error",e),a=r;break;case"img":case"image":case"link":es("error",e),es("load",e),a=r;break;case"details":es("toggle",e),a=r;break;case"input":Gy(e,r),a=Zp(e,r),es("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=fs({},r,{value:void 0}),es("invalid",e);break;case"textarea":Ky(e,r),a=sg(e,r),es("invalid",e);break;default:a=r}ng(s,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?C1(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&_1(e,c)):o==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Uc(e,c):typeof c=="number"&&Uc(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Bc.hasOwnProperty(o)?c!=null&&o==="onScroll"&&es("scroll",e):c!=null&&sv(e,o,c,i))}switch(s){case"input":tu(e),Yy(e,r,!1);break;case"textarea":tu(e),Xy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+uo(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?rl(e,!!r.multiple,o,!1):r.defaultValue!=null&&rl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=pf)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Js(t),null;case 6:if(e&&t.stateNode!=null)K_(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(he(166));if(s=Ho(ed.current),Ho(Bn.current),du(t)){if(r=t.stateNode,s=t.memoizedProps,r[Rn]=t,(o=r.nodeValue!==s)&&(e=$r,e!==null))switch(e.tag){case 3:cu(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cu(r.nodeValue,s,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[Rn]=t,t.stateNode=r}return Js(t),null;case 13:if(ss(ls),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(os&&Lr!==null&&t.mode&1&&!(t.flags&128))m_(),vl(),t.flags|=98560,o=!1;else if(o=du(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(he(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(he(317));o[Rn]=t}else vl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Js(t),o=!1}else xn!==null&&(Fg(xn),xn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ls.current&1?Is===0&&(Is=3):$v())),t.updateQueue!==null&&(t.flags|=4),Js(t),null);case 4:return bl(),Ag(e,t),e===null&&Xc(t.stateNode.containerInfo),Js(t),null;case 10:return wv(t.type._context),Js(t),null;case 17:return Sr(t.type)&&gf(),Js(t),null;case 19:if(ss(ls),o=t.memoizedState,o===null)return Js(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)nc(o,!1);else{if(Is!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Nf(e),i!==null){for(t.flags|=128,nc(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)o=s,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Kt(ls,ls.current&1|2),t.child}e=e.sibling}o.tail!==null&&ws()>jl&&(t.flags|=128,r=!0,nc(o,!1),t.lanes=4194304)}else{if(!r)if(e=Nf(i),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),nc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!os)return Js(t),null}else 2*ws()-o.renderingStartTime>jl&&s!==1073741824&&(t.flags|=128,r=!0,nc(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(s=o.last,s!==null?s.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ws(),t.sibling=null,s=ls.current,Kt(ls,r?s&1|2:s&1),t):(Js(t),null);case 22:case 23:return Lv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Rr&1073741824&&(Js(t),t.subtreeFlags&6&&(t.flags|=8192)):Js(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function dO(e,t){switch(xv(t),t.tag){case 1:return Sr(t.type)&&gf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bl(),ss(_r),ss(nr),Cv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Sv(t),null;case 13:if(ss(ls),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));vl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ss(ls),null;case 4:return bl(),null;case 10:return wv(t.type._context),null;case 22:case 23:return Lv(),null;case 24:return null;default:return null}}var mu=!1,er=!1,uO=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Ki(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){ms(e,t,r)}else s.current=null}function Mg(e,t,s){try{s()}catch(r){ms(e,t,r)}}var Fb=!1;function fO(e,t){if(pg=ff,e=e_(),pv(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{s.nodeType,o.nodeType}catch{s=null;break e}var i=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var p;m!==s||a!==0&&m.nodeType!==3||(l=i+a),m!==o||r!==0&&m.nodeType!==3||(c=i+r),m.nodeType===3&&(i+=m.nodeValue.length),(p=m.firstChild)!==null;)h=m,m=p;for(;;){if(m===e)break t;if(h===s&&++d===a&&(l=i),h===o&&++u===r&&(c=i),(p=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=p}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(gg={focusedElem:e,selectionRange:s},ff=!1,Le=t;Le!==null;)if(t=Le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Le=e;else for(;Le!==null;){t=Le;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,y=x.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:mn(t.type,g),y);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(j){ms(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Le=e;break}Le=t.return}return x=Fb,Fb=!1,x}function Mc(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&Mg(t,s,o)}a=a.next}while(a!==r)}}function bm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function Rg(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function X_(e){var t=e.alternate;t!==null&&(e.alternate=null,X_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rn],delete t[Jc],delete t[yg],delete t[YR],delete t[KR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Q_(e){return e.tag===5||e.tag===3||e.tag===4}function Vb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Q_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Og(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=pf));else if(r!==4&&(e=e.child,e!==null))for(Og(e,t,s),e=e.sibling;e!==null;)Og(e,t,s),e=e.sibling}function Dg(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Dg(e,t,s),e=e.sibling;e!==null;)Dg(e,t,s),e=e.sibling}var zs=null,pn=!1;function Ta(e,t,s){for(s=s.child;s!==null;)J_(e,t,s),s=s.sibling}function J_(e,t,s){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(fm,s)}catch{}switch(s.tag){case 5:er||Ki(s,t);case 6:var r=zs,a=pn;zs=null,Ta(e,t,s),zs=r,pn=a,zs!==null&&(pn?(e=zs,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):zs.removeChild(s.stateNode));break;case 18:zs!==null&&(pn?(e=zs,s=s.stateNode,e.nodeType===8?Bh(e.parentNode,s):e.nodeType===1&&Bh(e,s),Gc(e)):Bh(zs,s.stateNode));break;case 4:r=zs,a=pn,zs=s.stateNode.containerInfo,pn=!0,Ta(e,t,s),zs=r,pn=a;break;case 0:case 11:case 14:case 15:if(!er&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Mg(s,t,i),a=a.next}while(a!==r)}Ta(e,t,s);break;case 1:if(!er&&(Ki(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(l){ms(s,t,l)}Ta(e,t,s);break;case 21:Ta(e,t,s);break;case 22:s.mode&1?(er=(r=er)||s.memoizedState!==null,Ta(e,t,s),er=r):Ta(e,t,s);break;default:Ta(e,t,s)}}function zb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new uO),t.forEach(function(r){var a=wO.bind(null,e,r);s.has(r)||(s.add(r),r.then(a,a))})}}function dn(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var a=s[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:zs=l.stateNode,pn=!1;break e;case 3:zs=l.stateNode.containerInfo,pn=!0;break e;case 4:zs=l.stateNode.containerInfo,pn=!0;break e}l=l.return}if(zs===null)throw Error(he(160));J_(o,i,a),zs=null,pn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){ms(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Z_(t,e),t=t.sibling}function Z_(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dn(t,e),Pn(e),r&4){try{Mc(3,e,e.return),bm(3,e)}catch(g){ms(e,e.return,g)}try{Mc(5,e,e.return)}catch(g){ms(e,e.return,g)}}break;case 1:dn(t,e),Pn(e),r&512&&s!==null&&Ki(s,s.return);break;case 5:if(dn(t,e),Pn(e),r&512&&s!==null&&Ki(s,s.return),e.flags&32){var a=e.stateNode;try{Uc(a,"")}catch(g){ms(e,e.return,g)}}if(r&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=s!==null?s.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&w1(a,o),ag(l,i);var d=ag(l,o);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];u==="style"?C1(a,m):u==="dangerouslySetInnerHTML"?_1(a,m):u==="children"?Uc(a,m):sv(a,u,m,d)}switch(l){case"input":eg(a,o);break;case"textarea":j1(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?rl(a,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?rl(a,!!o.multiple,o.defaultValue,!0):rl(a,!!o.multiple,o.multiple?[]:"",!1))}a[Jc]=o}catch(g){ms(e,e.return,g)}}break;case 6:if(dn(t,e),Pn(e),r&4){if(e.stateNode===null)throw Error(he(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){ms(e,e.return,g)}}break;case 3:if(dn(t,e),Pn(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Gc(t.containerInfo)}catch(g){ms(e,e.return,g)}break;case 4:dn(t,e),Pn(e);break;case 13:dn(t,e),Pn(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(Dv=ws())),r&4&&zb(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(er=(d=er)||u,dn(t,e),er=d):dn(t,e),Pn(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Le=e,u=e.child;u!==null;){for(m=Le=u;Le!==null;){switch(h=Le,p=h.child,h.tag){case 0:case 11:case 14:case 15:Mc(4,h,h.return);break;case 1:Ki(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,s=h.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){ms(r,s,g)}}break;case 5:Ki(h,h.return);break;case 22:if(h.memoizedState!==null){Ub(m);continue}}p!==null?(p.return=h,Le=p):Ub(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,d?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,c=m.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=S1("display",i))}catch(g){ms(e,e.return,g)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(g){ms(e,e.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:dn(t,e),Pn(e),r&4&&zb(e);break;case 21:break;default:dn(t,e),Pn(e)}}function Pn(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Q_(s)){var r=s;break e}s=s.return}throw Error(he(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Uc(a,""),r.flags&=-33);var o=Vb(e);Dg(e,o,a);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Vb(e);Og(e,l,i);break;default:throw Error(he(161))}}catch(c){ms(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mO(e,t,s){Le=e,eS(e)}function eS(e,t,s){for(var r=(e.mode&1)!==0;Le!==null;){var a=Le,o=a.child;if(a.tag===22&&r){var i=a.memoizedState!==null||mu;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||er;l=mu;var d=er;if(mu=i,(er=c)&&!d)for(Le=a;Le!==null;)i=Le,c=i.child,i.tag===22&&i.memoizedState!==null?Hb(a):c!==null?(c.return=i,Le=c):Hb(a);for(;o!==null;)Le=o,eS(o),o=o.sibling;Le=a,mu=l,er=d}Bb(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,Le=o):Bb(e)}}function Bb(e){for(;Le!==null;){var t=Le;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:er||bm(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!er)if(s===null)r.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:mn(t.type,s.memoizedProps);r.componentDidUpdate(a,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Cb(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Cb(t,i,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Gc(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}er||t.flags&512&&Rg(t)}catch(h){ms(t,t.return,h)}}if(t===e){Le=null;break}if(s=t.sibling,s!==null){s.return=t.return,Le=s;break}Le=t.return}}function Ub(e){for(;Le!==null;){var t=Le;if(t===e){Le=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Le=s;break}Le=t.return}}function Hb(e){for(;Le!==null;){var t=Le;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{bm(4,t)}catch(c){ms(t,s,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){ms(t,a,c)}}var o=t.return;try{Rg(t)}catch(c){ms(t,o,c)}break;case 5:var i=t.return;try{Rg(t)}catch(c){ms(t,i,c)}}}catch(c){ms(t,t.return,c)}if(t===e){Le=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Le=l;break}Le=t.return}}var hO=Math.ceil,Cf=Ca.ReactCurrentDispatcher,Rv=Ca.ReactCurrentOwner,sn=Ca.ReactCurrentBatchConfig,yt=0,Fs=null,ks=null,Hs=0,Rr=0,Xi=bo(0),Is=0,nd=null,ri=0,wm=0,Ov=0,Rc=null,br=null,Dv=0,jl=1/0,oa=null,Ef=!1,Ig=null,Za=null,hu=!1,qa=null,kf=0,Oc=0,Lg=null,qu=-1,Wu=0;function ur(){return yt&6?ws():qu!==-1?qu:qu=ws()}function eo(e){return e.mode&1?yt&2&&Hs!==0?Hs&-Hs:QR.transition!==null?(Wu===0&&(Wu=$1()),Wu):(e=Lt,e!==0||(e=window.event,e=e===void 0?16:q1(e.type)),e):1}function wn(e,t,s,r){if(50<Oc)throw Oc=0,Lg=null,Error(he(185));Ed(e,s,r),(!(yt&2)||e!==Fs)&&(e===Fs&&(!(yt&2)&&(wm|=s),Is===4&&Va(e,Hs)),Cr(e,r),s===1&&yt===0&&!(t.mode&1)&&(jl=ws()+500,xm&&wo()))}function Cr(e,t){var s=e.callbackNode;QM(e,t);var r=uf(e,e===Fs?Hs:0);if(r===0)s!==null&&Zy(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&Zy(s),t===1)e.tag===0?XR(qb.bind(null,e)):d_(qb.bind(null,e)),WR(function(){!(yt&6)&&wo()}),s=null;else{switch(F1(r)){case 1:s=iv;break;case 4:s=I1;break;case 16:s=df;break;case 536870912:s=L1;break;default:s=df}s=lS(s,tS.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function tS(e,t){if(qu=-1,Wu=0,yt&6)throw Error(he(327));var s=e.callbackNode;if(ll()&&e.callbackNode!==s)return null;var r=uf(e,e===Fs?Hs:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Tf(e,r);else{t=r;var a=yt;yt|=2;var o=rS();(Fs!==e||Hs!==t)&&(oa=null,jl=ws()+500,Go(e,t));do try{xO();break}catch(l){sS(e,l)}while(1);bv(),Cf.current=o,yt=a,ks!==null?t=0:(Fs=null,Hs=0,t=Is)}if(t!==0){if(t===2&&(a=dg(e),a!==0&&(r=a,t=$g(e,a))),t===1)throw s=nd,Go(e,0),Va(e,r),Cr(e,ws()),s;if(t===6)Va(e,r);else{if(a=e.current.alternate,!(r&30)&&!pO(a)&&(t=Tf(e,r),t===2&&(o=dg(e),o!==0&&(r=o,t=$g(e,o))),t===1))throw s=nd,Go(e,0),Va(e,r),Cr(e,ws()),s;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(he(345));case 2:Oo(e,br,oa);break;case 3:if(Va(e,r),(r&130023424)===r&&(t=Dv+500-ws(),10<t)){if(uf(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){ur(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=vg(Oo.bind(null,e,br,oa),t);break}Oo(e,br,oa);break;case 4:if(Va(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-bn(r);o=1<<i,i=t[i],i>a&&(a=i),r&=~o}if(r=a,r=ws()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hO(r/1960))-r,10<r){e.timeoutHandle=vg(Oo.bind(null,e,br,oa),r);break}Oo(e,br,oa);break;case 5:Oo(e,br,oa);break;default:throw Error(he(329))}}}return Cr(e,ws()),e.callbackNode===s?tS.bind(null,e):null}function $g(e,t){var s=Rc;return e.current.memoizedState.isDehydrated&&(Go(e,t).flags|=256),e=Tf(e,t),e!==2&&(t=br,br=s,t!==null&&Fg(t)),e}function Fg(e){br===null?br=e:br.push.apply(br,e)}function pO(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var a=s[r],o=a.getSnapshot;a=a.value;try{if(!jn(o(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Va(e,t){for(t&=~Ov,t&=~wm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-bn(t),r=1<<s;e[s]=-1,t&=~r}}function qb(e){if(yt&6)throw Error(he(327));ll();var t=uf(e,0);if(!(t&1))return Cr(e,ws()),null;var s=Tf(e,t);if(e.tag!==0&&s===2){var r=dg(e);r!==0&&(t=r,s=$g(e,r))}if(s===1)throw s=nd,Go(e,0),Va(e,t),Cr(e,ws()),s;if(s===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Oo(e,br,oa),Cr(e,ws()),null}function Iv(e,t){var s=yt;yt|=1;try{return e(t)}finally{yt=s,yt===0&&(jl=ws()+500,xm&&wo())}}function ni(e){qa!==null&&qa.tag===0&&!(yt&6)&&ll();var t=yt;yt|=1;var s=sn.transition,r=Lt;try{if(sn.transition=null,Lt=1,e)return e()}finally{Lt=r,sn.transition=s,yt=t,!(yt&6)&&wo()}}function Lv(){Rr=Xi.current,ss(Xi)}function Go(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,qR(s)),ks!==null)for(s=ks.return;s!==null;){var r=s;switch(xv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gf();break;case 3:bl(),ss(_r),ss(nr),Cv();break;case 5:Sv(r);break;case 4:bl();break;case 13:ss(ls);break;case 19:ss(ls);break;case 10:wv(r.type._context);break;case 22:case 23:Lv()}s=s.return}if(Fs=e,ks=e=to(e.current,null),Hs=Rr=t,Is=0,nd=null,Ov=wm=ri=0,br=Rc=null,Uo!==null){for(t=0;t<Uo.length;t++)if(s=Uo[t],r=s.interleaved,r!==null){s.interleaved=null;var a=r.next,o=s.pending;if(o!==null){var i=o.next;o.next=a,r.next=i}s.pending=r}Uo=null}return e}function sS(e,t){do{var s=ks;try{if(bv(),Bu.current=Sf,_f){for(var r=us.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}_f=!1}if(si=0,$s=Rs=us=null,Ac=!1,td=0,Rv.current=null,s===null||s.return===null){Is=1,nd=t,ks=null;break}e:{var o=e,i=s.return,l=s,c=t;if(t=Hs,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Mb(i);if(p!==null){p.flags&=-257,Rb(p,i,l,o,t),p.mode&1&&Ab(o,d,t),t=p,c=d;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){Ab(o,d,t),$v();break e}c=Error(he(426))}}else if(os&&l.mode&1){var y=Mb(i);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Rb(y,i,l,o,t),vv(wl(c,l));break e}}o=c=wl(c,l),Is!==4&&(Is=2),Rc===null?Rc=[o]:Rc.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var b=F_(o,c,t);Sb(o,b);break e;case 1:l=c;var v=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Za===null||!Za.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=V_(o,l,t);Sb(o,j);break e}}o=o.return}while(o!==null)}aS(s)}catch(N){t=N,ks===s&&s!==null&&(ks=s=s.return);continue}break}while(1)}function rS(){var e=Cf.current;return Cf.current=Sf,e===null?Sf:e}function $v(){(Is===0||Is===3||Is===2)&&(Is=4),Fs===null||!(ri&268435455)&&!(wm&268435455)||Va(Fs,Hs)}function Tf(e,t){var s=yt;yt|=2;var r=rS();(Fs!==e||Hs!==t)&&(oa=null,Go(e,t));do try{gO();break}catch(a){sS(e,a)}while(1);if(bv(),yt=s,Cf.current=r,ks!==null)throw Error(he(261));return Fs=null,Hs=0,Is}function gO(){for(;ks!==null;)nS(ks)}function xO(){for(;ks!==null&&!BM();)nS(ks)}function nS(e){var t=iS(e.alternate,e,Rr);e.memoizedProps=e.pendingProps,t===null?aS(e):ks=t,Rv.current=null}function aS(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=dO(s,t),s!==null){s.flags&=32767,ks=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Is=6,ks=null;return}}else if(s=cO(s,t,Rr),s!==null){ks=s;return}if(t=t.sibling,t!==null){ks=t;return}ks=t=e}while(t!==null);Is===0&&(Is=5)}function Oo(e,t,s){var r=Lt,a=sn.transition;try{sn.transition=null,Lt=1,vO(e,t,s,r)}finally{sn.transition=a,Lt=r}return null}function vO(e,t,s,r){do ll();while(qa!==null);if(yt&6)throw Error(he(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var o=s.lanes|s.childLanes;if(JM(e,o),e===Fs&&(ks=Fs=null,Hs=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||hu||(hu=!0,lS(df,function(){return ll(),null})),o=(s.flags&15990)!==0,s.subtreeFlags&15990||o){o=sn.transition,sn.transition=null;var i=Lt;Lt=1;var l=yt;yt|=4,Rv.current=null,fO(e,s),Z_(s,e),$R(gg),ff=!!pg,gg=pg=null,e.current=s,mO(s),UM(),yt=l,Lt=i,sn.transition=o}else e.current=s;if(hu&&(hu=!1,qa=e,kf=a),o=e.pendingLanes,o===0&&(Za=null),WM(s.stateNode),Cr(e,ws()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],r(a.value,{componentStack:a.stack,digest:a.digest});if(Ef)throw Ef=!1,e=Ig,Ig=null,e;return kf&1&&e.tag!==0&&ll(),o=e.pendingLanes,o&1?e===Lg?Oc++:(Oc=0,Lg=e):Oc=0,wo(),null}function ll(){if(qa!==null){var e=F1(kf),t=sn.transition,s=Lt;try{if(sn.transition=null,Lt=16>e?16:e,qa===null)var r=!1;else{if(e=qa,qa=null,kf=0,yt&6)throw Error(he(331));var a=yt;for(yt|=4,Le=e.current;Le!==null;){var o=Le,i=o.child;if(Le.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Le=d;Le!==null;){var u=Le;switch(u.tag){case 0:case 11:case 15:Mc(8,u,o)}var m=u.child;if(m!==null)m.return=u,Le=m;else for(;Le!==null;){u=Le;var h=u.sibling,p=u.return;if(X_(u),u===d){Le=null;break}if(h!==null){h.return=p,Le=h;break}Le=p}}}var x=o.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Le=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Le=i;else e:for(;Le!==null;){if(o=Le,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Mc(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,Le=b;break e}Le=o.return}}var v=e.current;for(Le=v;Le!==null;){i=Le;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,Le=w;else e:for(i=v;Le!==null;){if(l=Le,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bm(9,l)}}catch(N){ms(l,l.return,N)}if(l===i){Le=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Le=j;break e}Le=l.return}}if(yt=a,wo(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(fm,e)}catch{}r=!0}return r}finally{Lt=s,sn.transition=t}}return!1}function Wb(e,t,s){t=wl(s,t),t=F_(e,t,1),e=Ja(e,t,1),t=ur(),e!==null&&(Ed(e,1,t),Cr(e,t))}function ms(e,t,s){if(e.tag===3)Wb(e,e,s);else for(;t!==null;){if(t.tag===3){Wb(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Za===null||!Za.has(r))){e=wl(s,e),e=V_(t,e,1),t=Ja(t,e,1),e=ur(),t!==null&&(Ed(t,1,e),Cr(t,e));break}}t=t.return}}function yO(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=ur(),e.pingedLanes|=e.suspendedLanes&s,Fs===e&&(Hs&s)===s&&(Is===4||Is===3&&(Hs&130023424)===Hs&&500>ws()-Dv?Go(e,0):Ov|=s),Cr(e,t)}function oS(e,t){t===0&&(e.mode&1?(t=nu,nu<<=1,!(nu&130023424)&&(nu=4194304)):t=1);var s=ur();e=ya(e,t),e!==null&&(Ed(e,t,s),Cr(e,s))}function bO(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),oS(e,s)}function wO(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(t),oS(e,s)}var iS;iS=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||_r.current)Nr=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Nr=!1,lO(e,t,s);Nr=!!(e.flags&131072)}else Nr=!1,os&&t.flags&1048576&&u_(t,yf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hu(e,t),e=t.pendingProps;var a=xl(t,nr.current);il(t,s),a=kv(null,t,r,e,a,s);var o=Tv();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Sr(r)?(o=!0,xf(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Nv(t),a.updater=ym,t.stateNode=a,a._reactInternals=t,Sg(t,r,e,s),t=kg(null,t,r,!0,o,s)):(t.tag=0,os&&o&&gv(t),cr(null,t,a,s),t=t.child),t;case 16:r=t.elementType;e:{switch(Hu(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=NO(r),e=mn(r,e),a){case 0:t=Eg(null,t,r,e,s);break e;case 1:t=Ib(null,t,r,e,s);break e;case 11:t=Ob(null,t,r,e,s);break e;case 14:t=Db(null,t,r,mn(r.type,e),s);break e}throw Error(he(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:mn(r,a),Eg(e,t,r,a,s);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:mn(r,a),Ib(e,t,r,a,s);case 3:e:{if(H_(t),e===null)throw Error(he(387));r=t.pendingProps,o=t.memoizedState,a=o.element,x_(e,t),jf(t,r,null,s);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=wl(Error(he(423)),t),t=Lb(e,t,r,s,a);break e}else if(r!==a){a=wl(Error(he(424)),t),t=Lb(e,t,r,s,a);break e}else for(Lr=Qa(t.stateNode.containerInfo.firstChild),$r=t,os=!0,xn=null,s=p_(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(vl(),r===a){t=ba(e,t,s);break e}cr(e,t,r,s)}t=t.child}return t;case 5:return v_(t),e===null&&jg(t),r=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,xg(r,a)?i=null:o!==null&&xg(r,o)&&(t.flags|=32),U_(e,t),cr(e,t,i,s),t.child;case 6:return e===null&&jg(t),null;case 13:return q_(e,t,s);case 4:return _v(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=yl(t,null,r,s):cr(e,t,r,s),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:mn(r,a),Ob(e,t,r,a,s);case 7:return cr(e,t,t.pendingProps,s),t.child;case 8:return cr(e,t,t.pendingProps.children,s),t.child;case 12:return cr(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Kt(bf,r._currentValue),r._currentValue=i,o!==null)if(jn(o.value,i)){if(o.children===a.children&&!_r.current){t=ba(e,t,s);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=ha(-1,s&-s),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=s,c=o.alternate,c!==null&&(c.lanes|=s),Ng(o.return,s,t),l.lanes|=s;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(he(341));i.lanes|=s,l=i.alternate,l!==null&&(l.lanes|=s),Ng(i,s,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}cr(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,il(t,s),a=an(a),r=r(a),t.flags|=1,cr(e,t,r,s),t.child;case 14:return r=t.type,a=mn(r,t.pendingProps),a=mn(r.type,a),Db(e,t,r,a,s);case 15:return z_(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:mn(r,a),Hu(e,t),t.tag=1,Sr(r)?(e=!0,xf(t)):e=!1,il(t,s),$_(t,r,a),Sg(t,r,a,s),kg(null,t,r,!0,e,s);case 19:return W_(e,t,s);case 22:return B_(e,t,s)}throw Error(he(156,t.tag))};function lS(e,t){return D1(e,t)}function jO(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(e,t,s,r){return new jO(e,t,s,r)}function Fv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function NO(e){if(typeof e=="function")return Fv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===nv)return 11;if(e===av)return 14}return 2}function to(e,t){var s=e.alternate;return s===null?(s=Zr(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Gu(e,t,s,r,a,o){var i=2;if(r=e,typeof e=="function")Fv(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Vi:return Yo(s.children,a,o,t);case rv:i=8,a|=8;break;case Kp:return e=Zr(12,s,t,a|2),e.elementType=Kp,e.lanes=o,e;case Xp:return e=Zr(13,s,t,a),e.elementType=Xp,e.lanes=o,e;case Qp:return e=Zr(19,s,t,a),e.elementType=Qp,e.lanes=o,e;case v1:return jm(s,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case g1:i=10;break e;case x1:i=9;break e;case nv:i=11;break e;case av:i=14;break e;case Ia:i=16,r=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=Zr(i,s,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function Yo(e,t,s,r){return e=Zr(7,e,r,t),e.lanes=s,e}function jm(e,t,s,r){return e=Zr(22,e,r,t),e.elementType=v1,e.lanes=s,e.stateNode={isHidden:!1},e}function Xh(e,t,s){return e=Zr(6,e,null,t),e.lanes=s,e}function Qh(e,t,s){return t=Zr(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _O(e,t,s,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ah(0),this.expirationTimes=Ah(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ah(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Vv(e,t,s,r,a,o,i,l,c){return e=new _O(e,t,s,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Zr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nv(o),e}function SO(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function cS(e){if(!e)return fo;e=e._reactInternals;e:{if(gi(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Sr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var s=e.type;if(Sr(s))return c_(e,s,t)}return t}function dS(e,t,s,r,a,o,i,l,c){return e=Vv(s,r,!0,e,a,o,i,l,c),e.context=cS(null),s=e.current,r=ur(),a=eo(s),o=ha(r,a),o.callback=t??null,Ja(s,o,a),e.current.lanes=a,Ed(e,a,r),Cr(e,r),e}function Nm(e,t,s,r){var a=t.current,o=ur(),i=eo(a);return s=cS(s),t.context===null?t.context=s:t.pendingContext=s,t=ha(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ja(a,t,i),e!==null&&(wn(e,a,i,o),zu(e,a,i)),i}function Pf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function zv(e,t){Gb(e,t),(e=e.alternate)&&Gb(e,t)}function CO(){return null}var uS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bv(e){this._internalRoot=e}_m.prototype.render=Bv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));Nm(e,t,null,null)};_m.prototype.unmount=Bv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ni(function(){Nm(null,e,null,null)}),t[va]=null}};function _m(e){this._internalRoot=e}_m.prototype.unstable_scheduleHydration=function(e){if(e){var t=B1();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Fa.length&&t!==0&&t<Fa[s].priority;s++);Fa.splice(s,0,e),s===0&&H1(e)}};function Uv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yb(){}function EO(e,t,s,r,a){if(a){if(typeof r=="function"){var o=r;r=function(){var d=Pf(i);o.call(d)}}var i=dS(t,r,e,0,null,!1,!1,"",Yb);return e._reactRootContainer=i,e[va]=i.current,Xc(e.nodeType===8?e.parentNode:e),ni(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var d=Pf(c);l.call(d)}}var c=Vv(e,0,!1,null,null,!1,!1,"",Yb);return e._reactRootContainer=c,e[va]=c.current,Xc(e.nodeType===8?e.parentNode:e),ni(function(){Nm(t,c,s,r)}),c}function Cm(e,t,s,r,a){var o=s._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var c=Pf(i);l.call(c)}}Nm(t,i,e,a)}else i=EO(s,t,e,a,r);return Pf(i)}V1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=yc(t.pendingLanes);s!==0&&(lv(t,s|1),Cr(t,ws()),!(yt&6)&&(jl=ws()+500,wo()))}break;case 13:ni(function(){var r=ya(e,1);if(r!==null){var a=ur();wn(r,e,1,a)}}),zv(e,1)}};cv=function(e){if(e.tag===13){var t=ya(e,134217728);if(t!==null){var s=ur();wn(t,e,134217728,s)}zv(e,134217728)}};z1=function(e){if(e.tag===13){var t=eo(e),s=ya(e,t);if(s!==null){var r=ur();wn(s,e,t,r)}zv(e,t)}};B1=function(){return Lt};U1=function(e,t){var s=Lt;try{return Lt=e,t()}finally{Lt=s}};ig=function(e,t,s){switch(t){case"input":if(eg(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var a=gm(r);if(!a)throw Error(he(90));b1(r),eg(r,a)}}}break;case"textarea":j1(e,s);break;case"select":t=s.value,t!=null&&rl(e,!!s.multiple,t,!1)}};T1=Iv;P1=ni;var kO={usingClientEntryPoint:!1,Events:[Td,Hi,gm,E1,k1,Iv]},ac={findFiberByHostInstance:Bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TO={bundleType:ac.bundleType,version:ac.version,rendererPackageName:ac.rendererPackageName,rendererConfig:ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ca.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=R1(e),e===null?null:e.stateNode},findFiberByHostInstance:ac.findFiberByHostInstance||CO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pu.isDisabled&&pu.supportsFiber)try{fm=pu.inject(TO),zn=pu}catch{}}Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kO;Ur.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uv(t))throw Error(he(200));return SO(e,t,null,s)};Ur.createRoot=function(e,t){if(!Uv(e))throw Error(he(299));var s=!1,r="",a=uS;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Vv(e,1,!1,null,null,s,!1,r,a),e[va]=t.current,Xc(e.nodeType===8?e.parentNode:e),new Bv(t)};Ur.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=R1(t),e=e===null?null:e.stateNode,e};Ur.flushSync=function(e){return ni(e)};Ur.hydrate=function(e,t,s){if(!Sm(t))throw Error(he(200));return Cm(null,e,t,!0,s)};Ur.hydrateRoot=function(e,t,s){if(!Uv(e))throw Error(he(405));var r=s!=null&&s.hydratedSources||null,a=!1,o="",i=uS;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),t=dS(t,null,e,1,s??null,a,!1,o,i),e[va]=t.current,Xc(e),r)for(e=0;e<r.length;e++)s=r[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new _m(t)};Ur.render=function(e,t,s){if(!Sm(t))throw Error(he(200));return Cm(null,e,t,!1,s)};Ur.unmountComponentAtNode=function(e){if(!Sm(e))throw Error(he(40));return e._reactRootContainer?(ni(function(){Cm(null,null,e,!1,function(){e._reactRootContainer=null,e[va]=null})}),!0):!1};Ur.unstable_batchedUpdates=Iv;Ur.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!Sm(s))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return Cm(e,t,s,!1,r)};Ur.version="18.3.1-next-f1338f8080-20240426";function fS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fS)}catch(e){console.error(e)}}fS(),f1.exports=Ur;var xi=f1.exports;const PO=hi(xi);var Kb=xi;Gp.createRoot=Kb.createRoot,Gp.hydrateRoot=Kb.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ad(){return ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},ad.apply(this,arguments)}var Wa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wa||(Wa={}));const Xb="popstate";function AO(e){e===void 0&&(e={});function t(r,a){let{pathname:o,search:i,hash:l}=r.location;return Vg("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(r,a){return typeof a=="string"?a:Af(a)}return RO(t,s,null,e)}function _s(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function MO(){return Math.random().toString(36).substr(2,8)}function Qb(e,t){return{usr:e.state,key:e.key,idx:t}}function Vg(e,t,s,r){return s===void 0&&(s=null),ad({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$l(t):t,{state:s,key:t&&t.key||r||MO()})}function Af(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function $l(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function RO(e,t,s,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:o=!1}=r,i=a.history,l=Wa.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(ad({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function m(){l=Wa.Pop;let y=u(),b=y==null?null:y-d;d=y,c&&c({action:l,location:g.location,delta:b})}function h(y,b){l=Wa.Push;let v=Vg(g.location,y,b);s&&s(v,y),d=u()+1;let w=Qb(v,d),j=g.createHref(v);try{i.pushState(w,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(j)}o&&c&&c({action:l,location:g.location,delta:1})}function p(y,b){l=Wa.Replace;let v=Vg(g.location,y,b);s&&s(v,y),d=u();let w=Qb(v,d),j=g.createHref(v);i.replaceState(w,"",j),o&&c&&c({action:l,location:g.location,delta:0})}function x(y){let b=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof y=="string"?y:Af(y);return v=v.replace(/ $/,"%20"),_s(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let g={get action(){return l},get location(){return e(a,i)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Xb,m),c=y,()=>{a.removeEventListener(Xb,m),c=null}},createHref(y){return t(a,y)},createURL:x,encodeLocation(y){let b=x(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(y){return i.go(y)}};return g}var Jb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Jb||(Jb={}));function OO(e,t,s){return s===void 0&&(s="/"),DO(e,t,s,!1)}function DO(e,t,s,r){let a=typeof t=="string"?$l(t):t,o=qv(a.pathname||"/",s);if(o==null)return null;let i=mS(e);IO(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let d=GO(o);l=qO(i[c],d,r)}return l}function mS(e,t,s,r){t===void 0&&(t=[]),s===void 0&&(s=[]),r===void 0&&(r="");let a=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(_s(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=so([r,c.relativePath]),u=s.concat(c);o.children&&o.children.length>0&&(_s(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),mS(o.children,t,u,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:UO(d,o.index),routesMeta:u})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,i);else for(let c of hS(o.path))a(o,i,c)}),t}function hS(e){let t=e.split("/");if(t.length===0)return[];let[s,...r]=t,a=s.endsWith("?"),o=s.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let i=hS(r.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function IO(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:HO(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const LO=/^:[\w-]+$/,$O=3,FO=2,VO=1,zO=10,BO=-2,Zb=e=>e==="*";function UO(e,t){let s=e.split("/"),r=s.length;return s.some(Zb)&&(r+=BO),t&&(r+=FO),s.filter(a=>!Zb(a)).reduce((a,o)=>a+(LO.test(o)?$O:o===""?VO:zO),r)}function HO(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function qO(e,t,s){s===void 0&&(s=!1);let{routesMeta:r}=e,a={},o="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,u=o==="/"?t:t.slice(o.length)||"/",m=ew({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!m&&d&&s&&!r[r.length-1].route.index&&(m=ew({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!m)return null;Object.assign(a,m.params),i.push({params:a,pathname:so([o,m.pathname]),pathnameBase:JO(so([o,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(o=so([o,m.pathnameBase]))}return i}function ew(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=WO(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((d,u,m)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let g=l[m]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[m];return p&&!x?d[h]=void 0:d[h]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:i,pattern:e}}function WO(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),Hv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function GO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function qv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}const YO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KO=e=>YO.test(e);function XO(e,t){t===void 0&&(t="/");let{pathname:s,search:r="",hash:a=""}=typeof e=="string"?$l(e):e,o;if(s)if(KO(s))o=s;else{if(s.includes("//")){let i=s;s=s.replace(/\/\/+/g,"/"),Hv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+s))}s.startsWith("/")?o=tw(s.substring(1),"/"):o=tw(s,t)}else o=t;return{pathname:o,search:ZO(r),hash:eD(a)}}function tw(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function Jh(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function QO(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Wv(e,t){let s=QO(e);return t?s.map((r,a)=>a===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function Gv(e,t,s,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=$l(e):(a=ad({},e),_s(!a.pathname||!a.pathname.includes("?"),Jh("?","pathname","search",a)),_s(!a.pathname||!a.pathname.includes("#"),Jh("#","pathname","hash",a)),_s(!a.search||!a.search.includes("#"),Jh("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=s;else{let m=t.length-1;if(!r&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),m-=1;a.pathname=h.join("/")}l=m>=0?t[m]:"/"}let c=XO(a,l),d=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const so=e=>e.join("/").replace(/\/\/+/g,"/"),JO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ZO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const pS=["post","put","patch","delete"];new Set(pS);const sD=["get",...pS];new Set(sD);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function od(){return od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},od.apply(this,arguments)}const Yv=f.createContext(null),rD=f.createContext(null),jo=f.createContext(null),Em=f.createContext(null),No=f.createContext({outlet:null,matches:[],isDataRoute:!1}),gS=f.createContext(null);function nD(e,t){let{relative:s}=t===void 0?{}:t;Fl()||_s(!1);let{basename:r,navigator:a}=f.useContext(jo),{hash:o,pathname:i,search:l}=vS(e,{relative:s}),c=i;return r!=="/"&&(c=i==="/"?r:so([r,i])),a.createHref({pathname:c,search:l,hash:o})}function Fl(){return f.useContext(Em)!=null}function vi(){return Fl()||_s(!1),f.useContext(Em).location}function xS(e){f.useContext(jo).static||f.useLayoutEffect(e)}function Ea(){let{isDataRoute:e}=f.useContext(No);return e?xD():aD()}function aD(){Fl()||_s(!1);let e=f.useContext(Yv),{basename:t,future:s,navigator:r}=f.useContext(jo),{matches:a}=f.useContext(No),{pathname:o}=vi(),i=JSON.stringify(Wv(a,s.v7_relativeSplatPath)),l=f.useRef(!1);return xS(()=>{l.current=!0}),f.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let m=Gv(d,JSON.parse(i),o,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:so([t,m.pathname])),(u.replace?r.replace:r.push)(m,u.state,u)},[t,r,i,o,e])}function vS(e,t){let{relative:s}=t===void 0?{}:t,{future:r}=f.useContext(jo),{matches:a}=f.useContext(No),{pathname:o}=vi(),i=JSON.stringify(Wv(a,r.v7_relativeSplatPath));return f.useMemo(()=>Gv(e,JSON.parse(i),o,s==="path"),[e,i,o,s])}function oD(e,t){return iD(e,t)}function iD(e,t,s,r){Fl()||_s(!1);let{navigator:a}=f.useContext(jo),{matches:o}=f.useContext(No),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=vi(),u;if(t){var m;let y=typeof t=="string"?$l(t):t;c==="/"||(m=y.pathname)!=null&&m.startsWith(c)||_s(!1),u=y}else u=d;let h=u.pathname||"/",p=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=OO(e,{pathname:p}),g=fD(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:so([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:so([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,s,r);return t&&g?f.createElement(Em.Provider,{value:{location:od({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Wa.Pop}},g):g}function lD(){let e=gD(),t=tD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),s?f.createElement("pre",{style:a},s):null,o)}const cD=f.createElement(lD,null);class dD extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?f.createElement(No.Provider,{value:this.props.routeContext},f.createElement(gS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uD(e){let{routeContext:t,match:s,children:r}=e,a=f.useContext(Yv);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),f.createElement(No.Provider,{value:t},r)}function fD(e,t,s,r){var a;if(t===void 0&&(t=[]),s===void 0&&(s=null),r===void 0&&(r=null),e==null){var o;if(!s)return null;if(s.errors)e=s.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,l=(a=s)==null?void 0:a.errors;if(l!=null){let u=i.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);u>=0||_s(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(s&&r&&r.v7_partialHydration)for(let u=0;u<i.length;u++){let m=i[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:h,errors:p}=s,x=m.route.loader&&h[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||x){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,m,h)=>{let p,x=!1,g=null,y=null;s&&(p=l&&m.route.id?l[m.route.id]:void 0,g=m.route.errorElement||cD,c&&(d<0&&h===0?(vD("route-fallback",!1),x=!0,y=null):d===h&&(x=!0,y=m.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,h+1)),v=()=>{let w;return p?w=g:x?w=y:m.route.Component?w=f.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=u,f.createElement(uD,{match:m,routeContext:{outlet:u,matches:b,isDataRoute:s!=null},children:w})};return s&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?f.createElement(dD,{location:s.location,revalidation:s.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var yS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(yS||{}),Mf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Mf||{});function mD(e){let t=f.useContext(Yv);return t||_s(!1),t}function hD(e){let t=f.useContext(rD);return t||_s(!1),t}function pD(e){let t=f.useContext(No);return t||_s(!1),t}function bS(e){let t=pD(),s=t.matches[t.matches.length-1];return s.route.id||_s(!1),s.route.id}function gD(){var e;let t=f.useContext(gS),s=hD(Mf.UseRouteError),r=bS(Mf.UseRouteError);return t!==void 0?t:(e=s.errors)==null?void 0:e[r]}function xD(){let{router:e}=mD(yS.UseNavigateStable),t=bS(Mf.UseNavigateStable),s=f.useRef(!1);return xS(()=>{s.current=!0}),f.useCallback(function(a,o){o===void 0&&(o={}),s.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,od({fromRouteId:t},o)))},[e,t])}const sw={};function vD(e,t,s){!t&&!sw[e]&&(sw[e]=!0)}function yD(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function ta(e){let{to:t,replace:s,state:r,relative:a}=e;Fl()||_s(!1);let{future:o,static:i}=f.useContext(jo),{matches:l}=f.useContext(No),{pathname:c}=vi(),d=Ea(),u=Gv(t,Wv(l,o.v7_relativeSplatPath),c,a==="path"),m=JSON.stringify(u);return f.useEffect(()=>d(JSON.parse(m),{replace:s,state:r,relative:a}),[d,m,a,s,r]),null}function Kr(e){_s(!1)}function bD(e){let{basename:t="/",children:s=null,location:r,navigationType:a=Wa.Pop,navigator:o,static:i=!1,future:l}=e;Fl()&&_s(!1);let c=t.replace(/^\/*/,"/"),d=f.useMemo(()=>({basename:c,navigator:o,static:i,future:od({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof r=="string"&&(r=$l(r));let{pathname:u="/",search:m="",hash:h="",state:p=null,key:x="default"}=r,g=f.useMemo(()=>{let y=qv(u,c);return y==null?null:{location:{pathname:y,search:m,hash:h,state:p,key:x},navigationType:a}},[c,u,m,h,p,x,a]);return g==null?null:f.createElement(jo.Provider,{value:d},f.createElement(Em.Provider,{children:s,value:g}))}function wD(e){let{children:t,location:s}=e;return oD(zg(t),s)}new Promise(()=>{});function zg(e,t){t===void 0&&(t=[]);let s=[];return f.Children.forEach(e,(r,a)=>{if(!f.isValidElement(r))return;let o=[...t,a];if(r.type===f.Fragment){s.push.apply(s,zg(r.props.children,o));return}r.type!==Kr&&_s(!1),!r.props.index||!r.props.children||_s(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=zg(r.props.children,o)),s.push(i)}),s}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Bg.apply(this,arguments)}function jD(e,t){if(e==null)return{};var s={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(s[a]=e[a]);return s}function ND(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _D(e,t){return e.button===0&&(!t||t==="_self")&&!ND(e)}const SD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],CD="6";try{window.__reactRouterVersion=CD}catch{}const ED="startTransition",rw=um[ED];function kD(e){let{basename:t,children:s,future:r,window:a}=e,o=f.useRef();o.current==null&&(o.current=AO({window:a,v5Compat:!0}));let i=o.current,[l,c]=f.useState({action:i.action,location:i.location}),{v7_startTransition:d}=r||{},u=f.useCallback(m=>{d&&rw?rw(()=>c(m)):c(m)},[c,d]);return f.useLayoutEffect(()=>i.listen(u),[i,u]),f.useEffect(()=>yD(r),[r]),f.createElement(bD,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:i,future:r})}const TD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ai=f.forwardRef(function(t,s){let{onClick:r,relative:a,reloadDocument:o,replace:i,state:l,target:c,to:d,preventScrollReset:u,viewTransition:m}=t,h=jD(t,SD),{basename:p}=f.useContext(jo),x,g=!1;if(typeof d=="string"&&PD.test(d)&&(x=d,TD))try{let w=new URL(window.location.href),j=d.startsWith("//")?new URL(w.protocol+d):new URL(d),N=qv(j.pathname,p);j.origin===w.origin&&N!=null?d=N+j.search+j.hash:g=!0}catch{}let y=nD(d,{relative:a}),b=AD(d,{replace:i,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:m});function v(w){r&&r(w),w.defaultPrevented||b(w)}return f.createElement("a",Bg({},h,{href:x||y,onClick:g||o?r:v,ref:s,target:c}))});var nw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(nw||(nw={}));var aw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(aw||(aw={}));function AD(e,t){let{target:s,replace:r,state:a,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=Ea(),d=vi(),u=vS(e,{relative:i});return f.useCallback(m=>{if(_D(m,s)){m.preventDefault();let h=r!==void 0?r:Af(d)===Af(u);c(e,{replace:h,state:a,preventScrollReset:o,relative:i,viewTransition:l})}},[d,c,u,r,a,s,e,o,i,l])}var wS={exports:{}},MD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",RD=MD,OD=RD;function jS(){}function NS(){}NS.resetWarningCache=jS;var DD=function(){function e(r,a,o,i,l,c){if(c!==OD){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:NS,resetWarningCache:jS};return s.PropTypes=s,s};wS.exports=DD();var ID=wS.exports;const ns=hi(ID);function LD(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var _S=f,$D=LD(_S);function ow(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function FD(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var VD=!!(typeof window<"u"&&window.document&&window.document.createElement);function zD(e,t,s){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof s<"u"&&typeof s!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(a){return a.displayName||a.name||"Component"}return function(o){if(typeof o!="function")throw new Error("Expected WrappedComponent to be a React component.");var i=[],l;function c(){l=e(i.map(function(u){return u.props})),d.canUseDOM?t(l):s&&(l=s(l))}var d=function(u){FD(m,u);function m(){return u.apply(this,arguments)||this}m.peek=function(){return l},m.rewind=function(){if(m.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var x=l;return l=void 0,i=[],x};var h=m.prototype;return h.UNSAFE_componentWillMount=function(){i.push(this),c()},h.componentDidUpdate=function(){c()},h.componentWillUnmount=function(){var x=i.indexOf(this);i.splice(x,1),c()},h.render=function(){return $D.createElement(o,this.props)},m}(_S.PureComponent);return ow(d,"displayName","SideEffect("+r(o)+")"),ow(d,"canUseDOM",VD),d}}var BD=zD;const UD=hi(BD);var HD=typeof Element<"u",qD=typeof Map=="function",WD=typeof Set=="function",GD=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Yu(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var s,r,a;if(Array.isArray(e)){if(s=e.length,s!=t.length)return!1;for(r=s;r--!==0;)if(!Yu(e[r],t[r]))return!1;return!0}var o;if(qD&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!Yu(r.value[1],t.get(r.value[0])))return!1;return!0}if(WD&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(GD&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(s=e.length,s!=t.length)return!1;for(r=s;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),s=a.length,s!==Object.keys(t).length)return!1;for(r=s;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[r]))return!1;if(HD&&e instanceof Element)return!1;for(r=s;r--!==0;)if(!((a[r]==="_owner"||a[r]==="__v"||a[r]==="__o")&&e.$$typeof)&&!Yu(e[a[r]],t[a[r]]))return!1;return!0}return e!==e&&t!==t}var YD=function(t,s){try{return Yu(t,s)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const KD=hi(YD);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var iw=Object.getOwnPropertySymbols,XD=Object.prototype.hasOwnProperty,QD=Object.prototype.propertyIsEnumerable;function JD(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function ZD(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},s=0;s<10;s++)t["_"+String.fromCharCode(s)]=s;var r=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(r.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(o){a[o]=o}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var e4=ZD()?Object.assign:function(e,t){for(var s,r=JD(e),a,o=1;o<arguments.length;o++){s=Object(arguments[o]);for(var i in s)XD.call(s,i)&&(r[i]=s[i]);if(iw){a=iw(s);for(var l=0;l<a.length;l++)QD.call(s,a[l])&&(r[a[l]]=s[a[l]])}}return r};const t4=hi(e4);var Ko={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},ot={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(ot).map(function(e){return ot[e]});var as={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Rf={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},id={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},s4=Object.keys(Rf).reduce(function(e,t){return e[Rf[t]]=t,e},{}),r4=[ot.NOSCRIPT,ot.SCRIPT,ot.STYLE],vn="data-react-helmet",n4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a4=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o4=function(){function e(t,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,s,r){return s&&e(t.prototype,s),r&&e(t,r),t}}(),yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},i4=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},lw=function(e,t){var s={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=e[r]);return s},l4=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},Ug=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return s===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},c4=function(t){var s=cl(t,ot.TITLE),r=cl(t,id.TITLE_TEMPLATE);if(r&&s)return r.replace(/%s/g,function(){return Array.isArray(s)?s.join(""):s});var a=cl(t,id.DEFAULT_TITLE);return s||a||void 0},d4=function(t){return cl(t,id.ON_CHANGE_CLIENT_STATE)||function(){}},Zh=function(t,s){return s.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,a){return yr({},r,a)},{})},u4=function(t,s){return s.filter(function(r){return typeof r[ot.BASE]<"u"}).map(function(r){return r[ot.BASE]}).reverse().reduce(function(r,a){if(!r.length)for(var o=Object.keys(a),i=0;i<o.length;i++){var l=o[i],c=l.toLowerCase();if(t.indexOf(c)!==-1&&a[c])return r.concat(a)}return r},[])},oc=function(t,s,r){var a={};return r.filter(function(o){return Array.isArray(o[t])?!0:(typeof o[t]<"u"&&p4("Helmet: "+t+' should be of type "Array". Instead found type "'+n4(o[t])+'"'),!1)}).map(function(o){return o[t]}).reverse().reduce(function(o,i){var l={};i.filter(function(h){for(var p=void 0,x=Object.keys(h),g=0;g<x.length;g++){var y=x[g],b=y.toLowerCase();s.indexOf(b)!==-1&&!(p===as.REL&&h[p].toLowerCase()==="canonical")&&!(b===as.REL&&h[b].toLowerCase()==="stylesheet")&&(p=b),s.indexOf(y)!==-1&&(y===as.INNER_HTML||y===as.CSS_TEXT||y===as.ITEM_PROP)&&(p=y)}if(!p||!h[p])return!1;var v=h[p].toLowerCase();return a[p]||(a[p]={}),l[p]||(l[p]={}),a[p][v]?!1:(l[p][v]=!0,!0)}).reverse().forEach(function(h){return o.push(h)});for(var c=Object.keys(l),d=0;d<c.length;d++){var u=c[d],m=t4({},a[u],l[u]);a[u]=m}return o},[]).reverse()},cl=function(t,s){for(var r=t.length-1;r>=0;r--){var a=t[r];if(a.hasOwnProperty(s))return a[s]}return null},f4=function(t){return{baseTag:u4([as.HREF,as.TARGET],t),bodyAttributes:Zh(Ko.BODY,t),defer:cl(t,id.DEFER),encode:cl(t,id.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Zh(Ko.HTML,t),linkTags:oc(ot.LINK,[as.REL,as.HREF],t),metaTags:oc(ot.META,[as.NAME,as.CHARSET,as.HTTPEQUIV,as.PROPERTY,as.ITEM_PROP],t),noscriptTags:oc(ot.NOSCRIPT,[as.INNER_HTML],t),onChangeClientState:d4(t),scriptTags:oc(ot.SCRIPT,[as.SRC,as.INNER_HTML],t),styleTags:oc(ot.STYLE,[as.CSS_TEXT],t),title:c4(t),titleAttributes:Zh(Ko.TITLE,t)}},Hg=function(){var e=Date.now();return function(t){var s=Date.now();s-e>16?(e=s,t(s)):setTimeout(function(){Hg(t)},0)}}(),cw=function(t){return clearTimeout(t)},m4=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Hg:global.requestAnimationFrame||Hg,h4=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||cw:global.cancelAnimationFrame||cw,p4=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},ic=null,g4=function(t){ic&&h4(ic),t.defer?ic=m4(function(){dw(t,function(){ic=null})}):(dw(t),ic=null)},dw=function(t,s){var r=t.baseTag,a=t.bodyAttributes,o=t.htmlAttributes,i=t.linkTags,l=t.metaTags,c=t.noscriptTags,d=t.onChangeClientState,u=t.scriptTags,m=t.styleTags,h=t.title,p=t.titleAttributes;qg(ot.BODY,a),qg(ot.HTML,o),x4(h,p);var x={baseTag:Ei(ot.BASE,r),linkTags:Ei(ot.LINK,i),metaTags:Ei(ot.META,l),noscriptTags:Ei(ot.NOSCRIPT,c),scriptTags:Ei(ot.SCRIPT,u),styleTags:Ei(ot.STYLE,m)},g={},y={};Object.keys(x).forEach(function(b){var v=x[b],w=v.newTags,j=v.oldTags;w.length&&(g[b]=w),j.length&&(y[b]=x[b].oldTags)}),s&&s(),d(t,g,y)},SS=function(t){return Array.isArray(t)?t.join(""):t},x4=function(t,s){typeof t<"u"&&document.title!==t&&(document.title=SS(t)),qg(ot.TITLE,s)},qg=function(t,s){var r=document.getElementsByTagName(t)[0];if(r){for(var a=r.getAttribute(vn),o=a?a.split(","):[],i=[].concat(o),l=Object.keys(s),c=0;c<l.length;c++){var d=l[c],u=s[d]||"";r.getAttribute(d)!==u&&r.setAttribute(d,u),o.indexOf(d)===-1&&o.push(d);var m=i.indexOf(d);m!==-1&&i.splice(m,1)}for(var h=i.length-1;h>=0;h--)r.removeAttribute(i[h]);o.length===i.length?r.removeAttribute(vn):r.getAttribute(vn)!==l.join(",")&&r.setAttribute(vn,l.join(","))}},Ei=function(t,s){var r=document.head||document.querySelector(ot.HEAD),a=r.querySelectorAll(t+"["+vn+"]"),o=Array.prototype.slice.call(a),i=[],l=void 0;return s&&s.length&&s.forEach(function(c){var d=document.createElement(t);for(var u in c)if(c.hasOwnProperty(u))if(u===as.INNER_HTML)d.innerHTML=c.innerHTML;else if(u===as.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=c.cssText:d.appendChild(document.createTextNode(c.cssText));else{var m=typeof c[u]>"u"?"":c[u];d.setAttribute(u,m)}d.setAttribute(vn,"true"),o.some(function(h,p){return l=p,d.isEqualNode(h)})?o.splice(l,1):i.push(d)}),o.forEach(function(c){return c.parentNode.removeChild(c)}),i.forEach(function(c){return r.appendChild(c)}),{oldTags:o,newTags:i}},CS=function(t){return Object.keys(t).reduce(function(s,r){var a=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return s?s+" "+a:a},"")},v4=function(t,s,r,a){var o=CS(r),i=SS(s);return o?"<"+t+" "+vn+'="true" '+o+">"+Ug(i,a)+"</"+t+">":"<"+t+" "+vn+'="true">'+Ug(i,a)+"</"+t+">"},y4=function(t,s,r){return s.reduce(function(a,o){var i=Object.keys(o).filter(function(d){return!(d===as.INNER_HTML||d===as.CSS_TEXT)}).reduce(function(d,u){var m=typeof o[u]>"u"?u:u+'="'+Ug(o[u],r)+'"';return d?d+" "+m:m},""),l=o.innerHTML||o.cssText||"",c=r4.indexOf(t)===-1;return a+"<"+t+" "+vn+'="true" '+i+(c?"/>":">"+l+"</"+t+">")},"")},ES=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,a){return r[Rf[a]||a]=t[a],r},s)},b4=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,a){return r[s4[a]||a]=t[a],r},s)},w4=function(t,s,r){var a,o=(a={key:s},a[vn]=!0,a),i=ES(r,o);return[Vt.createElement(ot.TITLE,i,s)]},j4=function(t,s){return s.map(function(r,a){var o,i=(o={key:a},o[vn]=!0,o);return Object.keys(r).forEach(function(l){var c=Rf[l]||l;if(c===as.INNER_HTML||c===as.CSS_TEXT){var d=r.innerHTML||r.cssText;i.dangerouslySetInnerHTML={__html:d}}else i[c]=r[l]}),Vt.createElement(t,i)})},sa=function(t,s,r){switch(t){case ot.TITLE:return{toComponent:function(){return w4(t,s.title,s.titleAttributes)},toString:function(){return v4(t,s.title,s.titleAttributes,r)}};case Ko.BODY:case Ko.HTML:return{toComponent:function(){return ES(s)},toString:function(){return CS(s)}};default:return{toComponent:function(){return j4(t,s)},toString:function(){return y4(t,s,r)}}}},kS=function(t){var s=t.baseTag,r=t.bodyAttributes,a=t.encode,o=t.htmlAttributes,i=t.linkTags,l=t.metaTags,c=t.noscriptTags,d=t.scriptTags,u=t.styleTags,m=t.title,h=m===void 0?"":m,p=t.titleAttributes;return{base:sa(ot.BASE,s,a),bodyAttributes:sa(Ko.BODY,r,a),htmlAttributes:sa(Ko.HTML,o,a),link:sa(ot.LINK,i,a),meta:sa(ot.META,l,a),noscript:sa(ot.NOSCRIPT,c,a),script:sa(ot.SCRIPT,d,a),style:sa(ot.STYLE,u,a),title:sa(ot.TITLE,{title:h,titleAttributes:p},a)}},N4=function(t){var s,r;return r=s=function(a){i4(o,a);function o(){return a4(this,o),l4(this,a.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(l){return!KD(this.props,l)},o.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case ot.SCRIPT:case ot.NOSCRIPT:return{innerHTML:c};case ot.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(l){var c,d=l.child,u=l.arrayTypeChildren,m=l.newChildProps,h=l.nestedChildren;return yr({},u,(c={},c[d.type]=[].concat(u[d.type]||[],[yr({},m,this.mapNestedChildrenToProps(d,h))]),c))},o.prototype.mapObjectTypeChildren=function(l){var c,d,u=l.child,m=l.newProps,h=l.newChildProps,p=l.nestedChildren;switch(u.type){case ot.TITLE:return yr({},m,(c={},c[u.type]=p,c.titleAttributes=yr({},h),c));case ot.BODY:return yr({},m,{bodyAttributes:yr({},h)});case ot.HTML:return yr({},m,{htmlAttributes:yr({},h)})}return yr({},m,(d={},d[u.type]=yr({},h),d))},o.prototype.mapArrayTypeChildrenToProps=function(l,c){var d=yr({},c);return Object.keys(l).forEach(function(u){var m;d=yr({},d,(m={},m[u]=l[u],m))}),d},o.prototype.warnOnInvalidChildren=function(l,c){return!0},o.prototype.mapChildrenToProps=function(l,c){var d=this,u={};return Vt.Children.forEach(l,function(m){if(!(!m||!m.props)){var h=m.props,p=h.children,x=lw(h,["children"]),g=b4(x);switch(d.warnOnInvalidChildren(m,p),m.type){case ot.LINK:case ot.META:case ot.NOSCRIPT:case ot.SCRIPT:case ot.STYLE:u=d.flattenArrayTypeChildren({child:m,arrayTypeChildren:u,newChildProps:g,nestedChildren:p});break;default:c=d.mapObjectTypeChildren({child:m,newProps:c,newChildProps:g,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(u,c),c},o.prototype.render=function(){var l=this.props,c=l.children,d=lw(l,["children"]),u=yr({},d);return c&&(u=this.mapChildrenToProps(c,u)),Vt.createElement(t,u)},o4(o,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),o}(Vt.Component),s.propTypes={base:ns.object,bodyAttributes:ns.object,children:ns.oneOfType([ns.arrayOf(ns.node),ns.node]),defaultTitle:ns.string,defer:ns.bool,encodeSpecialCharacters:ns.bool,htmlAttributes:ns.object,link:ns.arrayOf(ns.object),meta:ns.arrayOf(ns.object),noscript:ns.arrayOf(ns.object),onChangeClientState:ns.func,script:ns.arrayOf(ns.object),style:ns.arrayOf(ns.object),title:ns.string,titleAttributes:ns.object,titleTemplate:ns.string},s.defaultProps={defer:!0,encodeSpecialCharacters:!0},s.peek=t.peek,s.rewind=function(){var a=t.rewind();return a||(a=kS({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),a},r},_4=function(){return null},S4=UD(f4,g4,kS)(_4),Wg=N4(S4);Wg.renderStatic=Wg.rewind;var On=function(){return On=Object.assign||function(t){for(var s,r=1,a=arguments.length;r<a;r++){s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},On.apply(this,arguments)};function TS(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]]);return s}function He(e,t,s,r){function a(o){return o instanceof s?o:new s(function(i){i(o)})}return new(s||(s=Promise))(function(o,i){function l(u){try{d(r.next(u))}catch(m){i(m)}}function c(u){try{d(r.throw(u))}catch(m){i(m)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})}function C4(e,t,s){if(s||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}const E4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Kv extends Error{constructor(t,s="FunctionsError",r){super(t),this.name=s,this.context=r}}class k4 extends Kv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class uw extends Kv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class fw extends Kv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Gg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Gg||(Gg={}));class T4{constructor(t,{headers:s={},customFetch:r,region:a=Gg.Any}={}){this.url=t,this.headers=s,this.region=a,this.fetch=E4(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return He(this,arguments,void 0,function*(s,r={}){var a;let o,i;try{const{headers:l,method:c,body:d,signal:u,timeout:m}=r;let h={},{region:p}=r;p||(p=this.region);const x=new URL(`${this.url}/${s}`);p&&p!=="any"&&(h["x-region"]=p,x.searchParams.set("forceFunctionRegion",p));let g;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=d):typeof d=="string"?(h["Content-Type"]="text/plain",g=d):typeof FormData<"u"&&d instanceof FormData?g=d:(h["Content-Type"]="application/json",g=JSON.stringify(d)):g=d;let y=u;m&&(i=new AbortController,o=setTimeout(()=>i.abort(),m),u?(y=i.signal,u.addEventListener("abort",()=>i.abort())):y=i.signal);const b=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:g,signal:y}).catch(N=>{throw new k4(N)}),v=b.headers.get("x-relay-error");if(v&&v==="true")throw new uw(b);if(!b.ok)throw new fw(b);let w=((a=b.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),j;return w==="application/json"?j=yield b.json():w==="application/octet-stream"||w==="application/pdf"?j=yield b.blob():w==="text/event-stream"?j=b:w==="multipart/form-data"?j=yield b.formData():j=yield b.text(),{data:j,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof fw||l instanceof uw?l.context:void 0}}finally{o&&clearTimeout(o)}})}}var wr={},Xv={},km={},Ad={},Tm={},Pm={},P4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Nl=P4();const A4=Nl.fetch,M4=Nl.fetch.bind(Nl),R4=Nl.Headers,O4=Nl.Request,D4=Nl.Response,I4=Object.freeze(Object.defineProperty({__proto__:null,Headers:R4,Request:O4,Response:D4,default:M4,fetch:A4},Symbol.toStringTag,{value:"Module"})),L4=nM(I4);var Am={};Object.defineProperty(Am,"__esModule",{value:!0});let $4=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Am.default=$4;var PS=rr&&rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pm,"__esModule",{value:!0});const F4=PS(L4),V4=PS(Am);let z4=class{constructor(t){var s,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(s=t.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=F4.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,s){return this.headers=new Headers(this.headers),this.headers.set(t,s),this}then(t,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let a=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c,d;let u=null,m=null,h=null,p=o.status,x=o.statusText;if(o.ok){if(this.method!=="HEAD"){const v=await o.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?m=v:m=JSON.parse(v))}const y=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),b=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(u={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,h=null,p=406,x="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const y=await o.text();try{u=JSON.parse(y),Array.isArray(u)&&o.status===404&&(m=[],u=null,p=200,x="OK")}catch{o.status===404&&y===""?(p=204,x="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,p=200,x="OK"),u&&this.shouldThrowOnError)throw new V4.default(u)}return{error:u,data:m,count:h,status:p,statusText:x}});return this.shouldThrowOnError||(a=a.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,s)}returns(){return this}overrideTypes(){return this}};Pm.default=z4;var B4=rr&&rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tm,"__esModule",{value:!0});const U4=B4(Pm);let H4=class extends U4.default{select(t){let s=!1;const r=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:s=!0,nullsFirst:r,foreignTable:a,referencedTable:o=a}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:s,referencedTable:r=s}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,s,{foreignTable:r,referencedTable:a=r}={}){const o=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${s-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:s=!1,settings:r=!1,buffers:a=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,s?"verbose":null,r?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${d}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Tm.default=H4;var q4=rr&&rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ad,"__esModule",{value:!0});const W4=q4(Tm);let G4=class extends W4.default{eq(t,s){return this.url.searchParams.append(t,`eq.${s}`),this}neq(t,s){return this.url.searchParams.append(t,`neq.${s}`),this}gt(t,s){return this.url.searchParams.append(t,`gt.${s}`),this}gte(t,s){return this.url.searchParams.append(t,`gte.${s}`),this}lt(t,s){return this.url.searchParams.append(t,`lt.${s}`),this}lte(t,s){return this.url.searchParams.append(t,`lte.${s}`),this}like(t,s){return this.url.searchParams.append(t,`like.${s}`),this}likeAllOf(t,s){return this.url.searchParams.append(t,`like(all).{${s.join(",")}}`),this}likeAnyOf(t,s){return this.url.searchParams.append(t,`like(any).{${s.join(",")}}`),this}ilike(t,s){return this.url.searchParams.append(t,`ilike.${s}`),this}ilikeAllOf(t,s){return this.url.searchParams.append(t,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(t,s){return this.url.searchParams.append(t,`ilike(any).{${s.join(",")}}`),this}is(t,s){return this.url.searchParams.append(t,`is.${s}`),this}in(t,s){const r=Array.from(new Set(s)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cs.{${s.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(s)}`),this}containedBy(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cd.{${s.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(s)}`),this}rangeGt(t,s){return this.url.searchParams.append(t,`sr.${s}`),this}rangeGte(t,s){return this.url.searchParams.append(t,`nxl.${s}`),this}rangeLt(t,s){return this.url.searchParams.append(t,`sl.${s}`),this}rangeLte(t,s){return this.url.searchParams.append(t,`nxr.${s}`),this}rangeAdjacent(t,s){return this.url.searchParams.append(t,`adj.${s}`),this}overlaps(t,s){return typeof s=="string"?this.url.searchParams.append(t,`ov.${s}`):this.url.searchParams.append(t,`ov.{${s.join(",")}}`),this}textSearch(t,s,{config:r,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${s}`),this}match(t){return Object.entries(t).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(t,s,r){return this.url.searchParams.append(t,`not.${s}.${r}`),this}or(t,{foreignTable:s,referencedTable:r=s}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,s,r){return this.url.searchParams.append(t,`${s}.${r}`),this}};Ad.default=G4;var Y4=rr&&rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(km,"__esModule",{value:!0});const lc=Y4(Ad);let K4=class{constructor(t,{headers:s={},schema:r,fetch:a}){this.url=t,this.headers=new Headers(s),this.schema=r,this.fetch=a}select(t,{head:s=!1,count:r}={}){const a=s?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),r&&this.headers.append("Prefer",`count=${r}`),new lc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:s,defaultToNull:r=!0}={}){var a;const o="POST";if(s&&this.headers.append("Prefer",`count=${s}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new lc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:s,ignoreDuplicates:r=!1,count:a,defaultToNull:o=!0}={}){var i;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new lc.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:s}={}){var r;const a="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new lc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var s;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new lc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};km.default=K4;var AS=rr&&rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xv,"__esModule",{value:!0});const X4=AS(km),Q4=AS(Ad);let J4=class MS{constructor(t,{headers:s={},schema:r,fetch:a}={}){this.url=t,this.headers=new Headers(s),this.schemaName=r,this.fetch=a}from(t){const s=new URL(`${this.url}/${t}`);return new X4.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new MS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:r=!1,get:a=!1,count:o}={}){var i;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;r||a?(l=r?"HEAD":"GET",Object.entries(s).filter(([m,h])=>h!==void 0).map(([m,h])=>[m,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([m,h])=>{c.searchParams.append(m,h)})):(l="POST",d=s);const u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new Q4.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};Xv.default=J4;var Vl=rr&&rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wr,"__esModule",{value:!0});wr.PostgrestError=wr.PostgrestBuilder=wr.PostgrestTransformBuilder=wr.PostgrestFilterBuilder=wr.PostgrestQueryBuilder=wr.PostgrestClient=void 0;const RS=Vl(Xv);wr.PostgrestClient=RS.default;const OS=Vl(km);wr.PostgrestQueryBuilder=OS.default;const DS=Vl(Ad);wr.PostgrestFilterBuilder=DS.default;const IS=Vl(Tm);wr.PostgrestTransformBuilder=IS.default;const LS=Vl(Pm);wr.PostgrestBuilder=LS.default;const $S=Vl(Am);wr.PostgrestError=$S.default;var Z4=wr.default={PostgrestClient:RS.default,PostgrestQueryBuilder:OS.default,PostgrestFilterBuilder:DS.default,PostgrestTransformBuilder:IS.default,PostgrestBuilder:LS.default,PostgrestError:$S.default};const{PostgrestClient:e5,PostgrestQueryBuilder:dQ,PostgrestFilterBuilder:uQ,PostgrestTransformBuilder:fQ,PostgrestBuilder:mQ,PostgrestError:hQ}=Z4;class t5{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const r=s.node,a=parseInt(r.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const r=this.getWebSocketConstructor();return new r(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const s5="2.84.0",r5=`realtime-js/${s5}`,FS="1.0.0",n5="2.0.0",mw=FS,Yg=1e4,a5=1e3,o5=100;var Fo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Fo||(Fo={}));var Ms;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ms||(Ms={}));var gn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(gn||(gn={}));var Kg;(function(e){e.websocket="websocket"})(Kg||(Kg={}));var Vo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Vo||(Vo={}));class i5{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,r,a,o;const i=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(r=t.join_ref)!==null&&r!==void 0?r:"",d=t.payload.event,u=(o=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),m=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+i.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+m);let p=new DataView(h),x=0;p.setUint8(x++,this.KINDS.userBroadcastPush),p.setUint8(x++,c.length),p.setUint8(x++,l.length),p.setUint8(x++,i.length),p.setUint8(x++,d.length),p.setUint8(x++,this.BINARY_ENCODING),Array.from(c,y=>p.setUint8(x++,y.charCodeAt(0))),Array.from(l,y=>p.setUint8(x++,y.charCodeAt(0))),Array.from(i,y=>p.setUint8(x++,y.charCodeAt(0))),Array.from(d,y=>p.setUint8(x++,y.charCodeAt(0)));var g=new Uint8Array(h.byteLength+u.byteLength);return g.set(new Uint8Array(h),0),g.set(new Uint8Array(u),h.byteLength),g.buffer}_encodeJsonUserBroadcastPush(t){var s,r,a,o;const i=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(r=t.join_ref)!==null&&r!==void 0?r:"",d=t.payload.event,u=(o=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&o!==void 0?o:{},h=new TextEncoder().encode(JSON.stringify(u)).buffer,p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+i.length+d.length,x=new ArrayBuffer(this.HEADER_LENGTH+p);let g=new DataView(x),y=0;g.setUint8(y++,this.KINDS.userBroadcastPush),g.setUint8(y++,c.length),g.setUint8(y++,l.length),g.setUint8(y++,i.length),g.setUint8(y++,d.length),g.setUint8(y++,this.JSON_ENCODING),Array.from(c,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(l,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(i,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(d,v=>g.setUint8(y++,v.charCodeAt(0)));var b=new Uint8Array(x.byteLength+h.byteLength);return b.set(new Uint8Array(x),0),b.set(new Uint8Array(h),x.byteLength),b.buffer}decode(t,s){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return s(r)}if(typeof t=="string"){const r=JSON.parse(t),[a,o,i,l,c]=r;return s({join_ref:a,ref:o,topic:i,event:l,payload:c})}return s({})}_binaryDecode(t){const s=new DataView(t),r=s.getUint8(0),a=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,s,a)}}_decodeUserBroadcast(t,s,r){const a=s.getUint8(1),o=s.getUint8(2),i=s.getUint8(3),l=s.getUint8(4);let c=this.HEADER_LENGTH+4;const d=r.decode(t.slice(c,c+a));c=c+a;const u=r.decode(t.slice(c,c+o));c=c+o;const m=r.decode(t.slice(c,c+i));c=c+i;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,x={type:this.BROADCAST_EVENT,event:u,payload:p};return i>0&&(x.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}}class VS{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Yt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Yt||(Yt={}));const hw=(e,t,s={})=>{var r;const a=(r=s.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,i)=>(o[i]=l5(i,e,t,a),o),{}):{}},l5=(e,t,s,r)=>{const a=t.find(l=>l.name===e),o=a==null?void 0:a.type,i=s[e];return o&&!r.includes(o)?zS(o,i):Xg(i)},zS=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return f5(t,s)}switch(e){case Yt.bool:return c5(t);case Yt.float4:case Yt.float8:case Yt.int2:case Yt.int4:case Yt.int8:case Yt.numeric:case Yt.oid:return d5(t);case Yt.json:case Yt.jsonb:return u5(t);case Yt.timestamp:return m5(t);case Yt.abstime:case Yt.date:case Yt.daterange:case Yt.int4range:case Yt.int8range:case Yt.money:case Yt.reltime:case Yt.text:case Yt.time:case Yt.timestamptz:case Yt.timetz:case Yt.tsrange:case Yt.tstzrange:return Xg(t);default:return Xg(t)}},Xg=e=>e,c5=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},d5=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},u5=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},f5=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,r=e[s];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,s);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>zS(t,l))}return e},m5=e=>typeof e=="string"?e.replace(" ","T"):e,BS=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ep{constructor(t,s,r={},a=Yg){this.channel=t,this.event=s,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var r;return this._hasReceived(t)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pw||(pw={}));class Dc{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dc.syncState(this.state,a,o,i),this.pendingDiffs.forEach(c=>{this.state=Dc.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},a=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Dc.syncDiff(this.state,a,o,i),l())}),this.onJoin((a,o,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:i})}),this.onLeave((a,o,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,r,a){const o=this.cloneDeep(t),i=this.transformState(s),l={},c={};return this.map(o,(d,u)=>{i[d]||(c[d]=u)}),this.map(i,(d,u)=>{const m=o[d];if(m){const h=u.map(y=>y.presence_ref),p=m.map(y=>y.presence_ref),x=u.filter(y=>p.indexOf(y.presence_ref)<0),g=m.filter(y=>h.indexOf(y.presence_ref)<0);x.length>0&&(l[d]=x),g.length>0&&(c[d]=g)}else l[d]=u}),this.syncDiff(o,{joins:l,leaves:c},r,a)}static syncDiff(t,s,r,a){const{joins:o,leaves:i}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(o,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const m=t[l].map(p=>p.presence_ref),h=u.filter(p=>m.indexOf(p.presence_ref)<0);t[l].unshift(...h)}r(l,u,c)}),this.map(i,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(m=>m.presence_ref);d=d.filter(m=>u.indexOf(m.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(r=>s(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,r)=>{const a=t[r];return"metas"in a?s[r]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):s[r]=a,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(gw||(gw={}));var Ic;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ic||(Ic={}));var ia;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ia||(ia={}));class Qv{constructor(t,s={config:{}},r){var a,o;if(this.topic=t,this.params=s,this.socket=r,this.bindings={},this.state=Ms.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new ep(this,gn.join,this.params,this.timeout),this.rejoinTimer=new VS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ms.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ms.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ms.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ms.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ms.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gn.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new Dc(this),this.broadcastEndpointURL=BS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var r,a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ms.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,d=(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[Ic.PRESENCE]&&this.bindings[Ic.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,m={},h={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(ia.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(ia.CLOSED)),this.updateJoinPayload(Object.assign({config:h},m)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket.setAuth(),p===void 0){t==null||t(ia.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(x=g==null?void 0:g.length)!==null&&x!==void 0?x:0,b=[];for(let v=0;v<y;v++){const w=g[v],{filter:{event:j,schema:N,table:C,filter:_}}=w,S=p&&p[v];if(S&&S.event===j&&S.schema===N&&S.table===C&&S.filter===_)b.push(Object.assign(Object.assign({},w),{id:S.id}));else{this.unsubscribe(),this.state=Ms.errored,t==null||t(ia.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(ia.SUBSCRIBED);return}}).receive("error",p=>{this.state=Ms.errored,t==null||t(ia.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ia.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,r){return this.state===Ms.joined&&t===Ic.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,s,r)}async httpSend(t,s,r={}){var a;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const d=await l.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,s={}){var r,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const d=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ms.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new ep(this,gn.leave,{},t),r.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ms.closed,this.bindings={}}async _fetchWithTimeout(t,s,r){const a=new AbortController,o=setTimeout(()=>a.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:a.signal}));return clearTimeout(o),i}_push(t,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ep(this,t,s,r);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>o5){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,r){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,r){var a,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=gn;if(r&&[l,c,d,u].indexOf(i)>=0&&r!==this._joinRef())return;let h=this._onMessage(i,s,r);if(s&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var x,g,y;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(g=p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===i}).map(p=>p.callback(h,r)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var x,g,y,b,v,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const j=p.id,N=(x=p.filter)===null||x===void 0?void 0:x.event;return j&&((g=s.ids)===null||g===void 0?void 0:g.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((y=s.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const j=(v=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((w=s==null?void 0:s.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:g,table:y,commit_timestamp:b,type:v,errors:w}=x;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:b,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(x))}p.callback(h,r)})}_isClosed(){return this.state===Ms.closed}_isJoined(){return this.state===Ms.joined}_isJoining(){return this.state===Ms.joining}_isLeaving(){return this.state===Ms.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,r){const a=t.toLocaleLowerCase(),o={type:a,filter:s,callback:r};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(t,s){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Qv.isEqual(a.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(gn.close,{},t)}_onError(t){this._on(gn.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ms.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=hw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=hw(t.columns,t.old_record)),s}}const tp=()=>{},gu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},h5=[1e3,2e3,5e3,1e4],p5=1e4,g5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class x5{constructor(t,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yg,this.transport=null,this.heartbeatIntervalMs=gu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=tp,this.ref=0,this.reconnectTimer=null,this.vsn=mw,this.logger=tp,this.conn=null,this.sendBuffer=[],this.serializer=new i5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...o)=>a(...o):(...o)=>fetch(...o),!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${Kg.websocket}`,this.httpEndpoint=BS(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=t5.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,r){this.logger(t,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Fo.connecting:return Vo.Connecting;case Fo.open:return Vo.Open;case Fo.closing:return Vo.Closing;default:return Vo.Closed}}isConnected(){return this.connectionState()===Vo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const r=`realtime:${t}`,a=this.getChannels().find(o=>o.topic===r);if(a)return a;{const o=new Qv(`realtime:${t}`,s,this);return this.channels.push(o),o}}push(t){const{topic:s,event:r,payload:a,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${s} ${r} (${o})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(a5,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},gu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:a,payload:o,ref:i}=s,l=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${a} ${l}`.trim(),o),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(a,o,i)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Fo.open||this.conn.readyState===Fo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(gn.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const r=t.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${t}${r}${a}`}_workerObjectUrl(t){let s;if(t)s=t;else{const r=new Blob([g5],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s;t?s=t:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const a={access_token:s,version:r5};s&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(gn.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(s)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new VS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,r,a,o,i,l,c,d,u,m,h,p;switch(this.transport=(s=t==null?void 0:t.transport)!==null&&s!==void 0?s:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Yg,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:gu.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:tp,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:mw,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:x=>h5[x-1]||p5,this.vsn){case FS:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(x,g)=>g(JSON.stringify(x)),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:(x,g)=>g(JSON.parse(x));break;case n5:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Jv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function is(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class v5 extends Jv{constructor(t,s,r){super(t),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Qg extends Jv{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}const Zv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),y5=()=>Response,Jg=e=>{if(Array.isArray(e))return e.map(s=>Jg(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,r])=>{const a=s.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[a]=Jg(r)}),t},b5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},sp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},w5=(e,t,s)=>He(void 0,void 0,void 0,function*(){const r=yield y5();e instanceof r&&!(s!=null&&s.noResolveJson)?e.json().then(a=>{const o=e.status||500,i=(a==null?void 0:a.statusCode)||o+"";t(new v5(sp(a),o,i))}).catch(a=>{t(new Qg(sp(a),a))}):t(new Qg(sp(e),e))}),j5=(e,t,s,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?a:(b5(r)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),s))};function Md(e,t,s,r,a,o){return He(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(s,j5(t,r,a,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>w5(c,l,r))})})}function ld(e,t,s,r){return He(this,void 0,void 0,function*(){return Md(e,"GET",t,s,r)})}function hn(e,t,s,r,a){return He(this,void 0,void 0,function*(){return Md(e,"POST",t,r,a,s)})}function Zg(e,t,s,r,a){return He(this,void 0,void 0,function*(){return Md(e,"PUT",t,r,a,s)})}function N5(e,t,s,r){return He(this,void 0,void 0,function*(){return Md(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function e0(e,t,s,r,a){return He(this,void 0,void 0,function*(){return Md(e,"DELETE",t,r,a,s)})}class _5{constructor(t,s){this.downloadFn=t,this.shouldThrowOnError=s}then(t,s){return this.execute().then(t,s)}execute(){return He(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(is(t))return{data:null,error:t};throw t}})}}var US;class S5{constructor(t,s){this.downloadFn=t,this.shouldThrowOnError=s,this[US]="BlobDownloadBuilder",this.promise=null}asStream(){return new _5(this.downloadFn,this.shouldThrowOnError)}then(t,s){return this.getPromise().then(t,s)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return He(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(is(t))return{data:null,error:t};throw t}})}}US=Symbol.toStringTag;const C5=S5,E5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class k5{constructor(t,s={},r,a){this.shouldThrowOnError=!1,this.url=t,this.headers=s,this.bucketId=r,this.fetch=Zv(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,s,r,a){return He(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},xw),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),c&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(c))):(o=r,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(s),u=this._getFinalPath(d),m=yield(t=="PUT"?Zg:hn)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(is(o))return{data:null,error:o};throw o}})}upload(t,s,r){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,r)})}uploadToSignedUrl(t,s,r,a){return He(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",s);try{let c;const d=Object.assign({upsert:xw.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const m=yield Zg(this.fetch,l.toString(),c,{headers:u});return{data:{path:o,fullPath:m.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(is(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,s){return He(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const a=Object.assign({},this.headers);s!=null&&s.upsert&&(a["x-upsert"]="true");const o=yield hn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new Jv("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(is(r))return{data:null,error:r};throw r}})}update(t,s,r){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,r)})}move(t,s,r){return He(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(is(a))return{data:null,error:a};throw a}})}copy(t,s,r){return He(this,void 0,void 0,function*(){try{return{data:{path:(yield hn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(is(a))return{data:null,error:a};throw a}})}createSignedUrl(t,s,r){return He(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),o=yield hn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(is(a))return{data:null,error:a};throw a}})}createSignedUrls(t,s,r){return He(this,void 0,void 0,function*(){try{const a=yield hn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(is(a))return{data:null,error:a};throw a}})}download(t,s){const a=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),i=o?`?${o}`:"",l=this._getFinalPath(t),c=()=>ld(this.fetch,`${this.url}/${a}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new C5(c,this.shouldThrowOnError)}info(t){return He(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const r=yield ld(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Jg(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(is(r))return{data:null,error:r};throw r}})}exists(t){return He(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield N5(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(is(r)&&r instanceof Qg){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,s){const r=this._getFinalPath(t),a=[],o=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";o!==""&&a.push(o);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(t){return He(this,void 0,void 0,function*(){try{return{data:yield e0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(is(s))return{data:null,error:s};throw s}})}list(t,s,r){return He(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},E5),s),{prefix:t||""});return{data:yield hn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(is(a))return{data:null,error:a};throw a}})}listV2(t,s){return He(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield hn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(is(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const HS="2.84.0",qS={"X-Client-Info":`storage-js/${HS}`};class T5{constructor(t,s={},r,a){this.shouldThrowOnError=!1;const o=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qS),s),this.fetch=Zv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return He(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(t);return{data:yield ld(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(is(s))return{data:null,error:s};throw s}})}getBucket(t){return He(this,void 0,void 0,function*(){try{return{data:yield ld(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(is(s))return{data:null,error:s};throw s}})}createBucket(t){return He(this,arguments,void 0,function*(s,r={public:!1}){try{return{data:yield hn(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(is(a))return{data:null,error:a};throw a}})}updateBucket(t,s){return He(this,void 0,void 0,function*(){try{return{data:yield Zg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(is(r))return{data:null,error:r};throw r}})}emptyBucket(t){return He(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(is(s))return{data:null,error:s};throw s}})}deleteBucket(t){return He(this,void 0,void 0,function*(){try{return{data:yield e0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(is(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(t){const s={};return t&&("limit"in t&&(s.limit=String(t.limit)),"offset"in t&&(s.offset=String(t.offset)),t.search&&(s.search=t.search),t.sortColumn&&(s.sortColumn=t.sortColumn),t.sortOrder&&(s.sortOrder=t.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}class P5{constructor(t,s={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qS),s),this.fetch=Zv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return He(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(is(s))return{data:null,error:s};throw s}})}listBuckets(t){return He(this,void 0,void 0,function*(){try{const s=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&s.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&s.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&s.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&s.set("sortOrder",t.sortOrder),t!=null&&t.search&&s.set("search",t.search);const r=s.toString(),a=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield ld(this.fetch,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(is(s))return{data:null,error:s};throw s}})}deleteBucket(t){return He(this,void 0,void 0,function*(){try{return{data:yield e0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(is(s))return{data:null,error:s};throw s}})}}const t0={"X-Client-Info":`storage-js/${HS}`,"Content-Type":"application/json"};class WS extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Dr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class rp extends WS{constructor(t,s,r){super(t),this.name="StorageVectorsApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class A5 extends WS{constructor(t,s){super(t),this.name="StorageVectorsUnknownError",this.originalError=s}}var vw;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(vw||(vw={}));const s0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),M5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),R5=(e,t,s)=>He(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(s!=null&&s.noResolveJson)){const a=e.status||500,o=e;if(typeof o.json=="function")o.json().then(i=>{const l=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||a+"";t(new rp(yw(i),a,l))}).catch(()=>{const i=a+"",l=o.statusText||`HTTP ${a} error`;t(new rp(l,a,i))});else{const i=a+"",l=o.statusText||`HTTP ${a} error`;t(new rp(l,a,i))}}else t(new A5(yw(e),e))}),O5=(e,t,s,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?a:(M5(r)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,Object.assign(Object.assign({},a),s))};function D5(e,t,s,r,a,o){return He(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(s,O5(t,r,a,o)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>R5(c,l,r))})})}function Ir(e,t,s,r,a){return He(this,void 0,void 0,function*(){return D5(e,"POST",t,r,a,s)})}class I5{constructor(t,s={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},t0),s),this.fetch=s0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return He(this,void 0,void 0,function*(){try{return{data:(yield Ir(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dr(s))return{data:null,error:s};throw s}})}getIndex(t,s){return He(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:s},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}listIndexes(t){return He(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dr(s))return{data:null,error:s};throw s}})}deleteIndex(t,s){return He(this,void 0,void 0,function*(){try{return{data:(yield Ir(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:s},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}}class L5{constructor(t,s={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},t0),s),this.fetch=s0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return He(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ir(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dr(s))return{data:null,error:s};throw s}})}getVectors(t){return He(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dr(s))return{data:null,error:s};throw s}})}listVectors(t){return He(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ir(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dr(s))return{data:null,error:s};throw s}})}queryVectors(t){return He(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dr(s))return{data:null,error:s};throw s}})}deleteVectors(t){return He(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ir(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dr(s))return{data:null,error:s};throw s}})}}class $5{constructor(t,s={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},t0),s),this.fetch=s0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return He(this,void 0,void 0,function*(){try{return{data:(yield Ir(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dr(s))return{data:null,error:s};throw s}})}getBucket(t){return He(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dr(s))return{data:null,error:s};throw s}})}listBuckets(){return He(this,arguments,void 0,function*(t={}){try{return{data:yield Ir(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dr(s))return{data:null,error:s};throw s}})}deleteBucket(t){return He(this,void 0,void 0,function*(){try{return{data:(yield Ir(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dr(s))return{data:null,error:s};throw s}})}}class F5 extends $5{constructor(t,s={}){super(t,s.headers||{},s.fetch)}from(t){return new V5(this.url,this.headers,t,this.fetch)}}class V5 extends I5{constructor(t,s,r,a){super(t,s,a),this.vectorBucketName=r}createIndex(t){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return He(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return He(this,arguments,void 0,function*(s={}){return t.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return He(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return He(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new z5(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class z5 extends L5{constructor(t,s,r,a,o){super(t,s,o),this.vectorBucketName=r,this.indexName=a}putVectors(t){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return He(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return He(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return He(this,arguments,void 0,function*(s={}){return t.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return He(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return He(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class B5 extends T5{constructor(t,s={},r,a){super(t,s,r,a)}from(t){return new k5(this.url,this.headers,t,this.fetch)}get vectors(){return new F5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new P5(this.url+"/iceberg",this.headers,this.fetch)}}const U5="2.30.0",H5={"X-Client-Info":`supabase-js/${U5}`};var ex={exports:{}};(function(e,t){var s=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof rr<"u"&&rr,r=function(){function o(){this.fetch=!1,this.DOMException=s.DOMException}return o.prototype=s,new o}();(function(o){(function(i){var l=typeof o<"u"&&o||typeof self<"u"&&self||typeof rr<"u"&&rr||{},c={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function d(E){return E&&DataView.prototype.isPrototypeOf(E)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=ArrayBuffer.isView||function(E){return E&&u.indexOf(Object.prototype.toString.call(E))>-1};function h(E){if(typeof E!="string"&&(E=String(E)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(E)||E==="")throw new TypeError('Invalid character in header field name: "'+E+'"');return E.toLowerCase()}function p(E){return typeof E!="string"&&(E=String(E)),E}function x(E){var T={next:function(){var F=E.shift();return{done:F===void 0,value:F}}};return c.iterable&&(T[Symbol.iterator]=function(){return T}),T}function g(E){this.map={},E instanceof g?E.forEach(function(T,F){this.append(F,T)},this):Array.isArray(E)?E.forEach(function(T){if(T.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+T.length);this.append(T[0],T[1])},this):E&&Object.getOwnPropertyNames(E).forEach(function(T){this.append(T,E[T])},this)}g.prototype.append=function(E,T){E=h(E),T=p(T);var F=this.map[E];this.map[E]=F?F+", "+T:T},g.prototype.delete=function(E){delete this.map[h(E)]},g.prototype.get=function(E){return E=h(E),this.has(E)?this.map[E]:null},g.prototype.has=function(E){return this.map.hasOwnProperty(h(E))},g.prototype.set=function(E,T){this.map[h(E)]=p(T)},g.prototype.forEach=function(E,T){for(var F in this.map)this.map.hasOwnProperty(F)&&E.call(T,this.map[F],F,this)},g.prototype.keys=function(){var E=[];return this.forEach(function(T,F){E.push(F)}),x(E)},g.prototype.values=function(){var E=[];return this.forEach(function(T){E.push(T)}),x(E)},g.prototype.entries=function(){var E=[];return this.forEach(function(T,F){E.push([F,T])}),x(E)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function y(E){if(!E._noBody){if(E.bodyUsed)return Promise.reject(new TypeError("Already read"));E.bodyUsed=!0}}function b(E){return new Promise(function(T,F){E.onload=function(){T(E.result)},E.onerror=function(){F(E.error)}})}function v(E){var T=new FileReader,F=b(T);return T.readAsArrayBuffer(E),F}function w(E){var T=new FileReader,F=b(T),k=/charset=([A-Za-z0-9_-]+)/.exec(E.type),P=k?k[1]:"utf-8";return T.readAsText(E,P),F}function j(E){for(var T=new Uint8Array(E),F=new Array(T.length),k=0;k<T.length;k++)F[k]=String.fromCharCode(T[k]);return F.join("")}function N(E){if(E.slice)return E.slice(0);var T=new Uint8Array(E.byteLength);return T.set(new Uint8Array(E)),T.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(E){this.bodyUsed=this.bodyUsed,this._bodyInit=E,E?typeof E=="string"?this._bodyText=E:c.blob&&Blob.prototype.isPrototypeOf(E)?this._bodyBlob=E:c.formData&&FormData.prototype.isPrototypeOf(E)?this._bodyFormData=E:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)?this._bodyText=E.toString():c.arrayBuffer&&c.blob&&d(E)?(this._bodyArrayBuffer=N(E.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(E)||m(E))?this._bodyArrayBuffer=N(E):this._bodyText=E=Object.prototype.toString.call(E):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof E=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var E=y(this);if(E)return E;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var E=y(this);return E||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var E=y(this);if(E)return E;if(this._bodyBlob)return w(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(j(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(D)}),this.json=function(){return this.text().then(JSON.parse)},this}var _=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function S(E){var T=E.toUpperCase();return _.indexOf(T)>-1?T:E}function O(E,T){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');T=T||{};var F=T.body;if(E instanceof O){if(E.bodyUsed)throw new TypeError("Already read");this.url=E.url,this.credentials=E.credentials,T.headers||(this.headers=new g(E.headers)),this.method=E.method,this.mode=E.mode,this.signal=E.signal,!F&&E._bodyInit!=null&&(F=E._bodyInit,E.bodyUsed=!0)}else this.url=String(E);if(this.credentials=T.credentials||this.credentials||"same-origin",(T.headers||!this.headers)&&(this.headers=new g(T.headers)),this.method=S(T.method||this.method||"GET"),this.mode=T.mode||this.mode||null,this.signal=T.signal||this.signal||function(){if("AbortController"in l){var A=new AbortController;return A.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&F)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(F),(this.method==="GET"||this.method==="HEAD")&&(T.cache==="no-store"||T.cache==="no-cache")){var k=/([?&])_=[^&]*/;if(k.test(this.url))this.url=this.url.replace(k,"$1_="+new Date().getTime());else{var P=/\?/;this.url+=(P.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}O.prototype.clone=function(){return new O(this,{body:this._bodyInit})};function D(E){var T=new FormData;return E.trim().split("&").forEach(function(F){if(F){var k=F.split("="),P=k.shift().replace(/\+/g," "),A=k.join("=").replace(/\+/g," ");T.append(decodeURIComponent(P),decodeURIComponent(A))}}),T}function z(E){var T=new g,F=E.replace(/\r?\n[\t ]+/g," ");return F.split("\r").map(function(k){return k.indexOf(`
`)===0?k.substr(1,k.length):k}).forEach(function(k){var P=k.split(":"),A=P.shift().trim();if(A){var B=P.join(":").trim();try{T.append(A,B)}catch(L){console.warn("Response "+L.message)}}}),T}C.call(O.prototype);function M(E,T){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(T||(T={}),this.type="default",this.status=T.status===void 0?200:T.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=T.statusText===void 0?"":""+T.statusText,this.headers=new g(T.headers),this.url=T.url||"",this._initBody(E)}C.call(M.prototype),M.prototype.clone=function(){return new M(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},M.error=function(){var E=new M(null,{status:200,statusText:""});return E.ok=!1,E.status=0,E.type="error",E};var U=[301,302,303,307,308];M.redirect=function(E,T){if(U.indexOf(T)===-1)throw new RangeError("Invalid status code");return new M(null,{status:T,headers:{location:E}})},i.DOMException=l.DOMException;try{new i.DOMException}catch{i.DOMException=function(T,F){this.message=T,this.name=F;var k=Error(T);this.stack=k.stack},i.DOMException.prototype=Object.create(Error.prototype),i.DOMException.prototype.constructor=i.DOMException}function $(E,T){return new Promise(function(F,k){var P=new O(E,T);if(P.signal&&P.signal.aborted)return k(new i.DOMException("Aborted","AbortError"));var A=new XMLHttpRequest;function B(){A.abort()}A.onload=function(){var I={statusText:A.statusText,headers:z(A.getAllResponseHeaders()||"")};P.url.indexOf("file://")===0&&(A.status<200||A.status>599)?I.status=200:I.status=A.status,I.url="responseURL"in A?A.responseURL:I.headers.get("X-Request-URL");var G="response"in A?A.response:A.responseText;setTimeout(function(){F(new M(G,I))},0)},A.onerror=function(){setTimeout(function(){k(new TypeError("Network request failed"))},0)},A.ontimeout=function(){setTimeout(function(){k(new TypeError("Network request timed out"))},0)},A.onabort=function(){setTimeout(function(){k(new i.DOMException("Aborted","AbortError"))},0)};function L(I){try{return I===""&&l.location.href?l.location.href:I}catch{return I}}if(A.open(P.method,L(P.url),!0),P.credentials==="include"?A.withCredentials=!0:P.credentials==="omit"&&(A.withCredentials=!1),"responseType"in A&&(c.blob?A.responseType="blob":c.arrayBuffer&&(A.responseType="arraybuffer")),T&&typeof T.headers=="object"&&!(T.headers instanceof g||l.Headers&&T.headers instanceof l.Headers)){var H=[];Object.getOwnPropertyNames(T.headers).forEach(function(I){H.push(h(I)),A.setRequestHeader(I,p(T.headers[I]))}),P.headers.forEach(function(I,G){H.indexOf(G)===-1&&A.setRequestHeader(G,I)})}else P.headers.forEach(function(I,G){A.setRequestHeader(G,I)});P.signal&&(P.signal.addEventListener("abort",B),A.onreadystatechange=function(){A.readyState===4&&P.signal.removeEventListener("abort",B)}),A.send(typeof P._bodyInit>"u"?null:P._bodyInit)})}return $.polyfill=!0,l.fetch||(l.fetch=$,l.Headers=g,l.Request=O,l.Response=M),i.Headers=g,i.Request=O,i.Response=M,i.fetch=$,Object.defineProperty(i,"__esModule",{value:!0}),i})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var a=s.fetch?s:r;t=a.fetch,t.default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t})(ex,ex.exports);var r0=ex.exports;const GS=hi(r0),q5=e1({__proto__:null,default:GS},[r0]);var W5=globalThis&&globalThis.__awaiter||function(e,t,s,r){function a(o){return o instanceof s?o:new s(function(i){i(o)})}return new(s||(s=Promise))(function(o,i){function l(u){try{d(r.next(u))}catch(m){i(m)}}function c(u){try{d(r.throw(u))}catch(m){i(m)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const G5=e=>{let t;return e?t=e:typeof fetch>"u"?t=GS:t=fetch,(...s)=>t(...s)},Y5=()=>typeof Headers>"u"?r0.Headers:Headers,K5=(e,t,s)=>{const r=G5(s),a=Y5();return(o,i)=>W5(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(i==null?void 0:i.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:d}))})};function X5(e){return e.replace(/\/$/,"")}function Q5(e,t){const{db:s,auth:r,realtime:a,global:o}=e,{db:i,auth:l,realtime:c,global:d}=t;return{db:Object.assign(Object.assign({},i),s),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),a),global:Object.assign(Object.assign({},d),o)}}const J5="modulepreload",Z5=function(e){return"/"+e},bw={},eI=function(t,s,r){if(!s||s.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(s.map(o=>{if(o=Z5(o),o in bw)return;bw[o]=!0;const i=o.endsWith(".css"),l=i?'[rel="stylesheet"]':"";if(!!r)for(let u=a.length-1;u>=0;u--){const m=a[u];if(m.href===o&&(!i||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const d=document.createElement("link");if(d.rel=i?"stylesheet":J5,i||(d.as="script",d.crossOrigin=""),d.href=o,document.head.appendChild(d),i)return new Promise((u,m)=>{d.addEventListener("load",u),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})};function tI(e){return Math.round(Date.now()/1e3)+e}function sI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const aa=()=>typeof document<"u",Po={tested:!1,writable:!1},Ku=()=>{if(!aa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Po.tested)return Po.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Po.tested=!0,Po.writable=!0}catch{Po.tested=!0,Po.writable=!1}return Po.writable};function vr(e,t){var s;t||(t=((s=window==null?void 0:window.location)===null||s===void 0?void 0:s.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const r=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),a=r.exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}const YS=e=>{let t;return e?t=e:typeof fetch>"u"?t=async(...s)=>await(await eI(()=>Promise.resolve().then(()=>q5),void 0)).fetch(...s):t=fetch,(...s)=>t(...s)},rI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",cc=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},xu=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},np=async(e,t)=>{await e.removeItem(t)};function nI(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",r,a,o,i,l,c,d,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)i=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),d=t.indexOf(e.charAt(u++)),r=i<<2|l>>4,a=(l&15)<<4|c>>2,o=(c&3)<<6|d,s=s+String.fromCharCode(r),c!=64&&a!=0&&(s=s+String.fromCharCode(a)),d!=64&&o!=0&&(s=s+String.fromCharCode(o));return s}class Mm{constructor(){this.promise=new Mm.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Mm.promiseConstructor=Promise;function ww(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=e.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=s[1];return JSON.parse(nI(r))}function aI(e){return new Promise(t=>{setTimeout(()=>t(null),e)})}function oI(e,t){return new Promise((r,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){a(i);return}}})()})}function iI(e){return("0"+e.toString(16)).substr(-2)}function vu(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let a="";for(let o=0;o<56;o++)a+=s.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(t),Array.from(t,iI).join("")}async function lI(e){const s=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(r);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}function cI(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yu(e){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await lI(e);return cI(t)}const dI="__stack_guard__",uI="__",fI=/__stack_guard__([a-zA-Z0-9_-]+)__/;let jw=!1,n0;function tx(e){var t,s;n0();let r;try{throw new Error}catch(o){r=o}const a=(s=(t=r.stack)===null||t===void 0?void 0:t.split(`
`))!==null&&s!==void 0?s:[];for(let o=0;o<a.length;o+=1){const l=a[o].match(fI);if(l&&l[1]===e)return!0}return!1}async function sx(e,t){await n0();const s=`${dI}${e}${uI}`;return await{[s]:async()=>await t()}[s]()}n0=async()=>{jw||(jw=!0,await sx("ENV_CHECK",async()=>{const e=tx("ENV_CHECK");return e||console.warn("@supabase/gotrue-js: Stack guards not supported in this environment. Generally not an issue but may point to a very conservative transpilation environment (use ES2017 or above) that implements async/await with generators, or this is a JavaScript engine that does not support async/await stack traces."),e}))};class a0 extends Error{constructor(t,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s}}function vt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class mI extends a0{constructor(t,s){super(t,s),this.name="AuthApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function hI(e){return vt(e)&&e.name==="AuthApiError"}class KS extends a0{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class zl extends a0{constructor(t,s,r){super(t),this.name=s,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ki extends zl{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class ap extends zl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class bu extends zl{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class ra extends zl{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class op extends zl{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rx extends zl{constructor(t,s){super(t,"AuthRetryableFetchError",s)}}function Nw(e){return vt(e)&&e.name==="AuthRetryableFetchError"}var pI=globalThis&&globalThis.__rest||function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]]);return s};const wc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gI=[502,503,504];async function _w(e){if(!rI(e))throw new rx(wc(e),0);if(gI.includes(e.status))throw new rx(wc(e),e.status);let t;try{t=await e.json()}catch(s){throw new KS(wc(s),s)}throw new mI(wc(t),e.status||500)}const xI=(e,t,s,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),s))};async function St(e,t,s,r){var a;const o=Object.assign({},r==null?void 0:r.headers);r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await vI(e,t,s+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function vI(e,t,s,r,a,o){const i=xI(t,r,a,o);let l;try{l=await e(s,i)}catch(c){throw console.error(c),new rx(wc(c),0)}if(l.ok||await _w(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await _w(c)}}function Pa(e){var t;let s=null;jI(e)&&(s=Object.assign({},e),s.expires_at=tI(e.expires_in));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:r},error:null}}function zo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function yI(e){return{data:e,error:null}}function bI(e){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:a,verification_type:o}=e,i=pI(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:s,hashed_token:r,redirect_to:a,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function wI(e){return e}function jI(e){return e.access_token&&e.refresh_token&&e.expires_in}var NI=globalThis&&globalThis.__rest||function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]]);return s};class _I{constructor({url:t="",headers:s={},fetch:r}){this.url=t,this.headers=s,this.fetch=YS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s="global"){try{return await St(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,s={}){try{return await St(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:zo})}catch(r){if(vt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:s}=t,r=NI(t,["options"]),a=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await St(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:bI,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(vt(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await St(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zo})}catch(s){if(vt(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,r,a,o,i,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await St(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(o=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:wI});if(u.error)throw u.error;const m=await u.json(),h=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);d[`${y}Page`]=g}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(vt(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){try{return await St(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zo})}catch(s){if(vt(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){try{return await St(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:zo})}catch(r){if(vt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,s=!1){try{return await St(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:zo})}catch(r){if(vt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:s,error:r}=await St(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:r}}catch(s){if(vt(s))return{data:null,error:s};throw s}}async _deleteFactor(t){try{return{data:await St(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}}}const SI="2.43.1",CI="http://localhost:9999",EI="supabase.auth.token",kI={"X-Client-Info":`gotrue-js/${SI}`},Sw=10,Cw={getItem:e=>Ku()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ku()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ku()&&globalThis.localStorage.removeItem(e)}};function TI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}TI();const PI={url:CI,storageKey:EI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kI,flowType:"implicit",debug:!1},wu=30*1e3,Ew=3;class cd{constructor(t){var s;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null,this.instanceID=cd.nextInstanceID,cd.nextInstanceID+=1,this.instanceID>0&&aa()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},PI),t);if(this.logDebugMessages=r.debug,this.inMemorySession=null,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.persistSession=r.persistSession,this.storage=r.storage||Cw,this.admin=new _I({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=YS(r.fetch),this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession&&this.storage===Cw&&!Ku()&&console.warn(`No storage option exists to persist the session, which may result in unexpected behavior when using auth.
        If you want to set persistSession to true, please provide a storage option or you may set persistSession to false to disable this warning.`),aa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&console.log(`GoTrueClient@${this.instanceID} ${new Date().toISOString()}`,...t),this}initialize(){return this.initializePromise?this.initializePromise:this._initialize()}async _initialize(){if(this.initializePromise)throw new Error("Double call of #_initialize()");return this.initializePromise=sx("_initialize",async()=>{try{const t=aa()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:s,error:r}=await this._getSessionFromUrl(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),await this._removeSession(),{error:r};const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return vt(t)?{error:t}:{error:new KS("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}),await this.initializePromise}async signUp(t){var s,r,a;try{await this._removeSession();let o;if("email"in t){const{email:u,password:m,options:h}=t;let p=null,x=null;if(this.flowType==="pkce"){const g=vu();await cc(this.storage,`${this.storageKey}-code-verifier`,g),p=await yu(g),x=g===p?"plain":"s256"}o=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:m,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:x},xform:Pa})}else if("phone"in t){const{phone:u,password:m,options:h}=t;o=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:m,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Pa})}else throw new bu("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(vt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{await this._removeSession();let s;if("email"in t){const{email:o,password:i,options:l}=t;s=await St(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Pa})}else if("phone"in t){const{phone:o,password:i,options:l}=t;s=await St(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Pa})}else throw new bu("You must provide either an email or phone number and a password");const{data:r,error:a}=s;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ap}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:{user:r.user,session:r.session},error:a})}catch(s){if(vt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,r,a,o;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){const s=await xu(this.storage,`${this.storageKey}-code-verifier`),{data:r,error:a}=await St(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Pa});return await np(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ap}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:r,error:a})}async signInWithIdToken(t){await this._removeSession();try{const{options:s,provider:r,token:a,access_token:o,nonce:i}=t,l=await St(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Pa}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ap}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(s){if(vt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,r,a,o,i;try{if(await this._removeSession(),"email"in t){const{email:l,options:c}=t;let d=null,u=null;if(this.flowType==="pkce"){const h=vu();await cc(this.storage,`${this.storageKey}-code-verifier`,h),d=await yu(h),u=h===d?"plain":"s256"}const{error:m}=await St(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await St(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new bu("You must provide either an email or phone number.")}catch(l){if(vt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var s,r;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();const{data:a,error:o}=await St(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:(s=t.options)===null||s===void 0?void 0:s.captchaToken}}),redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,xform:Pa});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const i=a.session,l=a.user;return i!=null&&i.access_token&&(await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)),{data:{user:l,session:i},error:null}}catch(a){if(vt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var s,r,a;try{return await this._removeSession(),await St(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:yI})}catch(o){if(vt(o))return{data:null,error:o};throw o}}async reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;if(r)throw r;if(!s)throw new ki;const{error:a}=await St(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(vt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const s=`${this.url}/resend`;if("email"in t){const{email:r,type:a,options:o}=t,{error:i}=await St(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:a,options:o}=t,{data:i,error:l}=await St(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new bu("You must provide either an email or phone number and a type")}catch(s){if(vt(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return this._useSession(async t=>t)}async _useSession(t){return await sx("_useSession",async()=>{const s=await this.__loadSession();return await t(s)})}async __loadSession(){if(this._debug("#__loadSession()","begin"),this.logDebugMessages&&!tx("_useSession"))throw new Error("Please use #_useSession()");tx("_initialize")||await this.initializePromise;try{let t=null;if(this.persistSession){const o=await xu(this.storage,this.storageKey);this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?t=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession()))}else t=this.inMemorySession,this._debug("#getSession()","session from memory",t);if(!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s)return{data:{session:t},error:null};const{session:r,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){try{return await this._useSession(async s=>{var r,a;if(!t){const{data:o,error:i}=s;if(i)throw i;t=(a=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0}return await St(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zo})})}catch(s){if(vt(s))return{data:{user:null},error:s};throw s}}async updateUser(t,s={}){try{return await this._useSession(async r=>{const{data:a,error:o}=r;if(o)throw o;if(!a.session)throw new ki;const i=a.session,{data:l,error:c}=await St(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:t,jwt:i.access_token,xform:zo});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(vt(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return ww(t)}async setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ki;const s=Date.now()/1e3;let r=s,a=!0,o=null;const i=ww(t.access_token);if(i.exp&&(r=i.exp,a=r<=s),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this.getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(s){if(vt(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){try{return await this._useSession(async s=>{var r;if(!t){const{data:i,error:l}=s;if(l)throw l;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ki;const{session:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(vt(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromUrl(t){try{if(!aa())throw new ra("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new ra("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new op("Not a valid PKCE flow url.");if(t){const y=vr("code");if(!y)throw new op("No code detected.");const{data:b,error:v}=await this.exchangeCodeForSession(y);if(v)throw v;if(!b.session)throw new op("No session detected.");let w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:b.session,redirectType:null},error:null}}const s=vr("error_description");if(s){const y=vr("error_code");if(!y)throw new ra("No error_code detected.");const b=vr("error");throw b?new ra(s,{error:b,code:y}):new ra("No error detected.")}const r=vr("provider_token"),a=vr("provider_refresh_token"),o=vr("access_token");if(!o)throw new ra("No access_token detected.");const i=vr("expires_in");if(!i)throw new ra("No expires_in detected.");const l=vr("refresh_token");if(!l)throw new ra("No refresh_token detected.");const c=vr("token_type");if(!c)throw new ra("No token_type detected.");const u=Math.round(Date.now()/1e3)+parseInt(i),{data:m,error:h}=await this.getUser(o);if(h)throw h;const p=m.user,x={provider_token:r,provider_refresh_token:a,access_token:o,expires_in:parseInt(i),expires_at:u,refresh_token:l,token_type:c,user:p},g=vr("type");return window.location.hash="",this._debug("#_getSessionFromUrl()","clearing window.location.hash"),{data:{session:x,redirectType:g},error:null}}catch(s){if(vt(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantFlow(){return aa()&&(!!vr("access_token")||!!vr("error_description"))}async _isPKCEFlow(){const t=await xu(this.storage,`${this.storageKey}-code-verifier`);return!!vr("code")&&!!t}async signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:a,error:o}=s;if(o)return{error:o};const i=(r=a.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(hI(l)&&(l.status===404||l.status===401)))return{error:l}}return t!=="others"&&(await this._removeSession(),await np(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const s=sI(),r={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),this._emitInitialSession(s),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async s=>{var r,a;try{const{data:{session:o},error:i}=s;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,s={}){let r=null,a=null;if(this.flowType==="pkce"){const o=vu();await cc(this.storage,`${this.storageKey}-code-verifier`,o),r=await yu(o),a=o===r?"plain":"s256"}try{return await St(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(o){if(vt(o))return{data:null,error:o};throw o}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await oI(async a=>(await aI(a*200),this._debug(s,"refreshing attempt",a),await St(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Pa})),(a,o,i)=>i&&i.error&&Nw(i.error)&&Date.now()+(a+1)*200-r<wu)}catch(r){if(this._debug(s,"error",r),vt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const r=await this._getUrlForProvider(t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",r),aa()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await xu(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),o=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<a+Sw;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${Sw}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Nw(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,r;if(!t)throw new ki;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Mm;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new ki;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(a,"error",o),vt(o)){const i={session:null,error:o};return(s=this.refreshingDeferred)===null||s===void 0||s.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,s,r=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:s});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,s)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.persistSession||(this.inMemorySession=t),this.persistSession&&t.expires_at&&await this._persistSession(t)}_persistSession(t){return this._debug("#_persistSession()",t),cc(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),this.persistSession?await np(this.storage,this.storageKey):this.inMemorySession=null}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&aa()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),wu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),await this._autoRefreshTokenTick()}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-t)/wu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${wu}ms, refresh threshold is ${Ew} ticks`),a<=Ew&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!aa()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){this._debug(`#_onVisibilityChanged(${t})`,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(t||(await this.initializePromise,await this._recoverAndRefresh(),this._debug("#_onVisibilityChanged()","finished waiting for initialize, _recoverAndRefresh")),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s){const r=[`provider=${encodeURIComponent(t)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const a=vu();await cc(this.storage,`${this.storageKey}-code-verifier`,a);const o=await yu(a),i=a===o?"plain":"s256";this._debug("PKCE","code verifier",`${a.substring(0,5)}...`,"code challenge",o,"method",i);const l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});r.push(l.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);r.push(a.toString())}return`${this.url}/authorize?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var r;const{data:a,error:o}=s;return o?{data:null,error:o}:await St(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(vt(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var r,a;const{data:o,error:i}=s;if(i)return{data:null,error:i};const{data:l,error:c}=await St(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(vt(s))return{data:null,error:s};throw s}}async _verify(t){try{return await this._useSession(async s=>{var r;const{data:a,error:o}=s;if(o)return{data:null,error:o};const{data:i,error:l}=await St(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(s){if(vt(s))return{data:null,error:s};throw s}}async _challenge(t){try{return await this._useSession(async s=>{var r;const{data:a,error:o}=s;return o?{data:null,error:o}:await St(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(vt(s))return{data:null,error:s};throw s}}async _challengeAndVerify(t){const{data:s,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(t==null?void 0:t.factors)||[],a=r.filter(o=>o.factor_type==="totp"&&o.status==="verified");return{data:{all:r,totp:a},error:null}}async _getAuthenticatorAssuranceLevel(){return await this._useSession(async t=>{var s,r;const{data:{session:a},error:o}=t;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(a.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((r=(s=a.user.factors)===null||s===void 0?void 0:s.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}})}}cd.nextInstanceID=0;class AI extends cd{constructor(t){super(t)}}var MI=globalThis&&globalThis.__awaiter||function(e,t,s,r){function a(o){return o instanceof s?o:new s(function(i){i(o)})}return new(s||(s=Promise))(function(o,i){function l(u){try{d(r.next(u))}catch(m){i(m)}}function c(u){try{d(r.throw(u))}catch(m){i(m)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const RI={headers:H5},OI={schema:"public"},DI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},II={};class LI{constructor(t,s,r){var a,o,i,l,c,d,u,m;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const h=X5(t);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const p=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,x={db:OI,realtime:II,auth:Object.assign(Object.assign({},DI),{storageKey:p}),global:RI},g=Q5(r??{},x);this.storageKey=(o=(a=g.auth)===null||a===void 0?void 0:a.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=(i=g.global)===null||i===void 0?void 0:i.headers)!==null&&l!==void 0?l:{},this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,(d=g.global)===null||d===void 0?void 0:d.fetch),this.fetch=K5(s,this._getAccessToken.bind(this),(u=g.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},g.realtime)),this.rest=new e5(`${h}/rest/v1`,{headers:this.headers,schema:(m=g.db)===null||m===void 0?void 0:m.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new T4(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new B5(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,s={},r){return this.rest.rpc(t,s,r)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return MI(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(s=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:a,storageKey:o,flowType:i,debug:l},c,d){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new AI({url:this.authUrl,headers:Object.assign(Object.assign({},u),c),storageKey:o,autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:a,flowType:i,debug:l,fetch:d})}_initRealtimeClient(t){return new x5(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,s,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $I=(e,t,s)=>new LI(e,t,s),FI="https://uybiseugdckzadrakfqa.supabase.co",VI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV5YmlzZXVnZGNremFkcmFrZnFhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI1NzAxMDMsImV4cCI6MjA3ODE0NjEwM30.1pts8rK7cQsWdEb-NvNa39Iz_rZF2OvYVhpTzZnrlqg",R=$I(FI,VI),zI=1;let ip=0;function BI(){return ip=(ip+1)%Number.MAX_VALUE,ip.toString()}const ir={state:{toasts:[]},listeners:[],getState:()=>ir.state,setState:e=>{typeof e=="function"?ir.state=e(ir.state):ir.state={...ir.state,...e},ir.listeners.forEach(t=>t(ir.state))},subscribe:e=>(ir.listeners.push(e),()=>{ir.listeners=ir.listeners.filter(t=>t!==e)})},UI=({...e})=>{const t=BI(),s=a=>ir.setState(o=>({...o,toasts:o.toasts.map(i=>i.id===t?{...i,...a}:i)})),r=()=>ir.setState(a=>({...a,toasts:a.toasts.filter(o=>o.id!==t)}));return ir.setState(a=>({...a,toasts:[{...e,id:t,dismiss:r},...a.toasts].slice(0,zI)})),{id:t,dismiss:r,update:s}};function Pt(){const[e,t]=f.useState(ir.getState());return f.useEffect(()=>ir.subscribe(r=>{t(r)}),[]),f.useEffect(()=>{const s=[];return e.toasts.forEach(r=>{if(r.duration===1/0)return;const a=setTimeout(()=>{r.dismiss()},r.duration||3e3);s.push(a)}),()=>{s.forEach(r=>clearTimeout(r))}},[e.toasts]),{toast:UI,toasts:e.toasts}}const XS=f.createContext(void 0),HI=({children:e})=>{const{toast:t}=Pt(),s=Ea(),[r,a]=f.useState(null),[o,i]=f.useState(null),[l,c]=f.useState(!0),[d,u]=f.useState(null),[m,h]=f.useState(()=>sessionStorage.getItem("professor-session")==="true"),p=f.useRef(null),x=f.useCallback(async(D,z)=>{if(D)try{await R.from("profiles").update({is_online:z,last_seen_at:new Date().toISOString()}).eq("id",D)}catch(M){console.error("Error updating online status:",M)}},[]),g=f.useCallback((D,z)=>{if(!D||p.current)return;const M=R.channel("online-users",{config:{presence:{key:D}}});M.on("presence",{event:"sync"},()=>{}).on("presence",{event:"join"},({key:U,newPresences:$})=>{console.log("User joined:",U)}).on("presence",{event:"leave"},({key:U,leftPresences:$})=>{console.log("User left:",U)}).subscribe(async U=>{U==="SUBSCRIBED"&&await M.track({user_id:D,full_name:(z==null?void 0:z.full_name)||"Usuario",role:(z==null?void 0:z.role)||"student",online_at:new Date().toISOString()})}),p.current=M},[]),y=f.useCallback(()=>{p.current&&(R.removeChannel(p.current),p.current=null)},[]),b=f.useCallback(async D=>{if(!D)return u(null),null;const{data:z,error:M}=await R.from("profiles").select("*").eq("id",D).maybeSingle();return M?(console.error("Error fetching profile:",M),u(null)):u(z),z},[]),v=f.useCallback(async()=>{const D=r==null?void 0:r.id;D&&await x(D,!1),y(),a(null),i(null),u(null),h(!1),sessionStorage.removeItem("professor-session");const{error:z}=await R.auth.signOut();z?z.message!=="No session found"&&z.code!=="session_not_found"&&(console.error("Sign out error:",z),t({variant:"destructive",title:"Erro ao sair",description:"Houve um problema ao finalizar a sesso."})):t({variant:"info",title:"At logo! ",description:"Voc saiu com sucesso."}),s("/login")},[s,t,r==null?void 0:r.id,x,y]),w=D=>{h(D),D?sessionStorage.setItem("professor-session","true"):sessionStorage.removeItem("professor-session")},j=f.useCallback(async D=>{i(D);let z=(D==null?void 0:D.user)??null;if(a(z),D&&!z){const{data:{session:M},error:U}=await R.auth.refreshSession();!U&&M?(z=M.user,a(z),i(M)):(console.error("Failed to refresh session:",U),await R.auth.signOut())}z?await b(z.id):u(null),c(!1)},[b]);f.useEffect(()=>{(async()=>{const{data:{session:M}}=await R.auth.getSession();j(M)})();const{data:{subscription:z}}=R.auth.onAuthStateChange(async(M,U)=>{var $;if(j(U),M==="SIGNED_IN"&&(($=U==null?void 0:U.user)!=null&&$.id)){const E=await b(U.user.id);if((E==null?void 0:E.is_active)===!1){await R.auth.signOut(),t({variant:"destructive",title:"Conta Inativa",description:"Sua conta foi inativada. Para mais informaes, entre em contato com o suporte.",duration:8e3}),c(!1);return}await x(U.user.id,!0),g(U.user.id,E),(E==null?void 0:E.role)==="professor"||(E==null?void 0:E.role)==="superadmin"||(E==null?void 0:E.role)==="admin"||window.location.pathname==="/login"&&(t({variant:"info",title:"Login bem-sucedido! ",description:"Bem-vindo(a) de volta ao seu painel."}),s("/"))}else M==="SIGNED_OUT"&&(y(),h(!1),sessionStorage.removeItem("professor-session"))});return()=>{z.unsubscribe(),y()}},[j,b,s,t,x,g,y]);const N=f.useCallback(async(D,z,M)=>{const{data:U,error:$}=await R.auth.signUp({email:D,password:z,options:{...M,emailRedirectTo:void 0}});return $&&t({variant:"destructive",title:"Falha no Cadastro",description:$.message||"Algo deu errado"}),{data:U,error:$}},[t]),C=f.useCallback(async(D,z)=>{const{error:M,data:U}=await R.auth.signInWithPassword({email:D,password:z});return M?(t({variant:"destructive",title:"Falha no Login",description:M.message||"E-mail ou senha invlidos."}),{error:M}):{error:null}},[t]),_=f.useCallback(async D=>{const{error:z}=await R.auth.resetPasswordForEmail(D,{redirectTo:`${window.location.origin}/update-password`});return t(z?{variant:"destructive",title:"Falha ao redefinir",description:z.message}:{variant:"info",title:"Verifique seu e-mail!",description:"Enviamos um link para redefinir sua senha."}),{error:z}},[t]),S=f.useCallback(async D=>{const{error:z}=await R.auth.updateUser({password:D});return z?t({variant:"destructive",title:"Erro ao atualizar senha",description:z.message}):(t({variant:"info",title:"Senha atualizada!",description:"Sua senha foi alterada com sucesso."}),s("/")),{error:z}},[t,s]),O=f.useMemo(()=>({user:r,session:o,profile:d,fetchProfile:b,loading:l,professorSession:m,setProfessorSession:w,signUp:N,signIn:C,signOut:v,sendPasswordResetLink:_,updateUserPassword:S}),[r,o,d,b,l,m,N,C,v,_,S]);return n.jsx(XS.Provider,{value:O,children:e})},pr=()=>{const e=f.useContext(XS);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};function QS(e){var t,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=QS(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function JS(){for(var e,t,s=0,r="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=QS(e))&&(r&&(r+=" "),r+=t);return r}function qI(){for(var e=0,t,s,r="";e<arguments.length;)(t=arguments[e++])&&(s=ZS(t))&&(r&&(r+=" "),r+=s);return r}function ZS(e){if(typeof e=="string")return e;for(var t,s="",r=0;r<e.length;r++)e[r]&&(t=ZS(e[r]))&&(s&&(s+=" "),s+=t);return s}var o0="-";function WI(e){var t=YI(e),s=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,a=r===void 0?{}:r;function o(l){var c=l.split(o0);return c[0]===""&&c.length!==1&&c.shift(),eC(c,t)||GI(l)}function i(l,c){var d=s[l]||[];return c&&a[l]?[].concat(d,a[l]):d}return{getClassGroupId:o,getConflictingClassGroupIds:i}}function eC(e,t){var i;if(e.length===0)return t.classGroupId;var s=e[0],r=t.nextPart.get(s),a=r?eC(e.slice(1),r):void 0;if(a)return a;if(t.validators.length!==0){var o=e.join(o0);return(i=t.validators.find(function(l){var c=l.validator;return c(o)}))==null?void 0:i.classGroupId}}var kw=/^\[(.+)\]$/;function GI(e){if(kw.test(e)){var t=kw.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}}function YI(e){var t=e.theme,s=e.prefix,r={nextPart:new Map,validators:[]},a=XI(Object.entries(e.classGroups),s);return a.forEach(function(o){var i=o[0],l=o[1];nx(l,r,i,t)}),r}function nx(e,t,s,r){e.forEach(function(a){if(typeof a=="string"){var o=a===""?t:Tw(t,a);o.classGroupId=s;return}if(typeof a=="function"){if(KI(a)){nx(a(r),t,s,r);return}t.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(function(i){var l=i[0],c=i[1];nx(c,Tw(t,l),s,r)})})}function Tw(e,t){var s=e;return t.split(o0).forEach(function(r){s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s}function KI(e){return e.isThemeGetter}function XI(e,t){return t?e.map(function(s){var r=s[0],a=s[1],o=a.map(function(i){return typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(l){var c=l[0],d=l[1];return[t+c,d]})):i});return[r,o]}):e}function QI(e){if(e<1)return{get:function(){},set:function(){}};var t=0,s=new Map,r=new Map;function a(o,i){s.set(o,i),t++,t>e&&(t=0,r=s,s=new Map)}return{get:function(i){var l=s.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return a(i,l),l},set:function(i,l){s.has(i)?s.set(i,l):a(i,l)}}}var tC="!";function JI(e){var t=e.separator||":",s=t.length===1,r=t[0],a=t.length;return function(i){for(var l=[],c=0,d=0,u,m=0;m<i.length;m++){var h=i[m];if(c===0){if(h===r&&(s||i.slice(m,m+a)===t)){l.push(i.slice(d,m)),d=m+a;continue}if(h==="/"){u=m;continue}}h==="["?c++:h==="]"&&c--}var p=l.length===0?i:i.substring(d),x=p.startsWith(tC),g=x?p.substring(1):p,y=u&&u>d?u-d:void 0;return{modifiers:l,hasImportantModifier:x,baseClassName:g,maybePostfixModifierPosition:y}}}function ZI(e){if(e.length<=1)return e;var t=[],s=[];return e.forEach(function(r){var a=r[0]==="[";a?(t.push.apply(t,s.sort().concat([r])),s=[]):s.push(r)}),t.push.apply(t,s.sort()),t}function e3(e){return{cache:QI(e.cacheSize),splitModifiers:JI(e),...WI(e)}}var t3=/\s+/;function s3(e,t){var s=t.splitModifiers,r=t.getClassGroupId,a=t.getConflictingClassGroupIds,o=new Set;return e.trim().split(t3).map(function(i){var l=s(i),c=l.modifiers,d=l.hasImportantModifier,u=l.baseClassName,m=l.maybePostfixModifierPosition,h=r(m?u.substring(0,m):u),p=!!m;if(!h){if(!m)return{isTailwindClass:!1,originalClassName:i};if(h=r(u),!h)return{isTailwindClass:!1,originalClassName:i};p=!1}var x=ZI(c).join(":"),g=d?x+tC:x;return{isTailwindClass:!0,modifierId:g,classGroupId:h,originalClassName:i,hasPostfixModifier:p}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var l=i.modifierId,c=i.classGroupId,d=i.hasPostfixModifier,u=l+c;return o.has(u)?!1:(o.add(u),a(c,d).forEach(function(m){return o.add(l+m)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function r3(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var r,a,o,i=l;function l(d){var u=t[0],m=t.slice(1),h=m.reduce(function(p,x){return x(p)},u());return r=e3(h),a=r.cache.get,o=r.cache.set,i=c,c(d)}function c(d){var u=a(d);if(u)return u;var m=s3(d,r);return o(d,m),m}return function(){return i(qI.apply(null,arguments))}}function Zt(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var sC=/^\[(?:([a-z-]+):)?(.+)\]$/i,n3=/^\d+\/\d+$/,a3=new Set(["px","full","screen"]),o3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,i3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,l3=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function un(e){return qo(e)||a3.has(e)||n3.test(e)||ax(e)}function ax(e){return yi(e,"length",h3)}function c3(e){return yi(e,"size",rC)}function d3(e){return yi(e,"position",rC)}function u3(e){return yi(e,"url",p3)}function ju(e){return yi(e,"number",qo)}function qo(e){return!Number.isNaN(Number(e))}function f3(e){return e.endsWith("%")&&qo(e.slice(0,-1))}function dc(e){return Pw(e)||yi(e,"number",Pw)}function ht(e){return sC.test(e)}function uc(){return!0}function Aa(e){return o3.test(e)}function m3(e){return yi(e,"",g3)}function yi(e,t,s){var r=sC.exec(e);return r?r[1]?r[1]===t:s(r[2]):!1}function h3(e){return i3.test(e)}function rC(){return!1}function p3(e){return e.startsWith("url(")}function Pw(e){return Number.isInteger(Number(e))}function g3(e){return l3.test(e)}function x3(){var e=Zt("colors"),t=Zt("spacing"),s=Zt("blur"),r=Zt("brightness"),a=Zt("borderColor"),o=Zt("borderRadius"),i=Zt("borderSpacing"),l=Zt("borderWidth"),c=Zt("contrast"),d=Zt("grayscale"),u=Zt("hueRotate"),m=Zt("invert"),h=Zt("gap"),p=Zt("gradientColorStops"),x=Zt("gradientColorStopPositions"),g=Zt("inset"),y=Zt("margin"),b=Zt("opacity"),v=Zt("padding"),w=Zt("saturate"),j=Zt("scale"),N=Zt("sepia"),C=Zt("skew"),_=Zt("space"),S=Zt("translate"),O=function(){return["auto","contain","none"]},D=function(){return["auto","hidden","clip","visible","scroll"]},z=function(){return["auto",ht,t]},M=function(){return[ht,t]},U=function(){return["",un]},$=function(){return["auto",qo,ht]},E=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},T=function(){return["solid","dashed","dotted","double","none"]},F=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},k=function(){return["start","end","center","between","around","evenly","stretch"]},P=function(){return["","0",ht]},A=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},B=function(){return[qo,ju]},L=function(){return[qo,ht]};return{cacheSize:500,theme:{colors:[uc],spacing:[un],blur:["none","",Aa,ht],brightness:B(),borderColor:[e],borderRadius:["none","","full",Aa,ht],borderSpacing:M(),borderWidth:U(),contrast:B(),grayscale:P(),hueRotate:L(),invert:P(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[f3,ax],inset:z(),margin:z(),opacity:B(),padding:M(),saturate:B(),scale:B(),sepia:P(),skew:L(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",ht]}],container:["container"],columns:[{columns:[Aa]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(E(),[ht])}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",dc]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ht]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",dc]}],"grid-cols":[{"grid-cols":[uc]}],"col-start-end":[{col:["auto",{span:["full",dc]},ht]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[uc]}],"row-start-end":[{row:["auto",{span:[dc]},ht]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ht]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ht]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(k())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(k(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(k(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",ht,t]}],"min-w":[{"min-w":["min","max","fit",ht,un]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Aa]},Aa,ht]}],h:[{h:[ht,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ht,un]}],"max-h":[{"max-h":[ht,t,"min","max","fit"]}],"font-size":[{text:["base",Aa,ax]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ju]}],"font-family":[{font:[uc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ht]}],"line-clamp":[{"line-clamp":["none",qo,ju]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ht,un]}],"list-image":[{"list-image":["none",ht]}],"list-style-type":[{list:["none","disc","decimal",ht]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(T(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",un]}],"underline-offset":[{"underline-offset":["auto",ht,un]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ht]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ht]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(E(),[d3])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",c3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},u3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[].concat(T(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:T()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:[""].concat(T())}],"outline-offset":[{"outline-offset":[ht,un]}],"outline-w":[{outline:[un]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[un]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Aa,m3]}],"shadow-color":[{shadow:[uc]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":F()}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Aa,ht]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ht]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",ht]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",ht]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[dc,ht]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ht]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ht]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ht]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[un,ju]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var v3=r3(x3);function ee(...e){return v3(JS(e))}function Aw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function fr(...e){return t=>{let s=!1;const r=e.map(a=>{const o=Aw(a,t);return!s&&typeof o=="function"&&(s=!0),o});if(s)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():Aw(e[a],null)}}}}function it(...e){return f.useCallback(fr(...e),e)}var y3=Symbol.for("react.lazy"),Of=um[" use ".trim().toString()];function b3(e){return typeof e=="object"&&e!==null&&"then"in e}function nC(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===y3&&"_payload"in e&&b3(e._payload)}function Rm(e){const t=j3(e),s=f.forwardRef((r,a)=>{let{children:o,...i}=r;nC(o)&&typeof Of=="function"&&(o=Of(o._payload));const l=f.Children.toArray(o),c=l.find(_3);if(c){const d=c.props.children,u=l.map(m=>m===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:m);return n.jsx(t,{...i,ref:a,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}var w3=Rm("Slot");function j3(e){const t=f.forwardRef((s,r)=>{let{children:a,...o}=s;if(nC(a)&&typeof Of=="function"&&(a=Of(a._payload)),f.isValidElement(a)){const i=C3(a),l=S3(o,a.props);return a.type!==f.Fragment&&(l.ref=r?fr(r,i):i),f.cloneElement(a,l)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var N3=Symbol("radix.slottable");function _3(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===N3}function S3(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function C3(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}const Mw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Rw=JS,Rd=(e,t)=>s=>{var r;if((t==null?void 0:t.variants)==null)return Rw(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(d=>{const u=s==null?void 0:s[d],m=o==null?void 0:o[d];if(u===null)return null;const h=Mw(u)||Mw(m);return a[d][h]}),l=s&&Object.entries(s).reduce((d,u)=>{let[m,h]=u;return h===void 0||(d[m]=h),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:m,className:h,...p}=u;return Object.entries(p).every(x=>{let[g,y]=x;return Array.isArray(y)?y.includes({...o,...l}[g]):{...o,...l}[g]===y})?[...d,m,h]:d},[]);return Rw(e,i,c,s==null?void 0:s.class,s==null?void 0:s.className)},ox=Rd("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Y=Vt.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...a},o)=>{const i=r?w3:"button";return n.jsx(i,{className:ee(ox({variant:t,size:s,className:e})),ref:o,...a})});Y.displayName="Button";/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aC=(...e)=>e.filter((t,s,r)=>!!t&&r.indexOf(t)===s).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var k3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:i,...l},c)=>f.createElement("svg",{ref:c,...k3,width:t,height:t,stroke:e,strokeWidth:r?Number(s)*24/Number(t):s,className:aC("lucide",a),...l},[...i.map(([d,u])=>f.createElement(d,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(e,t)=>{const s=f.forwardRef(({className:r,...a},o)=>f.createElement(T3,{ref:o,iconNode:t,className:aC(`lucide-${E3(e)}`,r),...a}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=pe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=pe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=pe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=pe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=pe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=pe("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=pe("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=pe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=pe("CalendarHeart",[["path",{d:"M3 10h18V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7",key:"136lmk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21.29 14.7a2.43 2.43 0 0 0-2.65-.52c-.3.12-.57.3-.8.53l-.34.34-.35-.34a2.43 2.43 0 0 0-2.65-.53c-.3.12-.56.3-.79.53-.95.94-1 2.53.2 3.74L17.5 22l3.6-3.55c1.2-1.21 1.14-2.8.19-3.74Z",key:"1t7hil"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=pe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=pe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=pe("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=pe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=pe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=pe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=pe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=pe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=pe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=pe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=pe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=pe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=pe("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=pe("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=pe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=pe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=pe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=pe("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=pe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=pe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=pe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=pe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=pe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=pe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=pe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=pe("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=pe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=pe("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=pe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=pe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=pe("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=pe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=pe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=pe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=pe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=pe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=pe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=pe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=pe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=pe("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=pe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=pe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=pe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=pe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=pe("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=pe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=pe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=pe("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=pe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function je(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function oL(e,t){const s=f.createContext(t),r=o=>{const{children:i,...l}=o,c=f.useMemo(()=>l,Object.values(l));return n.jsx(s.Provider,{value:c,children:i})};r.displayName=e+"Provider";function a(o){const i=f.useContext(s);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,a]}function qr(e,t=[]){let s=[];function r(o,i){const l=f.createContext(i),c=s.length;s=[...s,i];const d=m=>{var b;const{scope:h,children:p,...x}=m,g=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,y=f.useMemo(()=>x,Object.values(x));return n.jsx(g.Provider,{value:y,children:p})};d.displayName=o+"Provider";function u(m,h){var g;const p=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,x=f.useContext(p);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[d,u]}const a=()=>{const o=s.map(i=>f.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,iL(a,...t)]}function iL(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...l,...m}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}function lL(e){const t=cL(e),s=f.forwardRef((r,a)=>{const{children:o,...i}=r,l=f.Children.toArray(o),c=l.find(uL);if(c){const d=c.props.children,u=l.map(m=>m===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:m);return n.jsx(t,{...i,ref:a,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}function cL(e){const t=f.forwardRef((s,r)=>{const{children:a,...o}=s;if(f.isValidElement(a)){const i=mL(a),l=fL(o,a.props);return a.type!==f.Fragment&&(l.ref=r?fr(r,i):i),f.cloneElement(a,l)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dL=Symbol("radix.slottable");function uL(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dL}function fL(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function mL(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var hL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ze=hL.reduce((e,t)=>{const s=lL(`Primitive.${t}`),r=f.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function c0(e,t){e&&xi.flushSync(()=>e.dispatchEvent(t))}function ps(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...s)=>{var r;return(r=t.current)==null?void 0:r.call(t,...s)},[])}function pL(e,t=globalThis==null?void 0:globalThis.document){const s=ps(e);f.useEffect(()=>{const r=a=>{a.key==="Escape"&&s(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[s,t])}var gL="DismissableLayer",fx="dismissableLayer.update",xL="dismissableLayer.pointerDownOutside",vL="dismissableLayer.focusOutside",Lw,hC=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ul=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,d=f.useContext(hC),[u,m]=f.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=f.useState({}),x=it(t,_=>m(_)),g=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(y),v=u?g.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,j=v>=b,N=bL(_=>{const S=_.target,O=[...d.branches].some(D=>D.contains(S));!j||O||(a==null||a(_),i==null||i(_),_.defaultPrevented||l==null||l())},h),C=wL(_=>{const S=_.target;[...d.branches].some(D=>D.contains(S))||(o==null||o(_),i==null||i(_),_.defaultPrevented||l==null||l())},h);return pL(_=>{v===d.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),f.useEffect(()=>{if(u)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Lw=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),$w(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Lw)}},[u,h,s,d]),f.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),$w())},[u,d]),f.useEffect(()=>{const _=()=>p({});return document.addEventListener(fx,_),()=>document.removeEventListener(fx,_)},[]),n.jsx(ze.div,{...c,ref:x,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:je(e.onFocusCapture,C.onFocusCapture),onBlurCapture:je(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:je(e.onPointerDownCapture,N.onPointerDownCapture)})});Ul.displayName=gL;var yL="DismissableLayerBranch",pC=f.forwardRef((e,t)=>{const s=f.useContext(hC),r=f.useRef(null),a=it(t,r);return f.useEffect(()=>{const o=r.current;if(o)return s.branches.add(o),()=>{s.branches.delete(o)}},[s.branches]),n.jsx(ze.div,{...e,ref:a})});pC.displayName=yL;function bL(e,t=globalThis==null?void 0:globalThis.document){const s=ps(e),r=f.useRef(!1),a=f.useRef(()=>{});return f.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){gC(xL,s,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,s]),{onPointerDownCapture:()=>r.current=!0}}function wL(e,t=globalThis==null?void 0:globalThis.document){const s=ps(e),r=f.useRef(!1);return f.useEffect(()=>{const a=o=>{o.target&&!r.current&&gC(vL,s,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $w(){const e=new CustomEvent(fx);document.dispatchEvent(e)}function gC(e,t,s,{discrete:r}){const a=s.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),r?c0(a,o):a.dispatchEvent(o)}var jL=Ul,NL=pC,cp=0;function Fm(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Fw()),document.body.insertAdjacentElement("beforeend",e[1]??Fw()),cp++,()=>{cp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),cp--}},[])}function Fw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var dp="focusScope.autoFocusOnMount",up="focusScope.autoFocusOnUnmount",Vw={bubbles:!1,cancelable:!0},_L="FocusScope",Od=f.forwardRef((e,t)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,c]=f.useState(null),d=ps(a),u=ps(o),m=f.useRef(null),h=it(t,g=>c(g)),p=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let g=function(w){if(p.paused||!l)return;const j=w.target;l.contains(j)?m.current=j:Ra(m.current,{select:!0})},y=function(w){if(p.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||Ra(m.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&Ra(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const v=new MutationObserver(b);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),v.disconnect()}}},[r,l,p.paused]),f.useEffect(()=>{if(l){Bw.add(p);const g=document.activeElement;if(!l.contains(g)){const b=new CustomEvent(dp,Vw);l.addEventListener(dp,d),l.dispatchEvent(b),b.defaultPrevented||(SL(PL(xC(l)),{select:!0}),document.activeElement===g&&Ra(l))}return()=>{l.removeEventListener(dp,d),setTimeout(()=>{const b=new CustomEvent(up,Vw);l.addEventListener(up,u),l.dispatchEvent(b),b.defaultPrevented||Ra(g??document.body,{select:!0}),l.removeEventListener(up,u),Bw.remove(p)},0)}}},[l,d,u,p]);const x=f.useCallback(g=>{if(!s&&!r||p.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(y&&b){const v=g.currentTarget,[w,j]=CL(v);w&&j?!g.shiftKey&&b===j?(g.preventDefault(),s&&Ra(w,{select:!0})):g.shiftKey&&b===w&&(g.preventDefault(),s&&Ra(j,{select:!0})):b===v&&g.preventDefault()}},[s,r,p.paused]);return n.jsx(ze.div,{tabIndex:-1,...i,ref:h,onKeyDown:x})});Od.displayName=_L;function SL(e,{select:t=!1}={}){const s=document.activeElement;for(const r of e)if(Ra(r,{select:t}),document.activeElement!==s)return}function CL(e){const t=xC(e),s=zw(t,e),r=zw(t.reverse(),e);return[s,r]}function xC(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function zw(e,t){for(const s of e)if(!EL(s,{upTo:t}))return s}function EL(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function kL(e){return e instanceof HTMLInputElement&&"select"in e}function Ra(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&kL(e)&&t&&e.select()}}var Bw=TL();function TL(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=Uw(e,t),e.unshift(t)},remove(t){var s;e=Uw(e,t),(s=e[0])==null||s.resume()}}}function Uw(e,t){const s=[...e],r=s.indexOf(t);return r!==-1&&s.splice(r,1),s}function PL(e){return e.filter(t=>t.tagName!=="A")}var Ss=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},AL=um[" useId ".trim().toString()]||(()=>{}),ML=0;function qs(e){const[t,s]=f.useState(AL());return Ss(()=>{e||s(r=>r??String(ML++))},[e]),e||(t?`radix-${t}`:"")}const RL=["top","right","bottom","left"],ho=Math.min,Or=Math.max,Lf=Math.round,_u=Math.floor,Hn=e=>({x:e,y:e}),OL={left:"right",right:"left",bottom:"top",top:"bottom"},DL={start:"end",end:"start"};function mx(e,t,s){return Or(e,ho(t,s))}function wa(e,t){return typeof e=="function"?e(t):e}function ja(e){return e.split("-")[0]}function Hl(e){return e.split("-")[1]}function d0(e){return e==="x"?"y":"x"}function u0(e){return e==="y"?"height":"width"}const IL=new Set(["top","bottom"]);function Vn(e){return IL.has(ja(e))?"y":"x"}function f0(e){return d0(Vn(e))}function LL(e,t,s){s===void 0&&(s=!1);const r=Hl(e),a=f0(e),o=u0(a);let i=a==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=$f(i)),[i,$f(i)]}function $L(e){const t=$f(e);return[hx(e),t,hx(t)]}function hx(e){return e.replace(/start|end/g,t=>DL[t])}const Hw=["left","right"],qw=["right","left"],FL=["top","bottom"],VL=["bottom","top"];function zL(e,t,s){switch(e){case"top":case"bottom":return s?t?qw:Hw:t?Hw:qw;case"left":case"right":return t?FL:VL;default:return[]}}function BL(e,t,s,r){const a=Hl(e);let o=zL(ja(e),s==="start",r);return a&&(o=o.map(i=>i+"-"+a),t&&(o=o.concat(o.map(hx)))),o}function $f(e){return e.replace(/left|right|bottom|top/g,t=>OL[t])}function UL(e){return{top:0,right:0,bottom:0,left:0,...e}}function vC(e){return typeof e!="number"?UL(e):{top:e,right:e,bottom:e,left:e}}function Ff(e){const{x:t,y:s,width:r,height:a}=e;return{width:r,height:a,top:s,left:t,right:t+r,bottom:s+a,x:t,y:s}}function Ww(e,t,s){let{reference:r,floating:a}=e;const o=Vn(t),i=f0(t),l=u0(i),c=ja(t),d=o==="y",u=r.x+r.width/2-a.width/2,m=r.y+r.height/2-a.height/2,h=r[l]/2-a[l]/2;let p;switch(c){case"top":p={x:u,y:r.y-a.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:m};break;case"left":p={x:r.x-a.width,y:m};break;default:p={x:r.x,y:r.y}}switch(Hl(t)){case"start":p[i]-=h*(s&&d?-1:1);break;case"end":p[i]+=h*(s&&d?-1:1);break}return p}const HL=async(e,t,s)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:i}=s,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:m}=Ww(d,r,c),h=r,p={},x=0;for(let g=0;g<l.length;g++){const{name:y,fn:b}=l[g],{x:v,y:w,data:j,reset:N}=await b({x:u,y:m,initialPlacement:r,placement:h,strategy:a,middlewareData:p,rects:d,platform:i,elements:{reference:e,floating:t}});u=v??u,m=w??m,p={...p,[y]:{...p[y],...j}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(d=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:u,y:m}=Ww(d,h,c)),g=-1)}return{x:u,y:m,placement:h,strategy:a,middlewareData:p}};async function hd(e,t){var s;t===void 0&&(t={});const{x:r,y:a,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:h=!1,padding:p=0}=wa(t,e),x=vC(p),y=l[h?m==="floating"?"reference":"floating":m],b=Ff(await o.getClippingRect({element:(s=await(o.isElement==null?void 0:o.isElement(y)))==null||s?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),v=m==="floating"?{x:r,y:a,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},N=Ff(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:c}):v);return{top:(b.top-N.top+x.top)/j.y,bottom:(N.bottom-b.bottom+x.bottom)/j.y,left:(b.left-N.left+x.left)/j.x,right:(N.right-b.right+x.right)/j.x}}const qL=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:r,placement:a,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=wa(e,t)||{};if(d==null)return{};const m=vC(u),h={x:s,y:r},p=f0(a),x=u0(p),g=await i.getDimensions(d),y=p==="y",b=y?"top":"left",v=y?"bottom":"right",w=y?"clientHeight":"clientWidth",j=o.reference[x]+o.reference[p]-h[p]-o.floating[x],N=h[p]-o.reference[p],C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let _=C?C[w]:0;(!_||!await(i.isElement==null?void 0:i.isElement(C)))&&(_=l.floating[w]||o.floating[x]);const S=j/2-N/2,O=_/2-g[x]/2-1,D=ho(m[b],O),z=ho(m[v],O),M=D,U=_-g[x]-z,$=_/2-g[x]/2+S,E=mx(M,$,U),T=!c.arrow&&Hl(a)!=null&&$!==E&&o.reference[x]/2-($<M?D:z)-g[x]/2<0,F=T?$<M?$-M:$-U:0;return{[p]:h[p]+F,data:{[p]:E,centerOffset:$-E-F,...T&&{alignmentOffset:F}},reset:T}}}),WL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,r;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...y}=wa(e,t);if((s=o.arrow)!=null&&s.alignmentOffset)return{};const b=ja(a),v=Vn(l),w=ja(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=h||(w||!g?[$f(l)]:$L(l)),C=x!=="none";!h&&C&&N.push(...BL(l,g,x,j));const _=[l,...N],S=await hd(t,y),O=[];let D=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&O.push(S[b]),m){const $=LL(a,i,j);O.push(S[$[0]],S[$[1]])}if(D=[...D,{placement:a,overflows:O}],!O.every($=>$<=0)){var z,M;const $=(((z=o.flip)==null?void 0:z.index)||0)+1,E=_[$];if(E&&(!(m==="alignment"?v!==Vn(E):!1)||D.every(k=>Vn(k.placement)===v?k.overflows[0]>0:!0)))return{data:{index:$,overflows:D},reset:{placement:E}};let T=(M=D.filter(F=>F.overflows[0]<=0).sort((F,k)=>F.overflows[1]-k.overflows[1])[0])==null?void 0:M.placement;if(!T)switch(p){case"bestFit":{var U;const F=(U=D.filter(k=>{if(C){const P=Vn(k.placement);return P===v||P==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(P=>P>0).reduce((P,A)=>P+A,0)]).sort((k,P)=>k[1]-P[1])[0])==null?void 0:U[0];F&&(T=F);break}case"initialPlacement":T=l;break}if(a!==T)return{reset:{placement:T}}}return{}}}};function Gw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Yw(e){return RL.some(t=>e[t]>=0)}const GL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:r="referenceHidden",...a}=wa(e,t);switch(r){case"referenceHidden":{const o=await hd(t,{...a,elementContext:"reference"}),i=Gw(o,s.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Yw(i)}}}case"escaped":{const o=await hd(t,{...a,altBoundary:!0}),i=Gw(o,s.floating);return{data:{escapedOffsets:i,escaped:Yw(i)}}}default:return{}}}}},yC=new Set(["left","top"]);async function YL(e,t){const{placement:s,platform:r,elements:a}=e,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),i=ja(s),l=Hl(s),c=Vn(s)==="y",d=yC.has(i)?-1:1,u=o&&c?-1:1,m=wa(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),c?{x:p*u,y:h*d}:{x:h*d,y:p*u}}const KL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,r;const{x:a,y:o,placement:i,middlewareData:l}=t,c=await YL(t,e);return i===((s=l.offset)==null?void 0:s.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:{...c,placement:i}}}}},XL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:y=>{let{x:b,y:v}=y;return{x:b,y:v}}},...c}=wa(e,t),d={x:s,y:r},u=await hd(t,c),m=Vn(ja(a)),h=d0(m);let p=d[h],x=d[m];if(o){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",v=p+u[y],w=p-u[b];p=mx(v,p,w)}if(i){const y=m==="y"?"top":"left",b=m==="y"?"bottom":"right",v=x+u[y],w=x-u[b];x=mx(v,x,w)}const g=l.fn({...t,[h]:p,[m]:x});return{...g,data:{x:g.x-s,y:g.y-r,enabled:{[h]:o,[m]:i}}}}}},QL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:r,placement:a,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=wa(e,t),u={x:s,y:r},m=Vn(a),h=d0(m);let p=u[h],x=u[m];const g=wa(l,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=h==="y"?"height":"width",j=o.reference[h]-o.floating[w]+y.mainAxis,N=o.reference[h]+o.reference[w]-y.mainAxis;p<j?p=j:p>N&&(p=N)}if(d){var b,v;const w=h==="y"?"width":"height",j=yC.has(ja(a)),N=o.reference[m]-o.floating[w]+(j&&((b=i.offset)==null?void 0:b[m])||0)+(j?0:y.crossAxis),C=o.reference[m]+o.reference[w]+(j?0:((v=i.offset)==null?void 0:v[m])||0)-(j?y.crossAxis:0);x<N?x=N:x>C&&(x=C)}return{[h]:p,[m]:x}}}},JL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,r;const{placement:a,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...d}=wa(e,t),u=await hd(t,d),m=ja(a),h=Hl(a),p=Vn(a)==="y",{width:x,height:g}=o.floating;let y,b;m==="top"||m==="bottom"?(y=m,b=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(b=m,y=h==="end"?"top":"bottom");const v=g-u.top-u.bottom,w=x-u.left-u.right,j=ho(g-u[y],v),N=ho(x-u[b],w),C=!t.middlewareData.shift;let _=j,S=N;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(S=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(_=v),C&&!h){const D=Or(u.left,0),z=Or(u.right,0),M=Or(u.top,0),U=Or(u.bottom,0);p?S=x-2*(D!==0||z!==0?D+z:Or(u.left,u.right)):_=g-2*(M!==0||U!==0?M+U:Or(u.top,u.bottom))}await c({...t,availableWidth:S,availableHeight:_});const O=await i.getDimensions(l.floating);return x!==O.width||g!==O.height?{reset:{rects:!0}}:{}}}};function Vm(){return typeof window<"u"}function ql(e){return bC(e)?(e.nodeName||"").toLowerCase():"#document"}function Fr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Qn(e){var t;return(t=(bC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function bC(e){return Vm()?e instanceof Node||e instanceof Fr(e).Node:!1}function Nn(e){return Vm()?e instanceof Element||e instanceof Fr(e).Element:!1}function Wn(e){return Vm()?e instanceof HTMLElement||e instanceof Fr(e).HTMLElement:!1}function Kw(e){return!Vm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Fr(e).ShadowRoot}const ZL=new Set(["inline","contents"]);function Dd(e){const{overflow:t,overflowX:s,overflowY:r,display:a}=_n(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+s)&&!ZL.has(a)}const e6=new Set(["table","td","th"]);function t6(e){return e6.has(ql(e))}const s6=[":popover-open",":modal"];function zm(e){return s6.some(t=>{try{return e.matches(t)}catch{return!1}})}const r6=["transform","translate","scale","rotate","perspective"],n6=["transform","translate","scale","rotate","perspective","filter"],a6=["paint","layout","strict","content"];function m0(e){const t=h0(),s=Nn(e)?_n(e):e;return r6.some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||n6.some(r=>(s.willChange||"").includes(r))||a6.some(r=>(s.contain||"").includes(r))}function o6(e){let t=po(e);for(;Wn(t)&&!Sl(t);){if(m0(t))return t;if(zm(t))return null;t=po(t)}return null}function h0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const i6=new Set(["html","body","#document"]);function Sl(e){return i6.has(ql(e))}function _n(e){return Fr(e).getComputedStyle(e)}function Bm(e){return Nn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function po(e){if(ql(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Kw(e)&&e.host||Qn(e);return Kw(t)?t.host:t}function wC(e){const t=po(e);return Sl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wn(t)&&Dd(t)?t:wC(t)}function pd(e,t,s){var r;t===void 0&&(t=[]),s===void 0&&(s=!0);const a=wC(e),o=a===((r=e.ownerDocument)==null?void 0:r.body),i=Fr(a);if(o){const l=px(i);return t.concat(i,i.visualViewport||[],Dd(a)?a:[],l&&s?pd(l):[])}return t.concat(a,pd(a,[],s))}function px(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function jC(e){const t=_n(e);let s=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Wn(e),o=a?e.offsetWidth:s,i=a?e.offsetHeight:r,l=Lf(s)!==o||Lf(r)!==i;return l&&(s=o,r=i),{width:s,height:r,$:l}}function p0(e){return Nn(e)?e:e.contextElement}function ml(e){const t=p0(e);if(!Wn(t))return Hn(1);const s=t.getBoundingClientRect(),{width:r,height:a,$:o}=jC(t);let i=(o?Lf(s.width):s.width)/r,l=(o?Lf(s.height):s.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const l6=Hn(0);function NC(e){const t=Fr(e);return!h0()||!t.visualViewport?l6:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function c6(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==Fr(e)?!1:t}function li(e,t,s,r){t===void 0&&(t=!1),s===void 0&&(s=!1);const a=e.getBoundingClientRect(),o=p0(e);let i=Hn(1);t&&(r?Nn(r)&&(i=ml(r)):i=ml(e));const l=c6(o,s,r)?NC(o):Hn(0);let c=(a.left+l.x)/i.x,d=(a.top+l.y)/i.y,u=a.width/i.x,m=a.height/i.y;if(o){const h=Fr(o),p=r&&Nn(r)?Fr(r):r;let x=h,g=px(x);for(;g&&r&&p!==x;){const y=ml(g),b=g.getBoundingClientRect(),v=_n(g),w=b.left+(g.clientLeft+parseFloat(v.paddingLeft))*y.x,j=b.top+(g.clientTop+parseFloat(v.paddingTop))*y.y;c*=y.x,d*=y.y,u*=y.x,m*=y.y,c+=w,d+=j,x=Fr(g),g=px(x)}}return Ff({width:u,height:m,x:c,y:d})}function Um(e,t){const s=Bm(e).scrollLeft;return t?t.left+s:li(Qn(e)).left+s}function _C(e,t){const s=e.getBoundingClientRect(),r=s.left+t.scrollLeft-Um(e,s),a=s.top+t.scrollTop;return{x:r,y:a}}function d6(e){let{elements:t,rect:s,offsetParent:r,strategy:a}=e;const o=a==="fixed",i=Qn(r),l=t?zm(t.floating):!1;if(r===i||l&&o)return s;let c={scrollLeft:0,scrollTop:0},d=Hn(1);const u=Hn(0),m=Wn(r);if((m||!m&&!o)&&((ql(r)!=="body"||Dd(i))&&(c=Bm(r)),Wn(r))){const p=li(r);d=ml(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const h=i&&!m&&!o?_C(i,c):Hn(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-c.scrollLeft*d.x+u.x+h.x,y:s.y*d.y-c.scrollTop*d.y+u.y+h.y}}function u6(e){return Array.from(e.getClientRects())}function f6(e){const t=Qn(e),s=Bm(e),r=e.ownerDocument.body,a=Or(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Or(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-s.scrollLeft+Um(e);const l=-s.scrollTop;return _n(r).direction==="rtl"&&(i+=Or(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:i,y:l}}const Xw=25;function m6(e,t){const s=Fr(e),r=Qn(e),a=s.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(a){o=a.width,i=a.height;const u=h0();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const d=Um(r);if(d<=0){const u=r.ownerDocument,m=u.body,h=getComputedStyle(m),p=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,x=Math.abs(r.clientWidth-m.clientWidth-p);x<=Xw&&(o-=x)}else d<=Xw&&(o+=d);return{width:o,height:i,x:l,y:c}}const h6=new Set(["absolute","fixed"]);function p6(e,t){const s=li(e,!0,t==="fixed"),r=s.top+e.clientTop,a=s.left+e.clientLeft,o=Wn(e)?ml(e):Hn(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=a*o.x,d=r*o.y;return{width:i,height:l,x:c,y:d}}function Qw(e,t,s){let r;if(t==="viewport")r=m6(e,s);else if(t==="document")r=f6(Qn(e));else if(Nn(t))r=p6(t,s);else{const a=NC(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Ff(r)}function SC(e,t){const s=po(e);return s===t||!Nn(s)||Sl(s)?!1:_n(s).position==="fixed"||SC(s,t)}function g6(e,t){const s=t.get(e);if(s)return s;let r=pd(e,[],!1).filter(l=>Nn(l)&&ql(l)!=="body"),a=null;const o=_n(e).position==="fixed";let i=o?po(e):e;for(;Nn(i)&&!Sl(i);){const l=_n(i),c=m0(i);!c&&l.position==="fixed"&&(a=null),(o?!c&&!a:!c&&l.position==="static"&&!!a&&h6.has(a.position)||Dd(i)&&!c&&SC(e,i))?r=r.filter(u=>u!==i):a=l,i=po(i)}return t.set(e,r),r}function x6(e){let{element:t,boundary:s,rootBoundary:r,strategy:a}=e;const i=[...s==="clippingAncestors"?zm(t)?[]:g6(t,this._c):[].concat(s),r],l=i[0],c=i.reduce((d,u)=>{const m=Qw(t,u,a);return d.top=Or(m.top,d.top),d.right=ho(m.right,d.right),d.bottom=ho(m.bottom,d.bottom),d.left=Or(m.left,d.left),d},Qw(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function v6(e){const{width:t,height:s}=jC(e);return{width:t,height:s}}function y6(e,t,s){const r=Wn(t),a=Qn(t),o=s==="fixed",i=li(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Hn(0);function d(){c.x=Um(a)}if(r||!r&&!o)if((ql(t)!=="body"||Dd(a))&&(l=Bm(t)),r){const p=li(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&d();o&&!r&&a&&d();const u=a&&!r&&!o?_C(a,l):Hn(0),m=i.left+l.scrollLeft-c.x-u.x,h=i.top+l.scrollTop-c.y-u.y;return{x:m,y:h,width:i.width,height:i.height}}function fp(e){return _n(e).position==="static"}function Jw(e,t){if(!Wn(e)||_n(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return Qn(e)===s&&(s=s.ownerDocument.body),s}function CC(e,t){const s=Fr(e);if(zm(e))return s;if(!Wn(e)){let a=po(e);for(;a&&!Sl(a);){if(Nn(a)&&!fp(a))return a;a=po(a)}return s}let r=Jw(e,t);for(;r&&t6(r)&&fp(r);)r=Jw(r,t);return r&&Sl(r)&&fp(r)&&!m0(r)?s:r||o6(e)||s}const b6=async function(e){const t=this.getOffsetParent||CC,s=this.getDimensions,r=await s(e.floating);return{reference:y6(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function w6(e){return _n(e).direction==="rtl"}const j6={convertOffsetParentRelativeRectToViewportRelativeRect:d6,getDocumentElement:Qn,getClippingRect:x6,getOffsetParent:CC,getElementRects:b6,getClientRects:u6,getDimensions:v6,getScale:ml,isElement:Nn,isRTL:w6};function EC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function N6(e,t){let s=null,r;const a=Qn(e);function o(){var l;clearTimeout(r),(l=s)==null||l.disconnect(),s=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const d=e.getBoundingClientRect(),{left:u,top:m,width:h,height:p}=d;if(l||t(),!h||!p)return;const x=_u(m),g=_u(a.clientWidth-(u+h)),y=_u(a.clientHeight-(m+p)),b=_u(u),w={rootMargin:-x+"px "+-g+"px "+-y+"px "+-b+"px",threshold:Or(0,ho(1,c))||1};let j=!0;function N(C){const _=C[0].intersectionRatio;if(_!==c){if(!j)return i();_?i(!1,_):r=setTimeout(()=>{i(!1,1e-7)},1e3)}_===1&&!EC(d,e.getBoundingClientRect())&&i(),j=!1}try{s=new IntersectionObserver(N,{...w,root:a.ownerDocument})}catch{s=new IntersectionObserver(N,w)}s.observe(e)}return i(!0),o}function _6(e,t,s,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=p0(e),u=a||o?[...d?pd(d):[],...pd(t)]:[];u.forEach(b=>{a&&b.addEventListener("scroll",s,{passive:!0}),o&&b.addEventListener("resize",s)});const m=d&&l?N6(d,s):null;let h=-1,p=null;i&&(p=new ResizeObserver(b=>{let[v]=b;v&&v.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),s()}),d&&!c&&p.observe(d),p.observe(t));let x,g=c?li(e):null;c&&y();function y(){const b=li(e);g&&!EC(g,b)&&s(),g=b,x=requestAnimationFrame(y)}return s(),()=>{var b;u.forEach(v=>{a&&v.removeEventListener("scroll",s),o&&v.removeEventListener("resize",s)}),m==null||m(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const S6=KL,C6=XL,E6=WL,k6=JL,T6=GL,Zw=qL,P6=QL,A6=(e,t,s)=>{const r=new Map,a={platform:j6,...s},o={...a.platform,_c:r};return HL(e,t,{...a,platform:o})};var M6=typeof document<"u",R6=function(){},ef=M6?f.useLayoutEffect:R6;function Vf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(r=s;r--!==0;)if(!Vf(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),s=a.length,s!==Object.keys(t).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=s;r--!==0;){const o=a[r];if(!(o==="_owner"&&e.$$typeof)&&!Vf(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function kC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ej(e,t){const s=kC(e);return Math.round(t*s)/s}function mp(e){const t=f.useRef(e);return ef(()=>{t.current=e}),t}function O6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,m]=f.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=f.useState(r);Vf(h,r)||p(r);const[x,g]=f.useState(null),[y,b]=f.useState(null),v=f.useCallback(k=>{k!==C.current&&(C.current=k,g(k))},[]),w=f.useCallback(k=>{k!==_.current&&(_.current=k,b(k))},[]),j=o||x,N=i||y,C=f.useRef(null),_=f.useRef(null),S=f.useRef(u),O=c!=null,D=mp(c),z=mp(a),M=mp(d),U=f.useCallback(()=>{if(!C.current||!_.current)return;const k={placement:t,strategy:s,middleware:h};z.current&&(k.platform=z.current),A6(C.current,_.current,k).then(P=>{const A={...P,isPositioned:M.current!==!1};$.current&&!Vf(S.current,A)&&(S.current=A,xi.flushSync(()=>{m(A)}))})},[h,t,s,z,M]);ef(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,m(k=>({...k,isPositioned:!1})))},[d]);const $=f.useRef(!1);ef(()=>($.current=!0,()=>{$.current=!1}),[]),ef(()=>{if(j&&(C.current=j),N&&(_.current=N),j&&N){if(D.current)return D.current(j,N,U);U()}},[j,N,U,D,O]);const E=f.useMemo(()=>({reference:C,floating:_,setReference:v,setFloating:w}),[v,w]),T=f.useMemo(()=>({reference:j,floating:N}),[j,N]),F=f.useMemo(()=>{const k={position:s,left:0,top:0};if(!T.floating)return k;const P=ej(T.floating,u.x),A=ej(T.floating,u.y);return l?{...k,transform:"translate("+P+"px, "+A+"px)",...kC(T.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:P,top:A}},[s,l,T.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:U,refs:E,elements:T,floatingStyles:F}),[u,U,E,T,F])}const D6=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:r,padding:a}=typeof e=="function"?e(s):e;return r&&t(r)?r.current!=null?Zw({element:r.current,padding:a}).fn(s):{}:r?Zw({element:r,padding:a}).fn(s):{}}}},I6=(e,t)=>({...S6(e),options:[e,t]}),L6=(e,t)=>({...C6(e),options:[e,t]}),$6=(e,t)=>({...P6(e),options:[e,t]}),F6=(e,t)=>({...E6(e),options:[e,t]}),V6=(e,t)=>({...k6(e),options:[e,t]}),z6=(e,t)=>({...T6(e),options:[e,t]}),B6=(e,t)=>({...D6(e),options:[e,t]});var U6="Arrow",TC=f.forwardRef((e,t)=>{const{children:s,width:r=10,height:a=5,...o}=e;return n.jsx(ze.svg,{...o,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});TC.displayName=U6;var H6=TC;function g0(e){const[t,s]=f.useState(void 0);return Ss(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=e.offsetWidth,l=e.offsetHeight;s({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else s(void 0)},[e]),t}var x0="Popper",[PC,Wl]=qr(x0),[q6,AC]=PC(x0),MC=e=>{const{__scopePopper:t,children:s}=e,[r,a]=f.useState(null);return n.jsx(q6,{scope:t,anchor:r,onAnchorChange:a,children:s})};MC.displayName=x0;var RC="PopperAnchor",OC=f.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:r,...a}=e,o=AC(RC,s),i=f.useRef(null),l=it(t,i),c=f.useRef(null);return f.useEffect(()=>{const d=c.current;c.current=(r==null?void 0:r.current)||i.current,d!==c.current&&o.onAnchorChange(c.current)}),r?null:n.jsx(ze.div,{...a,ref:l})});OC.displayName=RC;var v0="PopperContent",[W6,G6]=PC(v0),DC=f.forwardRef((e,t)=>{var q,X,le,te,ie,Ne;const{__scopePopper:s,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:x,...g}=e,y=AC(v0,s),[b,v]=f.useState(null),w=it(t,Re=>v(Re)),[j,N]=f.useState(null),C=g0(j),_=(C==null?void 0:C.width)??0,S=(C==null?void 0:C.height)??0,O=r+(o!=="center"?"-"+o:""),D=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},z=Array.isArray(d)?d:[d],M=z.length>0,U={padding:D,boundary:z.filter(K6),altBoundary:M},{refs:$,floatingStyles:E,placement:T,isPositioned:F,middlewareData:k}=O6({strategy:"fixed",placement:O,whileElementsMounted:(...Re)=>_6(...Re,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[I6({mainAxis:a+S,alignmentAxis:i}),c&&L6({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?$6():void 0,...U}),c&&F6({...U}),V6({...U,apply:({elements:Re,rects:Je,availableWidth:V,availableHeight:_e})=>{const{width:oe,height:be}=Je.reference,Ce=Re.floating.style;Ce.setProperty("--radix-popper-available-width",`${V}px`),Ce.setProperty("--radix-popper-available-height",`${_e}px`),Ce.setProperty("--radix-popper-anchor-width",`${oe}px`),Ce.setProperty("--radix-popper-anchor-height",`${be}px`)}}),j&&B6({element:j,padding:l}),X6({arrowWidth:_,arrowHeight:S}),h&&z6({strategy:"referenceHidden",...U})]}),[P,A]=$C(T),B=ps(x);Ss(()=>{F&&(B==null||B())},[F,B]);const L=(q=k.arrow)==null?void 0:q.x,H=(X=k.arrow)==null?void 0:X.y,I=((le=k.arrow)==null?void 0:le.centerOffset)!==0,[G,K]=f.useState();return Ss(()=>{b&&K(window.getComputedStyle(b).zIndex)},[b]),n.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...E,transform:F?E.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(te=k.transformOrigin)==null?void 0:te.x,(ie=k.transformOrigin)==null?void 0:ie.y].join(" "),...((Ne=k.hide)==null?void 0:Ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(W6,{scope:s,placedSide:P,onArrowChange:N,arrowX:L,arrowY:H,shouldHideArrow:I,children:n.jsx(ze.div,{"data-side":P,"data-align":A,...g,ref:w,style:{...g.style,animation:F?void 0:"none"}})})})});DC.displayName=v0;var IC="PopperArrow",Y6={top:"bottom",right:"left",bottom:"top",left:"right"},LC=f.forwardRef(function(t,s){const{__scopePopper:r,...a}=t,o=G6(IC,r),i=Y6[o.placedSide];return n.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:n.jsx(H6,{...a,ref:s,style:{...a.style,display:"block"}})})});LC.displayName=IC;function K6(e){return e!==null}var X6=e=>({name:"transformOrigin",options:e,fn(t){var y,b,v;const{placement:s,rects:r,middlewareData:a}=t,i=((y=a.arrow)==null?void 0:y.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[d,u]=$C(s),m={start:"0%",center:"50%",end:"100%"}[u],h=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,p=(((v=a.arrow)==null?void 0:v.y)??0)+c/2;let x="",g="";return d==="bottom"?(x=i?m:`${h}px`,g=`${-c}px`):d==="top"?(x=i?m:`${h}px`,g=`${r.floating.height+c}px`):d==="right"?(x=`${-c}px`,g=i?m:`${p}px`):d==="left"&&(x=`${r.floating.width+c}px`,g=i?m:`${p}px`),{data:{x,y:g}}}});function $C(e){const[t,s="center"]=e.split("-");return[t,s]}var y0=MC,Hm=OC,b0=DC,w0=LC,Q6="Portal",Gl=f.forwardRef((e,t)=>{var l;const{container:s,...r}=e,[a,o]=f.useState(!1);Ss(()=>o(!0),[]);const i=s||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?PO.createPortal(n.jsx(ze.div,{...r,ref:t}),i):null});Gl.displayName=Q6;function J6(e,t){return f.useReducer((s,r)=>t[s][r]??s,e)}var Ys=e=>{const{present:t,children:s}=e,r=Z6(t),a=typeof s=="function"?s({present:r.isPresent}):f.Children.only(s),o=it(r.ref,e$(a));return typeof s=="function"||r.isPresent?f.cloneElement(a,{ref:o}):null};Ys.displayName="Presence";function Z6(e){const[t,s]=f.useState(),r=f.useRef(null),a=f.useRef(e),o=f.useRef("none"),i=e?"mounted":"unmounted",[l,c]=J6(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const d=Su(r.current);o.current=l==="mounted"?d:"none"},[l]),Ss(()=>{const d=r.current,u=a.current;if(u!==e){const h=o.current,p=Su(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Ss(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,m=p=>{const g=Su(r.current).includes(CSS.escape(p.animationName));if(p.target===t&&g&&(c("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=p=>{p.target===t&&(o.current=Su(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(d=>{r.current=d?getComputedStyle(d):null,s(d)},[])}}function Su(e){return(e==null?void 0:e.animationName)||"none"}function e$(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function t$(e){const t=s$(e),s=f.forwardRef((r,a)=>{const{children:o,...i}=r,l=f.Children.toArray(o),c=l.find(n$);if(c){const d=c.props.children,u=l.map(m=>m===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:m);return n.jsx(t,{...i,ref:a,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}function s$(e){const t=f.forwardRef((s,r)=>{const{children:a,...o}=s;if(f.isValidElement(a)){const i=o$(a),l=a$(o,a.props);return a.type!==f.Fragment&&(l.ref=r?fr(r,i):i),f.cloneElement(a,l)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var r$=Symbol("radix.slottable");function n$(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===r$}function a$(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function o$(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var i$=um[" useInsertionEffect ".trim().toString()]||Ss;function Gn({prop:e,defaultProp:t,onChange:s=()=>{},caller:r}){const[a,o,i]=l$({defaultProp:t,onChange:s}),l=e!==void 0,c=l?e:a;{const u=f.useRef(e!==void 0);f.useEffect(()=>{const m=u.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,r])}const d=f.useCallback(u=>{var m;if(l){const h=c$(u)?u(e):u;h!==e&&((m=i.current)==null||m.call(i,h))}else o(u)},[l,e,o,i]);return[c,d]}function l$({defaultProp:e,onChange:t}){const[s,r]=f.useState(e),a=f.useRef(s),o=f.useRef(t);return i$(()=>{o.current=t},[t]),f.useEffect(()=>{var i;a.current!==s&&((i=o.current)==null||i.call(o,s),a.current=s)},[s,a]),[s,r,o]}function c$(e){return typeof e=="function"}var d$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ai=new WeakMap,Cu=new WeakMap,Eu={},hp=0,FC=function(e){return e&&(e.host||FC(e.parentNode))},u$=function(e,t){return t.map(function(s){if(e.contains(s))return s;var r=FC(s);return r&&e.contains(r)?r:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},f$=function(e,t,s,r){var a=u$(t,Array.isArray(e)?e:[e]);Eu[s]||(Eu[s]=new WeakMap);var o=Eu[s],i=[],l=new Set,c=new Set(a),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};a.forEach(d);var u=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(h){if(l.has(h))u(h);else try{var p=h.getAttribute(r),x=p!==null&&p!=="false",g=(Ai.get(h)||0)+1,y=(o.get(h)||0)+1;Ai.set(h,g),o.set(h,y),i.push(h),g===1&&x&&Cu.set(h,!0),y===1&&h.setAttribute(s,"true"),x||h.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return u(t),l.clear(),hp++,function(){i.forEach(function(m){var h=Ai.get(m)-1,p=o.get(m)-1;Ai.set(m,h),o.set(m,p),h||(Cu.has(m)||m.removeAttribute(r),Cu.delete(m)),p||m.removeAttribute(s)}),hp--,hp||(Ai=new WeakMap,Ai=new WeakMap,Cu=new WeakMap,Eu={})}},qm=function(e,t,s){s===void 0&&(s="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=t||d$(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),f$(r,a,s,"aria-hidden")):function(){return null}},tf="right-scroll-bar-position",sf="width-before-scroll-bar",m$="with-scroll-bars-hidden",h$="--removed-body-scroll-bar-size";function pp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function p$(e,t){var s=f.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(r){var a=s.value;a!==r&&(s.value=r,s.callback(r,a))}}}})[0];return s.callback=t,s.facade}var g$=typeof window<"u"?f.useLayoutEffect:f.useEffect,tj=new WeakMap;function x$(e,t){var s=p$(t||null,function(r){return e.forEach(function(a){return pp(a,r)})});return g$(function(){var r=tj.get(s);if(r){var a=new Set(r),o=new Set(e),i=s.current;a.forEach(function(l){o.has(l)||pp(l,null)}),o.forEach(function(l){a.has(l)||pp(l,i)})}tj.set(s,e)},[e]),s}function v$(e){return e}function y$(e,t){t===void 0&&(t=v$);var s=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(o){var i=t(o,r);return s.push(i),function(){s=s.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;s.length;){var i=s;s=[],i.forEach(o)}s={push:function(l){return o(l)},filter:function(){return s}}},assignMedium:function(o){r=!0;var i=[];if(s.length){var l=s;s=[],l.forEach(o),i=s}var c=function(){var u=i;i=[],u.forEach(o)},d=function(){return Promise.resolve().then(c)};d(),s={push:function(u){i.push(u),d()},filter:function(u){return i=i.filter(u),s}}}};return a}function b$(e){e===void 0&&(e={});var t=y$(null);return t.options=On({async:!0,ssr:!1},e),t}var VC=function(e){var t=e.sideCar,s=TS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,On({},s))};VC.isSideCarExport=!0;function w$(e,t){return e.useMedium(t),VC}var zC=b$(),gp=function(){},Wm=f.forwardRef(function(e,t){var s=f.useRef(null),r=f.useState({onScrollCapture:gp,onWheelCapture:gp,onTouchMoveCapture:gp}),a=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,m=e.shards,h=e.sideCar,p=e.noRelative,x=e.noIsolation,g=e.inert,y=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,w=e.gapMode,j=TS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,C=x$([s,t]),_=On(On({},j),a);return f.createElement(f.Fragment,null,u&&f.createElement(N,{sideCar:zC,removeScrollBar:d,shards:m,noRelative:p,noIsolation:x,inert:g,setCallbacks:o,allowPinchZoom:!!y,lockRef:s,gapMode:w}),i?f.cloneElement(f.Children.only(l),On(On({},_),{ref:C})):f.createElement(v,On({},_,{className:c,ref:C}),l))});Wm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wm.classNames={fullWidth:sf,zeroRight:tf};var sj,j$=function(){if(sj)return sj;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function N$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=j$();return t&&e.setAttribute("nonce",t),e}function _$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function S$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var C$=function(){var e=0,t=null;return{add:function(s){e==0&&(t=N$())&&(_$(t,s),S$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},E$=function(){var e=C$();return function(t,s){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},BC=function(){var e=E$(),t=function(s){var r=s.styles,a=s.dynamic;return e(r,a),null};return t},k$={left:0,top:0,right:0,gap:0},xp=function(e){return parseInt(e||"",10)||0},T$=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[xp(s),xp(r),xp(a)]},P$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return k$;var t=T$(e),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-s+t[2]-t[0])}},A$=BC(),hl="data-scroll-locked",M$=function(e,t,s,r){var a=e.left,o=e.top,i=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(m$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(hl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),s==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(tf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(sf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(tf," .").concat(tf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(sf," .").concat(sf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(hl,`] {
    `).concat(h$,": ").concat(l,`px;
  }
`)},rj=function(){var e=parseInt(document.body.getAttribute(hl)||"0",10);return isFinite(e)?e:0},R$=function(){f.useEffect(function(){return document.body.setAttribute(hl,(rj()+1).toString()),function(){var e=rj()-1;e<=0?document.body.removeAttribute(hl):document.body.setAttribute(hl,e.toString())}},[])},O$=function(e){var t=e.noRelative,s=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;R$();var o=f.useMemo(function(){return P$(a)},[a]);return f.createElement(A$,{styles:M$(o,!t,a,s?"":"!important")})},gx=!1;if(typeof window<"u")try{var ku=Object.defineProperty({},"passive",{get:function(){return gx=!0,!0}});window.addEventListener("test",ku,ku),window.removeEventListener("test",ku,ku)}catch{gx=!1}var Mi=gx?{passive:!1}:!1,D$=function(e){return e.tagName==="TEXTAREA"},UC=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!D$(e)&&s[t]==="visible")},I$=function(e){return UC(e,"overflowY")},L$=function(e){return UC(e,"overflowX")},nj=function(e,t){var s=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=HC(e,r);if(a){var o=qC(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==s.body);return!1},$$=function(e){var t=e.scrollTop,s=e.scrollHeight,r=e.clientHeight;return[t,s,r]},F$=function(e){var t=e.scrollLeft,s=e.scrollWidth,r=e.clientWidth;return[t,s,r]},HC=function(e,t){return e==="v"?I$(t):L$(t)},qC=function(e,t){return e==="v"?$$(t):F$(t)},V$=function(e,t){return e==="h"&&t==="rtl"?-1:1},z$=function(e,t,s,r,a){var o=V$(e,window.getComputedStyle(t).direction),i=o*r,l=s.target,c=t.contains(l),d=!1,u=i>0,m=0,h=0;do{if(!l)break;var p=qC(e,l),x=p[0],g=p[1],y=p[2],b=g-y-o*x;(x||b)&&HC(e,l)&&(m+=b,h+=x);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(a&&Math.abs(m)<1||!a&&i>m)||!u&&(a&&Math.abs(h)<1||!a&&-i>h))&&(d=!0),d},Tu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},aj=function(e){return[e.deltaX,e.deltaY]},oj=function(e){return e&&"current"in e?e.current:e},B$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},U$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},H$=0,Ri=[];function q$(e){var t=f.useRef([]),s=f.useRef([0,0]),r=f.useRef(),a=f.useState(H$++)[0],o=f.useState(BC)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=C4([e.lockRef.current],(e.shards||[]).map(oj),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var b=Tu(g),v=s.current,w="deltaX"in g?g.deltaX:v[0]-b[0],j="deltaY"in g?g.deltaY:v[1]-b[1],N,C=g.target,_=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in g&&_==="h"&&C.type==="range")return!1;var S=nj(_,C);if(!S)return!0;if(S?N=_:(N=_==="v"?"h":"v",S=nj(_,C)),!S)return!1;if(!r.current&&"changedTouches"in g&&(w||j)&&(r.current=N),!N)return!0;var O=r.current||N;return z$(O,y,g,O==="h"?w:j,!0)},[]),c=f.useCallback(function(g){var y=g;if(!(!Ri.length||Ri[Ri.length-1]!==o)){var b="deltaY"in y?aj(y):Tu(y),v=t.current.filter(function(N){return N.name===y.type&&(N.target===y.target||y.target===N.shadowParent)&&B$(N.delta,b)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var w=(i.current.shards||[]).map(oj).filter(Boolean).filter(function(N){return N.contains(y.target)}),j=w.length>0?l(y,w[0]):!i.current.noIsolation;j&&y.cancelable&&y.preventDefault()}}},[]),d=f.useCallback(function(g,y,b,v){var w={name:g,delta:y,target:b,should:v,shadowParent:W$(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),u=f.useCallback(function(g){s.current=Tu(g),r.current=void 0},[]),m=f.useCallback(function(g){d(g.type,aj(g),g.target,l(g,e.lockRef.current))},[]),h=f.useCallback(function(g){d(g.type,Tu(g),g.target,l(g,e.lockRef.current))},[]);f.useEffect(function(){return Ri.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Mi),document.addEventListener("touchmove",c,Mi),document.addEventListener("touchstart",u,Mi),function(){Ri=Ri.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,Mi),document.removeEventListener("touchmove",c,Mi),document.removeEventListener("touchstart",u,Mi)}},[]);var p=e.removeScrollBar,x=e.inert;return f.createElement(f.Fragment,null,x?f.createElement(o,{styles:U$(a)}):null,p?f.createElement(O$,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function W$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const G$=w$(zC,q$);var WC=f.forwardRef(function(e,t){return f.createElement(Wm,On({},e,{ref:t,sideCar:G$}))});WC.classNames=Wm.classNames;const Gm=WC;var Ym="Popover",[GC,pQ]=qr(Ym,[Wl]),Id=Wl(),[Y$,So]=GC(Ym),YC=e=>{const{__scopePopover:t,children:s,open:r,defaultOpen:a,onOpenChange:o,modal:i=!1}=e,l=Id(t),c=f.useRef(null),[d,u]=f.useState(!1),[m,h]=Gn({prop:r,defaultProp:a??!1,onChange:o,caller:Ym});return n.jsx(y0,{...l,children:n.jsx(Y$,{scope:t,contentId:qs(),triggerRef:c,open:m,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:d,onCustomAnchorAdd:f.useCallback(()=>u(!0),[]),onCustomAnchorRemove:f.useCallback(()=>u(!1),[]),modal:i,children:s})})};YC.displayName=Ym;var KC="PopoverAnchor",K$=f.forwardRef((e,t)=>{const{__scopePopover:s,...r}=e,a=So(KC,s),o=Id(s),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return f.useEffect(()=>(i(),()=>l()),[i,l]),n.jsx(Hm,{...o,...r,ref:t})});K$.displayName=KC;var XC="PopoverTrigger",QC=f.forwardRef((e,t)=>{const{__scopePopover:s,...r}=e,a=So(XC,s),o=Id(s),i=it(t,a.triggerRef),l=n.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":sE(a.open),...r,ref:i,onClick:je(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:n.jsx(Hm,{asChild:!0,...o,children:l})});QC.displayName=XC;var j0="PopoverPortal",[X$,Q$]=GC(j0,{forceMount:void 0}),JC=e=>{const{__scopePopover:t,forceMount:s,children:r,container:a}=e,o=So(j0,t);return n.jsx(X$,{scope:t,forceMount:s,children:n.jsx(Ys,{present:s||o.open,children:n.jsx(Gl,{asChild:!0,container:a,children:r})})})};JC.displayName=j0;var Cl="PopoverContent",ZC=f.forwardRef((e,t)=>{const s=Q$(Cl,e.__scopePopover),{forceMount:r=s.forceMount,...a}=e,o=So(Cl,e.__scopePopover);return n.jsx(Ys,{present:r||o.open,children:o.modal?n.jsx(Z$,{...a,ref:t}):n.jsx(eF,{...a,ref:t})})});ZC.displayName=Cl;var J$=t$("PopoverContent.RemoveScroll"),Z$=f.forwardRef((e,t)=>{const s=So(Cl,e.__scopePopover),r=f.useRef(null),a=it(t,r),o=f.useRef(!1);return f.useEffect(()=>{const i=r.current;if(i)return qm(i)},[]),n.jsx(Gm,{as:J$,allowPinchZoom:!0,children:n.jsx(eE,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=s.triggerRef.current)==null||l.focus()}),onPointerDownOutside:je(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;o.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:je(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),eF=f.forwardRef((e,t)=>{const s=So(Cl,e.__scopePopover),r=f.useRef(!1),a=f.useRef(!1);return n.jsx(eE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(l=s.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((d=s.triggerRef.current)==null?void 0:d.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),eE=f.forwardRef((e,t)=>{const{__scopePopover:s,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...m}=e,h=So(Cl,s),p=Id(s);return Fm(),n.jsx(Od,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:n.jsx(Ul,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:n.jsx(b0,{"data-state":sE(h.open),role:"dialog",id:h.contentId,...p,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),tE="PopoverClose",tF=f.forwardRef((e,t)=>{const{__scopePopover:s,...r}=e,a=So(tE,s);return n.jsx(ze.button,{type:"button",...r,ref:t,onClick:je(e.onClick,()=>a.onOpenChange(!1))})});tF.displayName=tE;var sF="PopoverArrow",rF=f.forwardRef((e,t)=>{const{__scopePopover:s,...r}=e,a=Id(s);return n.jsx(w0,{...a,...r,ref:t})});rF.displayName=sF;function sE(e){return e?"open":"closed"}var nF=YC,aF=QC,oF=JC,rE=ZC;const Ba=nF,Ua=aF,da=f.forwardRef(({className:e,align:t="center",sideOffset:s=4,...r},a)=>n.jsx(oF,{children:n.jsx(rE,{ref:a,align:t,sideOffset:s,className:ee("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));da.displayName=rE.displayName;function Ve(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function It(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Es(e,t){const s=Ve(e);return isNaN(t)?It(e,NaN):(t&&s.setDate(s.getDate()+t),s)}function Ws(e,t){const s=Ve(e);if(isNaN(t))return It(e,NaN);if(!t)return s;const r=s.getDate(),a=It(e,s.getTime());a.setMonth(s.getMonth()+t+1,0);const o=a.getDate();return r>=o?a:(s.setFullYear(a.getFullYear(),a.getMonth(),r),s)}function oo(e,t){const{years:s=0,months:r=0,weeks:a=0,days:o=0,hours:i=0,minutes:l=0,seconds:c=0}=t,d=Ve(e),u=r||s?Ws(d,r+s*12):d,m=o||a?Es(u,o+a*7):u,h=l+i*60,x=(c+h*60)*1e3;return It(e,m.getTime()+x)}const N0=6048e5,iF=864e5,gd=6e4,Km=36e5,lF=1e3,ij=525600,Qi=43200,zf=1440;let cF={};function ka(){return cF}function Tr(e,t){var l,c,d,u;const s=ka(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??s.weekStartsOn??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Ve(e),o=a.getDay(),i=(o<r?7:0)+o-r;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function Na(e){return Tr(e,{weekStartsOn:1})}function nE(e){const t=Ve(e),s=t.getFullYear(),r=It(e,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const a=Na(r),o=It(e,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const i=Na(o);return t.getTime()>=a.getTime()?s+1:t.getTime()>=i.getTime()?s:s-1}function El(e){const t=Ve(e);return t.setHours(0,0,0,0),t}function Yn(e){const t=Ve(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function yn(e,t){const s=El(e),r=El(t),a=+s-Yn(s),o=+r-Yn(r);return Math.round((a-o)/iF)}function dF(e){const t=nE(e),s=It(e,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),Na(s)}function xd(e,t){const s=t*7;return Es(e,s)}function uF(e,t){return Ws(e,t*12)}function fF(e){let t;return e.forEach(function(s){const r=Ve(s);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function mF(e){let t;return e.forEach(s=>{const r=Ve(s);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function Lc(e,t){const s=Ve(e),r=Ve(t),a=s.getTime()-r.getTime();return a<0?-1:a>0?1:a}function aE(e){return It(e,Date.now())}function Us(e,t){const s=El(e),r=El(t);return+s==+r}function _0(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function xx(e){if(!_0(e)&&typeof e!="number")return!1;const t=Ve(e);return!isNaN(Number(t))}function kl(e,t){const s=Ve(e),r=Ve(t),a=s.getFullYear()-r.getFullYear(),o=s.getMonth()-r.getMonth();return a*12+o}function hF(e,t,s){const r=Tr(e,s),a=Tr(t,s),o=+r-Yn(r),i=+a-Yn(a);return Math.round((o-i)/N0)}function S0(e,t){const s=Ve(e),r=Ve(t),a=lj(s,r),o=Math.abs(yn(s,r));s.setDate(s.getDate()-a*o);const i=+(lj(s,r)===-a),l=a*(o-i);return l===0?0:l}function lj(e,t){const s=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return s<0?-1:s>0?1:s}function C0(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function oE(e,t){return+Ve(e)-+Ve(t)}function pF(e,t,s){const r=oE(e,t)/Km;return C0(s==null?void 0:s.roundingMethod)(r)}function gF(e){const t=Ve(e);return t.setHours(23,59,59,999),t}function Xm(e){const t=Ve(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function xF(e){const t=Ve(e);return+gF(t)==+Xm(t)}function vF(e,t){const s=Ve(e),r=Ve(t),a=Lc(s,r),o=Math.abs(kl(s,r));let i;if(o<1)i=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-a*o);let l=Lc(s,r)===-a;xF(Ve(e))&&o===1&&Lc(e,r)===1&&(l=!1),i=a*(o-Number(l))}return i===0?0:i}function yF(e,t,s){const r=oE(e,t)/1e3;return C0(s==null?void 0:s.roundingMethod)(r)}function bF(e,t){const s=Ve(e.start),r=Ve(e.end);let a=+s>+r;const o=a?+s:+r,i=a?r:s;i.setHours(0,0,0,0);let l=(t==null?void 0:t.step)??1;if(!l)return[];l<0&&(l=-l,a=!a);const c=[];for(;+i<=o;)c.push(Ve(i)),i.setDate(i.getDate()+l),i.setHours(0,0,0,0);return a?c.reverse():c}function Er(e){const t=Ve(e);return t.setDate(1),t.setHours(0,0,0,0),t}function iE(e){const t=Ve(e),s=It(e,0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s}function Qm(e,t){var l,c,d,u;const s=ka(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??s.weekStartsOn??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Ve(e),o=a.getDay(),i=(o<r?-7:0)+6-(o-r);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}function lE(e){return Qm(e,{weekStartsOn:1})}const wF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jF=(e,t,s)=>{let r;const a=wF[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+r:r+" ago":r};function pl(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const NF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_F={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},SF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},CF={date:pl({formats:NF,defaultWidth:"full"}),time:pl({formats:_F,defaultWidth:"full"}),dateTime:pl({formats:SF,defaultWidth:"full"})},EF={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kF=(e,t,s,r)=>EF[e];function Dn(e){return(t,s)=>{const r=s!=null&&s.context?String(s.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=s!=null&&s.width?String(s.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=s!=null&&s.width?String(s.width):e.defaultWidth;a=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return a[o]}}const TF={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},PF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},AF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},MF={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},RF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},OF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},DF=(e,t)=>{const s=Number(e),r=s%100;if(r>20||r<10)switch(r%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},IF={ordinalNumber:DF,era:Dn({values:TF,defaultWidth:"wide"}),quarter:Dn({values:PF,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Dn({values:AF,defaultWidth:"wide"}),day:Dn({values:MF,defaultWidth:"wide"}),dayPeriod:Dn({values:RF,defaultWidth:"wide",formattingValues:OF,defaultFormattingWidth:"wide"})};function In(e){return(t,s={})=>{const r=s.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const i=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?$F(l,m=>m.test(i)):LF(l,m=>m.test(i));let d;d=e.valueCallback?e.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;const u=t.slice(i.length);return{value:d,rest:u}}}function LF(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function $F(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function cE(e){return(t,s={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=s.valueCallback?s.valueCallback(i):i;const l=t.slice(a.length);return{value:i,rest:l}}}const FF=/^(\d+)(th|st|nd|rd)?/i,VF=/\d+/i,zF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},BF={any:[/^b/i,/^(a|c)/i]},UF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},HF={any:[/1/i,/2/i,/3/i,/4/i]},qF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},WF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},GF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},YF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},KF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},XF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},QF={ordinalNumber:cE({matchPattern:FF,parsePattern:VF,valueCallback:e=>parseInt(e,10)}),era:In({matchPatterns:zF,defaultMatchWidth:"wide",parsePatterns:BF,defaultParseWidth:"any"}),quarter:In({matchPatterns:UF,defaultMatchWidth:"wide",parsePatterns:HF,defaultParseWidth:"any",valueCallback:e=>e+1}),month:In({matchPatterns:qF,defaultMatchWidth:"wide",parsePatterns:WF,defaultParseWidth:"any"}),day:In({matchPatterns:GF,defaultMatchWidth:"wide",parsePatterns:YF,defaultParseWidth:"any"}),dayPeriod:In({matchPatterns:KF,defaultMatchWidth:"any",parsePatterns:XF,defaultParseWidth:"any"})},Ld={code:"en-US",formatDistance:jF,formatLong:CF,formatRelative:kF,localize:IF,match:QF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function JF(e){const t=Ve(e);return yn(t,iE(t))+1}function E0(e){const t=Ve(e),s=+Na(t)-+dF(t);return Math.round(s/N0)+1}function k0(e,t){var u,m,h,p;const s=Ve(e),r=s.getFullYear(),a=ka(),o=(t==null?void 0:t.firstWeekContainsDate)??((m=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,i=It(e,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const l=Tr(i,t),c=It(e,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const d=Tr(c,t);return s.getTime()>=l.getTime()?r+1:s.getTime()>=d.getTime()?r:r-1}function ZF(e,t){var l,c,d,u;const s=ka(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??s.firstWeekContainsDate??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=k0(e,t),o=It(e,0);return o.setFullYear(a,0,r),o.setHours(0,0,0,0),Tr(o,t)}function T0(e,t){const s=Ve(e),r=+Tr(s,t)-+ZF(s,t);return Math.round(r/N0)+1}function Dt(e,t){const s=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return s+r}const Ma={y(e,t){const s=e.getFullYear(),r=s>0?s:1-s;return Dt(t==="yy"?r%100:r,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):Dt(s+1,2)},d(e,t){return Dt(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return Dt(e.getHours()%12||12,t.length)},H(e,t){return Dt(e.getHours(),t.length)},m(e,t){return Dt(e.getMinutes(),t.length)},s(e,t){return Dt(e.getSeconds(),t.length)},S(e,t){const s=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,s-3));return Dt(a,t.length)}},Oi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cj={G:function(e,t,s){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return s.ordinalNumber(a,{unit:"year"})}return Ma.y(e,t)},Y:function(e,t,s,r){const a=k0(e,r),o=a>0?a:1-a;if(t==="YY"){const i=o%100;return Dt(i,2)}return t==="Yo"?s.ordinalNumber(o,{unit:"year"}):Dt(o,t.length)},R:function(e,t){const s=nE(e);return Dt(s,t.length)},u:function(e,t){const s=e.getFullYear();return Dt(s,t.length)},Q:function(e,t,s){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Dt(r,2);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,s){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Dt(r,2);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,s){const r=e.getMonth();switch(t){case"M":case"MM":return Ma.M(e,t);case"Mo":return s.ordinalNumber(r+1,{unit:"month"});case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,s){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Dt(r+1,2);case"Lo":return s.ordinalNumber(r+1,{unit:"month"});case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,s,r){const a=T0(e,r);return t==="wo"?s.ordinalNumber(a,{unit:"week"}):Dt(a,t.length)},I:function(e,t,s){const r=E0(e);return t==="Io"?s.ordinalNumber(r,{unit:"week"}):Dt(r,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):Ma.d(e,t)},D:function(e,t,s){const r=JF(e);return t==="Do"?s.ordinalNumber(r,{unit:"dayOfYear"}):Dt(r,t.length)},E:function(e,t,s){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,s,r){const a=e.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Dt(o,2);case"eo":return s.ordinalNumber(o,{unit:"day"});case"eee":return s.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(a,{width:"short",context:"formatting"});case"eeee":default:return s.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,s,r){const a=e.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Dt(o,t.length);case"co":return s.ordinalNumber(o,{unit:"day"});case"ccc":return s.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(a,{width:"narrow",context:"standalone"});case"cccccc":return s.day(a,{width:"short",context:"standalone"});case"cccc":default:return s.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,s){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return Dt(a,t.length);case"io":return s.ordinalNumber(a,{unit:"day"});case"iii":return s.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(r,{width:"short",context:"formatting"});case"iiii":default:return s.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,s){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,s){const r=e.getHours();let a;switch(r===12?a=Oi.noon:r===0?a=Oi.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,s){const r=e.getHours();let a;switch(r>=17?a=Oi.evening:r>=12?a=Oi.afternoon:r>=4?a=Oi.morning:a=Oi.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),s.ordinalNumber(r,{unit:"hour"})}return Ma.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):Ma.H(e,t)},K:function(e,t,s){const r=e.getHours()%12;return t==="Ko"?s.ordinalNumber(r,{unit:"hour"}):Dt(r,t.length)},k:function(e,t,s){let r=e.getHours();return r===0&&(r=24),t==="ko"?s.ordinalNumber(r,{unit:"hour"}):Dt(r,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ma.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):Ma.s(e,t)},S:function(e,t){return Ma.S(e,t)},X:function(e,t,s){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return uj(r);case"XXXX":case"XX":return Do(r);case"XXXXX":case"XXX":default:return Do(r,":")}},x:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"x":return uj(r);case"xxxx":case"xx":return Do(r);case"xxxxx":case"xxx":default:return Do(r,":")}},O:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+dj(r,":");case"OOOO":default:return"GMT"+Do(r,":")}},z:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+dj(r,":");case"zzzz":default:return"GMT"+Do(r,":")}},t:function(e,t,s){const r=Math.trunc(e.getTime()/1e3);return Dt(r,t.length)},T:function(e,t,s){const r=e.getTime();return Dt(r,t.length)}};function dj(e,t=""){const s=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),o=r%60;return o===0?s+String(a):s+String(a)+t+Dt(o,2)}function uj(e,t){return e%60===0?(e>0?"-":"+")+Dt(Math.abs(e)/60,2):Do(e,t)}function Do(e,t=""){const s=e>0?"-":"+",r=Math.abs(e),a=Dt(Math.trunc(r/60),2),o=Dt(r%60,2);return s+a+t+o}const fj=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},dE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},eV=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],r=s[1],a=s[2];if(!a)return fj(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",fj(r,t)).replace("{{time}}",dE(a,t))},vx={p:dE,P:eV},tV=/^D+$/,sV=/^Y+$/,rV=["D","DD","YY","YYYY"];function uE(e){return tV.test(e)}function fE(e){return sV.test(e)}function yx(e,t,s){const r=nV(e,t,s);if(console.warn(r),rV.includes(e))throw new RangeError(r)}function nV(e,t,s){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const aV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iV=/^'([^]*?)'?$/,lV=/''/g,cV=/[a-zA-Z]/;function ae(e,t,s){var u,m,h,p,x,g,y,b;const r=ka(),a=(s==null?void 0:s.locale)??r.locale??Ld,o=(s==null?void 0:s.firstWeekContainsDate)??((m=(u=s==null?void 0:s.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,i=(s==null?void 0:s.weekStartsOn)??((g=(x=s==null?void 0:s.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((b=(y=r.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??0,l=Ve(e);if(!xx(l))throw new RangeError("Invalid time value");let c=t.match(oV).map(v=>{const w=v[0];if(w==="p"||w==="P"){const j=vx[w];return j(v,a.formatLong)}return v}).join("").match(aV).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const w=v[0];if(w==="'")return{isToken:!1,value:dV(v)};if(cj[w])return{isToken:!0,value:v};if(w.match(cV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:o,weekStartsOn:i,locale:a};return c.map(v=>{if(!v.isToken)return v.value;const w=v.value;(!(s!=null&&s.useAdditionalWeekYearTokens)&&fE(w)||!(s!=null&&s.useAdditionalDayOfYearTokens)&&uE(w))&&yx(w,t,String(e));const j=cj[w[0]];return j(l,w,a.localize,d)}).join("")}function dV(e){const t=e.match(iV);return t?t[1].replace(lV,"'"):e}function uV(e,t,s){const r=ka(),a=(s==null?void 0:s.locale)??r.locale??Ld,o=2520,i=Lc(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:i});let c,d;i>0?(c=Ve(t),d=Ve(e)):(c=Ve(e),d=Ve(t));const u=yF(d,c),m=(Yn(d)-Yn(c))/1e3,h=Math.round((u-m)/60);let p;if(h<2)return s!=null&&s.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<zf){const x=Math.round(h/60);return a.formatDistance("aboutXHours",x,l)}else{if(h<o)return a.formatDistance("xDays",1,l);if(h<Qi){const x=Math.round(h/zf);return a.formatDistance("xDays",x,l)}else if(h<Qi*2)return p=Math.round(h/Qi),a.formatDistance("aboutXMonths",p,l)}if(p=vF(d,c),p<12){const x=Math.round(h/Qi);return a.formatDistance("xMonths",x,l)}else{const x=p%12,g=Math.trunc(p/12);return x<3?a.formatDistance("aboutXYears",g,l):x<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function fV(e,t,s){const r=ka(),a=(s==null?void 0:s.locale)??r.locale??Ld,o=Lc(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const i=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:o});let l,c;o>0?(l=Ve(t),c=Ve(e)):(l=Ve(e),c=Ve(t));const d=C0((s==null?void 0:s.roundingMethod)??"round"),u=c.getTime()-l.getTime(),m=u/gd,h=Yn(c)-Yn(l),p=(u-h)/gd,x=s==null?void 0:s.unit;let g;if(x?g=x:m<1?g="second":m<60?g="minute":m<zf?g="hour":p<Qi?g="day":p<ij?g="month":g="year",g==="second"){const y=d(u/1e3);return a.formatDistance("xSeconds",y,i)}else if(g==="minute"){const y=d(m);return a.formatDistance("xMinutes",y,i)}else if(g==="hour"){const y=d(m/60);return a.formatDistance("xHours",y,i)}else if(g==="day"){const y=d(p/zf);return a.formatDistance("xDays",y,i)}else if(g==="month"){const y=d(p/Qi);return y===12&&x!=="month"?a.formatDistance("xYears",1,i):a.formatDistance("xMonths",y,i)}else{const y=d(p/ij);return a.formatDistance("xYears",y,i)}}function mE(e,t){return uV(e,aE(e),t)}function jc(e,t){return fV(e,aE(e),t)}function en(e){return Ve(e).getDay()}function mV(e){const t=Ve(e),s=t.getFullYear(),r=t.getMonth(),a=It(e,0);return a.setFullYear(s,r+1,0),a.setHours(0,0,0,0),a.getDate()}function hV(){return Object.assign({},ka())}function pV(e){let s=Ve(e).getDay();return s===0&&(s=7),s}function gV(e){return Math.trunc(+Ve(e)/1e3)}function xV(e){const t=Ve(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(0,0,0,0),t}function vV(e,t){return hF(xV(e),Er(e),t)+1}function Bf(e,t){const s=Ve(e),r=Ve(t);return s.getTime()>r.getTime()}function hE(e,t){const s=Ve(e),r=Ve(t);return+s<+r}function yV(e){return+Ve(e)>Date.now()}function bV(e,t){const s=t instanceof Date?It(t,0):new t(0);return s.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),s.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),s}const wV=10;class pE{constructor(){Ae(this,"subPriority",0)}validate(t,s){return!0}}class jV extends pE{constructor(t,s,r,a,o){super(),this.value=t,this.validateValue=s,this.setValue=r,this.priority=a,o&&(this.subPriority=o)}validate(t,s){return this.validateValue(t,this.value,s)}set(t,s,r){return this.setValue(t,s,this.value,r)}}class NV extends pE{constructor(){super(...arguments);Ae(this,"priority",wV);Ae(this,"subPriority",-1)}set(s,r){return r.timestampIsSet?s:It(s,bV(s,Date))}}class At{run(t,s,r,a){const o=this.parse(t,s,r,a);return o?{setter:new jV(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,s,r){return!0}}class _V extends At{constructor(){super(...arguments);Ae(this,"priority",140);Ae(this,"incompatibleTokens",["R","u","t","T"])}parse(s,r,a){switch(r){case"G":case"GG":case"GGG":return a.era(s,{width:"abbreviated"})||a.era(s,{width:"narrow"});case"GGGGG":return a.era(s,{width:"narrow"});case"GGGG":default:return a.era(s,{width:"wide"})||a.era(s,{width:"abbreviated"})||a.era(s,{width:"narrow"})}}set(s,r,a){return r.era=a,s.setFullYear(a,0,1),s.setHours(0,0,0,0),s}}const js={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ln={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ns(e,t){return e&&{value:t(e.value),rest:e.rest}}function cs(e,t){const s=t.match(e);return s?{value:parseInt(s[0],10),rest:t.slice(s[0].length)}:null}function $n(e,t){const s=t.match(e);if(!s)return null;if(s[0]==="Z")return{value:0,rest:t.slice(1)};const r=s[1]==="+"?1:-1,a=s[2]?parseInt(s[2],10):0,o=s[3]?parseInt(s[3],10):0,i=s[5]?parseInt(s[5],10):0;return{value:r*(a*Km+o*gd+i*lF),rest:t.slice(s[0].length)}}function gE(e){return cs(js.anyDigitsSigned,e)}function xs(e,t){switch(e){case 1:return cs(js.singleDigit,t);case 2:return cs(js.twoDigits,t);case 3:return cs(js.threeDigits,t);case 4:return cs(js.fourDigits,t);default:return cs(new RegExp("^\\d{1,"+e+"}"),t)}}function Uf(e,t){switch(e){case 1:return cs(js.singleDigitSigned,t);case 2:return cs(js.twoDigitsSigned,t);case 3:return cs(js.threeDigitsSigned,t);case 4:return cs(js.fourDigitsSigned,t);default:return cs(new RegExp("^-?\\d{1,"+e+"}"),t)}}function P0(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function xE(e,t){const s=t>0,r=s?t:1-t;let a;if(r<=50)a=e||100;else{const o=r+50,i=Math.trunc(o/100)*100,l=e>=o%100;a=e+i-(l?100:0)}return s?a:1-a}function vE(e){return e%400===0||e%4===0&&e%100!==0}class SV extends At{constructor(){super(...arguments);Ae(this,"priority",130);Ae(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(s,r,a){const o=i=>({year:i,isTwoDigitYear:r==="yy"});switch(r){case"y":return Ns(xs(4,s),o);case"yo":return Ns(a.ordinalNumber(s,{unit:"year"}),o);default:return Ns(xs(r.length,s),o)}}validate(s,r){return r.isTwoDigitYear||r.year>0}set(s,r,a){const o=s.getFullYear();if(a.isTwoDigitYear){const l=xE(a.year,o);return s.setFullYear(l,0,1),s.setHours(0,0,0,0),s}const i=!("era"in r)||r.era===1?a.year:1-a.year;return s.setFullYear(i,0,1),s.setHours(0,0,0,0),s}}class CV extends At{constructor(){super(...arguments);Ae(this,"priority",130);Ae(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(s,r,a){const o=i=>({year:i,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Ns(xs(4,s),o);case"Yo":return Ns(a.ordinalNumber(s,{unit:"year"}),o);default:return Ns(xs(r.length,s),o)}}validate(s,r){return r.isTwoDigitYear||r.year>0}set(s,r,a,o){const i=k0(s,o);if(a.isTwoDigitYear){const c=xE(a.year,i);return s.setFullYear(c,0,o.firstWeekContainsDate),s.setHours(0,0,0,0),Tr(s,o)}const l=!("era"in r)||r.era===1?a.year:1-a.year;return s.setFullYear(l,0,o.firstWeekContainsDate),s.setHours(0,0,0,0),Tr(s,o)}}class EV extends At{constructor(){super(...arguments);Ae(this,"priority",130);Ae(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(s,r){return Uf(r==="R"?4:r.length,s)}set(s,r,a){const o=It(s,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),Na(o)}}class kV extends At{constructor(){super(...arguments);Ae(this,"priority",130);Ae(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(s,r){return Uf(r==="u"?4:r.length,s)}set(s,r,a){return s.setFullYear(a,0,1),s.setHours(0,0,0,0),s}}class TV extends At{constructor(){super(...arguments);Ae(this,"priority",120);Ae(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(s,r,a){switch(r){case"Q":case"QQ":return xs(r.length,s);case"Qo":return a.ordinalNumber(s,{unit:"quarter"});case"QQQ":return a.quarter(s,{width:"abbreviated",context:"formatting"})||a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(s,{width:"wide",context:"formatting"})||a.quarter(s,{width:"abbreviated",context:"formatting"})||a.quarter(s,{width:"narrow",context:"formatting"})}}validate(s,r){return r>=1&&r<=4}set(s,r,a){return s.setMonth((a-1)*3,1),s.setHours(0,0,0,0),s}}class PV extends At{constructor(){super(...arguments);Ae(this,"priority",120);Ae(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(s,r,a){switch(r){case"q":case"qq":return xs(r.length,s);case"qo":return a.ordinalNumber(s,{unit:"quarter"});case"qqq":return a.quarter(s,{width:"abbreviated",context:"standalone"})||a.quarter(s,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(s,{width:"wide",context:"standalone"})||a.quarter(s,{width:"abbreviated",context:"standalone"})||a.quarter(s,{width:"narrow",context:"standalone"})}}validate(s,r){return r>=1&&r<=4}set(s,r,a){return s.setMonth((a-1)*3,1),s.setHours(0,0,0,0),s}}class AV extends At{constructor(){super(...arguments);Ae(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ae(this,"priority",110)}parse(s,r,a){const o=i=>i-1;switch(r){case"M":return Ns(cs(js.month,s),o);case"MM":return Ns(xs(2,s),o);case"Mo":return Ns(a.ordinalNumber(s,{unit:"month"}),o);case"MMM":return a.month(s,{width:"abbreviated",context:"formatting"})||a.month(s,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(s,{width:"wide",context:"formatting"})||a.month(s,{width:"abbreviated",context:"formatting"})||a.month(s,{width:"narrow",context:"formatting"})}}validate(s,r){return r>=0&&r<=11}set(s,r,a){return s.setMonth(a,1),s.setHours(0,0,0,0),s}}class MV extends At{constructor(){super(...arguments);Ae(this,"priority",110);Ae(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(s,r,a){const o=i=>i-1;switch(r){case"L":return Ns(cs(js.month,s),o);case"LL":return Ns(xs(2,s),o);case"Lo":return Ns(a.ordinalNumber(s,{unit:"month"}),o);case"LLL":return a.month(s,{width:"abbreviated",context:"standalone"})||a.month(s,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(s,{width:"wide",context:"standalone"})||a.month(s,{width:"abbreviated",context:"standalone"})||a.month(s,{width:"narrow",context:"standalone"})}}validate(s,r){return r>=0&&r<=11}set(s,r,a){return s.setMonth(a,1),s.setHours(0,0,0,0),s}}function RV(e,t,s){const r=Ve(e),a=T0(r,s)-t;return r.setDate(r.getDate()-a*7),r}class OV extends At{constructor(){super(...arguments);Ae(this,"priority",100);Ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(s,r,a){switch(r){case"w":return cs(js.week,s);case"wo":return a.ordinalNumber(s,{unit:"week"});default:return xs(r.length,s)}}validate(s,r){return r>=1&&r<=53}set(s,r,a,o){return Tr(RV(s,a,o),o)}}function DV(e,t){const s=Ve(e),r=E0(s)-t;return s.setDate(s.getDate()-r*7),s}class IV extends At{constructor(){super(...arguments);Ae(this,"priority",100);Ae(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(s,r,a){switch(r){case"I":return cs(js.week,s);case"Io":return a.ordinalNumber(s,{unit:"week"});default:return xs(r.length,s)}}validate(s,r){return r>=1&&r<=53}set(s,r,a){return Na(DV(s,a))}}const LV=[31,28,31,30,31,30,31,31,30,31,30,31],$V=[31,29,31,30,31,30,31,31,30,31,30,31];class FV extends At{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"subPriority",1);Ae(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(s,r,a){switch(r){case"d":return cs(js.date,s);case"do":return a.ordinalNumber(s,{unit:"date"});default:return xs(r.length,s)}}validate(s,r){const a=s.getFullYear(),o=vE(a),i=s.getMonth();return o?r>=1&&r<=$V[i]:r>=1&&r<=LV[i]}set(s,r,a){return s.setDate(a),s.setHours(0,0,0,0),s}}class VV extends At{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"subpriority",1);Ae(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(s,r,a){switch(r){case"D":case"DD":return cs(js.dayOfYear,s);case"Do":return a.ordinalNumber(s,{unit:"date"});default:return xs(r.length,s)}}validate(s,r){const a=s.getFullYear();return vE(a)?r>=1&&r<=366:r>=1&&r<=365}set(s,r,a){return s.setMonth(0,a),s.setHours(0,0,0,0),s}}function A0(e,t,s){var m,h,p,x;const r=ka(),a=(s==null?void 0:s.weekStartsOn)??((h=(m=s==null?void 0:s.locale)==null?void 0:m.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((x=(p=r.locale)==null?void 0:p.options)==null?void 0:x.weekStartsOn)??0,o=Ve(e),i=o.getDay(),c=(t%7+7)%7,d=7-a,u=t<0||t>6?t-(i+d)%7:(c+d)%7-(i+d)%7;return Es(o,u)}class zV extends At{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(s,r,a){switch(r){case"E":case"EE":case"EEE":return a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"})}}validate(s,r){return r>=0&&r<=6}set(s,r,a,o){return s=A0(s,a,o),s.setHours(0,0,0,0),s}}class BV extends At{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(s,r,a,o){const i=l=>{const c=Math.floor((l-1)/7)*7;return(l+o.weekStartsOn+6)%7+c};switch(r){case"e":case"ee":return Ns(xs(r.length,s),i);case"eo":return Ns(a.ordinalNumber(s,{unit:"day"}),i);case"eee":return a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"eeeee":return a.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"})}}validate(s,r){return r>=0&&r<=6}set(s,r,a,o){return s=A0(s,a,o),s.setHours(0,0,0,0),s}}class UV extends At{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(s,r,a,o){const i=l=>{const c=Math.floor((l-1)/7)*7;return(l+o.weekStartsOn+6)%7+c};switch(r){case"c":case"cc":return Ns(xs(r.length,s),i);case"co":return Ns(a.ordinalNumber(s,{unit:"day"}),i);case"ccc":return a.day(s,{width:"abbreviated",context:"standalone"})||a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"});case"ccccc":return a.day(s,{width:"narrow",context:"standalone"});case"cccccc":return a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(s,{width:"wide",context:"standalone"})||a.day(s,{width:"abbreviated",context:"standalone"})||a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"})}}validate(s,r){return r>=0&&r<=6}set(s,r,a,o){return s=A0(s,a,o),s.setHours(0,0,0,0),s}}function HV(e,t){const s=Ve(e),r=pV(s),a=t-r;return Es(s,a)}class qV extends At{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(s,r,a){const o=i=>i===0?7:i;switch(r){case"i":case"ii":return xs(r.length,s);case"io":return a.ordinalNumber(s,{unit:"day"});case"iii":return Ns(a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),o);case"iiiii":return Ns(a.day(s,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Ns(a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Ns(a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),o)}}validate(s,r){return r>=1&&r<=7}set(s,r,a){return s=HV(s,a),s.setHours(0,0,0,0),s}}class WV extends At{constructor(){super(...arguments);Ae(this,"priority",80);Ae(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(s,r,a){switch(r){case"a":case"aa":case"aaa":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}set(s,r,a){return s.setHours(P0(a),0,0,0),s}}class GV extends At{constructor(){super(...arguments);Ae(this,"priority",80);Ae(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(s,r,a){switch(r){case"b":case"bb":case"bbb":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}set(s,r,a){return s.setHours(P0(a),0,0,0),s}}class YV extends At{constructor(){super(...arguments);Ae(this,"priority",80);Ae(this,"incompatibleTokens",["a","b","t","T"])}parse(s,r,a){switch(r){case"B":case"BB":case"BBB":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}set(s,r,a){return s.setHours(P0(a),0,0,0),s}}class KV extends At{constructor(){super(...arguments);Ae(this,"priority",70);Ae(this,"incompatibleTokens",["H","K","k","t","T"])}parse(s,r,a){switch(r){case"h":return cs(js.hour12h,s);case"ho":return a.ordinalNumber(s,{unit:"hour"});default:return xs(r.length,s)}}validate(s,r){return r>=1&&r<=12}set(s,r,a){const o=s.getHours()>=12;return o&&a<12?s.setHours(a+12,0,0,0):!o&&a===12?s.setHours(0,0,0,0):s.setHours(a,0,0,0),s}}class XV extends At{constructor(){super(...arguments);Ae(this,"priority",70);Ae(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(s,r,a){switch(r){case"H":return cs(js.hour23h,s);case"Ho":return a.ordinalNumber(s,{unit:"hour"});default:return xs(r.length,s)}}validate(s,r){return r>=0&&r<=23}set(s,r,a){return s.setHours(a,0,0,0),s}}class QV extends At{constructor(){super(...arguments);Ae(this,"priority",70);Ae(this,"incompatibleTokens",["h","H","k","t","T"])}parse(s,r,a){switch(r){case"K":return cs(js.hour11h,s);case"Ko":return a.ordinalNumber(s,{unit:"hour"});default:return xs(r.length,s)}}validate(s,r){return r>=0&&r<=11}set(s,r,a){return s.getHours()>=12&&a<12?s.setHours(a+12,0,0,0):s.setHours(a,0,0,0),s}}class JV extends At{constructor(){super(...arguments);Ae(this,"priority",70);Ae(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(s,r,a){switch(r){case"k":return cs(js.hour24h,s);case"ko":return a.ordinalNumber(s,{unit:"hour"});default:return xs(r.length,s)}}validate(s,r){return r>=1&&r<=24}set(s,r,a){const o=a<=24?a%24:a;return s.setHours(o,0,0,0),s}}class ZV extends At{constructor(){super(...arguments);Ae(this,"priority",60);Ae(this,"incompatibleTokens",["t","T"])}parse(s,r,a){switch(r){case"m":return cs(js.minute,s);case"mo":return a.ordinalNumber(s,{unit:"minute"});default:return xs(r.length,s)}}validate(s,r){return r>=0&&r<=59}set(s,r,a){return s.setMinutes(a,0,0),s}}class e8 extends At{constructor(){super(...arguments);Ae(this,"priority",50);Ae(this,"incompatibleTokens",["t","T"])}parse(s,r,a){switch(r){case"s":return cs(js.second,s);case"so":return a.ordinalNumber(s,{unit:"second"});default:return xs(r.length,s)}}validate(s,r){return r>=0&&r<=59}set(s,r,a){return s.setSeconds(a,0),s}}class t8 extends At{constructor(){super(...arguments);Ae(this,"priority",30);Ae(this,"incompatibleTokens",["t","T"])}parse(s,r){const a=o=>Math.trunc(o*Math.pow(10,-r.length+3));return Ns(xs(r.length,s),a)}set(s,r,a){return s.setMilliseconds(a),s}}class s8 extends At{constructor(){super(...arguments);Ae(this,"priority",10);Ae(this,"incompatibleTokens",["t","T","x"])}parse(s,r){switch(r){case"X":return $n(Ln.basicOptionalMinutes,s);case"XX":return $n(Ln.basic,s);case"XXXX":return $n(Ln.basicOptionalSeconds,s);case"XXXXX":return $n(Ln.extendedOptionalSeconds,s);case"XXX":default:return $n(Ln.extended,s)}}set(s,r,a){return r.timestampIsSet?s:It(s,s.getTime()-Yn(s)-a)}}class r8 extends At{constructor(){super(...arguments);Ae(this,"priority",10);Ae(this,"incompatibleTokens",["t","T","X"])}parse(s,r){switch(r){case"x":return $n(Ln.basicOptionalMinutes,s);case"xx":return $n(Ln.basic,s);case"xxxx":return $n(Ln.basicOptionalSeconds,s);case"xxxxx":return $n(Ln.extendedOptionalSeconds,s);case"xxx":default:return $n(Ln.extended,s)}}set(s,r,a){return r.timestampIsSet?s:It(s,s.getTime()-Yn(s)-a)}}class n8 extends At{constructor(){super(...arguments);Ae(this,"priority",40);Ae(this,"incompatibleTokens","*")}parse(s){return gE(s)}set(s,r,a){return[It(s,a*1e3),{timestampIsSet:!0}]}}class a8 extends At{constructor(){super(...arguments);Ae(this,"priority",20);Ae(this,"incompatibleTokens","*")}parse(s){return gE(s)}set(s,r,a){return[It(s,a),{timestampIsSet:!0}]}}const o8={G:new _V,y:new SV,Y:new CV,R:new EV,u:new kV,Q:new TV,q:new PV,M:new AV,L:new MV,w:new OV,I:new IV,d:new FV,D:new VV,E:new zV,e:new BV,c:new UV,i:new qV,a:new WV,b:new GV,B:new YV,h:new KV,H:new XV,K:new QV,k:new JV,m:new ZV,s:new e8,S:new t8,X:new s8,x:new r8,t:new n8,T:new a8},i8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,l8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,c8=/^'([^]*?)'?$/,d8=/''/g,u8=/\S/,f8=/[a-zA-Z]/;function Jm(e,t,s,r){var g,y,b,v,w,j,N,C;const a=hV(),o=(r==null?void 0:r.locale)??a.locale??Ld,i=(r==null?void 0:r.firstWeekContainsDate)??((y=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??a.firstWeekContainsDate??((v=(b=a.locale)==null?void 0:b.options)==null?void 0:v.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((j=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:j.weekStartsOn)??a.weekStartsOn??((C=(N=a.locale)==null?void 0:N.options)==null?void 0:C.weekStartsOn)??0;if(t==="")return e===""?Ve(s):It(s,NaN);const c={firstWeekContainsDate:i,weekStartsOn:l,locale:o},d=[new NV],u=t.match(l8).map(_=>{const S=_[0];if(S in vx){const O=vx[S];return O(_,o.formatLong)}return _}).join("").match(i8),m=[];for(let _ of u){!(r!=null&&r.useAdditionalWeekYearTokens)&&fE(_)&&yx(_,t,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&uE(_)&&yx(_,t,e);const S=_[0],O=o8[S];if(O){const{incompatibleTokens:D}=O;if(Array.isArray(D)){const M=m.find(U=>D.includes(U.token)||U.token===S);if(M)throw new RangeError(`The format string mustn't contain \`${M.fullToken}\` and \`${_}\` at the same time`)}else if(O.incompatibleTokens==="*"&&m.length>0)throw new RangeError(`The format string mustn't contain \`${_}\` and any other token at the same time`);m.push({token:S,fullToken:_});const z=O.run(e,_,o.match,c);if(!z)return It(s,NaN);d.push(z.setter),e=z.rest}else{if(S.match(f8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");if(_==="''"?_="'":S==="'"&&(_=m8(_)),e.indexOf(_)===0)e=e.slice(_.length);else return It(s,NaN)}}if(e.length>0&&u8.test(e))return It(s,NaN);const h=d.map(_=>_.priority).sort((_,S)=>S-_).filter((_,S,O)=>O.indexOf(_)===S).map(_=>d.filter(S=>S.priority===_).sort((S,O)=>O.subPriority-S.subPriority)).map(_=>_[0]);let p=Ve(s);if(isNaN(p.getTime()))return It(s,NaN);const x={};for(const _ of h){if(!_.validate(p,c))return It(s,NaN);const S=_.set(p,x,c);Array.isArray(S)?(p=S[0],Object.assign(x,S[1])):p=S}return It(s,p)}function m8(e){return e.match(c8)[1].replace(d8,"'")}function M0(e,t){const s=Ve(e),r=Ve(t);return s.getFullYear()===r.getFullYear()&&s.getMonth()===r.getMonth()}function h8(e,t){const s=Ve(e),r=Ve(t);return s.getFullYear()===r.getFullYear()}function vp(e,t){return Es(e,-t)}function Be(e,t){const s=(t==null?void 0:t.additionalDigits)??2,r=v8(e);let a;if(r.date){const c=y8(r.date,s);a=b8(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const o=a.getTime();let i=0,l;if(r.time&&(i=w8(r.time),isNaN(i)))return new Date(NaN);if(r.timezone){if(l=j8(r.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(o+i),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(o+i+l)}const Pu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},p8=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,g8=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,x8=/^([+-])(\d{2})(?::?(\d{2}))?$/;function v8(e){const t={},s=e.split(Pu.dateTimeDelimiter);let r;if(s.length>2)return t;if(/:/.test(s[0])?r=s[0]:(t.date=s[0],r=s[1],Pu.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Pu.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const a=Pu.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function y8(e,t){const s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(s);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?a:o*100,restDateString:e.slice((r[1]||r[2]).length)}}function b8(e,t){if(t===null)return new Date(NaN);const s=e.match(p8);if(!s)return new Date(NaN);const r=!!s[4],a=fc(s[1]),o=fc(s[2])-1,i=fc(s[3]),l=fc(s[4]),c=fc(s[5])-1;if(r)return E8(t,l,c)?N8(t,l,c):new Date(NaN);{const d=new Date(0);return!S8(t,o,i)||!C8(t,a)?new Date(NaN):(d.setUTCFullYear(t,o,Math.max(a,i)),d)}}function fc(e){return e?parseInt(e):1}function w8(e){const t=e.match(g8);if(!t)return NaN;const s=yp(t[1]),r=yp(t[2]),a=yp(t[3]);return k8(s,r,a)?s*Km+r*gd+a*1e3:NaN}function yp(e){return e&&parseFloat(e.replace(",","."))||0}function j8(e){if(e==="Z")return 0;const t=e.match(x8);if(!t)return 0;const s=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return T8(r,a)?s*(r*Km+a*gd):NaN}function N8(e,t,s){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,o=(t-1)*7+s+1-a;return r.setUTCDate(r.getUTCDate()+o),r}const _8=[31,null,31,30,31,30,31,31,30,31,30,31];function yE(e){return e%400===0||e%4===0&&e%100!==0}function S8(e,t,s){return t>=0&&t<=11&&s>=1&&s<=(_8[t]||(yE(e)?29:28))}function C8(e,t){return t>=1&&t<=(yE(e)?366:365)}function E8(e,t,s){return t>=1&&t<=53&&s>=0&&s<=6}function k8(e,t,s){return e===24?t===0&&s===0:s>=0&&s<60&&t>=0&&t<60&&e>=0&&e<25}function T8(e,t){return t>=0&&t<=59}function bp(e,t){const s=Ve(e),r=s.getFullYear(),a=s.getDate(),o=It(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const i=mV(o);return s.setMonth(t,Math.min(a,i)),s}function mj(e,t){const s=Ve(e);return isNaN(+s)?It(e,NaN):(s.setFullYear(t),s)}function P8(e,t){return Ws(e,-t)}function A8(e,t){return xd(e,-t)}const M8={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},R8=(e,t,s)=>{let r;const a=M8[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",String(t)),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"em "+r:"h "+r:r},O8={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},D8={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},I8={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},L8={date:pl({formats:O8,defaultWidth:"full"}),time:pl({formats:D8,defaultWidth:"full"}),dateTime:pl({formats:I8,defaultWidth:"full"})},$8={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},F8=(e,t,s,r)=>{const a=$8[e];return typeof a=="function"?a(t):a},V8={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},z8={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},B8={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},U8={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},H8={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},q8={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},W8=(e,t)=>{const s=Number(e);return(t==null?void 0:t.unit)==="week"?s+"":s+""},G8={ordinalNumber:W8,era:Dn({values:V8,defaultWidth:"wide"}),quarter:Dn({values:z8,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Dn({values:B8,defaultWidth:"wide"}),day:Dn({values:U8,defaultWidth:"wide"}),dayPeriod:Dn({values:H8,defaultWidth:"wide",formattingValues:q8,defaultFormattingWidth:"wide"})},Y8=/^(\d+)[o]?/i,K8=/\d+/i,X8={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Q8={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},J8={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Z8={any:[/1/i,/2/i,/3/i,/4/i]},ez={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},tz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},sz={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},rz={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},nz={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},az={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},oz={ordinalNumber:cE({matchPattern:Y8,parsePattern:K8,valueCallback:e=>parseInt(e,10)}),era:In({matchPatterns:X8,defaultMatchWidth:"wide",parsePatterns:Q8,defaultParseWidth:"any"}),quarter:In({matchPatterns:J8,defaultMatchWidth:"wide",parsePatterns:Z8,defaultParseWidth:"any",valueCallback:e=>e+1}),month:In({matchPatterns:ez,defaultMatchWidth:"wide",parsePatterns:tz,defaultParseWidth:"any"}),day:In({matchPatterns:sz,defaultMatchWidth:"wide",parsePatterns:rz,defaultParseWidth:"any"}),dayPeriod:In({matchPatterns:nz,defaultMatchWidth:"any",parsePatterns:az,defaultParseWidth:"any"})},nt={code:"pt-BR",formatDistance:R8,formatLong:L8,formatRelative:F8,localize:G8,match:oz,options:{weekStartsOn:0,firstWeekContainsDate:1}},iz=({type:e})=>{switch(e){case"class_feedback":return n.jsx(ca,{className:"h-4 w-4 text-yellow-500"});case"new_package":return n.jsx(Lm,{className:"h-4 w-4 text-green-500"});case"new_message":return n.jsx(kr,{className:"h-4 w-4 text-blue-500"});case"class_reminder":return n.jsx(Bs,{className:"h-4 w-4 text-blue-500"});case"class_missed":return n.jsx(ii,{className:"h-4 w-4 text-red-500"});case"class_rescheduled":return n.jsx(md,{className:"h-4 w-4 text-purple-500"});default:return n.jsx(iC,{className:"h-4 w-4 text-slate-500"})}},lz=({rating:e})=>n.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(t=>n.jsx(ca,{className:`h-3 w-3 ${e>=t?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},t))}),cz=({notification:e,onRead:t})=>{const{type:s,content:r,created_at:a,is_read:o}=e;let i="Nova notificao",l="Voc tem uma nova atualizao.",c=null;switch(s){case"class_feedback":i="Feedback recebido!",l=r.message||"O professor avaliou sua aula.",r.ratings&&(c=n.jsxs("div",{className:"mt-2 space-y-1 text-xs text-slate-500 border-t pt-2",children:[Object.entries(r.ratings).map(([d,u])=>n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"capitalize",children:d.replace("_"," ")}),n.jsx(lz,{rating:u})]},d)),r.comment&&n.jsxs("p",{className:"mt-2 pt-1 border-t text-slate-600",children:['"',r.comment,'"']})]}));break;case"new_package":i="Novo pacote de aulas!",l=r.message||"Voc recebeu um novo pacote.";break;case"new_message":i="Nova mensagem",l=r.message||"Voc tem uma nova mensagem.";break;case"class_missed":i="Aula marcada como falta",l=r.message||"Uma de suas aulas foi marcada como falta.";break;case"class_rescheduled":i="Crdito de aula devolvido",l=r.message||"Um crdito de aula foi devolvido para reagendamento.";break}return n.jsxs("div",{className:ee("p-3 flex items-start gap-3 border-b last:border-b-0 cursor-pointer hover:bg-slate-50",!o&&"bg-sky-50"),onClick:()=>!o&&t(e.id),children:[!o&&n.jsx("div",{className:"h-2 w-2 rounded-full bg-sky-500 mt-1.5 flex-shrink-0"}),n.jsx("div",{className:ee("flex-shrink-0",o&&"ml-4"),children:n.jsx(iz,{type:s})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-sm",children:i}),n.jsx("p",{className:"text-xs text-slate-600",children:l}),c,n.jsx("p",{className:"text-xs text-slate-400 mt-2",children:mE(new Date(a),{addSuffix:!0,locale:nt})})]})]})},dz=()=>{const{user:e}=pr(),[t,s]=f.useState([]),[r,a]=f.useState(0),[o,i]=f.useState(!1),l=f.useCallback(async()=>{if(!e)return;const{data:u,error:m}=await R.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(20);m||(s(u),a(u.filter(h=>!h.is_read).length))},[e]);f.useEffect(()=>{l();const u=R.channel("realtime-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e==null?void 0:e.id}`},m=>{s(h=>[m.new,...h]),a(h=>h+1)}).subscribe();return()=>{R.removeChannel(u)}},[e,l]);const c=async u=>{const{error:m}=await R.from("notifications").update({is_read:!0}).eq("id",u);m||(s(h=>h.map(p=>p.id===u?{...p,is_read:!0}:p)),a(h=>Math.max(0,h-1)))},d=async()=>{const u=t.filter(h=>!h.is_read).map(h=>h.id);if(u.length===0)return;const{error:m}=await R.from("notifications").update({is_read:!0}).in("id",u);m||(s(h=>h.map(p=>({...p,is_read:!0}))),a(0))};return f.useEffect(()=>{if(o&&r>0){const u=setTimeout(()=>{d()},3e3);return()=>clearTimeout(u)}},[o,r]),n.jsxs(Ba,{open:o,onOpenChange:i,children:[n.jsx(Ua,{asChild:!0,children:n.jsxs(Y,{variant:"ghost",size:"icon",className:"relative",children:[n.jsx(iC,{className:"h-5 w-5 text-slate-600"}),r>0&&n.jsxs("span",{className:"absolute top-0 right-0 flex h-4 w-4",children:[n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-75"}),n.jsx("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-sky-500 text-white text-xs items-center justify-center",children:r})]})]})}),n.jsxs(da,{align:"end",className:"w-80 p-0",children:[n.jsx("div",{className:"p-3 border-b",children:n.jsx("h4",{className:"font-medium text-sm",children:"Notificaes"})}),n.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.length>0?t.map(u=>n.jsx(cz,{notification:u,onRead:c},u.id)):n.jsx("p",{className:"text-center text-sm text-slate-500 py-8",children:"Nenhuma notificao por aqui."})})]})]})},hj=()=>{const{signOut:e,user:t}=pr(),s=vi(),r=async()=>{await e()};return n.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-50 shadow-sm",children:n.jsx("nav",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsxs(ai,{to:"/",className:"flex items-baseline gap-1 hover:opacity-80 transition-opacity",children:[n.jsx("span",{className:"text-2xl sm:text-3xl font-bold text-sky-500",children:"Conexin"}),n.jsx("span",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:"Amrica"})]}),n.jsx("p",{className:"hidden md:block ml-4 text-xs text-slate-500 tracking-wide",children:"Portal do Aluno"})]}),t?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dz,{}),n.jsxs(Y,{variant:"ghost",size:"sm",onClick:r,className:"hidden sm:inline-flex hover:bg-slate-100",children:["Sair",n.jsx(Df,{className:"ml-2 h-4 w-4"})]}),n.jsx(Y,{variant:"ghost",size:"icon",onClick:r,className:"sm:hidden hover:bg-slate-100",children:n.jsx(Df,{className:"h-5 w-5"})})]}):s.pathname!=="/professor-login"&&n.jsx(ai,{to:"/professor-login",children:n.jsxs(Y,{variant:"outline",size:"sm",className:"text-xs sm:text-sm border-sky-500 text-sky-600 hover:bg-sky-50",children:[n.jsx(mC,{className:"mr-2 h-4 w-4 hidden sm:inline-block"}),"Professor"]})})]})})})},pj=()=>{const e=new Date().getFullYear();return n.jsx("footer",{className:"bg-slate-50 border-t border-slate-200 mt-auto",children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[n.jsxs("div",{className:"text-center md:text-left",children:[n.jsxs("div",{className:"text-xl font-bold mb-1",children:[n.jsx("span",{className:"text-sky-500",children:"Conexin"}),n.jsx("span",{className:"text-slate-800",children:" Amrica"})]}),n.jsx("p",{className:"text-sm text-slate-500",children:"Aprenda espanhol do jeito certo"})]}),n.jsxs("div",{className:"flex flex-col items-center md:items-end gap-2",children:[n.jsxs("div",{className:"flex gap-4 text-sm",children:[n.jsx("a",{href:"https://www.conexionamerica.com.br",target:"_blank",rel:"noopener noreferrer",className:"text-slate-600 hover:text-sky-500 transition-colors",children:"Site Principal"}),n.jsx("span",{className:"text-slate-300",children:"|"}),n.jsx("a",{href:"https://wa.me/555198541835",target:"_blank",rel:"noopener noreferrer",className:"text-slate-600 hover:text-sky-500 transition-colors",children:"Suporte"})]}),n.jsxs("p",{className:"text-xs text-slate-500",children:[" ",e," Conexin Amrica. Todos os direitos reservados."]})]})]})})})},bE=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Zm=f.createContext({}),eh=f.createContext(null),th=typeof document<"u",R0=th?f.useLayoutEffect:f.useEffect,wE=f.createContext({strict:!1}),O0=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),uz="framerAppearId",jE="data-"+O0(uz);function fz(e,t,s,r){const{visualElement:a}=f.useContext(Zm),o=f.useContext(wE),i=f.useContext(eh),l=f.useContext(bE).reducedMotion,c=f.useRef();r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:a,props:s,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;f.useInsertionEffect(()=>{d&&d.update(s,i)});const u=f.useRef(!!(s[jE]&&!window.HandoffComplete));return R0(()=>{d&&(d.render(),u.current&&d.animationState&&d.animationState.animateChanges())}),f.useEffect(()=>{d&&(d.updateFeatures(),!u.current&&d.animationState&&d.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),d}function Ji(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function mz(e,t,s){return f.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):Ji(s)&&(s.current=r))},[t])}function vd(e){return typeof e=="string"||Array.isArray(e)}function sh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const D0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],I0=["initial",...D0];function rh(e){return sh(e.animate)||I0.some(t=>vd(e[t]))}function NE(e){return!!(rh(e)||e.variants)}function hz(e,t){if(rh(e)){const{initial:s,animate:r}=e;return{initial:s===!1||vd(s)?s:void 0,animate:vd(r)?r:void 0}}return e.inherit!==!1?t:{}}function pz(e){const{initial:t,animate:s}=hz(e,f.useContext(Zm));return f.useMemo(()=>({initial:t,animate:s}),[gj(t),gj(s)])}function gj(e){return Array.isArray(e)?e.join(" "):e}const xj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yd={};for(const e in xj)yd[e]={isEnabled:t=>xj[e].some(s=>!!t[s])};function gz(e){for(const t in e)yd[t]={...yd[t],...e[t]}}const L0=f.createContext({}),_E=f.createContext({}),xz=Symbol.for("motionComponentSymbol");function vz({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:r,Component:a}){e&&gz(e);function o(l,c){let d;const u={...f.useContext(bE),...l,layoutId:yz(l)},{isStatic:m}=u,h=pz(l),p=r(l,m);if(!m&&th){h.visualElement=fz(a,p,u,t);const x=f.useContext(_E),g=f.useContext(wE).strict;h.visualElement&&(d=h.visualElement.loadFeatures(u,g,e,x))}return f.createElement(Zm.Provider,{value:h},d&&h.visualElement?f.createElement(d,{visualElement:h.visualElement,...u}):null,s(a,l,mz(p,h.visualElement,c),p,m,h.visualElement))}const i=f.forwardRef(o);return i[xz]=a,i}function yz({layoutId:e}){const t=f.useContext(L0).id;return t&&e!==void 0?t+"-"+e:e}function bz(e){function t(r,a={}){return vz(e(r,a))}if(typeof Proxy>"u")return t;const s=new Map;return new Proxy(t,{get:(r,a)=>(s.has(a)||s.set(a,t(a)),s.get(a))})}const wz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $0(e){return typeof e!="string"||e.includes("-")?!1:!!(wz.indexOf(e)>-1||/[A-Z]/.test(e))}const Hf={};function jz(e){Object.assign(Hf,e)}const $d=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wi=new Set($d);function SE(e,{layout:t,layoutId:s}){return wi.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Hf[e]||e==="opacity")}const Pr=e=>!!(e&&e.getVelocity),Nz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_z=$d.length;function Sz(e,{enableHardwareAcceleration:t=!0,allowTransformNone:s=!0},r,a){let o="";for(let i=0;i<_z;i++){const l=$d[i];if(e[l]!==void 0){const c=Nz[l]||l;o+=`${c}(${e[l]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),a?o=a(e,r?"":o):s&&r&&(o="none"),o}const CE=e=>t=>typeof t=="string"&&t.startsWith(e),EE=CE("--"),bx=CE("var(--"),Cz=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Ez=(e,t)=>t&&typeof e=="number"?t.transform(e):e,go=(e,t,s)=>Math.min(Math.max(s,e),t),ji={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},$c={...ji,transform:e=>go(0,1,e)},Au={...ji,default:1},Fc=e=>Math.round(e*1e5)/1e5,nh=/(-)?([\d]*\.?[\d])+/g,kE=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,kz=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Fd(e){return typeof e=="string"}const Vd=e=>({test:t=>Fd(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Oa=Vd("deg"),qn=Vd("%"),Ze=Vd("px"),Tz=Vd("vh"),Pz=Vd("vw"),vj={...qn,parse:e=>qn.parse(e)/100,transform:e=>qn.transform(e*100)},yj={...ji,transform:Math.round},TE={borderWidth:Ze,borderTopWidth:Ze,borderRightWidth:Ze,borderBottomWidth:Ze,borderLeftWidth:Ze,borderRadius:Ze,radius:Ze,borderTopLeftRadius:Ze,borderTopRightRadius:Ze,borderBottomRightRadius:Ze,borderBottomLeftRadius:Ze,width:Ze,maxWidth:Ze,height:Ze,maxHeight:Ze,size:Ze,top:Ze,right:Ze,bottom:Ze,left:Ze,padding:Ze,paddingTop:Ze,paddingRight:Ze,paddingBottom:Ze,paddingLeft:Ze,margin:Ze,marginTop:Ze,marginRight:Ze,marginBottom:Ze,marginLeft:Ze,rotate:Oa,rotateX:Oa,rotateY:Oa,rotateZ:Oa,scale:Au,scaleX:Au,scaleY:Au,scaleZ:Au,skew:Oa,skewX:Oa,skewY:Oa,distance:Ze,translateX:Ze,translateY:Ze,translateZ:Ze,x:Ze,y:Ze,z:Ze,perspective:Ze,transformPerspective:Ze,opacity:$c,originX:vj,originY:vj,originZ:Ze,zIndex:yj,fillOpacity:$c,strokeOpacity:$c,numOctaves:yj};function F0(e,t,s,r){const{style:a,vars:o,transform:i,transformOrigin:l}=e;let c=!1,d=!1,u=!0;for(const m in t){const h=t[m];if(EE(m)){o[m]=h;continue}const p=TE[m],x=Ez(h,p);if(wi.has(m)){if(c=!0,i[m]=x,!u)continue;h!==(p.default||0)&&(u=!1)}else m.startsWith("origin")?(d=!0,l[m]=x):a[m]=x}if(t.transform||(c||r?a.transform=Sz(e.transform,s,u,r):a.transform&&(a.transform="none")),d){const{originX:m="50%",originY:h="50%",originZ:p=0}=l;a.transformOrigin=`${m} ${h} ${p}`}}const V0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function PE(e,t,s){for(const r in t)!Pr(t[r])&&!SE(r,s)&&(e[r]=t[r])}function Az({transformTemplate:e},t,s){return f.useMemo(()=>{const r=V0();return F0(r,t,{enableHardwareAcceleration:!s},e),Object.assign({},r.vars,r.style)},[t])}function Mz(e,t,s){const r=e.style||{},a={};return PE(a,r,e),Object.assign(a,Az(e,t,s)),e.transformValues?e.transformValues(a):a}function Rz(e,t,s){const r={},a=Mz(e,t,s);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const Oz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Oz.has(e)}let AE=e=>!qf(e);function Dz(e){e&&(AE=t=>t.startsWith("on")?!qf(t):e(t))}try{Dz(require("@emotion/is-prop-valid").default)}catch{}function Iz(e,t,s){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(AE(a)||s===!0&&qf(a)||!t&&!qf(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function bj(e,t,s){return typeof e=="string"?e:Ze.transform(t+s*e)}function Lz(e,t,s){const r=bj(t,e.x,e.width),a=bj(s,e.y,e.height);return`${r} ${a}`}const $z={offset:"stroke-dashoffset",array:"stroke-dasharray"},Fz={offset:"strokeDashoffset",array:"strokeDasharray"};function Vz(e,t,s=1,r=0,a=!0){e.pathLength=1;const o=a?$z:Fz;e[o.offset]=Ze.transform(-r);const i=Ze.transform(t),l=Ze.transform(s);e[o.array]=`${i} ${l}`}function z0(e,{attrX:t,attrY:s,attrScale:r,originX:a,originY:o,pathLength:i,pathSpacing:l=1,pathOffset:c=0,...d},u,m,h){if(F0(e,d,u,h),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:x,dimensions:g}=e;p.transform&&(g&&(x.transform=p.transform),delete p.transform),g&&(a!==void 0||o!==void 0||x.transform)&&(x.transformOrigin=Lz(g,a!==void 0?a:.5,o!==void 0?o:.5)),t!==void 0&&(p.x=t),s!==void 0&&(p.y=s),r!==void 0&&(p.scale=r),i!==void 0&&Vz(p,i,l,c,!1)}const ME=()=>({...V0(),attrs:{}}),B0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function zz(e,t,s,r){const a=f.useMemo(()=>{const o=ME();return z0(o,t,{enableHardwareAcceleration:!1},B0(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};PE(o,e.style,e),a.style={...o,...a.style}}return a}function Bz(e=!1){return(s,r,a,{latestValues:o},i)=>{const c=($0(s)?zz:Rz)(r,o,i,s),u={...Iz(r,typeof s=="string",e),...c,ref:a},{children:m}=r,h=f.useMemo(()=>Pr(m)?m.get():m,[m]);return f.createElement(s,{...u,children:h})}}function RE(e,{style:t,vars:s},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const o in s)e.style.setProperty(o,s[o])}const OE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DE(e,t,s,r){RE(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(OE.has(a)?a:O0(a),t.attrs[a])}function U0(e,t){const{style:s}=e,r={};for(const a in s)(Pr(s[a])||t.style&&Pr(t.style[a])||SE(a,e))&&(r[a]=s[a]);return r}function IE(e,t){const s=U0(e,t);for(const r in e)if(Pr(e[r])||Pr(t[r])){const a=$d.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[a]=e[r]}return s}function H0(e,t,s,r={},a={}){return typeof t=="function"&&(t=t(s!==void 0?s:e.custom,r,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(s!==void 0?s:e.custom,r,a)),t}function LE(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}const Wf=e=>Array.isArray(e),Uz=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Hz=e=>Wf(e)?e[e.length-1]||0:e;function rf(e){const t=Pr(e)?e.get():e;return Uz(t)?t.toValue():t}function qz({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:s},r,a,o){const i={latestValues:Wz(r,a,o,e),renderState:t()};return s&&(i.mount=l=>s(r,l,i)),i}const $E=e=>(t,s)=>{const r=f.useContext(Zm),a=f.useContext(eh),o=()=>qz(e,t,r,a);return s?o():LE(o)};function Wz(e,t,s,r){const a={},o=r(e,{});for(const h in o)a[h]=rf(o[h]);let{initial:i,animate:l}=e;const c=rh(e),d=NE(e);t&&d&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||i===!1;const m=u?l:i;return m&&typeof m!="boolean"&&!sh(m)&&(Array.isArray(m)?m:[m]).forEach(p=>{const x=H0(e,p);if(!x)return;const{transitionEnd:g,transition:y,...b}=x;for(const v in b){let w=b[v];if(Array.isArray(w)){const j=u?w.length-1:0;w=w[j]}w!==null&&(a[v]=w)}for(const v in g)a[v]=g[v]}),a}const gs=e=>e;class wj{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const s=this.order.indexOf(t);s!==-1&&(this.order.splice(s,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Gz(e){let t=new wj,s=new wj,r=0,a=!1,o=!1;const i=new WeakSet,l={schedule:(c,d=!1,u=!1)=>{const m=u&&a,h=m?t:s;return d&&i.add(c),h.add(c)&&m&&a&&(r=t.order.length),c},cancel:c=>{s.remove(c),i.delete(c)},process:c=>{if(a){o=!0;return}if(a=!0,[t,s]=[s,t],s.clear(),r=t.order.length,r)for(let d=0;d<r;d++){const u=t.order[d];u(c),i.has(u)&&(l.schedule(u),e())}a=!1,o&&(o=!1,l.process(c))}};return l}const Mu=["prepare","read","update","preRender","render","postRender"],Yz=40;function Kz(e,t){let s=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=Mu.reduce((m,h)=>(m[h]=Gz(()=>s=!0),m),{}),i=m=>o[m].process(a),l=()=>{const m=performance.now();s=!1,a.delta=r?1e3/60:Math.max(Math.min(m-a.timestamp,Yz),1),a.timestamp=m,a.isProcessing=!0,Mu.forEach(i),a.isProcessing=!1,s&&t&&(r=!1,e(l))},c=()=>{s=!0,r=!0,a.isProcessing||e(l)};return{schedule:Mu.reduce((m,h)=>{const p=o[h];return m[h]=(x,g=!1,y=!1)=>(s||c(),p.schedule(x,g,y)),m},{}),cancel:m=>Mu.forEach(h=>o[h].cancel(m)),state:a,steps:o}}const{schedule:Xt,cancel:_a,state:Zs,steps:wp}=Kz(typeof requestAnimationFrame<"u"?requestAnimationFrame:gs,!0),Xz={useVisualState:$E({scrapeMotionValuesFromProps:IE,createRenderState:ME,onMount:(e,t,{renderState:s,latestValues:r})=>{Xt.read(()=>{try{s.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),Xt.render(()=>{z0(s,r,{enableHardwareAcceleration:!1},B0(t.tagName),e.transformTemplate),DE(t,s)})}})},Qz={useVisualState:$E({scrapeMotionValuesFromProps:U0,createRenderState:V0})};function Jz(e,{forwardMotionProps:t=!1},s,r){return{...$0(e)?Xz:Qz,preloadedFeatures:s,useRender:Bz(t),createVisualElement:r,Component:e}}function ma(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}const FE=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function ah(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Zz=e=>t=>FE(t)&&e(t,ah(t));function pa(e,t,s,r){return ma(e,t,Zz(s),r)}const eB=(e,t)=>s=>t(e(s)),io=(...e)=>e.reduce(eB);function VE(e){let t=null;return()=>{const s=()=>{t=null};return t===null?(t=e,s):!1}}const jj=VE("dragHorizontal"),Nj=VE("dragVertical");function zE(e){let t=!1;if(e==="y")t=Nj();else if(e==="x")t=jj();else{const s=jj(),r=Nj();s&&r?t=()=>{s(),r()}:(s&&s(),r&&r())}return t}function BE(){const e=zE(!0);return e?(e(),!1):!0}class Co{constructor(t){this.isMounted=!1,this.node=t}update(){}}function _j(e,t){const s="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),a=(o,i)=>{if(o.pointerType==="touch"||BE())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&Xt.update(()=>l[r](o,i))};return pa(e.current,s,a,{passive:!e.getProps()[r]})}class tB extends Co{mount(){this.unmount=io(_j(this.node,!0),_j(this.node,!1))}unmount(){}}class sB extends Co{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=io(ma(this.node.current,"focus",()=>this.onFocus()),ma(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const UE=(e,t)=>t?e===t?!0:UE(e,t.parentElement):!1;function jp(e,t){if(!t)return;const s=new PointerEvent("pointer"+e);t(s,ah(s))}class rB extends Co{constructor(){super(...arguments),this.removeStartListeners=gs,this.removeEndListeners=gs,this.removeAccessibleListeners=gs,this.startPointerPress=(t,s)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=pa(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:u,globalTapTarget:m}=this.node.getProps();Xt.update(()=>{!m&&!UE(this.node.current,l.target)?u&&u(l,c):d&&d(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),i=pa(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=io(o,i),this.startPress(t,s)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=l=>{l.key!=="Enter"||!this.checkPressEnd()||jp("up",(c,d)=>{const{onTap:u}=this.node.getProps();u&&Xt.update(()=>u(c,d))})};this.removeEndListeners(),this.removeEndListeners=ma(this.node.current,"keyup",i),jp("down",(l,c)=>{this.startPress(l,c)})},s=ma(this.node.current,"keydown",t),r=()=>{this.isPressing&&jp("cancel",(o,i)=>this.cancelPress(o,i))},a=ma(this.node.current,"blur",r);this.removeAccessibleListeners=io(s,a)}}startPress(t,s){this.isPressing=!0;const{onTapStart:r,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Xt.update(()=>r(t,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!BE()}cancelPress(t,s){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Xt.update(()=>r(t,s))}mount(){const t=this.node.getProps(),s=pa(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=ma(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=io(s,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const wx=new WeakMap,Np=new WeakMap,nB=e=>{const t=wx.get(e.target);t&&t(e)},aB=e=>{e.forEach(nB)};function oB({root:e,...t}){const s=e||document;Np.has(s)||Np.set(s,{});const r=Np.get(s),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(aB,{root:e,...t})),r[a]}function iB(e,t,s){const r=oB(t);return wx.set(e,s),r.observe(e),()=>{wx.delete(e),r.unobserve(e)}}const lB={some:0,all:1};class cB extends Co{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:a="some",once:o}=t,i={root:s?s.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:lB[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),h=d?u:m;h&&h(c)};return iB(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(dB(t,s))&&this.startObserver()}unmount(){}}function dB({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const uB={inView:{Feature:cB},tap:{Feature:rB},focus:{Feature:sB},hover:{Feature:tB}};function HE(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}function fB(e){const t={};return e.values.forEach((s,r)=>t[r]=s.get()),t}function mB(e){const t={};return e.values.forEach((s,r)=>t[r]=s.getVelocity()),t}function oh(e,t,s){const r=e.getProps();return H0(r,t,s!==void 0?s:r.custom,fB(e),mB(e))}let hB=gs,q0=gs;const lo=e=>e*1e3,ga=e=>e/1e3,pB={current:!1},qE=e=>Array.isArray(e)&&typeof e[0]=="number";function WE(e){return!!(!e||typeof e=="string"&&GE[e]||qE(e)||Array.isArray(e)&&e.every(WE))}const Nc=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,GE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nc([0,.65,.55,1]),circOut:Nc([.55,0,1,.45]),backIn:Nc([.31,.01,.66,-.59]),backOut:Nc([.33,1.53,.69,.99])};function YE(e){if(e)return qE(e)?Nc(e):Array.isArray(e)?e.map(YE):GE[e]}function gB(e,t,s,{delay:r=0,duration:a,repeat:o=0,repeatType:i="loop",ease:l,times:c}={}){const d={[t]:s};c&&(d.offset=c);const u=YE(l);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:r,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}function xB(e,{repeat:t,repeatType:s="loop"}){const r=t&&s!=="loop"&&t%2===1?0:e.length-1;return e[r]}const KE=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,vB=1e-7,yB=12;function bB(e,t,s,r,a){let o,i,l=0;do i=t+(s-t)/2,o=KE(i,r,a)-e,o>0?s=i:t=i;while(Math.abs(o)>vB&&++l<yB);return i}function zd(e,t,s,r){if(e===t&&s===r)return gs;const a=o=>bB(o,0,1,e,s);return o=>o===0||o===1?o:KE(a(o),t,r)}const wB=zd(.42,0,1,1),jB=zd(0,0,.58,1),XE=zd(.42,0,.58,1),NB=e=>Array.isArray(e)&&typeof e[0]!="number",QE=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,JE=e=>t=>1-e(1-t),W0=e=>1-Math.sin(Math.acos(e)),ZE=JE(W0),_B=QE(W0),ek=zd(.33,1.53,.69,.99),G0=JE(ek),SB=QE(G0),CB=e=>(e*=2)<1?.5*G0(e):.5*(2-Math.pow(2,-10*(e-1))),EB={linear:gs,easeIn:wB,easeInOut:XE,easeOut:jB,circIn:W0,circInOut:_B,circOut:ZE,backIn:G0,backInOut:SB,backOut:ek,anticipate:CB},Sj=e=>{if(Array.isArray(e)){q0(e.length===4);const[t,s,r,a]=e;return zd(t,s,r,a)}else if(typeof e=="string")return EB[e];return e},Y0=(e,t)=>s=>!!(Fd(s)&&kz.test(s)&&s.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(s,t)),tk=(e,t,s)=>r=>{if(!Fd(r))return r;const[a,o,i,l]=r.match(nh);return{[e]:parseFloat(a),[t]:parseFloat(o),[s]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},kB=e=>go(0,255,e),_p={...ji,transform:e=>Math.round(kB(e))},Wo={test:Y0("rgb","red"),parse:tk("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+_p.transform(e)+", "+_p.transform(t)+", "+_p.transform(s)+", "+Fc($c.transform(r))+")"};function TB(e){let t="",s="",r="",a="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,s+=s,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const jx={test:Y0("#"),parse:TB,transform:Wo.transform},Zi={test:Y0("hsl","hue"),parse:tk("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+qn.transform(Fc(t))+", "+qn.transform(Fc(s))+", "+Fc($c.transform(r))+")"},lr={test:e=>Wo.test(e)||jx.test(e)||Zi.test(e),parse:e=>Wo.test(e)?Wo.parse(e):Zi.test(e)?Zi.parse(e):jx.parse(e),transform:e=>Fd(e)?e:e.hasOwnProperty("red")?Wo.transform(e):Zi.transform(e)},ds=(e,t,s)=>-s*e+s*t+e;function Sp(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function PB({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,t/=100,s/=100;let a=0,o=0,i=0;if(!t)a=o=i=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;a=Sp(c,l,e+1/3),o=Sp(c,l,e),i=Sp(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}const Cp=(e,t,s)=>{const r=e*e;return Math.sqrt(Math.max(0,s*(t*t-r)+r))},AB=[jx,Wo,Zi],MB=e=>AB.find(t=>t.test(e));function Cj(e){const t=MB(e);let s=t.parse(e);return t===Zi&&(s=PB(s)),s}const sk=(e,t)=>{const s=Cj(e),r=Cj(t),a={...s};return o=>(a.red=Cp(s.red,r.red,o),a.green=Cp(s.green,r.green,o),a.blue=Cp(s.blue,r.blue,o),a.alpha=ds(s.alpha,r.alpha,o),Wo.transform(a))};function RB(e){var t,s;return isNaN(e)&&Fd(e)&&(((t=e.match(nh))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(kE))===null||s===void 0?void 0:s.length)||0)>0}const rk={regex:Cz,countKey:"Vars",token:"${v}",parse:gs},nk={regex:kE,countKey:"Colors",token:"${c}",parse:lr.parse},ak={regex:nh,countKey:"Numbers",token:"${n}",parse:ji.parse};function Ep(e,{regex:t,countKey:s,token:r,parse:a}){const o=e.tokenised.match(t);o&&(e["num"+s]=o.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...o.map(a)))}function Gf(e){const t=e.toString(),s={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return s.value.includes("var(--")&&Ep(s,rk),Ep(s,nk),Ep(s,ak),s}function ok(e){return Gf(e).values}function ik(e){const{values:t,numColors:s,numVars:r,tokenised:a}=Gf(e),o=t.length;return i=>{let l=a;for(let c=0;c<o;c++)c<r?l=l.replace(rk.token,i[c]):c<r+s?l=l.replace(nk.token,lr.transform(i[c])):l=l.replace(ak.token,Fc(i[c]));return l}}const OB=e=>typeof e=="number"?0:e;function DB(e){const t=ok(e);return ik(e)(t.map(OB))}const xo={test:RB,parse:ok,createTransformer:ik,getAnimatableNone:DB},lk=(e,t)=>s=>`${s>0?t:e}`;function ck(e,t){return typeof e=="number"?s=>ds(e,t,s):lr.test(e)?sk(e,t):e.startsWith("var(")?lk(e,t):uk(e,t)}const dk=(e,t)=>{const s=[...e],r=s.length,a=e.map((o,i)=>ck(o,t[i]));return o=>{for(let i=0;i<r;i++)s[i]=a[i](o);return s}},IB=(e,t)=>{const s={...e,...t},r={};for(const a in s)e[a]!==void 0&&t[a]!==void 0&&(r[a]=ck(e[a],t[a]));return a=>{for(const o in r)s[o]=r[o](a);return s}},uk=(e,t)=>{const s=xo.createTransformer(t),r=Gf(e),a=Gf(t);return r.numVars===a.numVars&&r.numColors===a.numColors&&r.numNumbers>=a.numNumbers?io(dk(r.values,a.values),s):lk(e,t)},bd=(e,t,s)=>{const r=t-e;return r===0?1:(s-e)/r},Ej=(e,t)=>s=>ds(e,t,s);function LB(e){return typeof e=="number"?Ej:typeof e=="string"?lr.test(e)?sk:uk:Array.isArray(e)?dk:typeof e=="object"?IB:Ej}function $B(e,t,s){const r=[],a=s||LB(e[0]),o=e.length-1;for(let i=0;i<o;i++){let l=a(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||gs:t;l=io(c,l)}r.push(l)}return r}function fk(e,t,{clamp:s=!0,ease:r,mixer:a}={}){const o=e.length;if(q0(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=$B(t,r,a),l=i.length,c=d=>{let u=0;if(l>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const m=bd(e[u],e[u+1],d);return i[u](m)};return s?d=>c(go(e[0],e[o-1],d)):c}function FB(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const a=bd(0,t,r);e.push(ds(s,1,a))}}function VB(e){const t=[0];return FB(t,e.length-1),t}function zB(e,t){return e.map(s=>s*t)}function BB(e,t){return e.map(()=>t||XE).splice(0,e.length-1)}function Yf({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const a=NB(r)?r.map(Sj):Sj(r),o={done:!1,value:t[0]},i=zB(s&&s.length===t.length?s:VB(t),e),l=fk(i,t,{ease:Array.isArray(a)?a:BB(t,a)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}function mk(e,t){return t?e*(1e3/t):0}const UB=5;function hk(e,t,s){const r=Math.max(t-UB,0);return mk(s-e(r),t-r)}const kp=.001,HB=.01,kj=10,qB=.05,WB=1;function GB({duration:e=800,bounce:t=.25,velocity:s=0,mass:r=1}){let a,o;hB(e<=lo(kj));let i=1-t;i=go(qB,WB,i),e=go(HB,kj,ga(e)),i<1?(a=d=>{const u=d*i,m=u*e,h=u-s,p=Nx(d,i),x=Math.exp(-m);return kp-h/p*x},o=d=>{const m=d*i*e,h=m*s+s,p=Math.pow(i,2)*Math.pow(d,2)*e,x=Math.exp(-m),g=Nx(Math.pow(d,2),i);return(-a(d)+kp>0?-1:1)*((h-p)*x)/g}):(a=d=>{const u=Math.exp(-d*e),m=(d-s)*e+1;return-kp+u*m},o=d=>{const u=Math.exp(-d*e),m=(s-d)*(e*e);return u*m});const l=5/e,c=KB(a,o,l);if(e=lo(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:i*2*Math.sqrt(r*d),duration:e}}}const YB=12;function KB(e,t,s){let r=s;for(let a=1;a<YB;a++)r=r-e(r)/t(r);return r}function Nx(e,t){return e*Math.sqrt(1-t*t)}const XB=["duration","bounce"],QB=["stiffness","damping","mass"];function Tj(e,t){return t.some(s=>e[s]!==void 0)}function JB(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Tj(e,QB)&&Tj(e,XB)){const s=GB(e);t={...t,...s,mass:1},t.isResolvedFromDuration=!0}return t}function pk({keyframes:e,restDelta:t,restSpeed:s,...r}){const a=e[0],o=e[e.length-1],i={done:!1,value:a},{stiffness:l,damping:c,mass:d,duration:u,velocity:m,isResolvedFromDuration:h}=JB({...r,velocity:-ga(r.velocity||0)}),p=m||0,x=c/(2*Math.sqrt(l*d)),g=o-a,y=ga(Math.sqrt(l/d)),b=Math.abs(g)<5;s||(s=b?.01:2),t||(t=b?.005:.5);let v;if(x<1){const w=Nx(y,x);v=j=>{const N=Math.exp(-x*y*j);return o-N*((p+x*y*g)/w*Math.sin(w*j)+g*Math.cos(w*j))}}else if(x===1)v=w=>o-Math.exp(-y*w)*(g+(p+y*g)*w);else{const w=y*Math.sqrt(x*x-1);v=j=>{const N=Math.exp(-x*y*j),C=Math.min(w*j,300);return o-N*((p+x*y*g)*Math.sinh(C)+w*g*Math.cosh(C))/w}}return{calculatedDuration:h&&u||null,next:w=>{const j=v(w);if(h)i.done=w>=u;else{let N=p;w!==0&&(x<1?N=hk(v,w,j):N=0);const C=Math.abs(N)<=s,_=Math.abs(o-j)<=t;i.done=C&&_}return i.value=i.done?o:j,i}}}function Pj({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:d=.5,restSpeed:u}){const m=e[0],h={done:!1,value:m},p=S=>l!==void 0&&S<l||c!==void 0&&S>c,x=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let g=s*t;const y=m+g,b=i===void 0?y:i(y);b!==y&&(g=b-m);const v=S=>-g*Math.exp(-S/r),w=S=>b+v(S),j=S=>{const O=v(S),D=w(S);h.done=Math.abs(O)<=d,h.value=h.done?b:D};let N,C;const _=S=>{p(h.value)&&(N=S,C=pk({keyframes:[h.value,x(h.value)],velocity:hk(w,S,h.value),damping:a,stiffness:o,restDelta:d,restSpeed:u}))};return _(0),{calculatedDuration:null,next:S=>{let O=!1;return!C&&N===void 0&&(O=!0,j(S),_(S)),N!==void 0&&S>N?C.next(S-N):(!O&&j(S),h)}}}const ZB=e=>{const t=({timestamp:s})=>e(s);return{start:()=>Xt.update(t,!0),stop:()=>_a(t),now:()=>Zs.isProcessing?Zs.timestamp:performance.now()}},Aj=2e4;function Mj(e){let t=0;const s=50;let r=e.next(t);for(;!r.done&&t<Aj;)t+=s,r=e.next(t);return t>=Aj?1/0:t}const eU={decay:Pj,inertia:Pj,tween:Yf,keyframes:Yf,spring:pk};function Kf({autoplay:e=!0,delay:t=0,driver:s=ZB,keyframes:r,type:a="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:u,onUpdate:m,...h}){let p=1,x=!1,g,y;const b=()=>{y=new Promise(B=>{g=B})};b();let v;const w=eU[a]||Yf;let j;w!==Yf&&typeof r[0]!="number"&&(j=fk([0,100],r,{clamp:!1}),r=[0,100]);const N=w({...h,keyframes:r});let C;l==="mirror"&&(C=w({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let _="idle",S=null,O=null,D=null;N.calculatedDuration===null&&o&&(N.calculatedDuration=Mj(N));const{calculatedDuration:z}=N;let M=1/0,U=1/0;z!==null&&(M=z+i,U=M*(o+1)-i);let $=0;const E=B=>{if(O===null)return;p>0&&(O=Math.min(O,B)),p<0&&(O=Math.min(B-U/p,O)),S!==null?$=S:$=Math.round(B-O)*p;const L=$-t*(p>=0?1:-1),H=p>=0?L<0:L>U;$=Math.max(L,0),_==="finished"&&S===null&&($=U);let I=$,G=N;if(o){const le=Math.min($,U)/M;let te=Math.floor(le),ie=le%1;!ie&&le>=1&&(ie=1),ie===1&&te--,te=Math.min(te,o+1),!!(te%2)&&(l==="reverse"?(ie=1-ie,i&&(ie-=i/M)):l==="mirror"&&(G=C)),I=go(0,1,ie)*M}const K=H?{done:!1,value:r[0]}:G.next(I);j&&(K.value=j(K.value));let{done:q}=K;!H&&z!==null&&(q=p>=0?$>=U:$<=0);const X=S===null&&(_==="finished"||_==="running"&&q);return m&&m(K.value),X&&k(),K},T=()=>{v&&v.stop(),v=void 0},F=()=>{_="idle",T(),g(),b(),O=D=null},k=()=>{_="finished",u&&u(),T(),g()},P=()=>{if(x)return;v||(v=s(E));const B=v.now();c&&c(),S!==null?O=B-S:(!O||_==="finished")&&(O=B),_==="finished"&&b(),D=O,S=null,_="running",v.start()};e&&P();const A={then(B,L){return y.then(B,L)},get time(){return ga($)},set time(B){B=lo(B),$=B,S!==null||!v||p===0?S=B:O=v.now()-B/p},get duration(){const B=N.calculatedDuration===null?Mj(N):N.calculatedDuration;return ga(B)},get speed(){return p},set speed(B){B===p||!v||(p=B,A.time=ga($))},get state(){return _},play:P,pause:()=>{_="paused",S=$},stop:()=>{x=!0,_!=="idle"&&(_="idle",d&&d(),F())},cancel:()=>{D!==null&&E(D),F()},complete:()=>{_="finished"},sample:B=>(O=0,E(B))};return A}function tU(e){let t;return()=>(t===void 0&&(t=e()),t)}const sU=tU(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),rU=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ru=10,nU=2e4,aU=(e,t)=>t.type==="spring"||e==="backgroundColor"||!WE(t.ease);function oU(e,t,{onUpdate:s,onComplete:r,...a}){if(!(sU()&&rU.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let i=!1,l,c,d=!1;const u=()=>{c=new Promise(w=>{l=w})};u();let{keyframes:m,duration:h=300,ease:p,times:x}=a;if(aU(t,a)){const w=Kf({...a,repeat:0,delay:0});let j={done:!1,value:m[0]};const N=[];let C=0;for(;!j.done&&C<nU;)j=w.sample(C),N.push(j.value),C+=Ru;x=void 0,m=N,h=C-Ru,p="linear"}const g=gB(e.owner.current,t,m,{...a,duration:h,ease:p,times:x}),y=()=>{d=!1,g.cancel()},b=()=>{d=!0,Xt.update(y),l(),u()};return g.onfinish=()=>{d||(e.set(xB(m,a)),r&&r(),b())},{then(w,j){return c.then(w,j)},attachTimeline(w){return g.timeline=w,g.onfinish=null,gs},get time(){return ga(g.currentTime||0)},set time(w){g.currentTime=lo(w)},get speed(){return g.playbackRate},set speed(w){g.playbackRate=w},get duration(){return ga(h)},play:()=>{i||(g.play(),_a(y))},pause:()=>g.pause(),stop:()=>{if(i=!0,g.playState==="idle")return;const{currentTime:w}=g;if(w){const j=Kf({...a,autoplay:!1});e.setWithVelocity(j.sample(w-Ru).value,j.sample(w).value,Ru)}b()},complete:()=>{d||g.finish()},cancel:b}}function iU({keyframes:e,delay:t,onUpdate:s,onComplete:r}){const a=()=>(s&&s(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:gs,pause:gs,stop:gs,then:o=>(o(),Promise.resolve()),cancel:gs,complete:gs});return t?Kf({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const lU={type:"spring",stiffness:500,damping:25,restSpeed:10},cU=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),dU={type:"keyframes",duration:.8},uU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fU=(e,{keyframes:t})=>t.length>2?dU:wi.has(e)?e.startsWith("scale")?cU(t[1]):lU:uU,_x=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(xo.test(t)||t==="0")&&!t.startsWith("url(")),mU=new Set(["brightness","contrast","saturate","opacity"]);function hU(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=s.match(nh)||[];if(!r)return e;const a=s.replace(r,"");let o=mU.has(t)?1:0;return r!==s&&(o*=100),t+"("+o+a+")"}const pU=/([a-z-]*)\(.*?\)/g,Sx={...xo,getAnimatableNone:e=>{const t=e.match(pU);return t?t.map(hU).join(" "):e}},gU={...TE,color:lr,backgroundColor:lr,outlineColor:lr,fill:lr,stroke:lr,borderColor:lr,borderTopColor:lr,borderRightColor:lr,borderBottomColor:lr,borderLeftColor:lr,filter:Sx,WebkitFilter:Sx},K0=e=>gU[e];function gk(e,t){let s=K0(e);return s!==Sx&&(s=xo),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const xk=e=>/^0[^.\s]+$/.test(e);function xU(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||xk(e)}function vU(e,t,s,r){const a=_x(t,s);let o;Array.isArray(s)?o=[...s]:o=[null,s];const i=r.from!==void 0?r.from:e.get();let l;const c=[];for(let d=0;d<o.length;d++)o[d]===null&&(o[d]=d===0?i:o[d-1]),xU(o[d])&&c.push(d),typeof o[d]=="string"&&o[d]!=="none"&&o[d]!=="0"&&(l=o[d]);if(a&&c.length&&l)for(let d=0;d<c.length;d++){const u=c[d];o[u]=gk(t,l)}return o}function yU({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}function X0(e,t){return e[t]||e.default||e}const bU={skipAnimations:!1},Q0=(e,t,s,r={})=>a=>{const o=X0(r,e)||{},i=o.delay||r.delay||0;let{elapsed:l=0}=r;l=l-lo(i);const c=vU(t,e,s,o),d=c[0],u=c[c.length-1],m=_x(e,d),h=_x(e,u);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:x=>{t.set(x),o.onUpdate&&o.onUpdate(x)},onComplete:()=>{a(),o.onComplete&&o.onComplete()}};if(yU(o)||(p={...p,...fU(e,p)}),p.duration&&(p.duration=lo(p.duration)),p.repeatDelay&&(p.repeatDelay=lo(p.repeatDelay)),!m||!h||pB.current||o.type===!1||bU.skipAnimations)return iU(p);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const x=oU(t,e,p);if(x)return x}return Kf(p)};function Xf(e){return!!(Pr(e)&&e.add)}const vk=e=>/^\-?\d*\.?\d+$/.test(e);function J0(e,t){e.indexOf(t)===-1&&e.push(t)}function Z0(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class ey{constructor(){this.subscriptions=[]}add(t){return J0(this.subscriptions,t),()=>Z0(this.subscriptions,t)}notify(t,s,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,s,r);else for(let o=0;o<a;o++){const i=this.subscriptions[o];i&&i(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wU=e=>!isNaN(parseFloat(e));class jU{constructor(t,s={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,a=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:i}=Zs;this.lastUpdated!==i&&(this.timeDelta=o,this.lastUpdated=i,Xt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Xt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=wU(this.current),this.owner=s.owner}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new ey);const r=this.events[t].add(s);return t==="change"?()=>{r(),Xt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,r){this.set(s),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?mk(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tl(e,t){return new jU(e,t)}const yk=e=>t=>t.test(e),NU={test:e=>e==="auto",parse:e=>e},bk=[ji,Ze,qn,Oa,Pz,Tz,NU],mc=e=>bk.find(yk(e)),_U=[...bk,lr,xo],SU=e=>_U.find(yk(e));function CU(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Tl(s))}function EU(e,t){const s=oh(e,t);let{transitionEnd:r={},transition:a={},...o}=s?e.makeTargetAnimatable(s,!1):{};o={...o,...r};for(const i in o){const l=Hz(o[i]);CU(e,i,l)}}function kU(e,t,s){var r,a;const o=Object.keys(t).filter(l=>!e.hasValue(l)),i=o.length;if(i)for(let l=0;l<i;l++){const c=o[l],d=t[c];let u=null;Array.isArray(d)&&(u=d[0]),u===null&&(u=(a=(r=s[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&a!==void 0?a:t[c]),u!=null&&(typeof u=="string"&&(vk(u)||xk(u))?u=parseFloat(u):!SU(u)&&xo.test(d)&&(u=gk(c,d)),e.addValue(c,Tl(u,{owner:e})),s[c]===void 0&&(s[c]=u),u!==null&&e.setBaseTarget(c,u))}}function TU(e,t){return t?(t[e]||t.default||t).from:void 0}function PU(e,t,s){const r={};for(const a in e){const o=TU(a,t);if(o!==void 0)r[a]=o;else{const i=s.getValue(a);i&&(r[a]=i.get())}}return r}function AU({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function MU(e,t){const s=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==s)return!0}else return s!==t}function wk(e,t,{delay:s=0,transitionOverride:r,type:a}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:i,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(o=r);const d=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const m in l){const h=e.getValue(m),p=l[m];if(!h||p===void 0||u&&AU(u,m))continue;const x={delay:s,elapsed:0,...X0(o||{},m)};if(window.HandoffAppearAnimations){const b=e.getProps()[jE];if(b){const v=window.HandoffAppearAnimations(b,m,h,Xt);v!==null&&(x.elapsed=v,x.isHandoff=!0)}}let g=!x.isHandoff&&!MU(h,p);if(x.type==="spring"&&(h.getVelocity()||x.velocity)&&(g=!1),h.animation&&(g=!1),g)continue;h.start(Q0(m,h,p,e.shouldReduceMotion&&wi.has(m)?{type:!1}:x));const y=h.animation;Xf(c)&&(c.add(m),y.then(()=>c.remove(m))),d.push(y)}return i&&Promise.all(d).then(()=>{i&&EU(e,i)}),d}function Cx(e,t,s={}){const r=oh(e,t,s.custom);let{transition:a=e.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(a=s.transitionOverride);const o=r?()=>Promise.all(wk(e,r,s)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:m}=a;return RU(e,t,d+c,u,m,s)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,d]=l==="beforeChildren"?[o,i]:[i,o];return c().then(()=>d())}else return Promise.all([o(),i(s.delay)])}function RU(e,t,s=0,r=0,a=1,o){const i=[],l=(e.variantChildren.size-1)*r,c=a===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(e.variantChildren).sort(OU).forEach((d,u)=>{d.notify("AnimationStart",t),i.push(Cx(d,t,{...o,delay:s+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(i)}function OU(e,t){return e.sortNodePosition(t)}function DU(e,t,s={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(o=>Cx(e,o,s));r=Promise.all(a)}else if(typeof t=="string")r=Cx(e,t,s);else{const a=typeof t=="function"?oh(e,t,s.custom):t;r=Promise.all(wk(e,a,s))}return r.then(()=>e.notify("AnimationComplete",t))}const IU=[...D0].reverse(),LU=D0.length;function $U(e){return t=>Promise.all(t.map(({animation:s,options:r})=>DU(e,s,r)))}function FU(e){let t=$U(e);const s=zU();let r=!0;const a=(c,d)=>{const u=oh(e,d);if(u){const{transition:m,transitionEnd:h,...p}=u;c={...c,...p,...h}}return c};function o(c){t=c(e)}function i(c,d){const u=e.getProps(),m=e.getVariantContext(!0)||{},h=[],p=new Set;let x={},g=1/0;for(let b=0;b<LU;b++){const v=IU[b],w=s[v],j=u[v]!==void 0?u[v]:m[v],N=vd(j),C=v===d?w.isActive:null;C===!1&&(g=b);let _=j===m[v]&&j!==u[v]&&N;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),w.protectedKeys={...x},!w.isActive&&C===null||!j&&!w.prevProp||sh(j)||typeof j=="boolean")continue;let O=VU(w.prevProp,j)||v===d&&w.isActive&&!_&&N||b>g&&N,D=!1;const z=Array.isArray(j)?j:[j];let M=z.reduce(a,{});C===!1&&(M={});const{prevResolvedValues:U={}}=w,$={...U,...M},E=T=>{O=!0,p.has(T)&&(D=!0,p.delete(T)),w.needsAnimating[T]=!0};for(const T in $){const F=M[T],k=U[T];if(x.hasOwnProperty(T))continue;let P=!1;Wf(F)&&Wf(k)?P=!HE(F,k):P=F!==k,P?F!==void 0?E(T):p.add(T):F!==void 0&&p.has(T)?E(T):w.protectedKeys[T]=!0}w.prevProp=j,w.prevResolvedValues=M,w.isActive&&(x={...x,...M}),r&&e.blockInitialAnimation&&(O=!1),O&&(!_||D)&&h.push(...z.map(T=>({animation:T,options:{type:v,...c}})))}if(p.size){const b={};p.forEach(v=>{const w=e.getBaseTarget(v);w!==void 0&&(b[v]=w)}),h.push({animation:b})}let y=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(h):Promise.resolve()}function l(c,d,u){var m;if(s[c].isActive===d)return Promise.resolve();(m=e.variantChildren)===null||m===void 0||m.forEach(p=>{var x;return(x=p.animationState)===null||x===void 0?void 0:x.setActive(c,d)}),s[c].isActive=d;const h=i(u,c);for(const p in s)s[p].protectedKeys={};return h}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>s}}function VU(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!HE(t,e):!1}function Ao(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zU(){return{animate:Ao(!0),whileInView:Ao(),whileHover:Ao(),whileTap:Ao(),whileDrag:Ao(),whileFocus:Ao(),exit:Ao()}}class BU extends Co{constructor(t){super(t),t.animationState||(t.animationState=FU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),sh(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){}}let UU=0;class HU extends Co{constructor(){super(...arguments),this.id=UU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s,custom:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const o=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});s&&!t&&o.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const qU={animation:{Feature:BU},exit:{Feature:HU}},Rj=(e,t)=>Math.abs(e-t);function WU(e,t){const s=Rj(e.x,t.x),r=Rj(e.y,t.y);return Math.sqrt(s**2+r**2)}class jk{constructor(t,s,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Pp(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=WU(m.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:x}=m,{timestamp:g}=Zs;this.history.push({...x,timestamp:g});const{onStart:y,onMove:b}=this.handlers;h||(y&&y(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,m)},this.handlePointerMove=(m,h)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Tp(h,this.transformPagePoint),Xt.update(this.updatePoint,!0)},this.handlePointerUp=(m,h)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Pp(m.type==="pointercancel"?this.lastMoveEventInfo:Tp(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(m,y),x&&x(m,y)},!FE(t))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=r,this.contextWindow=a||window;const i=ah(t),l=Tp(i,this.transformPagePoint),{point:c}=l,{timestamp:d}=Zs;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=s;u&&u(t,Pp(l,this.history)),this.removeListeners=io(pa(this.contextWindow,"pointermove",this.handlePointerMove),pa(this.contextWindow,"pointerup",this.handlePointerUp),pa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),_a(this.updatePoint)}}function Tp(e,t){return t?{point:t(e.point)}:e}function Oj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Pp({point:e},t){return{point:e,delta:Oj(e,Nk(t)),offset:Oj(e,GU(t)),velocity:YU(t,.1)}}function GU(e){return e[0]}function Nk(e){return e[e.length-1]}function YU(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const a=Nk(e);for(;s>=0&&(r=e[s],!(a.timestamp-r.timestamp>lo(t)));)s--;if(!r)return{x:0,y:0};const o=ga(a.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function zr(e){return e.max-e.min}function Ex(e,t=0,s=.01){return Math.abs(e-t)<=s}function Dj(e,t,s,r=.5){e.origin=r,e.originPoint=ds(t.min,t.max,e.origin),e.scale=zr(s)/zr(t),(Ex(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ds(s.min,s.max,e.origin)-e.originPoint,(Ex(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Vc(e,t,s,r){Dj(e.x,t.x,s.x,r?r.originX:void 0),Dj(e.y,t.y,s.y,r?r.originY:void 0)}function Ij(e,t,s){e.min=s.min+t.min,e.max=e.min+zr(t)}function KU(e,t,s){Ij(e.x,t.x,s.x),Ij(e.y,t.y,s.y)}function Lj(e,t,s){e.min=t.min-s.min,e.max=e.min+zr(t)}function zc(e,t,s){Lj(e.x,t.x,s.x),Lj(e.y,t.y,s.y)}function XU(e,{min:t,max:s},r){return t!==void 0&&e<t?e=r?ds(t,e,r.min):Math.max(e,t):s!==void 0&&e>s&&(e=r?ds(s,e,r.max):Math.min(e,s)),e}function $j(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function QU(e,{top:t,left:s,bottom:r,right:a}){return{x:$j(e.x,s,a),y:$j(e.y,t,r)}}function Fj(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function JU(e,t){return{x:Fj(e.x,t.x),y:Fj(e.y,t.y)}}function ZU(e,t){let s=.5;const r=zr(e),a=zr(t);return a>r?s=bd(t.min,t.max-r,e.min):r>a&&(s=bd(e.min,e.max-a,t.min)),go(0,1,s)}function e7(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const kx=.35;function t7(e=kx){return e===!1?e=0:e===!0&&(e=kx),{x:Vj(e,"left","right"),y:Vj(e,"top","bottom")}}function Vj(e,t,s){return{min:zj(e,t),max:zj(e,s)}}function zj(e,t){return typeof e=="number"?e:e[t]||0}const Bj=()=>({translate:0,scale:1,origin:0,originPoint:0}),el=()=>({x:Bj(),y:Bj()}),Uj=()=>({min:0,max:0}),Cs=()=>({x:Uj(),y:Uj()});function Xr(e){return[e("x"),e("y")]}function _k({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function s7({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function r7(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function Ap(e){return e===void 0||e===1}function Tx({scale:e,scaleX:t,scaleY:s}){return!Ap(e)||!Ap(t)||!Ap(s)}function Io(e){return Tx(e)||Sk(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Sk(e){return Hj(e.x)||Hj(e.y)}function Hj(e){return e&&e!=="0%"}function Qf(e,t,s){const r=e-s,a=t*r;return s+a}function qj(e,t,s,r,a){return a!==void 0&&(e=Qf(e,a,r)),Qf(e,s,r)+t}function Px(e,t=0,s=1,r,a){e.min=qj(e.min,t,s,r,a),e.max=qj(e.max,t,s,r,a)}function Ck(e,{x:t,y:s}){Px(e.x,t.translate,t.scale,t.originPoint),Px(e.y,s.translate,s.scale,s.originPoint)}function n7(e,t,s,r=!1){const a=s.length;if(!a)return;t.x=t.y=1;let o,i;for(let l=0;l<a;l++){o=s[l],i=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&tl(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,Ck(e,i)),r&&Io(o.latestValues)&&tl(e,o.latestValues))}t.x=Wj(t.x),t.y=Wj(t.y)}function Wj(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function $a(e,t){e.min=e.min+t,e.max=e.max+t}function Gj(e,t,[s,r,a]){const o=t[a]!==void 0?t[a]:.5,i=ds(e.min,e.max,o);Px(e,t[s],t[r],i,t.scale)}const a7=["x","scaleX","originX"],o7=["y","scaleY","originY"];function tl(e,t){Gj(e.x,t,a7),Gj(e.y,t,o7)}function Ek(e,t){return _k(r7(e.getBoundingClientRect(),t))}function i7(e,t,s){const r=Ek(e,s),{scroll:a}=t;return a&&($a(r.x,a.offset.x),$a(r.y,a.offset.y)),r}const kk=({current:e})=>e?e.ownerDocument.defaultView:null,l7=new WeakMap;class c7{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Cs(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(ah(u,"page").point)},o=(u,m)=>{const{drag:h,dragPropagation:p,onDragStart:x}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=zE(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xr(y=>{let b=this.getAxisMotionValue(y).get()||0;if(qn.test(b)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[y];w&&(b=zr(w)*(parseFloat(b)/100))}}this.originPoint[y]=b}),x&&Xt.update(()=>x(u,m),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},i=(u,m)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:x,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:y}=m;if(p&&this.currentDirection===null){this.currentDirection=d7(y),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,y),this.updateAxis("y",m.point,y),this.visualElement.render(),g&&g(u,m)},l=(u,m)=>this.stop(u,m),c=()=>Xr(u=>{var m;return this.getAnimationState(u)==="paused"&&((m=this.getAxisMotionValue(u).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new jk(t,{onSessionStart:a,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:kk(this.visualElement)})}stop(t,s){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Xt.update(()=>o(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:a}=this.getProps();if(!r||!Ou(t,a,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=XU(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;s&&Ji(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&a?this.constraints=QU(a.layoutBox,s):this.constraints=!1,this.elastic=t7(r),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Xr(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=e7(a.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Ji(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=i7(r,a.root,this.visualElement.getTransformPagePoint());let i=JU(a.layout.layoutBox,o);if(s){const l=s(s7(i));this.hasMutatedConstraints=!!l,l&&(i=_k(l))}return i}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:a,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Xr(u=>{if(!Ou(u,s,this.currentDirection))return;let m=c&&c[u]||{};i&&(m={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,x={type:"inertia",velocity:r?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(l)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return r.start(Q0(t,r,0,s))}stopAnimation(){Xr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Xr(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),a=r[s];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Xr(s=>{const{drag:r}=this.getProps();if(!Ou(s,r,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(s);if(a&&a.layout){const{min:i,max:l}=a.layout.layoutBox[s];o.set(t[s]-ds(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!Ji(s)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Xr(i=>{const l=this.getAxisMotionValue(i);if(l){const c=l.get();a[i]=ZU({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Xr(i=>{if(!Ou(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:d}=this.constraints[i];l.set(ds(c,d,a[i]))})}addListeners(){if(!this.visualElement.current)return;l7.set(this.visualElement,this);const t=this.visualElement.current,s=pa(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Ji(c)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),r();const i=ma(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Xr(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=c[u].translate,m.set(m.get()+c[u].translate))}),this.visualElement.render())});return()=>{i(),s(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:i=kx,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:a,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function Ou(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function d7(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class u7 extends Co{constructor(t){super(t),this.removeGroupControls=gs,this.removeListeners=gs,this.controls=new c7(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gs}unmount(){this.removeGroupControls(),this.removeListeners()}}const Yj=e=>(t,s)=>{e&&Xt.update(()=>e(t,s))};class f7 extends Co{constructor(){super(...arguments),this.removePointerDownListener=gs}onPointerDown(t){this.session=new jk(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kk(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:Yj(t),onStart:Yj(s),onMove:r,onEnd:(o,i)=>{delete this.session,a&&Xt.update(()=>a(o,i))}}}mount(){this.removePointerDownListener=pa(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function m7(){const e=f.useContext(eh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:r}=e,a=f.useId();return f.useEffect(()=>r(a),[]),!t&&s?[!1,()=>s&&s(a)]:[!0]}const nf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Kj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const hc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ze.test(e))e=parseFloat(e);else return e;const s=Kj(e,t.target.x),r=Kj(e,t.target.y);return`${s}% ${r}%`}},h7={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,a=xo.parse(e);if(a.length>5)return r;const o=xo.createTransformer(e),i=typeof a[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;a[0+i]/=l,a[1+i]/=c;const d=ds(l,c,.5);return typeof a[2+i]=="number"&&(a[2+i]/=d),typeof a[3+i]=="number"&&(a[3+i]/=d),o(a)}};class p7 extends Vt.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:a}=this.props,{projection:o}=t;jz(g7),o&&(s.group&&s.group.add(o),r&&r.register&&a&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),nf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:a,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,a||t.layoutDependency!==s||s===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||Xt.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Tk(e){const[t,s]=m7(),r=f.useContext(L0);return Vt.createElement(p7,{...e,layoutGroup:r,switchLayoutGroup:f.useContext(_E),isPresent:t,safeToRemove:s})}const g7={borderRadius:{...hc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hc,borderTopRightRadius:hc,borderBottomLeftRadius:hc,borderBottomRightRadius:hc,boxShadow:h7},Pk=["TopLeft","TopRight","BottomLeft","BottomRight"],x7=Pk.length,Xj=e=>typeof e=="string"?parseFloat(e):e,Qj=e=>typeof e=="number"||Ze.test(e);function v7(e,t,s,r,a,o){a?(e.opacity=ds(0,s.opacity!==void 0?s.opacity:1,y7(r)),e.opacityExit=ds(t.opacity!==void 0?t.opacity:1,0,b7(r))):o&&(e.opacity=ds(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,r));for(let i=0;i<x7;i++){const l=`border${Pk[i]}Radius`;let c=Jj(t,l),d=Jj(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Qj(c)===Qj(d)?(e[l]=Math.max(ds(Xj(c),Xj(d),r),0),(qn.test(d)||qn.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||s.rotate)&&(e.rotate=ds(t.rotate||0,s.rotate||0,r))}function Jj(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const y7=Ak(0,.5,ZE),b7=Ak(.5,.95,gs);function Ak(e,t,s){return r=>r<e?0:r>t?1:s(bd(e,t,r))}function Zj(e,t){e.min=t.min,e.max=t.max}function Yr(e,t){Zj(e.x,t.x),Zj(e.y,t.y)}function eN(e,t,s,r,a){return e-=t,e=Qf(e,1/s,r),a!==void 0&&(e=Qf(e,1/a,r)),e}function w7(e,t=0,s=1,r=.5,a,o=e,i=e){if(qn.test(t)&&(t=parseFloat(t),t=ds(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=ds(o.min,o.max,r);e===o&&(l-=t),e.min=eN(e.min,t,s,l,a),e.max=eN(e.max,t,s,l,a)}function tN(e,t,[s,r,a],o,i){w7(e,t[s],t[r],t[a],t.scale,o,i)}const j7=["x","scaleX","originX"],N7=["y","scaleY","originY"];function sN(e,t,s,r){tN(e.x,t,j7,s?s.x:void 0,r?r.x:void 0),tN(e.y,t,N7,s?s.y:void 0,r?r.y:void 0)}function rN(e){return e.translate===0&&e.scale===1}function Mk(e){return rN(e.x)&&rN(e.y)}function _7(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Rk(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function nN(e){return zr(e.x)/zr(e.y)}class S7{constructor(){this.members=[]}add(t){J0(this.members,t),t.scheduleRender()}remove(t){if(Z0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(a=>t===a);if(s===0)return!1;let r;for(let a=s;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aN(e,t,s){let r="";const a=e.x.translate/t.x,o=e.y.translate/t.y;if((a||o)&&(r=`translate3d(${a}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{rotate:c,rotateX:d,rotateY:u}=s;c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),u&&(r+=`rotateY(${u}deg) `)}const i=e.x.scale*t.x,l=e.y.scale*t.y;return(i!==1||l!==1)&&(r+=`scale(${i}, ${l})`),r||"none"}const C7=(e,t)=>e.depth-t.depth;class E7{constructor(){this.children=[],this.isDirty=!1}add(t){J0(this.children,t),this.isDirty=!0}remove(t){Z0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(C7),this.isDirty=!1,this.children.forEach(t)}}function k7(e,t){const s=performance.now(),r=({timestamp:a})=>{const o=a-s;o>=t&&(_a(r),e(o-t))};return Xt.read(r,!0),()=>_a(r)}function T7(e){window.MotionDebug&&window.MotionDebug.record(e)}function P7(e){return e instanceof SVGElement&&e.tagName!=="svg"}function A7(e,t,s){const r=Pr(e)?e:Tl(e);return r.start(Q0("",r,t,s)),r.animation}const oN=["","X","Y","Z"],M7={visibility:"hidden"},iN=1e3;let R7=0;const Lo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Ok({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(i={},l=t==null?void 0:t()){this.id=R7++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Lo.totalNodes=Lo.resolvedTargetDeltas=Lo.recalculatedProjection=0,this.nodes.forEach(I7),this.nodes.forEach(z7),this.nodes.forEach(B7),this.nodes.forEach(L7),T7(Lo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new E7)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new ey),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=P7(i),this.instance=i;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let m;const h=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=k7(h,250),nf.hasAnimatedSinceResize&&(nf.hasAnimatedSinceResize=!1,this.nodes.forEach(cN))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||G7,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=u.getProps(),v=!this.targetLayout||!Rk(this.targetLayout,x)||p,w=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,w);const j={...X0(g,"layout"),onPlay:y,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else h||cN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,_a(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(U7),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lN);return}this.isUpdating||this.nodes.forEach(F7),this.isUpdating=!1,this.nodes.forEach(V7),this.nodes.forEach(O7),this.nodes.forEach(D7),this.clearAllSnapshots();const l=performance.now();Zs.delta=go(0,1e3/60,l-Zs.timestamp),Zs.timestamp=l,Zs.isProcessing=!0,wp.update.process(Zs),wp.preRender.process(Zs),wp.render.process(Zs),Zs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach($7),this.sharedNodes.forEach(H7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Cs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:s(this.instance)})}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Mk(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;i&&(l||Io(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),Y7(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return Cs();const l=i.measureViewportBox(),{scroll:c}=this.root;return c&&($a(l.x,c.offset.x),$a(l.y,c.offset.y)),l}removeElementScroll(i){const l=Cs();Yr(l,i);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:m}=d;if(d!==this.root&&u&&m.layoutScroll){if(u.isRoot){Yr(l,i);const{scroll:h}=this.root;h&&($a(l.x,-h.offset.x),$a(l.y,-h.offset.y))}$a(l.x,u.offset.x),$a(l.y,u.offset.y)}}return l}applyTransform(i,l=!1){const c=Cs();Yr(c,i);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&tl(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Io(u.latestValues)&&tl(c,u.latestValues)}return Io(this.latestValues)&&tl(c,this.latestValues),c}removeTransform(i){const l=Cs();Yr(l,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Io(d.latestValues))continue;Tx(d.latestValues)&&d.updateSnapshot();const u=Cs(),m=d.measurePageBox();Yr(u,m),sN(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Io(this.latestValues)&&sN(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(i||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:m,layoutId:h}=this.options;if(!(!this.layout||!(m||h))){if(this.resolvedRelativeTargetAt=Zs.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cs(),this.relativeTargetOrigin=Cs(),zc(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Cs(),this.targetWithTransforms=Cs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),KU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yr(this.target,this.layout.layoutBox),Ck(this.target,this.targetDelta)):Yr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cs(),this.relativeTargetOrigin=Cs(),zc(this.relativeTargetOrigin,this.target,p.target),Yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Lo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Tx(this.parent.latestValues)||Sk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Zs.timestamp&&(d=!1),d)return;const{layout:u,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||m))return;Yr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;n7(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:x}=l;if(!x){this.projectionTransform&&(this.projectionDelta=el(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=el(),this.projectionDeltaWithTransform=el());const g=this.projectionTransform;Vc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=aN(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Lo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},m=el();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Cs(),p=c?c.source:void 0,x=this.layout?this.layout.source:void 0,g=p!==x,y=this.getStack(),b=!y||y.members.length<=1,v=!!(g&&!b&&this.options.crossfade===!0&&!this.path.some(W7));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const N=j/1e3;dN(m.x,i.x,N),dN(m.y,i.y,N),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zc(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),q7(this.relativeTarget,this.relativeTargetOrigin,h,N),w&&_7(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Cs()),Yr(w,this.relativeTarget)),g&&(this.animationValues=u,v7(u,d,this.latestValues,N,v,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(_a(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xt.update(()=>{nf.hasAnimatedSinceResize=!0,this.currentAnimation=A7(0,iN,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=i;if(!(!l||!c||!d)){if(this!==i&&this.layout&&d&&Dk(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Cs();const m=zr(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+m;const h=zr(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+h}Yr(l,c),tl(l,u),Vc(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new S7),this.sharedNodes.get(i).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:l}=this.options;return l?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:l}=this.options;return l?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let u=0;u<oN.length;u++){const m="rotate"+oN[u];c[m]&&(d[m]=c[m],i.setStaticValue(m,0))}i.render();for(const u in d)i.setStaticValue(u,d[u]);i.scheduleRender()}getProjectionStyles(i){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return M7;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=rf(i==null?void 0:i.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=rf(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Io(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const h=m.animationValues||m.latestValues;this.applyTransformsToTarget(),d.transform=aN(this.projectionDeltaWithTransform,this.treeScale,h),u&&(d.transform=u(h,d.transform));const{x:p,y:x}=this.projectionDelta;d.transformOrigin=`${p.origin*100}% ${x.origin*100}% 0`,m.animationValues?d.opacity=m===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:d.opacity=m===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in Hf){if(h[g]===void 0)continue;const{correct:y,applyTo:b}=Hf[g],v=d.transform==="none"?h[g]:y(h[g],m);if(b){const w=b.length;for(let j=0;j<w;j++)d[b[j]]=v}else d[g]=v}return this.options.layoutId&&(d.pointerEvents=m===this?rf(i==null?void 0:i.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(lN),this.root.sharedNodes.clear()}}}function O7(e){e.updateLayout()}function D7(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:o}=e.options,i=s.source!==e.layout.source;o==="size"?Xr(m=>{const h=i?s.measuredBox[m]:s.layoutBox[m],p=zr(h);h.min=r[m].min,h.max=h.min+p}):Dk(o,s.layoutBox,r)&&Xr(m=>{const h=i?s.measuredBox[m]:s.layoutBox[m],p=zr(r[m]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+p)});const l=el();Vc(l,r,s.layoutBox);const c=el();i?Vc(c,e.applyTransform(a,!0),s.measuredBox):Vc(c,r,s.layoutBox);const d=!Mk(l);let u=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:h,layout:p}=m;if(h&&p){const x=Cs();zc(x,s.layoutBox,h.layoutBox);const g=Cs();zc(g,r,p.layoutBox),Rk(x,g)||(u=!0),m.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=x,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function I7(e){Lo.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function L7(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function $7(e){e.clearSnapshot()}function lN(e){e.clearMeasurements()}function F7(e){e.isLayoutDirty=!1}function V7(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function cN(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function z7(e){e.resolveTargetDelta()}function B7(e){e.calcProjection()}function U7(e){e.resetRotation()}function H7(e){e.removeLeadSnapshot()}function dN(e,t,s){e.translate=ds(t.translate,0,s),e.scale=ds(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function uN(e,t,s,r){e.min=ds(t.min,s.min,r),e.max=ds(t.max,s.max,r)}function q7(e,t,s,r){uN(e.x,t.x,s.x,r),uN(e.y,t.y,s.y,r)}function W7(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const G7={duration:.45,ease:[.4,0,.1,1]},fN=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),mN=fN("applewebkit/")&&!fN("chrome/")?Math.round:gs;function hN(e){e.min=mN(e.min),e.max=mN(e.max)}function Y7(e){hN(e.x),hN(e.y)}function Dk(e,t,s){return e==="position"||e==="preserve-aspect"&&!Ex(nN(t),nN(s),.2)}const K7=Ok({attachResizeListener:(e,t)=>ma(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mp={current:void 0},Ik=Ok({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Mp.current){const e=new K7({});e.mount(window),e.setOptions({layoutScroll:!0}),Mp.current=e}return Mp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),X7={pan:{Feature:f7},drag:{Feature:u7,ProjectionNode:Ik,MeasureLayout:Tk}},Q7=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function J7(e){const t=Q7.exec(e);if(!t)return[,];const[,s,r]=t;return[s,r]}function Ax(e,t,s=1){const[r,a]=J7(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const i=o.trim();return vk(i)?parseFloat(i):i}else return bx(a)?Ax(a,t,s+1):a}function Z7(e,{...t},s){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:s};s&&(s={...s}),e.values.forEach(a=>{const o=a.get();if(!bx(o))return;const i=Ax(o,r);i&&a.set(i)});for(const a in t){const o=t[a];if(!bx(o))continue;const i=Ax(o,r);i&&(t[a]=i,s||(s={}),s[a]===void 0&&(s[a]=o))}return{target:t,transitionEnd:s}}const eH=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Lk=e=>eH.has(e),tH=e=>Object.keys(e).some(Lk),pN=e=>e===ji||e===Ze,gN=(e,t)=>parseFloat(e.split(", ")[t]),xN=(e,t)=>(s,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/);if(a)return gN(a[1],t);{const o=r.match(/^matrix\((.+)\)$/);return o?gN(o[1],e):0}},sH=new Set(["x","y","z"]),rH=$d.filter(e=>!sH.has(e));function nH(e){const t=[];return rH.forEach(s=>{const r=e.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Pl={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:xN(4,13),y:xN(5,14)};Pl.translateX=Pl.x;Pl.translateY=Pl.y;const aH=(e,t,s)=>{const r=t.measureViewportBox(),a=t.current,o=getComputedStyle(a),{display:i}=o,l={};i==="none"&&t.setStaticValue("display",e.display||"block"),s.forEach(d=>{l[d]=Pl[d](r,o)}),t.render();const c=t.measureViewportBox();return s.forEach(d=>{const u=t.getValue(d);u&&u.jump(l[d]),e[d]=Pl[d](c,o)}),e},oH=(e,t,s={},r={})=>{t={...t},r={...r};const a=Object.keys(t).filter(Lk);let o=[],i=!1;const l=[];if(a.forEach(c=>{const d=e.getValue(c);if(!e.hasValue(c))return;let u=s[c],m=mc(u);const h=t[c];let p;if(Wf(h)){const x=h.length,g=h[0]===null?1:0;u=h[g],m=mc(u);for(let y=g;y<x&&h[y]!==null;y++)p?q0(mc(h[y])===p):p=mc(h[y])}else p=mc(h);if(m!==p)if(pN(m)&&pN(p)){const x=d.get();typeof x=="string"&&d.set(parseFloat(x)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&p===Ze&&(t[c]=h.map(parseFloat))}else m!=null&&m.transform&&(p!=null&&p.transform)&&(u===0||h===0)?u===0?d.set(p.transform(u)):t[c]=m.transform(h):(i||(o=nH(e),i=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],d.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=aH(t,e,l);return o.length&&o.forEach(([u,m])=>{e.getValue(u).set(m)}),e.render(),th&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:r}}else return{target:t,transitionEnd:r}};function iH(e,t,s,r){return tH(t)?oH(e,t,s,r):{target:t,transitionEnd:r}}const lH=(e,t,s,r)=>{const a=Z7(e,t,r);return t=a.target,r=a.transitionEnd,iH(e,t,s,r)},Mx={current:null},$k={current:!1};function cH(){if($k.current=!0,!!th)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Mx.current=e.matches;e.addListener(t),t()}else Mx.current=!1}function dH(e,t,s){const{willChange:r}=t;for(const a in t){const o=t[a],i=s[a];if(Pr(o))e.addValue(a,o),Xf(r)&&r.add(a);else if(Pr(i))e.addValue(a,Tl(o,{owner:e})),Xf(r)&&r.remove(a);else if(i!==o)if(e.hasValue(a)){const l=e.getValue(a);!l.hasAnimated&&l.set(o)}else{const l=e.getStaticValue(a);e.addValue(a,Tl(l!==void 0?l:o,{owner:e}))}}for(const a in s)t[a]===void 0&&e.removeValue(a);return t}const vN=new WeakMap,Fk=Object.keys(yd),uH=Fk.length,yN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],fH=I0.length;class mH{constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:a,visualState:o},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Xt.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=s.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=i,this.isControllingVariants=rh(s),this.isVariantNode=NE(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(s,{});for(const m in u){const h=u[m];l[m]!==void 0&&Pr(h)&&(h.set(l[m],!1),Xf(d)&&d.add(m))}}scrapeMotionValuesFromProps(t,s){return{}}mount(t){this.current=t,vN.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),$k.current||cH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Mx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){vN.delete(this.current),this.projection&&this.projection.unmount(),_a(this.notifyUpdate),_a(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,s){const r=wi.has(t),a=s.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&Xt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=s.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...s},r,a,o){let i,l;for(let c=0;c<uH;c++){const d=Fk[c],{isEnabled:u,Feature:m,ProjectionNode:h,MeasureLayout:p}=yd[d];h&&(i=h),u(s)&&(!this.features[d]&&m&&(this.features[d]=new m(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:u,dragConstraints:m,layoutScroll:h,layoutRoot:p}=s;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!u||m&&Ji(m),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Cs()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}makeTargetAnimatable(t,s=!0){return this.makeTargetAnimatableFromInstance(t,this.props,s)}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<yN.length;r++){const a=yN[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o=t["on"+a];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=dH(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const s={};for(let r=0;r<fH;r++){const a=I0[r],o=this.props[a];(vd(o)||o===!1)&&(s[a]=o)}return s}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){s!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,s)),this.values.set(t,s),this.latestValues[t]=s.get()}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=Tl(s,{owner:this}),this.addValue(t,r)),r}readValue(t){var s;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:r}=this.props,a=typeof r=="string"||typeof r=="object"?(s=H0(this.props,r))===null||s===void 0?void 0:s[t]:void 0;if(r&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Pr(o)?o:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new ey),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class Vk extends mH{sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:s,...r},{transformValues:a},o){let i=PU(r,t||{},this);if(a&&(s&&(s=a(s)),r&&(r=a(r)),i&&(i=a(i))),o){kU(this,r,i);const l=lH(this,r,i,s);s=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:s,...r}}}function hH(e){return window.getComputedStyle(e)}class pH extends Vk{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,s){if(wi.has(s)){const r=K0(s);return r&&r.default||0}else{const r=hH(t),a=(EE(s)?r.getPropertyValue(s):r[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:s}){return Ek(t,s)}build(t,s,r,a){F0(t,s,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,s){return U0(t,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Pr(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}renderInstance(t,s,r,a){RE(t,s,r,a)}}class gH extends Vk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(wi.has(s)){const r=K0(s);return r&&r.default||0}return s=OE.has(s)?s:O0(s),t.getAttribute(s)}measureInstanceViewportBox(){return Cs()}scrapeMotionValuesFromProps(t,s){return IE(t,s)}build(t,s,r,a){z0(t,s,r,this.isSVGTag,a.transformTemplate)}renderInstance(t,s,r,a){DE(t,s,r,a)}mount(t){this.isSVGTag=B0(t.tagName),super.mount(t)}}const xH=(e,t)=>$0(e)?new gH(t,{enableHardwareAcceleration:!1}):new pH(t,{enableHardwareAcceleration:!0}),vH={layout:{ProjectionNode:Ik,MeasureLayout:Tk}},yH={...qU,...uB,...X7,...vH},Ke=bz((e,t)=>Jz(e,t,yH,xH));function zk(){const e=f.useRef(!1);return R0(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function bH(){const e=zk(),[t,s]=f.useState(0),r=f.useCallback(()=>{e.current&&s(t+1)},[t]);return[f.useCallback(()=>Xt.postRender(r),[r]),t]}class wH extends f.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=s.offsetHeight||0,r.width=s.offsetWidth||0,r.top=s.offsetTop,r.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function jH({children:e,isPresent:t}){const s=f.useId(),r=f.useRef(null),a=f.useRef({width:0,height:0,top:0,left:0});return f.useInsertionEffect(()=>{const{width:o,height:i,top:l,left:c}=a.current;if(t||!r.current||!o||!i)return;r.current.dataset.motionPopId=s;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${i}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),f.createElement(wH,{isPresent:t,childRef:r,sizeRef:a},f.cloneElement(e,{ref:r}))}const Rp=({children:e,initial:t,isPresent:s,onExitComplete:r,custom:a,presenceAffectsLayout:o,mode:i})=>{const l=LE(NH),c=f.useId(),d=f.useMemo(()=>({id:c,initial:t,isPresent:s,custom:a,onExitComplete:u=>{l.set(u,!0);for(const m of l.values())if(!m)return;r&&r()},register:u=>(l.set(u,!1),()=>l.delete(u))}),o?void 0:[s]);return f.useMemo(()=>{l.forEach((u,m)=>l.set(m,!1))},[s]),f.useEffect(()=>{!s&&!l.size&&r&&r()},[s]),i==="popLayout"&&(e=f.createElement(jH,{isPresent:s},e)),f.createElement(eh.Provider,{value:d},e)};function NH(){return new Map}function _H(e){return f.useEffect(()=>()=>e(),[])}const $o=e=>e.key||"";function SH(e,t){e.forEach(s=>{const r=$o(s);t.set(r,s)})}function CH(e){const t=[];return f.Children.forEach(e,s=>{f.isValidElement(s)&&t.push(s)}),t}const ty=({children:e,custom:t,initial:s=!0,onExitComplete:r,exitBeforeEnter:a,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const l=f.useContext(L0).forceRender||bH()[0],c=zk(),d=CH(e);let u=d;const m=f.useRef(new Map).current,h=f.useRef(u),p=f.useRef(new Map).current,x=f.useRef(!0);if(R0(()=>{x.current=!1,SH(d,p),h.current=u}),_H(()=>{x.current=!0,p.clear(),m.clear()}),x.current)return f.createElement(f.Fragment,null,u.map(v=>f.createElement(Rp,{key:$o(v),isPresent:!0,initial:s?void 0:!1,presenceAffectsLayout:o,mode:i},v)));u=[...u];const g=h.current.map($o),y=d.map($o),b=g.length;for(let v=0;v<b;v++){const w=g[v];y.indexOf(w)===-1&&!m.has(w)&&m.set(w,void 0)}return i==="wait"&&m.size&&(u=[]),m.forEach((v,w)=>{if(y.indexOf(w)!==-1)return;const j=p.get(w);if(!j)return;const N=g.indexOf(w);let C=v;if(!C){const _=()=>{m.delete(w);const S=Array.from(p.keys()).filter(O=>!y.includes(O));if(S.forEach(O=>p.delete(O)),h.current=d.filter(O=>{const D=$o(O);return D===w||S.includes(D)}),!m.size){if(c.current===!1)return;l(),r&&r()}};C=f.createElement(Rp,{key:$o(j),isPresent:!1,onExitComplete:_,custom:t,presenceAffectsLayout:o,mode:i},j),m.set(w,C)}u.splice(N,0,C)}),u=u.map(v=>{const w=v.key;return m.has(w)?v:f.createElement(Rp,{key:$o(v),isPresent:!0,presenceAffectsLayout:o,mode:i},v)}),f.createElement(f.Fragment,null,m.size?u:u.map(v=>f.cloneElement(v)))},EH="America/Sao_Paulo",sy=()=>{const e=new Date,s=new Intl.DateTimeFormat("pt-BR",{timeZone:EH,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",hour12:!1}).formatToParts(e),r=p=>{var x;return((x=s.find(g=>g.type===p))==null?void 0:x.value)||""},a=parseInt(r("year"),10),o=parseInt(r("month"),10)-1,i=parseInt(r("day"),10),l=parseInt(r("hour"),10),c=parseInt(r("minute"),10),d=parseInt(r("second"),10),u=r("weekday").toLowerCase(),h={dom:0,"dom.":0,seg:1,"seg.":1,ter:2,"ter.":2,qua:3,"qua.":3,qui:4,"qui.":4,sex:5,"sex.":5,sb:6,"sb.":6,sab:6,"sab.":6}[u]??new Date(a,o,i).getDay();return{year:a,month:o,day:i,hours:l,minutes:c,seconds:d,dayOfWeek:h}},Qe=()=>{const{year:e,month:t,day:s,hours:r,minutes:a,seconds:o}=sy();return new Date(e,t,s,r,a,o)},Bk=()=>{const{year:e,month:t,day:s}=sy();return`${e}-${String(t+1).padStart(2,"0")}-${String(s).padStart(2,"0")}`},kH=e=>{if(!e)return!1;const t=Bk();return typeof e=="string"?e.substring(0,10)===t:`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`===t},bN=()=>{const{hours:e,minutes:t}=sy();return`${String(e).padStart(2,"0")}:${String(t).padStart(2,"0")}`};function wN(e){const t=TH(e),s=f.forwardRef((r,a)=>{const{children:o,...i}=r,l=f.Children.toArray(o),c=l.find(AH);if(c){const d=c.props.children,u=l.map(m=>m===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:m);return n.jsx(t,{...i,ref:a,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}function TH(e){const t=f.forwardRef((s,r)=>{const{children:a,...o}=s;if(f.isValidElement(a)){const i=RH(a),l=MH(o,a.props);return a.type!==f.Fragment&&(l.ref=r?fr(r,i):i),f.cloneElement(a,l)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var PH=Symbol("radix.slottable");function AH(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===PH}function MH(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function RH(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function ih(e){const t=e+"CollectionProvider",[s,r]=qr(t),[a,o]=s(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:y,children:b}=g,v=Vt.useRef(null),w=Vt.useRef(new Map).current;return n.jsx(a,{scope:y,itemMap:w,collectionRef:v,children:b})};i.displayName=t;const l=e+"CollectionSlot",c=wN(l),d=Vt.forwardRef((g,y)=>{const{scope:b,children:v}=g,w=o(l,b),j=it(y,w.collectionRef);return n.jsx(c,{ref:j,children:v})});d.displayName=l;const u=e+"CollectionItemSlot",m="data-radix-collection-item",h=wN(u),p=Vt.forwardRef((g,y)=>{const{scope:b,children:v,...w}=g,j=Vt.useRef(null),N=it(y,j),C=o(u,b);return Vt.useEffect(()=>(C.itemMap.set(j,{ref:j,...w}),()=>void C.itemMap.delete(j))),n.jsx(h,{[m]:"",ref:N,children:v})});p.displayName=u;function x(g){const y=o(e+"CollectionConsumer",g);return Vt.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${m}]`));return Array.from(y.itemMap.values()).sort((C,_)=>w.indexOf(C.ref.current)-w.indexOf(_.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:d,ItemSlot:p},x,r]}var OH=f.createContext(void 0);function Bd(e){const t=f.useContext(OH);return e||t||"ltr"}var Op="rovingFocusGroup.onEntryFocus",DH={bubbles:!1,cancelable:!0},Ud="RovingFocusGroup",[Rx,Uk,IH]=ih(Ud),[LH,lh]=qr(Ud,[IH]),[$H,FH]=LH(Ud),Hk=f.forwardRef((e,t)=>n.jsx(Rx.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Rx.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(VH,{...e,ref:t})})}));Hk.displayName=Ud;var VH=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...m}=e,h=f.useRef(null),p=it(t,h),x=Bd(o),[g,y]=Gn({prop:i,defaultProp:l??null,onChange:c,caller:Ud}),[b,v]=f.useState(!1),w=ps(d),j=Uk(s),N=f.useRef(!1),[C,_]=f.useState(0);return f.useEffect(()=>{const S=h.current;if(S)return S.addEventListener(Op,w),()=>S.removeEventListener(Op,w)},[w]),n.jsx($H,{scope:s,orientation:r,dir:x,loop:a,currentTabStopId:g,onItemFocus:f.useCallback(S=>y(S),[y]),onItemShiftTab:f.useCallback(()=>v(!0),[]),onFocusableItemAdd:f.useCallback(()=>_(S=>S+1),[]),onFocusableItemRemove:f.useCallback(()=>_(S=>S-1),[]),children:n.jsx(ze.div,{tabIndex:b||C===0?-1:0,"data-orientation":r,...m,ref:p,style:{outline:"none",...e.style},onMouseDown:je(e.onMouseDown,()=>{N.current=!0}),onFocus:je(e.onFocus,S=>{const O=!N.current;if(S.target===S.currentTarget&&O&&!b){const D=new CustomEvent(Op,DH);if(S.currentTarget.dispatchEvent(D),!D.defaultPrevented){const z=j().filter(T=>T.focusable),M=z.find(T=>T.active),U=z.find(T=>T.id===g),E=[M,U,...z].filter(Boolean).map(T=>T.ref.current);Gk(E,u)}}N.current=!1}),onBlur:je(e.onBlur,()=>v(!1))})})}),qk="RovingFocusGroupItem",Wk=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:a=!1,tabStopId:o,children:i,...l}=e,c=qs(),d=o||c,u=FH(qk,s),m=u.currentTabStopId===d,h=Uk(s),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:g}=u;return f.useEffect(()=>{if(r)return p(),()=>x()},[r,p,x]),n.jsx(Rx.ItemSlot,{scope:s,id:d,focusable:r,active:a,children:n.jsx(ze.span,{tabIndex:m?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:je(e.onMouseDown,y=>{r?u.onItemFocus(d):y.preventDefault()}),onFocus:je(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:je(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const b=UH(y,u.orientation,u.dir);if(b!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=h().filter(j=>j.focusable).map(j=>j.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const j=w.indexOf(y.currentTarget);w=u.loop?HH(w,j+1):w.slice(j+1)}setTimeout(()=>Gk(w))}}),children:typeof i=="function"?i({isCurrentTabStop:m,hasTabStop:g!=null}):i})})});Wk.displayName=qk;var zH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function BH(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function UH(e,t,s){const r=BH(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return zH[r]}function Gk(e,t=!1){const s=document.activeElement;for(const r of e)if(r===s||(r.focus({preventScroll:t}),document.activeElement!==s))return}function HH(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var Yk=Hk,Kk=Wk,ch="Tabs",[qH,xQ]=qr(ch,[lh]),Xk=lh(),[WH,ry]=qH(ch),Qk=f.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,onValueChange:a,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Bd(l),[m,h]=Gn({prop:r,onChange:a,defaultProp:o??"",caller:ch});return n.jsx(WH,{scope:s,baseId:qs(),value:m,onValueChange:h,orientation:i,dir:u,activationMode:c,children:n.jsx(ze.div,{dir:u,"data-orientation":i,...d,ref:t})})});Qk.displayName=ch;var Jk="TabsList",Zk=f.forwardRef((e,t)=>{const{__scopeTabs:s,loop:r=!0,...a}=e,o=ry(Jk,s),i=Xk(s);return n.jsx(Yk,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:n.jsx(ze.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});Zk.displayName=Jk;var e2="TabsTrigger",t2=f.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,disabled:a=!1,...o}=e,i=ry(e2,s),l=Xk(s),c=n2(i.baseId,r),d=a2(i.baseId,r),u=r===i.value;return n.jsx(Kk,{asChild:!0,...l,focusable:!a,active:u,children:n.jsx(ze.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...o,ref:t,onMouseDown:je(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?i.onValueChange(r):m.preventDefault()}),onKeyDown:je(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&i.onValueChange(r)}),onFocus:je(e.onFocus,()=>{const m=i.activationMode!=="manual";!u&&!a&&m&&i.onValueChange(r)})})})});t2.displayName=e2;var s2="TabsContent",r2=f.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,forceMount:a,children:o,...i}=e,l=ry(s2,s),c=n2(l.baseId,r),d=a2(l.baseId,r),u=r===l.value,m=f.useRef(u);return f.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),n.jsx(Ys,{present:a||u,children:({present:h})=>n.jsx(ze.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:h&&o})})});r2.displayName=s2;function n2(e,t){return`${e}-trigger-${t}`}function a2(e,t){return`${e}-content-${t}`}var GH=Qk,o2=Zk,i2=t2,l2=r2;const Jo=GH,ci=f.forwardRef(({className:e,...t},s)=>n.jsx(o2,{ref:s,className:ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ci.displayName=o2.displayName;const dr=f.forwardRef(({className:e,...t},s)=>n.jsx(i2,{ref:s,className:ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));dr.displayName=i2.displayName;const hs=f.forwardRef(({className:e,...t},s)=>n.jsx(l2,{ref:s,className:ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));hs.displayName=l2.displayName;const Sn=f.forwardRef(({className:e,...t},s)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:s,className:ee("w-full caption-bottom text-sm",e),...t})}));Sn.displayName="Table";const Cn=f.forwardRef(({className:e,...t},s)=>n.jsx("thead",{ref:s,className:ee("[&_tr]:border-b",e),...t}));Cn.displayName="TableHeader";const En=f.forwardRef(({className:e,...t},s)=>n.jsx("tbody",{ref:s,className:ee("[&_tr:last-child]:border-0",e),...t}));En.displayName="TableBody";const YH=f.forwardRef(({className:e,...t},s)=>n.jsx("tfoot",{ref:s,className:ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));YH.displayName="TableFooter";const pt=f.forwardRef(({className:e,...t},s)=>n.jsx("tr",{ref:s,className:ee("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));pt.displayName="TableRow";const Me=f.forwardRef(({className:e,...t},s)=>n.jsx("th",{ref:s,className:ee("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Me.displayName="TableHead";const we=f.forwardRef(({className:e,...t},s)=>n.jsx("td",{ref:s,className:ee("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));we.displayName="TableCell";const KH=f.forwardRef(({className:e,...t},s)=>n.jsx("caption",{ref:s,className:ee("mt-4 text-sm text-muted-foreground",e),...t}));KH.displayName="TableCaption";const XH=Rd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",warning:"border-transparent bg-orange-500 text-white hover:bg-orange-500/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function me({className:e,variant:t,...s}){return n.jsx("div",{className:ee(XH({variant:t}),e),...s})}const QH=Rd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Kn=f.forwardRef(({className:e,variant:t,...s},r)=>n.jsx("div",{ref:r,role:"alert",className:ee(QH({variant:t}),e),...s}));Kn.displayName="Alert";const Sa=f.forwardRef(({className:e,...t},s)=>n.jsx("h5",{ref:s,className:ee("mb-1 font-medium leading-none tracking-tight",e),...t}));Sa.displayName="AlertTitle";const Xn=f.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:ee("text-sm [&_p]:leading-relaxed",e),...t}));Xn.displayName="AlertDescription";const JH=()=>{const{user:e}=pr(),[t,s]=f.useState([]),[r,a]=f.useState(!1);f.useEffect(()=>{if(!(e!=null&&e.id))return;const c=async()=>{const{data:u}=await R.from("student_messages").select("*").eq("student_id",e.id).eq("is_read",!1).order("created_at",{ascending:!1}).limit(5);s(u||[])};c();const d=R.channel("student-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"student_messages",filter:`student_id=eq.${e.id}`},()=>{c()}).subscribe();return()=>{R.removeChannel(d)}},[e==null?void 0:e.id]);const o=async c=>{await R.from("student_messages").update({is_read:!0}).eq("id",c),s(t.filter(d=>d.id!==c))};if(t.length===0)return null;const i=c=>{switch(c){case"urgent":return"border-red-500 bg-red-50";case"important":return"border-yellow-500 bg-yellow-50";default:return"border-sky-500 bg-sky-50"}},l=c=>{switch(c){case"urgent":return n.jsx(me,{variant:"destructive",children:"Urgente"});case"important":return n.jsx(me,{className:"bg-yellow-500",children:"Importante"});default:return n.jsx(me,{className:"bg-sky-500",children:"Normal"})}};return n.jsx(Ke.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:n.jsxs("div",{className:"bg-white border-l-4 border-sky-500 rounded-lg shadow-sm p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(kr,{className:"h-5 w-5 text-sky-600"}),n.jsxs("h3",{className:"font-bold text-lg",children:["Mensagens do Professor (",t.length,")"]})]}),n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>a(!r),children:r?n.jsx(bi,{className:"h-4 w-4"}):n.jsx(rn,{className:"h-4 w-4"})})]}),n.jsx(ty,{children:!r&&n.jsx(Ke.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"space-y-3",children:t.map(c=>n.jsx(Kn,{className:i(c.priority),children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Sa,{className:"font-semibold text-base",children:c.title}),l(c.priority)]}),n.jsx(Xn,{className:"text-sm text-slate-700 whitespace-pre-wrap",children:c.message})]}),n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>o(c.id),className:"shrink-0",children:n.jsx(rn,{className:"h-4 w-4"})})]})},c.id))})})]})})};function c2(e,t={}){const[s,r]=f.useState([]),[a,o]=f.useState(!0),[i,l]=f.useState(0),c=f.useCallback(async()=>{if(!e){o(!1);return}let x=R.from("notifications").select("*").eq("user_id",e).order("created_at",{ascending:!1});t.status&&(Array.isArray(t.status)?x=x.in("status",t.status):x=x.eq("status",t.status)),t.type&&(Array.isArray(t.type)?x=x.in("type",t.type):x=x.eq("type",t.type)),t.limit&&(x=x.limit(t.limit));const{data:g,error:y}=await x;if(!y&&g){r(g);const b=g.filter(v=>v.status==="pending").length;l(b)}else y&&console.error("Error fetching notifications:",y);o(!1)},[e,JSON.stringify(t)]),d=async x=>{const{error:g}=await R.from("notifications").update({status:"read",read_at:new Date().toISOString()}).eq("id",x);return g||await c(),{error:g}},u=async x=>{const{error:g}=await R.from("notifications").update({status:"archived",resolved_at:new Date().toISOString()}).eq("id",x);return g||await c(),{error:g}},m=async(x,g)=>{const{data:y}=await R.from("notifications").select("*").eq("id",x).single();if(!y)return{error:"Notification not found"};const{error:b}=await R.from("notifications").update({status:g,resolved_at:new Date().toISOString()}).eq("id",x);return b?{error:b}:(await h(y,g),await c(),{error:null})},h=async(x,g)=>{if(!x.related_user_id)return;const{data:y}=await R.from("notifications").select("*").eq("type","schedule_request").eq("related_user_id",x.related_user_id).in("status",["pending","read"]);if(y&&y.length>0)for(const b of y)await R.from("notifications").update({status:g==="accepted"?"archived":"read",resolved_at:new Date().toISOString(),metadata:{...b.metadata,professor_response:g,responded_at:new Date().toISOString()}}).eq("id",b.id)},p=async()=>{const{error:x}=await R.from("notifications").update({status:"read",read_at:new Date().toISOString()}).eq("user_id",e).eq("status","pending");return x||await c(),{error:x}};return f.useEffect(()=>{c()},[c]),f.useEffect(()=>{if(!e)return;const x=R.channel("notifications_changes").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${e}`},g=>{c()}).subscribe();return()=>{x.unsubscribe()}},[e,c]),{notifications:s,loading:a,unreadCount:i,markAsRead:d,markAsArchived:u,respondToRequest:m,markAllAsRead:p,refresh:c}}function ZH({userId:e}){var m,h,p,x;const{notifications:t,markAsArchived:s,loading:r}=c2(e,{type:"plan_expiring",status:"pending",limit:1});if(r||t.length===0)return null;const a=t[0],o=Math.floor(((m=a.metadata)==null?void 0:m.days_remaining)||0),i=(h=a.metadata)==null?void 0:h.end_date,l=(p=a.metadata)==null?void 0:p.billing_amount,c=(x=a.metadata)==null?void 0:x.billing_period,d=()=>o<=2?"destructive":(o<=5,"default"),u=()=>{s(a.id)};return n.jsx(Kn,{variant:d(),className:"mb-4 border-2",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[n.jsx(ao,{className:"h-5 w-5 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Sa,{className:"text-lg font-semibold mb-2",children:" Seu Plano Est Acabando!"}),n.jsxs(Xn,{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-base",children:[n.jsx(ts,{className:"h-4 w-4"}),n.jsxs("span",{children:["Faltam apenas ",n.jsxs("strong",{className:"text-lg",children:[o," ",o===1?"dia":"dias"]})," para o vencimento do seu plano"]})]}),n.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-3 rounded-md",children:[n.jsxs("p",{className:"text-sm",children:[n.jsx("strong",{children:"Plano atual:"})," ",l," aulas/",c]}),n.jsxs("p",{className:"text-sm",children:[n.jsx("strong",{children:"Data de vencimento:"})," ",new Date(i).toLocaleDateString("pt-BR")]})]}),n.jsx("p",{className:"text-sm mt-3",children:"Entre em contato com a administrao para renovar seu plano e continuar suas aulas sem interrupes."}),n.jsxs("div",{className:"mt-4 flex gap-2",children:[n.jsx(Y,{size:"sm",onClick:u,className:"bg-blue-600 hover:bg-blue-700",children:"Entendi"}),n.jsx(Y,{size:"sm",variant:"outline",onClick:u,children:"Fechar"})]})]})]})]}),n.jsx(Y,{variant:"ghost",size:"icon",onClick:u,className:"h-6 w-6 rounded-full",children:n.jsx(rn,{className:"h-4 w-4"})})]})})}function eq(e){const t=tq(e),s=f.forwardRef((r,a)=>{const{children:o,...i}=r,l=f.Children.toArray(o),c=l.find(rq);if(c){const d=c.props.children,u=l.map(m=>m===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:m);return n.jsx(t,{...i,ref:a,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}function tq(e){const t=f.forwardRef((s,r)=>{const{children:a,...o}=s;if(f.isValidElement(a)){const i=aq(a),l=nq(o,a.props);return a.type!==f.Fragment&&(l.ref=r?fr(r,i):i),f.cloneElement(a,l)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sq=Symbol("radix.slottable");function rq(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sq}function nq(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function aq(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var dh="Dialog",[d2,vQ]=qr(dh),[oq,Tn]=d2(dh),u2=e=>{const{__scopeDialog:t,children:s,open:r,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,l=f.useRef(null),c=f.useRef(null),[d,u]=Gn({prop:r,defaultProp:a??!1,onChange:o,caller:dh});return n.jsx(oq,{scope:t,triggerRef:l,contentRef:c,contentId:qs(),titleId:qs(),descriptionId:qs(),open:d,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(m=>!m),[u]),modal:i,children:s})};u2.displayName=dh;var f2="DialogTrigger",m2=f.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Tn(f2,s),o=it(t,a.triggerRef);return n.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":oy(a.open),...r,ref:o,onClick:je(e.onClick,a.onOpenToggle)})});m2.displayName=f2;var ny="DialogPortal",[iq,h2]=d2(ny,{forceMount:void 0}),p2=e=>{const{__scopeDialog:t,forceMount:s,children:r,container:a}=e,o=Tn(ny,t);return n.jsx(iq,{scope:t,forceMount:s,children:f.Children.map(r,i=>n.jsx(Ys,{present:s||o.open,children:n.jsx(Gl,{asChild:!0,container:a,children:i})}))})};p2.displayName=ny;var Jf="DialogOverlay",g2=f.forwardRef((e,t)=>{const s=h2(Jf,e.__scopeDialog),{forceMount:r=s.forceMount,...a}=e,o=Tn(Jf,e.__scopeDialog);return o.modal?n.jsx(Ys,{present:r||o.open,children:n.jsx(cq,{...a,ref:t})}):null});g2.displayName=Jf;var lq=eq("DialogOverlay.RemoveScroll"),cq=f.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Tn(Jf,s);return n.jsx(Gm,{as:lq,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(ze.div,{"data-state":oy(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),di="DialogContent",x2=f.forwardRef((e,t)=>{const s=h2(di,e.__scopeDialog),{forceMount:r=s.forceMount,...a}=e,o=Tn(di,e.__scopeDialog);return n.jsx(Ys,{present:r||o.open,children:o.modal?n.jsx(dq,{...a,ref:t}):n.jsx(uq,{...a,ref:t})})});x2.displayName=di;var dq=f.forwardRef((e,t)=>{const s=Tn(di,e.__scopeDialog),r=f.useRef(null),a=it(t,s.contentRef,r);return f.useEffect(()=>{const o=r.current;if(o)return qm(o)},[]),n.jsx(v2,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=s.triggerRef.current)==null||i.focus()}),onPointerDownOutside:je(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:je(e.onFocusOutside,o=>o.preventDefault())})}),uq=f.forwardRef((e,t)=>{const s=Tn(di,e.__scopeDialog),r=f.useRef(!1),a=f.useRef(!1);return n.jsx(v2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(l=s.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((d=s.triggerRef.current)==null?void 0:d.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),v2=f.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,l=Tn(di,s),c=f.useRef(null),d=it(t,c);return Fm(),n.jsxs(n.Fragment,{children:[n.jsx(Od,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:n.jsx(Ul,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":oy(l.open),...i,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(fq,{titleId:l.titleId}),n.jsx(hq,{contentRef:c,descriptionId:l.descriptionId})]})]})}),ay="DialogTitle",y2=f.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Tn(ay,s);return n.jsx(ze.h2,{id:a.titleId,...r,ref:t})});y2.displayName=ay;var b2="DialogDescription",w2=f.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Tn(b2,s);return n.jsx(ze.p,{id:a.descriptionId,...r,ref:t})});w2.displayName=b2;var j2="DialogClose",N2=f.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Tn(j2,s);return n.jsx(ze.button,{type:"button",...r,ref:t,onClick:je(e.onClick,()=>a.onOpenChange(!1))})});N2.displayName=j2;function oy(e){return e?"open":"closed"}var _2="DialogTitleWarning",[yQ,S2]=oL(_2,{contentName:di,titleName:ay,docsSlug:"dialog"}),fq=({titleId:e})=>{const t=S2(_2),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},mq="DialogDescriptionWarning",hq=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${S2(mq).contentName}}.`;return f.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},C2=u2,pq=m2,E2=p2,iy=g2,ly=x2,k2=y2,T2=w2,gq=N2;const Wt=C2,P2=pq,xq=E2,A2=f.forwardRef(({className:e,...t},s)=>n.jsx(iy,{ref:s,className:ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));A2.displayName=iy.displayName;const zt=f.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(xq,{children:[n.jsx(A2,{}),n.jsxs(ly,{ref:r,className:ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,n.jsxs(gq,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(rn,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zt.displayName=ly.displayName;const Bt=({className:e,...t})=>n.jsx("div",{className:ee("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Bt.displayName="DialogHeader";const Ts=({className:e,...t})=>n.jsx("div",{className:ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ts.displayName="DialogFooter";const Ut=f.forwardRef(({className:e,...t},s)=>n.jsx(k2,{ref:s,className:ee("text-lg font-semibold leading-none tracking-tight",e),...t}));Ut.displayName=k2.displayName;const rs=f.forwardRef(({className:e,...t},s)=>n.jsx(T2,{ref:s,className:ee("text-sm text-muted-foreground",e),...t}));rs.displayName=T2.displayName;function Ox(e,[t,s]){return Math.min(s,Math.max(t,e))}function vq(e){const t=yq(e),s=f.forwardRef((r,a)=>{const{children:o,...i}=r,l=f.Children.toArray(o),c=l.find(wq);if(c){const d=c.props.children,u=l.map(m=>m===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:m);return n.jsx(t,{...i,ref:a,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}function yq(e){const t=f.forwardRef((s,r)=>{const{children:a,...o}=s;if(f.isValidElement(a)){const i=Nq(a),l=jq(o,a.props);return a.type!==f.Fragment&&(l.ref=r?fr(r,i):i),f.cloneElement(a,l)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var bq=Symbol("radix.slottable");function wq(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===bq}function jq(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function Nq(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function cy(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var M2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_q="VisuallyHidden",dy=f.forwardRef((e,t)=>n.jsx(ze.span,{...e,ref:t,style:{...M2,...e.style}}));dy.displayName=_q;var Sq=[" ","Enter","ArrowUp","ArrowDown"],Cq=[" ","Enter"],ui="Select",[uh,fh,Eq]=ih(ui),[Yl,bQ]=qr(ui,[Eq,Wl]),mh=Wl(),[kq,Eo]=Yl(ui),[Tq,Pq]=Yl(ui),R2=e=>{const{__scopeSelect:t,children:s,open:r,defaultOpen:a,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:m,disabled:h,required:p,form:x}=e,g=mh(t),[y,b]=f.useState(null),[v,w]=f.useState(null),[j,N]=f.useState(!1),C=Bd(d),[_,S]=Gn({prop:r,defaultProp:a??!1,onChange:o,caller:ui}),[O,D]=Gn({prop:i,defaultProp:l,onChange:c,caller:ui}),z=f.useRef(null),M=y?x||!!y.closest("form"):!0,[U,$]=f.useState(new Set),E=Array.from(U).map(T=>T.props.value).join(";");return n.jsx(y0,{...g,children:n.jsxs(kq,{required:p,scope:t,trigger:y,onTriggerChange:b,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:qs(),value:O,onValueChange:D,open:_,onOpenChange:S,dir:C,triggerPointerDownPosRef:z,disabled:h,children:[n.jsx(uh.Provider,{scope:t,children:n.jsx(Tq,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(T=>{$(F=>new Set(F).add(T))},[]),onNativeOptionRemove:f.useCallback(T=>{$(F=>{const k=new Set(F);return k.delete(T),k})},[]),children:s})}),M?n.jsxs(tT,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:m,value:O,onChange:T=>D(T.target.value),disabled:h,form:x,children:[O===void 0?n.jsx("option",{value:""}):null,Array.from(U)]},E):null]})})};R2.displayName=ui;var O2="SelectTrigger",D2=f.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:r=!1,...a}=e,o=mh(s),i=Eo(O2,s),l=i.disabled||r,c=it(t,i.onTriggerChange),d=fh(s),u=f.useRef("touch"),[m,h,p]=rT(g=>{const y=d().filter(w=>!w.disabled),b=y.find(w=>w.value===i.value),v=nT(y,g,b);v!==void 0&&i.onValueChange(v.value)}),x=g=>{l||(i.onOpenChange(!0),p()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return n.jsx(Hm,{asChild:!0,...o,children:n.jsx(ze.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":sT(i.value)?"":void 0,...a,ref:c,onClick:je(a.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&x(g)}),onPointerDown:je(a.onPointerDown,g=>{u.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:je(a.onKeyDown,g=>{const y=m.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(y&&g.key===" ")&&Sq.includes(g.key)&&(x(),g.preventDefault())})})})});D2.displayName=O2;var I2="SelectValue",L2=f.forwardRef((e,t)=>{const{__scopeSelect:s,className:r,style:a,children:o,placeholder:i="",...l}=e,c=Eo(I2,s),{onValueNodeHasChildrenChange:d}=c,u=o!==void 0,m=it(t,c.onValueNodeChange);return Ss(()=>{d(u)},[d,u]),n.jsx(ze.span,{...l,ref:m,style:{pointerEvents:"none"},children:sT(c.value)?n.jsx(n.Fragment,{children:i}):o})});L2.displayName=I2;var Aq="SelectIcon",$2=f.forwardRef((e,t)=>{const{__scopeSelect:s,children:r,...a}=e;return n.jsx(ze.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});$2.displayName=Aq;var Mq="SelectPortal",F2=e=>n.jsx(Gl,{asChild:!0,...e});F2.displayName=Mq;var fi="SelectContent",V2=f.forwardRef((e,t)=>{const s=Eo(fi,e.__scopeSelect),[r,a]=f.useState();if(Ss(()=>{a(new DocumentFragment)},[]),!s.open){const o=r;return o?xi.createPortal(n.jsx(z2,{scope:e.__scopeSelect,children:n.jsx(uh.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),o):null}return n.jsx(B2,{...e,ref:t})});V2.displayName=fi;var fn=10,[z2,ko]=Yl(fi),Rq="SelectContentImpl",Oq=vq("SelectContent.RemoveScroll"),B2=f.forwardRef((e,t)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:y,...b}=e,v=Eo(fi,s),[w,j]=f.useState(null),[N,C]=f.useState(null),_=it(t,q=>j(q)),[S,O]=f.useState(null),[D,z]=f.useState(null),M=fh(s),[U,$]=f.useState(!1),E=f.useRef(!1);f.useEffect(()=>{if(w)return qm(w)},[w]),Fm();const T=f.useCallback(q=>{const[X,...le]=M().map(Ne=>Ne.ref.current),[te]=le.slice(-1),ie=document.activeElement;for(const Ne of q)if(Ne===ie||(Ne==null||Ne.scrollIntoView({block:"nearest"}),Ne===X&&N&&(N.scrollTop=0),Ne===te&&N&&(N.scrollTop=N.scrollHeight),Ne==null||Ne.focus(),document.activeElement!==ie))return},[M,N]),F=f.useCallback(()=>T([S,w]),[T,S,w]);f.useEffect(()=>{U&&F()},[U,F]);const{onOpenChange:k,triggerPointerDownPosRef:P}=v;f.useEffect(()=>{if(w){let q={x:0,y:0};const X=te=>{var ie,Ne;q={x:Math.abs(Math.round(te.pageX)-(((ie=P.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(te.pageY)-(((Ne=P.current)==null?void 0:Ne.y)??0))}},le=te=>{q.x<=10&&q.y<=10?te.preventDefault():w.contains(te.target)||k(!1),document.removeEventListener("pointermove",X),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",X),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",le,{capture:!0})}}},[w,k,P]),f.useEffect(()=>{const q=()=>k(!1);return window.addEventListener("blur",q),window.addEventListener("resize",q),()=>{window.removeEventListener("blur",q),window.removeEventListener("resize",q)}},[k]);const[A,B]=rT(q=>{const X=M().filter(ie=>!ie.disabled),le=X.find(ie=>ie.ref.current===document.activeElement),te=nT(X,q,le);te&&setTimeout(()=>te.ref.current.focus())}),L=f.useCallback((q,X,le)=>{const te=!E.current&&!le;(v.value!==void 0&&v.value===X||te)&&(O(q),te&&(E.current=!0))},[v.value]),H=f.useCallback(()=>w==null?void 0:w.focus(),[w]),I=f.useCallback((q,X,le)=>{const te=!E.current&&!le;(v.value!==void 0&&v.value===X||te)&&z(q)},[v.value]),G=r==="popper"?Dx:U2,K=G===Dx?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:y}:{};return n.jsx(z2,{scope:s,content:w,viewport:N,onViewportChange:C,itemRefCallback:L,selectedItem:S,onItemLeave:H,itemTextRefCallback:I,focusSelectedItem:F,selectedItemText:D,position:r,isPositioned:U,searchRef:A,children:n.jsx(Gm,{as:Oq,allowPinchZoom:!0,children:n.jsx(Od,{asChild:!0,trapped:v.open,onMountAutoFocus:q=>{q.preventDefault()},onUnmountAutoFocus:je(a,q=>{var X;(X=v.trigger)==null||X.focus({preventScroll:!0}),q.preventDefault()}),children:n.jsx(Ul,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:q=>q.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:n.jsx(G,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:q=>q.preventDefault(),...b,...K,onPlaced:()=>$(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:je(b.onKeyDown,q=>{const X=q.ctrlKey||q.altKey||q.metaKey;if(q.key==="Tab"&&q.preventDefault(),!X&&q.key.length===1&&B(q.key),["ArrowUp","ArrowDown","Home","End"].includes(q.key)){let te=M().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(q.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(q.key)){const ie=q.target,Ne=te.indexOf(ie);te=te.slice(Ne+1)}setTimeout(()=>T(te)),q.preventDefault()}})})})})})})});B2.displayName=Rq;var Dq="SelectItemAlignedPosition",U2=f.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:r,...a}=e,o=Eo(fi,s),i=ko(fi,s),[l,c]=f.useState(null),[d,u]=f.useState(null),m=it(t,_=>u(_)),h=fh(s),p=f.useRef(!1),x=f.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:b,focusSelectedItem:v}=i,w=f.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&d&&g&&y&&b){const _=o.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),O=o.valueNode.getBoundingClientRect(),D=b.getBoundingClientRect();if(o.dir!=="rtl"){const ie=D.left-S.left,Ne=O.left-ie,Re=_.left-Ne,Je=_.width+Re,V=Math.max(Je,S.width),_e=window.innerWidth-fn,oe=Ox(Ne,[fn,Math.max(fn,_e-V)]);l.style.minWidth=Je+"px",l.style.left=oe+"px"}else{const ie=S.right-D.right,Ne=window.innerWidth-O.right-ie,Re=window.innerWidth-_.right-Ne,Je=_.width+Re,V=Math.max(Je,S.width),_e=window.innerWidth-fn,oe=Ox(Ne,[fn,Math.max(fn,_e-V)]);l.style.minWidth=Je+"px",l.style.right=oe+"px"}const z=h(),M=window.innerHeight-fn*2,U=g.scrollHeight,$=window.getComputedStyle(d),E=parseInt($.borderTopWidth,10),T=parseInt($.paddingTop,10),F=parseInt($.borderBottomWidth,10),k=parseInt($.paddingBottom,10),P=E+T+U+k+F,A=Math.min(y.offsetHeight*5,P),B=window.getComputedStyle(g),L=parseInt(B.paddingTop,10),H=parseInt(B.paddingBottom,10),I=_.top+_.height/2-fn,G=M-I,K=y.offsetHeight/2,q=y.offsetTop+K,X=E+T+q,le=P-X;if(X<=I){const ie=z.length>0&&y===z[z.length-1].ref.current;l.style.bottom="0px";const Ne=d.clientHeight-g.offsetTop-g.offsetHeight,Re=Math.max(G,K+(ie?H:0)+Ne+F),Je=X+Re;l.style.height=Je+"px"}else{const ie=z.length>0&&y===z[0].ref.current;l.style.top="0px";const Re=Math.max(I,E+g.offsetTop+(ie?L:0)+K)+le;l.style.height=Re+"px",g.scrollTop=X-I+g.offsetTop}l.style.margin=`${fn}px 0`,l.style.minHeight=A+"px",l.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,o.trigger,o.valueNode,l,d,g,y,b,o.dir,r]);Ss(()=>w(),[w]);const[j,N]=f.useState();Ss(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const C=f.useCallback(_=>{_&&x.current===!0&&(w(),v==null||v(),x.current=!1)},[w,v]);return n.jsx(Lq,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:n.jsx(ze.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});U2.displayName=Dq;var Iq="SelectPopperPosition",Dx=f.forwardRef((e,t)=>{const{__scopeSelect:s,align:r="start",collisionPadding:a=fn,...o}=e,i=mh(s);return n.jsx(b0,{...i,...o,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Dx.displayName=Iq;var[Lq,uy]=Yl(fi,{}),Ix="SelectViewport",H2=f.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:r,...a}=e,o=ko(Ix,s),i=uy(Ix,s),l=it(t,o.onViewportChange),c=f.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),n.jsx(uh.Slot,{scope:s,children:n.jsx(ze.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:je(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&m){const p=Math.abs(c.current-u.scrollTop);if(p>0){const x=window.innerHeight-fn*2,g=parseFloat(m.style.minHeight),y=parseFloat(m.style.height),b=Math.max(g,y);if(b<x){const v=b+p,w=Math.min(x,v),j=v-w;m.style.height=w+"px",m.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,m.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});H2.displayName=Ix;var q2="SelectGroup",[$q,Fq]=Yl(q2),Vq=f.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,a=qs();return n.jsx($q,{scope:s,id:a,children:n.jsx(ze.div,{role:"group","aria-labelledby":a,...r,ref:t})})});Vq.displayName=q2;var W2="SelectLabel",G2=f.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,a=Fq(W2,s);return n.jsx(ze.div,{id:a.id,...r,ref:t})});G2.displayName=W2;var Zf="SelectItem",[zq,Y2]=Yl(Zf),K2=f.forwardRef((e,t)=>{const{__scopeSelect:s,value:r,disabled:a=!1,textValue:o,...i}=e,l=Eo(Zf,s),c=ko(Zf,s),d=l.value===r,[u,m]=f.useState(o??""),[h,p]=f.useState(!1),x=it(t,v=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,v,r,a)}),g=qs(),y=f.useRef("touch"),b=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(zq,{scope:s,value:r,disabled:a,textId:g,isSelected:d,onItemTextChange:f.useCallback(v=>{m(w=>w||((v==null?void 0:v.textContent)??"").trim())},[]),children:n.jsx(uh.ItemSlot,{scope:s,value:r,disabled:a,textValue:u,children:n.jsx(ze.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:x,onFocus:je(i.onFocus,()=>p(!0)),onBlur:je(i.onBlur,()=>p(!1)),onClick:je(i.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:je(i.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:je(i.onPointerDown,v=>{y.current=v.pointerType}),onPointerMove:je(i.onPointerMove,v=>{var w;y.current=v.pointerType,a?(w=c.onItemLeave)==null||w.call(c):y.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:je(i.onPointerLeave,v=>{var w;v.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:je(i.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(Cq.includes(v.key)&&b(),v.key===" "&&v.preventDefault())})})})})});K2.displayName=Zf;var _c="SelectItemText",X2=f.forwardRef((e,t)=>{const{__scopeSelect:s,className:r,style:a,...o}=e,i=Eo(_c,s),l=ko(_c,s),c=Y2(_c,s),d=Pq(_c,s),[u,m]=f.useState(null),h=it(t,b=>m(b),c.onItemTextChange,b=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,b,c.value,c.disabled)}),p=u==null?void 0:u.textContent,x=f.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=d;return Ss(()=>(g(x),()=>y(x)),[g,y,x]),n.jsxs(n.Fragment,{children:[n.jsx(ze.span,{id:c.textId,...o,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?xi.createPortal(o.children,i.valueNode):null]})});X2.displayName=_c;var Q2="SelectItemIndicator",J2=f.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e;return Y2(Q2,s).isSelected?n.jsx(ze.span,{"aria-hidden":!0,...r,ref:t}):null});J2.displayName=Q2;var Lx="SelectScrollUpButton",Bq=f.forwardRef((e,t)=>{const s=ko(Lx,e.__scopeSelect),r=uy(Lx,e.__scopeSelect),[a,o]=f.useState(!1),i=it(t,r.onScrollButtonChange);return Ss(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollTop>0;o(d)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?n.jsx(Z2,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Bq.displayName=Lx;var $x="SelectScrollDownButton",Uq=f.forwardRef((e,t)=>{const s=ko($x,e.__scopeSelect),r=uy($x,e.__scopeSelect),[a,o]=f.useState(!1),i=it(t,r.onScrollButtonChange);return Ss(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;o(u)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?n.jsx(Z2,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Uq.displayName=$x;var Z2=f.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:r,...a}=e,o=ko("SelectScrollButton",s),i=f.useRef(null),l=fh(s),c=f.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),Ss(()=>{var u;const d=l().find(m=>m.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),n.jsx(ze.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:je(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:je(a.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:je(a.onPointerLeave,()=>{c()})})}),Hq="SelectSeparator",eT=f.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e;return n.jsx(ze.div,{"aria-hidden":!0,...r,ref:t})});eT.displayName=Hq;var Fx="SelectArrow",qq=f.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,a=mh(s),o=Eo(Fx,s),i=ko(Fx,s);return o.open&&i.position==="popper"?n.jsx(w0,{...a,...r,ref:t}):null});qq.displayName=Fx;var Wq="SelectBubbleInput",tT=f.forwardRef(({__scopeSelect:e,value:t,...s},r)=>{const a=f.useRef(null),o=it(r,a),i=cy(t);return f.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&u){const m=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(m)}},[i,t]),n.jsx(ze.select,{...s,style:{...M2,...s.style},ref:o,defaultValue:t})});tT.displayName=Wq;function sT(e){return e===""||e===void 0}function rT(e){const t=ps(e),s=f.useRef(""),r=f.useRef(0),a=f.useCallback(i=>{const l=s.current+i;t(l),function c(d){s.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=f.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,a,o]}function nT(e,t,s){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=s?e.indexOf(s):-1;let i=Gq(e,Math.max(o,0));a.length===1&&(i=i.filter(d=>d!==s));const c=i.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==s?c:void 0}function Gq(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var Yq=R2,aT=D2,Kq=L2,Xq=$2,Qq=F2,oT=V2,Jq=H2,iT=G2,lT=K2,Zq=X2,e9=J2,cT=eT;const Mt=Yq,Rt=Kq,kt=f.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(aT,{ref:r,className:ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:[t,n.jsx(Xq,{asChild:!0,children:n.jsx(R3,{className:"h-4 w-4 opacity-50"})})]}));kt.displayName=aT.displayName;const Tt=f.forwardRef(({className:e,children:t,position:s="popper",...r},a)=>n.jsx(Qq,{children:n.jsx(oT,{ref:a,className:ee("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:n.jsx(Jq,{className:ee("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));Tt.displayName=oT.displayName;const t9=f.forwardRef(({className:e,...t},s)=>n.jsx(iT,{ref:s,className:ee("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));t9.displayName=iT.displayName;const ye=f.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(lT,{ref:r,className:ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(e9,{children:n.jsx(Ga,{className:"h-4 w-4"})})}),n.jsx(Zq,{children:t})]}));ye.displayName=lT.displayName;const s9=f.forwardRef(({className:e,...t},s)=>n.jsx(cT,{ref:s,className:ee("-mx-1 my-1 h-px bg-muted",e),...t}));s9.displayName=cT.displayName;const Jn=f.forwardRef(({className:e,...t},s)=>n.jsx("textarea",{className:ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));Jn.displayName="Textarea";var r9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],n9=r9.reduce((e,t)=>{const s=Rm(`Primitive.${t}`),r=f.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),a9="Label",dT=f.forwardRef((e,t)=>n.jsx(n9.label,{...e,ref:t,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));dT.displayName=a9;var uT=dT;const o9=Rd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pe=f.forwardRef(({className:e,...t},s)=>n.jsx(uT,{ref:s,className:ee(o9(),e),...t}));Pe.displayName=uT.displayName;const Dp=[{value:"reagendamento",label:"Reagendamento de Aula",icon:ts,description:"Solicitar mudana de horrio de aula"},{value:"mudanca_professor",label:"Mudana de Professor",icon:ii,description:"Solicitar troca de professor"},{value:"duvida_fatura",label:"Dvida sobre Fatura",icon:bs,description:"Questes sobre pagamentos e faturas"},{value:"duvida_geral",label:"Dvida Geral",icon:I3,description:"Outras dvidas sobre o curso"},{value:"suporte_direto",label:"Falar com Suporte",icon:ud,description:"Contato direto com a equipe de suporte"}],jN={open:{label:"Aberto",color:"bg-sky-100 text-sky-700 border-sky-200",icon:Bs},in_progress:{label:"Em Andamento",color:"bg-amber-100 text-amber-700 border-amber-200",icon:kr},resolved:{label:"Resolvido",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:dl},closed:{label:"Fechado",color:"bg-slate-100 text-slate-700 border-slate-200",icon:dC}};function i9(){const{user:e}=pr(),{toast:t}=Pt(),[s,r]=f.useState([]),[a,o]=f.useState(!0),[i,l]=f.useState(!1),[c,d]=f.useState(!1),[u,m]=f.useState({type:"",subject:"",description:""});f.useEffect(()=>{e!=null&&e.id&&h()},[e==null?void 0:e.id]);const h=async()=>{try{o(!0);const{data:g,error:y}=await R.from("support_tickets").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(y)throw y;r(g||[])}catch(g){console.error("Error fetching tickets:",g),t({title:"Erro",description:"No foi possvel carregar os tickets",variant:"destructive"})}finally{o(!1)}},p=async()=>{if(!u.type||!u.subject||!u.description){t({title:"Campos obrigatrios",description:"Por favor, preencha todos os campos",variant:"destructive"});return}try{d(!0);const{data:g,error:y}=await R.from("support_tickets").insert([{user_id:e.id,type:u.type,subject:u.subject,description:u.description,status:"open",priority:"medium"}]).select().single();if(y)throw y;t({title:"Ticket criado!",description:"Sua solicitao foi enviada com sucesso. Em breve entraremos em contato."}),r([g,...s]),l(!1),m({type:"",subject:"",description:""})}catch(g){console.error("Error creating ticket:",g),t({title:"Erro",description:"No foi possvel criar o ticket",variant:"destructive"})}finally{d(!1)}},x=g=>Dp.find(y=>y.value===g)||Dp[0];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-slate-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-violet-100 rounded-lg",children:n.jsx(Zu,{className:"h-5 w-5 text-violet-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Meus Tickets"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Gerencie suas solicitaes de suporte"})]})]}),n.jsxs(Y,{onClick:()=>l(!0),className:"bg-gradient-to-r from-violet-500 to-purple-600",children:[n.jsx(no,{className:"h-4 w-4 mr-2"}),"Novo Ticket"]})]})}),n.jsx("div",{className:"p-6",children:a?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Ie,{className:"h-8 w-8 animate-spin text-violet-500"})}):s.length>0?n.jsx("div",{className:"space-y-4",children:s.map((g,y)=>{const b=x(g.type),v=jN[g.status]||jN.open,w=v.icon,j=b.icon;return n.jsxs(Ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:y*.05},className:"p-5 rounded-xl border border-slate-200 hover:border-violet-200 hover:bg-violet-50/30 transition-all",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[n.jsx("div",{className:"p-2 bg-violet-100 rounded-lg",children:n.jsx(j,{className:"h-5 w-5 text-violet-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-bold text-slate-800 mb-1",children:g.subject}),n.jsx("p",{className:"text-sm text-slate-600 mb-2",children:g.description}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(me,{variant:"outline",className:"text-xs",children:b.label}),n.jsx("span",{className:"text-xs text-slate-400",children:ae(Be(g.created_at),"dd 'de' MMMM 's' HH:mm",{locale:nt})})]})]})]}),n.jsxs(me,{className:`${v.color} border flex items-center gap-1`,children:[n.jsx(w,{className:"h-3 w-3"}),v.label]})]}),g.admin_response&&n.jsx("div",{className:"mt-3 pt-3 border-t border-slate-100",children:n.jsxs("div",{className:"bg-emerald-50 rounded-lg p-3",children:[n.jsxs("p",{className:"text-xs font-semibold text-emerald-700 mb-1 flex items-center gap-1",children:[n.jsx(kr,{className:"h-3 w-3"}),"Resposta do Suporte:"]}),n.jsx("p",{className:"text-sm text-slate-700",children:g.admin_response}),g.resolved_at&&n.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Resolvido em ",ae(Be(g.resolved_at),"dd/MM/yyyy 's' HH:mm")]})]})})]},g.id)})}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"p-4 bg-slate-100 rounded-full inline-block mb-4",children:n.jsx(Zu,{className:"h-10 w-10 text-slate-300"})}),n.jsx("p",{className:"font-medium text-slate-600 mb-2",children:"Nenhum ticket aberto"}),n.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"Crie um ticket para entrar em contato com o suporte"}),n.jsxs(Y,{onClick:()=>l(!0),variant:"outline",className:"border-violet-200 text-violet-600 hover:bg-violet-50",children:[n.jsx(no,{className:"h-4 w-4 mr-2"}),"Criar Primeiro Ticket"]})]})})]}),n.jsx(Wt,{open:i,onOpenChange:l,children:n.jsxs(zt,{className:"sm:max-w-[600px]",children:[n.jsxs(Bt,{children:[n.jsxs(Ut,{className:"flex items-center gap-2",children:[n.jsx(Zu,{className:"h-5 w-5 text-violet-600"}),"Novo Ticket de Suporte"]}),n.jsx(rs,{children:"Preencha os campos abaixo para abrir uma solicitao. Nossa equipe responder em breve."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"ticket-type",children:"Tipo de Solicitao *"}),n.jsxs(Mt,{value:u.type,onValueChange:g=>m({...u,type:g}),children:[n.jsx(kt,{id:"ticket-type",children:n.jsx(Rt,{placeholder:"Selecione o tipo de solicitao"})}),n.jsx(Tt,{children:Dp.map(g=>{const y=g.icon;return n.jsx(ye,{value:g.value,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(y,{className:"h-4 w-4 text-violet-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:g.label}),n.jsx("p",{className:"text-xs text-slate-500",children:g.description})]})]})},g.value)})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"ticket-subject",children:"Assunto *"}),n.jsx("input",{id:"ticket-subject",type:"text",value:u.subject,onChange:g=>m({...u,subject:g.target.value}),placeholder:"Ex: Gostaria de reagendar minha aula de segunda-feira",className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent outline-none"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"ticket-description",children:"Descrio *"}),n.jsx(Jn,{id:"ticket-description",value:u.description,onChange:g=>m({...u,description:g.target.value}),placeholder:"Descreva sua solicitao com o mximo de detalhes possvel...",rows:5,className:"resize-none"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Quanto mais detalhes voc fornecer, mais rpido poderemos ajud-lo."})]})]}),n.jsxs(Ts,{children:[n.jsx(Y,{variant:"outline",onClick:()=>l(!1),disabled:c,children:"Cancelar"}),n.jsx(Y,{onClick:p,disabled:c,className:"bg-gradient-to-r from-violet-500 to-purple-600",children:c?n.jsxs(n.Fragment,{children:[n.jsx(Ie,{className:"h-4 w-4 mr-2 animate-spin"}),"Enviando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(no,{className:"h-4 w-4 mr-2"}),"Criar Ticket"]})})]})]})})]})}const Vx=[{word:"Mariposa",pronunciation:"ma-ri-PO-sa",translation:"Borboleta",example:"La mariposa vuela en el jardn.",type:"Sustantivo",category:"Naturaleza"},{word:"Abrazo",pronunciation:"a-BRA-zo",translation:"Abrao",example:"Dame un abrazo fuerte.",type:"Sustantivo",category:"Emociones"},{word:"Estrella",pronunciation:"es-TRE-lla",translation:"Estrela",example:"Las estrellas brillan en la noche.",type:"Sustantivo",category:"Naturaleza"},{word:"Esperanza",pronunciation:"es-pe-RAN-za",translation:"Esperana",example:"La esperanza nunca muere.",type:"Sustantivo",category:"Emociones"},{word:"Atardecer",pronunciation:"a-tar-de-CER",translation:"Entardecer",example:"El atardecer es hermoso.",type:"Sustantivo",category:"Naturaleza"},{word:"Luna",pronunciation:"LU-na",translation:"Lua",example:"La luna llena ilumina la noche.",type:"Sustantivo",category:"Naturaleza"},{word:"Sol",pronunciation:"SOL",translation:"Sol",example:"El sol brilla en el cielo.",type:"Sustantivo",category:"Naturaleza"},{word:"Montaa",pronunciation:"mon-TA-a",translation:"Montanha",example:"La montaa es muy alta.",type:"Sustantivo",category:"Naturaleza"},{word:"Ro",pronunciation:"R-o",translation:"Rio",example:"El ro fluye hacia el mar.",type:"Sustantivo",category:"Naturaleza"},{word:"Mar",pronunciation:"MAR",translation:"Mar",example:"El mar est tranquilo hoy.",type:"Sustantivo",category:"Naturaleza"},{word:"Playa",pronunciation:"PLA-ya",translation:"Praia",example:"Vamos a la playa este fin de semana.",type:"Sustantivo",category:"Lugares"},{word:"Bosque",pronunciation:"BOS-que",translation:"Floresta",example:"El bosque est lleno de rboles.",type:"Sustantivo",category:"Naturaleza"},{word:"rbol",pronunciation:"R-bol",translation:"rvore",example:"El rbol da sombra.",type:"Sustantivo",category:"Naturaleza"},{word:"Flor",pronunciation:"FLOR",translation:"Flor",example:"La flor huele muy bien.",type:"Sustantivo",category:"Naturaleza"},{word:"Jardn",pronunciation:"jar-DN",translation:"Jardim",example:"El jardn tiene muchas flores.",type:"Sustantivo",category:"Lugares"},{word:"Casa",pronunciation:"CA-sa",translation:"Casa",example:"Mi casa es muy cmoda.",type:"Sustantivo",category:"Lugares"},{word:"Hogar",pronunciation:"ho-GAR",translation:"Lar",example:"No hay lugar como el hogar.",type:"Sustantivo",category:"Lugares"},{word:"Familia",pronunciation:"fa-MI-lia",translation:"Famlia",example:"Mi familia es muy importante para m.",type:"Sustantivo",category:"Relaciones"},{word:"Amigo",pronunciation:"a-MI-go",translation:"Amigo",example:"Mi amigo es muy leal.",type:"Sustantivo",category:"Relaciones"},{word:"Amor",pronunciation:"a-MOR",translation:"Amor",example:"El amor todo lo puede.",type:"Sustantivo",category:"Emociones"},{word:"Felicidad",pronunciation:"fe-li-ci-DAD",translation:"Felicidade",example:"La felicidad es contagiosa.",type:"Sustantivo",category:"Emociones"},{word:"Alegra",pronunciation:"a-le-GR-a",translation:"Alegria",example:"Su alegra ilumina el da.",type:"Sustantivo",category:"Emociones"},{word:"Tristeza",pronunciation:"tris-TE-za",translation:"Tristeza",example:"La tristeza pasar pronto.",type:"Sustantivo",category:"Emociones"},{word:"Miedo",pronunciation:"MIE-do",translation:"Medo",example:"No tengas miedo.",type:"Sustantivo",category:"Emociones"},{word:"Valenta",pronunciation:"va-len-T-a",translation:"Valentia",example:"Tu valenta es admirable.",type:"Sustantivo",category:"Cualidades"},{word:"Paciencia",pronunciation:"pa-CIEN-cia",translation:"Pacincia",example:"La paciencia es una virtud.",type:"Sustantivo",category:"Cualidades"},{word:"Sabidura",pronunciation:"sa-bi-du-R-a",translation:"Sabedoria",example:"La sabidura viene con la experiencia.",type:"Sustantivo",category:"Cualidades"},{word:"Conocimiento",pronunciation:"co-no-ci-MIEN-to",translation:"Conhecimento",example:"El conocimiento es poder.",type:"Sustantivo",category:"Educacin"},{word:"Libro",pronunciation:"LI-bro",translation:"Livro",example:"Estoy leyendo un libro interesante.",type:"Sustantivo",category:"Educacin"},{word:"Escuela",pronunciation:"es-CUE-la",translation:"Escola",example:"Voy a la escuela todos los das.",type:"Sustantivo",category:"Educacin"},{word:"Maestro",pronunciation:"ma-ES-tro",translation:"Mestre",example:"El maestro explica muy bien.",type:"Sustantivo",category:"Profesiones"},{word:"Estudiante",pronunciation:"es-tu-DIAN-te",translation:"Estudante",example:"Soy estudiante de espaol.",type:"Sustantivo",category:"Educacin"},{word:"Clase",pronunciation:"CLA-se",translation:"Aula",example:"La clase empieza a las 9.",type:"Sustantivo",category:"Educacin"},{word:"Leccin",pronunciation:"lec-CIN",translation:"Lio",example:"Esta leccin es muy importante.",type:"Sustantivo",category:"Educacin"},{word:"Tarea",pronunciation:"ta-RE-a",translation:"Tarefa",example:"Tengo que hacer mi tarea.",type:"Sustantivo",category:"Educacin"},{word:"Examen",pronunciation:"e-XA-men",translation:"Exame",example:"El examen es maana.",type:"Sustantivo",category:"Educacin"},{word:"Nota",pronunciation:"NO-ta",translation:"Nota",example:"Saqu una buena nota.",type:"Sustantivo",category:"Educacin"},{word:"Diploma",pronunciation:"di-PLO-ma",translation:"Diploma",example:"Recib mi diploma ayer.",type:"Sustantivo",category:"Educacin"},{word:"Universidad",pronunciation:"u-ni-ver-si-DAD",translation:"Universidade",example:"Estudio en la universidad.",type:"Sustantivo",category:"Educacin"},{word:"Carrera",pronunciation:"ca-RRE-ra",translation:"Carreira",example:"Mi carrera es muy interesante.",type:"Sustantivo",category:"Profesiones"},{word:"Trabajo",pronunciation:"tra-BA-jo",translation:"Trabalho",example:"Voy al trabajo en autobs.",type:"Sustantivo",category:"Profesiones"},{word:"Oficina",pronunciation:"o-fi-CI-na",translation:"Escritrio",example:"Mi oficina est en el centro.",type:"Sustantivo",category:"Lugares"},{word:"Jefe",pronunciation:"JE-fe",translation:"Chefe",example:"Mi jefe es muy comprensivo.",type:"Sustantivo",category:"Profesiones"},{word:"Compaero",pronunciation:"com-pa-E-ro",translation:"Companheiro",example:"Mi compaero de trabajo es amable.",type:"Sustantivo",category:"Relaciones"},{word:"Reunin",pronunciation:"reu-NIN",translation:"Reunio",example:"Tengo una reunin a las 3.",type:"Sustantivo",category:"Trabajo"},{word:"Proyecto",pronunciation:"pro-YEC-to",translation:"Projeto",example:"Estamos trabajando en un proyecto nuevo.",type:"Sustantivo",category:"Trabajo"},{word:"Meta",pronunciation:"ME-ta",translation:"Meta",example:"Mi meta es aprender espaol.",type:"Sustantivo",category:"Objetivos"},{word:"Objetivo",pronunciation:"ob-je-TI-vo",translation:"Objetivo",example:"Nuestro objetivo es claro.",type:"Sustantivo",category:"Objetivos"},{word:"Sueo",pronunciation:"SUE-o",translation:"Sonho",example:"Mi sueo es viajar por el mundo.",type:"Sustantivo",category:"Aspiraciones"},{word:"Viaje",pronunciation:"VIA-je",translation:"Viagem",example:"El viaje fue increble.",type:"Sustantivo",category:"Actividades"},{word:"Aventura",pronunciation:"a-ven-TU-ra",translation:"Aventura",example:"Fue una gran aventura.",type:"Sustantivo",category:"Actividades"},{word:"Experiencia",pronunciation:"ex-pe-RIEN-cia",translation:"Experincia",example:"Fue una experiencia inolvidable.",type:"Sustantivo",category:"Vivencias"},{word:"Recuerdo",pronunciation:"re-CUER-do",translation:"Lembrana",example:"Tengo buenos recuerdos de ese da.",type:"Sustantivo",category:"Memoria"},{word:"Memoria",pronunciation:"me-MO-ria",translation:"Memria",example:"Mi memoria es muy buena.",type:"Sustantivo",category:"Capacidades"},{word:"Mente",pronunciation:"MEN-te",translation:"Mente",example:"La mente es poderosa.",type:"Sustantivo",category:"Psicologa"},{word:"Corazn",pronunciation:"co-ra-ZN",translation:"Corao",example:"Mi corazn late rpido.",type:"Sustantivo",category:"Cuerpo"},{word:"Alma",pronunciation:"AL-ma",translation:"Alma",example:"El alma es eterna.",type:"Sustantivo",category:"Espiritualidad"},{word:"Espritu",pronunciation:"es-P-ri-tu",translation:"Esprito",example:"Tiene un espritu fuerte.",type:"Sustantivo",category:"Espiritualidad"},{word:"Fe",pronunciation:"FE",translation:"F",example:"La fe mueve montaas.",type:"Sustantivo",category:"Creencias"},{word:"Creencia",pronunciation:"cre-EN-cia",translation:"Crena",example:"Respeto todas las creencias.",type:"Sustantivo",category:"Creencias"},{word:"Religin",pronunciation:"re-li-GIN",translation:"Religio",example:"Cada persona tiene su religin.",type:"Sustantivo",category:"Creencias"},{word:"Cultura",pronunciation:"cul-TU-ra",translation:"Cultura",example:"La cultura espaola es rica.",type:"Sustantivo",category:"Sociedad"},{word:"Tradicin",pronunciation:"tra-di-CIN",translation:"Tradio",example:"Es una tradicin familiar.",type:"Sustantivo",category:"Costumbres"},{word:"Costumbre",pronunciation:"cos-TUM-bre",translation:"Costume",example:"Es una costumbre antigua.",type:"Sustantivo",category:"Hbitos"},{word:"Hbito",pronunciation:"H-bi-to",translation:"Hbito",example:"Leer es un buen hbito.",type:"Sustantivo",category:"Rutinas"},{word:"Rutina",pronunciation:"ru-TI-na",translation:"Rotina",example:"Mi rutina diaria es simple.",type:"Sustantivo",category:"Vida diaria"},{word:"Da",pronunciation:"D-a",translation:"Dia",example:"Hoy es un buen da.",type:"Sustantivo",category:"Tiempo"},{word:"Noche",pronunciation:"NO-che",translation:"Noite",example:"La noche es tranquila.",type:"Sustantivo",category:"Tiempo"},{word:"Maana",pronunciation:"ma-A-na",translation:"Manh",example:"La maana es mi momento favorito.",type:"Sustantivo",category:"Tiempo"},{word:"Tarde",pronunciation:"TAR-de",translation:"Tarde",example:"La tarde est soleada.",type:"Sustantivo",category:"Tiempo"},{word:"Semana",pronunciation:"se-MA-na",translation:"Semana",example:"Esta semana estoy ocupado.",type:"Sustantivo",category:"Tiempo"},{word:"Mes",pronunciation:"MES",translation:"Ms",example:"Este mes es especial.",type:"Sustantivo",category:"Tiempo"},{word:"Ao",pronunciation:"A-o",translation:"Ano",example:"Este ao ser mejor.",type:"Sustantivo",category:"Tiempo"},{word:"Siglo",pronunciation:"SI-glo",translation:"Sculo",example:"Vivimos en el siglo XXI.",type:"Sustantivo",category:"Tiempo"},{word:"Momento",pronunciation:"mo-MEN-to",translation:"Momento",example:"Este es el momento perfecto.",type:"Sustantivo",category:"Tiempo"},{word:"Instante",pronunciation:"ins-TAN-te",translation:"Instante",example:"Fue un instante mgico.",type:"Sustantivo",category:"Tiempo"},{word:"Hora",pronunciation:"HO-ra",translation:"Hora",example:"Qu hora es?",type:"Sustantivo",category:"Tiempo"},{word:"Minuto",pronunciation:"mi-NU-to",translation:"Minuto",example:"Espera un minuto.",type:"Sustantivo",category:"Tiempo"},{word:"Segundo",pronunciation:"se-GUN-do",translation:"Segundo",example:"Lleg en un segundo.",type:"Sustantivo",category:"Tiempo"},{word:"Reloj",pronunciation:"re-LOJ",translation:"Relgio",example:"Mi reloj marca las 3.",type:"Sustantivo",category:"Objetos"},{word:"Tiempo",pronunciation:"TIEM-po",translation:"Tempo",example:"El tiempo vuela.",type:"Sustantivo",category:"Conceptos"},{word:"Espacio",pronunciation:"es-PA-cio",translation:"Espao",example:"Necesito ms espacio.",type:"Sustantivo",category:"Conceptos"},{word:"Lugar",pronunciation:"lu-GAR",translation:"Lugar",example:"Este es mi lugar favorito.",type:"Sustantivo",category:"Ubicacin"},{word:"Mundo",pronunciation:"MUN-do",translation:"Mundo",example:"El mundo es grande.",type:"Sustantivo",category:"Geografa"},{word:"Tierra",pronunciation:"TIE-rra",translation:"Terra",example:"La Tierra es nuestro hogar.",type:"Sustantivo",category:"Geografa"},{word:"Cielo",pronunciation:"CIE-lo",translation:"Cu",example:"El cielo est despejado.",type:"Sustantivo",category:"Naturaleza"},{word:"Nube",pronunciation:"NU-be",translation:"Nuvem",example:"Las nubes son blancas.",type:"Sustantivo",category:"Naturaleza"},{word:"Lluvia",pronunciation:"LLU-via",translation:"Chuva",example:"La lluvia refresca el ambiente.",type:"Sustantivo",category:"Clima"},{word:"Viento",pronunciation:"VIEN-to",translation:"Vento",example:"El viento sopla fuerte.",type:"Sustantivo",category:"Clima"},{word:"Tormenta",pronunciation:"tor-MEN-ta",translation:"Tempestade",example:"La tormenta pas rpido.",type:"Sustantivo",category:"Clima"},{word:"Nieve",pronunciation:"NIE-ve",translation:"Neve",example:"La nieve cubre las montaas.",type:"Sustantivo",category:"Clima"},{word:"Calor",pronunciation:"ca-LOR",translation:"Calor",example:"Hace mucho calor hoy.",type:"Sustantivo",category:"Clima"},{word:"Fro",pronunciation:"FR-o",translation:"Frio",example:"Tengo mucho fro.",type:"Sustantivo",category:"Sensaciones"},{word:"Temperatura",pronunciation:"tem-pe-ra-TU-ra",translation:"Temperatura",example:"La temperatura es agradable.",type:"Sustantivo",category:"Clima"},{word:"Estacin",pronunciation:"es-ta-CIN",translation:"Estao",example:"Mi estacin favorita es el otoo.",type:"Sustantivo",category:"Tiempo"},{word:"Primavera",pronunciation:"pri-ma-VE-ra",translation:"Primavera",example:"La primavera trae flores.",type:"Sustantivo",category:"Estaciones"},{word:"Verano",pronunciation:"ve-RA-no",translation:"Vero",example:"El verano es caluroso.",type:"Sustantivo",category:"Estaciones"},{word:"Otoo",pronunciation:"o-TO-o",translation:"Outono",example:"El otoo tiene colores hermosos.",type:"Sustantivo",category:"Estaciones"},{word:"Invierno",pronunciation:"in-VIER-no",translation:"Inverno",example:"El invierno es fro.",type:"Sustantivo",category:"Estaciones"},{word:"Soar",pronunciation:"so-AR",translation:"Sonhar",example:"Me gusta soar despierto.",type:"Verbo",category:"Acciones mentales"},{word:"Caminar",pronunciation:"ca-mi-NAR",translation:"Caminhar",example:"Me encanta caminar por la playa.",type:"Verbo",category:"Movimiento"},{word:"Correr",pronunciation:"co-RRER",translation:"Correr",example:"Voy a correr en el parque.",type:"Verbo",category:"Movimiento"},{word:"Saltar",pronunciation:"sal-TAR",translation:"Pular",example:"Los nios saltan de alegra.",type:"Verbo",category:"Movimiento"},{word:"Bailar",pronunciation:"bai-LAR",translation:"Danar",example:"Me gusta bailar salsa.",type:"Verbo",category:"Actividades"},{word:"Cantar",pronunciation:"can-TAR",translation:"Cantar",example:"Ella canta muy bien.",type:"Verbo",category:"Actividades"},{word:"Hablar",pronunciation:"ha-BLAR",translation:"Falar",example:"Necesito hablar contigo.",type:"Verbo",category:"Comunicacin"},{word:"Escuchar",pronunciation:"es-cu-CHAR",translation:"Escutar",example:"Escucho msica todos los das.",type:"Verbo",category:"Percepcin"},{word:"Ver",pronunciation:"VER",translation:"Ver",example:"Veo una pelcula esta noche.",type:"Verbo",category:"Percepcin"},{word:"Mirar",pronunciation:"mi-RAR",translation:"Olhar",example:"Mira el cielo estrellado.",type:"Verbo",category:"Percepcin"},{word:"Observar",pronunciation:"ob-ser-VAR",translation:"Observar",example:"Observo las aves en el jardn.",type:"Verbo",category:"Percepcin"},{word:"Sentir",pronunciation:"sen-TIR",translation:"Sentir",example:"Siento mucha alegra.",type:"Verbo",category:"Emociones"},{word:"Pensar",pronunciation:"pen-SAR",translation:"Pensar",example:"Pienso en ti todos los das.",type:"Verbo",category:"Cognicin"},{word:"Creer",pronunciation:"cre-ER",translation:"Acreditar",example:"Creo en ti.",type:"Verbo",category:"Cognicin"},{word:"Saber",pronunciation:"sa-BER",translation:"Saber",example:"S hablar espaol.",type:"Verbo",category:"Conocimiento"},{word:"Conocer",pronunciation:"co-no-CER",translation:"Conhecer",example:"Conozco un buen restaurante.",type:"Verbo",category:"Conocimiento"},{word:"Aprender",pronunciation:"a-pren-DER",translation:"Aprender",example:"Aprendo espaol todos los das.",type:"Verbo",category:"Educacin"},{word:"Ensear",pronunciation:"en-se-AR",translation:"Ensinar",example:"Mi profesor ensea muy bien.",type:"Verbo",category:"Educacin"},{word:"Estudiar",pronunciation:"es-tu-DIAR",translation:"Estudar",example:"Estudio para el examen.",type:"Verbo",category:"Educacin"},{word:"Leer",pronunciation:"le-ER",translation:"Ler",example:"Leo un libro interesante.",type:"Verbo",category:"Actividades"},{word:"Escribir",pronunciation:"es-cri-BIR",translation:"Escrever",example:"Escribo en mi diario.",type:"Verbo",category:"Comunicacin"},{word:"Dibujar",pronunciation:"di-bu-JAR",translation:"Desenhar",example:"Me gusta dibujar paisajes.",type:"Verbo",category:"Arte"},{word:"Pintar",pronunciation:"pin-TAR",translation:"Pintar",example:"Pinto con acuarelas.",type:"Verbo",category:"Arte"},{word:"Crear",pronunciation:"cre-AR",translation:"Criar",example:"Creo arte todos los das.",type:"Verbo",category:"Creatividad"},{word:"Imaginar",pronunciation:"i-ma-gi-NAR",translation:"Imaginar",example:"Imagino un mundo mejor.",type:"Verbo",category:"Creatividad"},{word:"Inventar",pronunciation:"in-ven-TAR",translation:"Inventar",example:"Invento historias para nios.",type:"Verbo",category:"Creatividad"},{word:"Descubrir",pronunciation:"des-cu-BRIR",translation:"Descobrir",example:"Descubro algo nuevo cada da.",type:"Verbo",category:"Exploracin"},{word:"Explorar",pronunciation:"ex-plo-RAR",translation:"Explorar",example:"Exploro nuevos lugares.",type:"Verbo",category:"Aventura"},{word:"Viajar",pronunciation:"via-JAR",translation:"Viajar",example:"Viajo por el mundo.",type:"Verbo",category:"Movimiento"},{word:"Visitar",pronunciation:"vi-si-TAR",translation:"Visitar",example:"Visito a mis abuelos.",type:"Verbo",category:"Relaciones"},{word:"Llegar",pronunciation:"lle-GAR",translation:"Chegar",example:"Llego a casa a las 6.",type:"Verbo",category:"Movimiento"},{word:"Partir",pronunciation:"par-TIR",translation:"Partir",example:"Parto maana temprano.",type:"Verbo",category:"Movimiento"},{word:"Salir",pronunciation:"sa-LIR",translation:"Sair",example:"Salgo con mis amigos.",type:"Verbo",category:"Actividades"},{word:"Entrar",pronunciation:"en-TRAR",translation:"Entrar",example:"Entro a la casa.",type:"Verbo",category:"Movimiento"},{word:"Subir",pronunciation:"su-BIR",translation:"Subir",example:"Subo las escaleras.",type:"Verbo",category:"Movimiento"},{word:"Bajar",pronunciation:"ba-JAR",translation:"Descer",example:"Bajo del autobs.",type:"Verbo",category:"Movimiento"},{word:"Volar",pronunciation:"vo-LAR",translation:"Voar",example:"Los pjaros vuelan alto.",type:"Verbo",category:"Movimiento"},{word:"Nadar",pronunciation:"na-DAR",translation:"Nadar",example:"Nado en la piscina.",type:"Verbo",category:"Deportes"},{word:"Bucear",pronunciation:"bu-ce-AR",translation:"Mergulhar",example:"Buceo en el mar.",type:"Verbo",category:"Deportes"},{word:"Esquiar",pronunciation:"es-qui-AR",translation:"Esquiar",example:"Esquo en invierno.",type:"Verbo",category:"Deportes"},{word:"Jugar",pronunciation:"ju-GAR",translation:"Jogar",example:"Juego ftbol los domingos.",type:"Verbo",category:"Actividades"},{word:"Ganar",pronunciation:"ga-NAR",translation:"Ganhar",example:"Gano el partido.",type:"Verbo",category:"Competicin"},{word:"Perder",pronunciation:"per-DER",translation:"Perder",example:"No quiero perder.",type:"Verbo",category:"Competicin"},{word:"Competir",pronunciation:"com-pe-TIR",translation:"Competir",example:"Compito en carreras.",type:"Verbo",category:"Deportes"},{word:"Entrenar",pronunciation:"en-tre-NAR",translation:"Treinar",example:"Entreno todos los das.",type:"Verbo",category:"Deportes"},{word:"Practicar",pronunciation:"prac-ti-CAR",translation:"Praticar",example:"Practico espaol diariamente.",type:"Verbo",category:"Hbitos"},{word:"Mejorar",pronunciation:"me-jo-RAR",translation:"Melhorar",example:"Mejoro cada da.",type:"Verbo",category:"Progreso"},{word:"Progresar",pronunciation:"pro-gre-SAR",translation:"Progredir",example:"Progreso en mis estudios.",type:"Verbo",category:"Desarrollo"},{word:"Avanzar",pronunciation:"a-van-ZAR",translation:"Avanar",example:"Avanzo hacia mi meta.",type:"Verbo",category:"Progreso"},{word:"Lograr",pronunciation:"lo-GRAR",translation:"Conseguir",example:"Logro mis objetivos.",type:"Verbo",category:"xito"},{word:"Alcanzar",pronunciation:"al-can-ZAR",translation:"Alcanar",example:"Alcanzo mis sueos.",type:"Verbo",category:"xito"},{word:"Conseguir",pronunciation:"con-se-GUIR",translation:"Obter",example:"Consigo lo que quiero.",type:"Verbo",category:"Logros"},{word:"Obtener",pronunciation:"ob-te-NER",translation:"Obter",example:"Obtengo buenos resultados.",type:"Verbo",category:"Logros"},{word:"Recibir",pronunciation:"re-ci-BIR",translation:"Receber",example:"Recibo un regalo.",type:"Verbo",category:"Acciones"},{word:"Dar",pronunciation:"DAR",translation:"Dar",example:"Doy lo mejor de m.",type:"Verbo",category:"Generosidad"},{word:"Regalar",pronunciation:"re-ga-LAR",translation:"Presentear",example:"Regalo flores a mi madre.",type:"Verbo",category:"Generosidad"},{word:"Compartir",pronunciation:"com-par-TIR",translation:"Compartilhar",example:"Comparto mi comida.",type:"Verbo",category:"Solidaridad"},{word:"Ayudar",pronunciation:"a-yu-DAR",translation:"Ajudar",example:"Ayudo a mis amigos.",type:"Verbo",category:"Solidaridad"},{word:"Colaborar",pronunciation:"co-la-bo-RAR",translation:"Colaborar",example:"Colaboro en el proyecto.",type:"Verbo",category:"Trabajo en equipo"},{word:"Cooperar",pronunciation:"co-o-pe-RAR",translation:"Cooperar",example:"Coopero con mi equipo.",type:"Verbo",category:"Trabajo en equipo"},{word:"Trabajar",pronunciation:"tra-ba-JAR",translation:"Trabalhar",example:"Trabajo de lunes a viernes.",type:"Verbo",category:"Profesin"},{word:"Descansar",pronunciation:"des-can-SAR",translation:"Descansar",example:"Descanso los fines de semana.",type:"Verbo",category:"Bienestar"},{word:"Dormir",pronunciation:"dor-MIR",translation:"Dormir",example:"Duermo 8 horas.",type:"Verbo",category:"Rutina"},{word:"Despertar",pronunciation:"des-per-TAR",translation:"Acordar",example:"Me despierto a las 7.",type:"Verbo",category:"Rutina"},{word:"Levantarse",pronunciation:"le-van-TAR-se",translation:"Levantar-se",example:"Me levanto temprano.",type:"Verbo",category:"Rutina"},{word:"Ducharse",pronunciation:"du-CHAR-se",translation:"Tomar banho",example:"Me ducho por la maana.",type:"Verbo",category:"Higiene"},{word:"Vestirse",pronunciation:"ves-TIR-se",translation:"Vestir-se",example:"Me visto rpidamente.",type:"Verbo",category:"Rutina"},{word:"Desayunar",pronunciation:"de-sa-yu-NAR",translation:"Tomar caf da manh",example:"Desayuno a las 8.",type:"Verbo",category:"Alimentacin"},{word:"Almorzar",pronunciation:"al-mor-ZAR",translation:"Almoar",example:"Almuerzo a las 12.",type:"Verbo",category:"Alimentacin"},{word:"Cenar",pronunciation:"ce-NAR",translation:"Jantar",example:"Ceno a las 8.",type:"Verbo",category:"Alimentacin"},{word:"Comer",pronunciation:"co-MER",translation:"Comer",example:"Como frutas todos los das.",type:"Verbo",category:"Alimentacin"},{word:"Beber",pronunciation:"be-BER",translation:"Beber",example:"Bebo mucha agua.",type:"Verbo",category:"Alimentacin"},{word:"Cocinar",pronunciation:"co-ci-NAR",translation:"Cozinhar",example:"Cocino para mi familia.",type:"Verbo",category:"Actividades domsticas"},{word:"Preparar",pronunciation:"pre-pa-RAR",translation:"Preparar",example:"Preparo la cena.",type:"Verbo",category:"Actividades"},{word:"Limpiar",pronunciation:"lim-PIAR",translation:"Limpar",example:"Limpio mi casa los sbados.",type:"Verbo",category:"Tareas domsticas"},{word:"Ordenar",pronunciation:"or-de-NAR",translation:"Organizar",example:"Ordeno mi habitacin.",type:"Verbo",category:"Organizacin"},{word:"Organizar",pronunciation:"or-ga-ni-ZAR",translation:"Organizar",example:"Organizo mi agenda.",type:"Verbo",category:"Planificacin"},{word:"Planificar",pronunciation:"pla-ni-fi-CAR",translation:"Planejar",example:"Planifico mi semana.",type:"Verbo",category:"Gestin"},{word:"Decidir",pronunciation:"de-ci-DIR",translation:"Decidir",example:"Decido con cuidado.",type:"Verbo",category:"Eleccin"},{word:"Elegir",pronunciation:"e-le-GIR",translation:"Escolher",example:"Elijo la mejor opcin.",type:"Verbo",category:"Seleccin"},{word:"Escoger",pronunciation:"es-co-GER",translation:"Escolher",example:"Escojo con sabidura.",type:"Verbo",category:"Decisin"},{word:"Preferir",pronunciation:"pre-fe-RIR",translation:"Preferir",example:"Prefiero el caf al t.",type:"Verbo",category:"Preferencias"},{word:"Querer",pronunciation:"que-RER",translation:"Querer",example:"Quiero aprender espaol.",type:"Verbo",category:"Deseos"},{word:"Desear",pronunciation:"de-se-AR",translation:"Desejar",example:"Deseo viajar por Espaa.",type:"Verbo",category:"Anhelos"},{word:"Necesitar",pronunciation:"ne-ce-si-TAR",translation:"Precisar",example:"Necesito estudiar ms.",type:"Verbo",category:"Necesidades"},{word:"Poder",pronunciation:"po-DER",translation:"Poder",example:"Puedo hacerlo.",type:"Verbo",category:"Capacidad"},{word:"Deber",pronunciation:"de-BER",translation:"Dever",example:"Debo terminar mi tarea.",type:"Verbo",category:"Obligacin"},{word:"Tener",pronunciation:"te-NER",translation:"Ter",example:"Tengo un libro interesante.",type:"Verbo",category:"Posesin"},{word:"Poseer",pronunciation:"po-se-ER",translation:"Possuir",example:"Poseo una casa en la playa.",type:"Verbo",category:"Propiedad"},{word:"Pertenecer",pronunciation:"per-te-ne-CER",translation:"Pertencer",example:"Pertenezco a este grupo.",type:"Verbo",category:"Membresa"},{word:"Ser",pronunciation:"SER",translation:"Ser",example:"Soy estudiante de espaol.",type:"Verbo",category:"Identidad"},{word:"Estar",pronunciation:"es-TAR",translation:"Estar",example:"Estoy feliz hoy.",type:"Verbo",category:"Estado"},{word:"Existir",pronunciation:"e-xis-TIR",translation:"Existir",example:"Existo, luego pienso.",type:"Verbo",category:"Filosofa"},{word:"Vivir",pronunciation:"vi-VIR",translation:"Viver",example:"Vivo en Brasil.",type:"Verbo",category:"Existencia"},{word:"Habitar",pronunciation:"ha-bi-TAR",translation:"Habitar",example:"Habito en una ciudad grande.",type:"Verbo",category:"Residencia"},{word:"Residir",pronunciation:"re-si-DIR",translation:"Residir",example:"Resido en So Paulo.",type:"Verbo",category:"Domicilio"},{word:"Morir",pronunciation:"mo-RIR",translation:"Morrer",example:"Todos morimos algn da.",type:"Verbo",category:"Ciclo de vida"},{word:"Nacer",pronunciation:"na-CER",translation:"Nascer",example:"Nac en 1990.",type:"Verbo",category:"Origen"},{word:"Crecer",pronunciation:"cre-CER",translation:"Crescer",example:"Crezco cada da.",type:"Verbo",category:"Desarrollo"},{word:"Madurar",pronunciation:"ma-du-RAR",translation:"Amadurecer",example:"Maduro con las experiencias.",type:"Verbo",category:"Evolucin"},{word:"Envejecer",pronunciation:"en-ve-je-CER",translation:"Envelhecer",example:"Envejecemos con gracia.",type:"Verbo",category:"Tiempo"},{word:"Hermoso",pronunciation:"her-MO-so",translation:"Lindo",example:"Es un da hermoso.",type:"Adjetivo",category:"Descripcin"},{word:"Bello",pronunciation:"BE-llo",translation:"Belo",example:"Qu paisaje tan bello.",type:"Adjetivo",category:"Esttica"},{word:"Bonito",pronunciation:"bo-NI-to",translation:"Bonito",example:"Tienes un vestido bonito.",type:"Adjetivo",category:"Apariencia"},{word:"Lindo",pronunciation:"LIN-do",translation:"Lindo",example:"Qu lindo regalo.",type:"Adjetivo",category:"Apreciacin"},{word:"Feo",pronunciation:"FE-o",translation:"Feio",example:"Es un edificio feo.",type:"Adjetivo",category:"Apariencia"},{word:"Grande",pronunciation:"GRAN-de",translation:"Grande",example:"Vivo en una casa grande.",type:"Adjetivo",category:"Tamao"},{word:"Pequeo",pronunciation:"pe-QUE-o",translation:"Pequeno",example:"Tengo un perro pequeo.",type:"Adjetivo",category:"Dimensin"},{word:"Alto",pronunciation:"AL-to",translation:"Alto",example:"Soy muy alto.",type:"Adjetivo",category:"Estatura"},{word:"Bajo",pronunciation:"BA-jo",translation:"Baixo",example:"La mesa es baja.",type:"Adjetivo",category:"Altura"},{word:"Largo",pronunciation:"LAR-go",translation:"Comprido",example:"Tiene el pelo largo.",type:"Adjetivo",category:"Longitud"},{word:"Corto",pronunciation:"COR-to",translation:"Curto",example:"Llevo pantalones cortos.",type:"Adjetivo",category:"Medida"},{word:"Ancho",pronunciation:"AN-cho",translation:"Largo",example:"El ro es ancho.",type:"Adjetivo",category:"Amplitud"},{word:"Estrecho",pronunciation:"es-TRE-cho",translation:"Estreito",example:"La calle es estrecha.",type:"Adjetivo",category:"Espacio"},{word:"Gordo",pronunciation:"GOR-do",translation:"Gordo",example:"El gato est gordo.",type:"Adjetivo",category:"Constitucin"},{word:"Delgado",pronunciation:"del-GA-do",translation:"Magro",example:"Es una persona delgada.",type:"Adjetivo",category:"Fsico"},{word:"Fuerte",pronunciation:"FUER-te",translation:"Forte",example:"Soy muy fuerte.",type:"Adjetivo",category:"Fuerza"},{word:"Dbil",pronunciation:"D-bil",translation:"Fraco",example:"Me siento dbil.",type:"Adjetivo",category:"Energa"},{word:"Rpido",pronunciation:"R-pi-do",translation:"Rpido",example:"Es un corredor rpido.",type:"Adjetivo",category:"Velocidad"},{word:"Lento",pronunciation:"LEN-to",translation:"Lento",example:"El trfico est lento.",type:"Adjetivo",category:"Ritmo"},{word:"Nuevo",pronunciation:"NUE-vo",translation:"Novo",example:"Tengo un coche nuevo.",type:"Adjetivo",category:"Novedad"},{word:"Viejo",pronunciation:"VIE-jo",translation:"Velho",example:"Es un libro viejo.",type:"Adjetivo",category:"Antigedad"},{word:"Joven",pronunciation:"JO-ven",translation:"Jovem",example:"Soy joven todava.",type:"Adjetivo",category:"Edad"},{word:"Antiguo",pronunciation:"an-TI-guo",translation:"Antigo",example:"Es un edificio antiguo.",type:"Adjetivo",category:"Historia"},{word:"Moderno",pronunciation:"mo-DER-no",translation:"Moderno",example:"Tiene un estilo moderno.",type:"Adjetivo",category:"Contemporneo"},{word:"Bueno",pronunciation:"BUE-no",translation:"Bom",example:"Es una buena persona.",type:"Adjetivo",category:"Cualidad"},{word:"Malo",pronunciation:"MA-lo",translation:"Mau",example:"Fue una mala idea.",type:"Adjetivo",category:"Valoracin"},{word:"Mejor",pronunciation:"me-JOR",translation:"Melhor",example:"Este es el mejor da.",type:"Adjetivo",category:"Comparacin"},{word:"Peor",pronunciation:"pe-OR",translation:"Pior",example:"Fue el peor momento.",type:"Adjetivo",category:"Evaluacin"},{word:"Feliz",pronunciation:"fe-LIZ",translation:"Feliz",example:"Estoy muy feliz.",type:"Adjetivo",category:"Emocin"},{word:"Triste",pronunciation:"TRIS-te",translation:"Triste",example:"Me siento triste.",type:"Adjetivo",category:"Sentimiento"},{word:"Alegre",pronunciation:"a-LE-gre",translation:"Alegre",example:"Es una persona alegre.",type:"Adjetivo",category:"Temperamento"},{word:"Contento",pronunciation:"con-TEN-to",translation:"Contente",example:"Estoy contento con los resultados.",type:"Adjetivo",category:"Satisfaccin"},{word:"Enojado",pronunciation:"e-no-JA-do",translation:"Bravo",example:"Est enojado conmigo.",type:"Adjetivo",category:"Estado emocional"},{word:"Tranquilo",pronunciation:"tran-QUI-lo",translation:"Tranquilo",example:"Es un lugar tranquilo.",type:"Adjetivo",category:"Ambiente"},{word:"Nervioso",pronunciation:"ner-VIO-so",translation:"Nervoso",example:"Estoy nervioso por el examen.",type:"Adjetivo",category:"Ansiedad"},{word:"Cansado",pronunciation:"can-SA-do",translation:"Cansado",example:"Estoy muy cansado.",type:"Adjetivo",category:"Fatiga"},{word:"Descansado",pronunciation:"des-can-SA-do",translation:"Descansado",example:"Me siento descansado.",type:"Adjetivo",category:"Recuperacin"},{word:"Ocupado",pronunciation:"o-cu-PA-do",translation:"Ocupado",example:"Estoy ocupado ahora.",type:"Adjetivo",category:"Disponibilidad"},{word:"Libre",pronunciation:"LI-bre",translation:"Livre",example:"Estoy libre esta tarde.",type:"Adjetivo",category:"Tiempo"},{word:"Difcil",pronunciation:"di-F-cil",translation:"Difcil",example:"Es un ejercicio difcil.",type:"Adjetivo",category:"Complejidad"},{word:"Fcil",pronunciation:"F-cil",translation:"Fcil",example:"Es una tarea fcil.",type:"Adjetivo",category:"Simplicidad"},{word:"Importante",pronunciation:"im-por-TAN-te",translation:"Importante",example:"Es un tema importante.",type:"Adjetivo",category:"Relevancia"},{word:"Interesante",pronunciation:"in-te-re-SAN-te",translation:"Interessante",example:"Es una historia interesante.",type:"Adjetivo",category:"Atractivo"},{word:"Aburrido",pronunciation:"a-bu-RRI-do",translation:"Entediante",example:"La pelcula es aburrida.",type:"Adjetivo",category:"Entretenimiento"},{word:"Divertido",pronunciation:"di-ver-TI-do",translation:"Divertido",example:"Fue una fiesta divertida.",type:"Adjetivo",category:"Diversin"},{word:"Emocionante",pronunciation:"e-mo-cio-NAN-te",translation:"Emocionante",example:"Fue un partido emocionante.",type:"Adjetivo",category:"Excitacin"},{word:"Increble",pronunciation:"in-cre--ble",translation:"Incrvel",example:"Es una vista increble.",type:"Adjetivo",category:"Asombro"},{word:"Maravilloso",pronunciation:"ma-ra-vi-LLO-so",translation:"Maravilhoso",example:"Fue un da maravilloso.",type:"Adjetivo",category:"Excelencia"},{word:"Perfecto",pronunciation:"per-FEC-to",translation:"Perfeito",example:"Es el momento perfecto.",type:"Adjetivo",category:"Ideal"},{word:"Imperfecto",pronunciation:"im-per-FEC-to",translation:"Imperfeito",example:"Nada es imperfecto.",type:"Adjetivo",category:"Defecto"},{word:"Completo",pronunciation:"com-PLE-to",translation:"Completo",example:"El trabajo est completo.",type:"Adjetivo",category:"Totalidad"}],NN=["Cada palabra que aprendes es un paso ms cerca de la fluidez!","El espaol abre puertas a 21 pases y ms de 500 millones de personas.","No tengas miedo de cometer errores, son parte del aprendizaje.","Hoy es un gran da para aprender algo nuevo en espaol.","La constancia es la clave del xito en el aprendizaje de idiomas.","Celebra cada pequeo logro en tu camino al espaol!","Hablar espaol te conecta con culturas increbles.","Cada conversacin en espaol te hace ms fuerte.","No importa qu tan lento vayas, siempre y cuando no te detengas.","El espaol es msica para tus odos, disfrtalo!","Aprender un idioma es regalar a tu cerebro un nuevo mundo.","Hoy puedes entender ms que ayer!","La prctica diaria hace la diferencia.","Cada error es una leccin valiosa.","Ests ms cerca de tu meta de lo que crees!","El espaol te permite viajar sin salir de casa.","Tu esfuerzo de hoy es tu xito de maana.","Aprender espaol es invertir en ti mismo.","No te rindas! El progreso llega con la persistencia.","Cada da eres un poco mejor que ayer.","El espaol es un puente hacia nuevas amistades.","Confa en el proceso de aprendizaje!","Tu dedicacin te llevar lejos.","Aprender espaol ampla tus horizontes profesionales.","Hoy es el da perfecto para practicar!","El espaol te hace ms competitivo en el mercado laboral.","Cada palabra nueva es un tesoro.","Sigue adelante, lo ests haciendo genial!","El espaol te permite disfrutar pelculas y msica sin subttulos.","Tu cerebro se fortalece con cada leccin.","Eres capaz de lograr todo lo que te propongas!","El espaol es una inversin que nunca pierde valor.","Cada conversacin es una oportunidad de mejorar.","Hoy aprenders algo que recordars para siempre!","El espaol te conecta con la historia y la cultura latina.","Tu progreso es evidente, sigue as!","Aprender espaol es un viaje emocionante.","No subestimes tu capacidad de aprender!","El espaol te permite comunicarte en tres continentes.","Cada da de prctica suma.","Ests construyendo un futuro bilinge!","El espaol enriquece tu vida personal y profesional.","Tu esfuerzo vale la pena.","Hoy es un nuevo comienzo!","El espaol te hace ms verstil.","Cada leccin te acerca a tu objetivo.","Confa en tu proceso!","El espaol es la llave a nuevas oportunidades.","Tu dedicacin es admirable.","Sigue practicando, los resultados llegarn!","El espaol te permite entender letras de canciones hermosas.","Cada da eres ms fluido.","No te compares con otros, comprate con tu yo de ayer!","El espaol te da acceso a literatura increble.","Tu progreso es nico y valioso.","Hoy puedes decir algo que ayer no podas!","El espaol te hace ciudadano del mundo.","Cada intento es un paso adelante.","Ests haciendo un trabajo excelente!","El espaol te permite viajar con confianza.","Tu esfuerzo diario marca la diferencia.","Sigue adelante, ests en el camino correcto!","El espaol abre tu mente a nuevas perspectivas.","Cada palabra aprendida es tuya para siempre.","Hoy es un gran da para practicar espaol!","El espaol te conecta con millones de personas.","Tu constancia es tu mayor fortaleza.","No te rindas, el xito est cerca!","El espaol te permite hacer negocios internacionales.","Cada da mejoras sin darte cuenta.","Ests ms preparado de lo que imaginas!","El espaol es un regalo que te das a ti mismo.","Tu progreso es real, aunque no siempre lo notes.","Hoy aprenders algo til!","El espaol te hace ms empleable.","Cada conversacin es prctica valiosa.","Sigue as, lo ests logrando!","El espaol te permite entender memes en otro idioma.","Tu esfuerzo nunca es en vano.","Cada da eres ms competente!","El espaol te da acceso a recetas autnticas.","Tu dedicacin te define.","Hoy puedes entender ms que la semana pasada!","El espaol te conecta con tu herencia cultural.","Cada leccin es una inversin en tu futuro.","No pares, ests progresando!","El espaol te permite ayudar a otros.","Tu esfuerzo es inspirador.","Hoy es el da para superar tus lmites!","El espaol te hace ms interesante.","Cada palabra es un ladrillo en tu edificio de conocimiento.","Ests construyendo algo grande!","El espaol te permite entender telenovelas.","Tu progreso es constante.","Sigue practicando, cada da cuenta!","El espaol te abre puertas laborales.","Cada error te ensea algo nuevo.","Hoy puedes comunicarte mejor que ayer!","El espaol te conecta con la gastronoma latina.","Tu esfuerzo diario se acumula.","No te detengas ahora!","El espaol te permite viajar por Latinoamrica.","Cada da eres ms fluido sin notarlo.","Ests haciendo un progreso increble!","El espaol te da confianza.","Tu dedicacin es tu superpoder.","Hoy aprenders algo que usars maana!","El espaol te hace ms culto.","Cada conversacin te hace mejor.","Sigue adelante, el xito te espera!","El espaol te permite entender podcasts interesantes.","Tu esfuerzo es notable.","Cada da eres ms capaz!","El espaol te conecta con el arte latino.","Tu progreso es evidente para quienes te rodean.","Hoy es un da perfecto para aprender!","El espaol te hace ms adaptable.","Cada palabra nueva ampla tu mundo.","Ests en el camino correcto!","El espaol te permite leer libros en su idioma original.","Tu constancia es admirable.","No te rindas, ests cerca de la meta!","El espaol te da acceso a noticias internacionales.","Cada da de prctica cuenta.","Hoy puedes expresarte mejor!","El espaol te hace ms competitivo.","Tu esfuerzo se nota.","Sigue as, lo ests haciendo muy bien!","El espaol te permite hacer amigos en todo el mundo.","Cada leccin te acerca a la fluidez.","Ests progresando ms de lo que crees!","El espaol te conecta con la msica latina.","Tu dedicacin te llevar al xito.","Hoy es un gran da para practicar!","El espaol te hace ms verstil profesionalmente.","Cada palabra aprendida es un logro.","No pares, ests haciendo un gran trabajo!","El espaol te permite entender chistes en otro idioma.","Tu progreso es constante y real.","Cada da eres mejor estudiante!","El espaol te da acceso a becas internacionales.","Tu esfuerzo diario es tu inversin.","Hoy aprenders algo valioso!","El espaol te hace ms independiente al viajar.","Cada conversacin es una oportunidad.","Sigue adelante, lo ests logrando!","El espaol te conecta con el cine latinoamericano.","Tu dedicacin es tu mejor cualidad.","Hoy puedes hacer ms que ayer!","El espaol te abre puertas acadmicas.","Cada da mejoras tu pronunciacin.","Ests construyendo un futuro brillante!","El espaol te permite entender series sin doblaje.","Tu esfuerzo nunca pasa desapercibido.","Cada da eres ms fluido!","El espaol te hace ms valioso en el mercado.","Tu progreso es tu mayor recompensa.","Hoy es el da para brillar!","El espaol te conecta con tradiciones hermosas.","Cada palabra es un paso adelante.","No te detengas, ests progresando!","El espaol te permite trabajar remotamente.","Tu constancia es inspiradora.","Hoy aprenders algo nuevo!","El espaol te hace ms comunicativo.","Cada leccin es un regalo para ti.","Sigue as, lo ests haciendo genial!","El espaol te permite entender poesa hermosa.","Tu esfuerzo diario se refleja en tu progreso.","Cada da eres ms competente!","El espaol te da acceso a universidades hispanas.","Tu dedicacin te define como estudiante.","Hoy puedes comunicarte con ms confianza!","El espaol te hace ms interesante en reuniones.","Cada palabra nueva es una victoria.","Ests haciendo un trabajo excelente!","El espaol te conecta con festivales culturales.","Tu progreso es tangible.","No te rindas, ests muy cerca!","El espaol te permite entender documentales.","Cada da de prctica suma experiencia.","Hoy es un da perfecto para aprender!","El espaol te hace ms culto y educado.","Tu esfuerzo es tu mejor inversin.","Sigue adelante, el xito est garantizado!","El espaol te permite participar en conferencias.","Cada conversacin te hace ms fluido.","Ests progresando a tu propio ritmo!","El espaol te conecta con la danza latina.","Tu dedicacin es tu mayor activo.","Hoy aprenders algo que te sorprender!","El espaol te hace ms adaptable culturalmente.","Cada palabra es un tesoro lingstico.","No pares, ests en el camino correcto!","El espaol te permite leer peridicos internacionales.","Tu constancia es tu clave del xito.","Cada da eres ms capaz de comunicarte!","El espaol te da acceso a programas de intercambio.","Tu progreso es evidente en cada conversacin.","Hoy es un gran da para practicar espaol!","El espaol te hace ms competitivo globalmente.","Cada leccin te acerca a tu sueo.","Sigue as, lo ests logrando!","El espaol te permite entender teatro en vivo.","Tu esfuerzo diario es admirable.","Cada da eres mejor que ayer!","El espaol te conecta con deportes latinos.","Tu dedicacin te llevar lejos.","Hoy puedes expresarte con ms claridad!","El espaol te hace ms valioso profesionalmente.","Cada palabra aprendida es permanente.","Ests construyendo un futuro bilinge!","El espaol te permite entender stand-up comedy.","Tu progreso es constante y medible.","No te detengas, ests haciendo historia!","El espaol te da acceso a cursos online.","Cada conversacin es prctica real.","Hoy aprenders algo til para la vida!","El espaol te hace ms independiente.","Tu esfuerzo se refleja en tu fluidez.","Sigue adelante, lo ests haciendo muy bien!","El espaol te conecta con la arquitectura latina.","Cada da mejoras tu comprensin.","Ests progresando ms rpido de lo que piensas!","El espaol te permite trabajar en multinacionales.","Tu dedicacin es tu mejor herramienta.","Hoy es el da para superar expectativas!","El espaol te hace ms interesante socialmente.","Cada palabra es un logro personal.","No te rindas, ests muy cerca del xito!","El espaol te permite entender tutoriales en YouTube.","Tu constancia es tu mayor virtud.","Cada da eres ms fluido en espaol!","El espaol te da acceso a mercados laborales.","Tu progreso es tu mejor motivacin.","Hoy puedes comunicarte mejor que nunca!","El espaol te hace ms verstil.","Cada leccin es un paso hacia la maestra.","Sigue as, ests en el camino del xito!","El espaol te conecta con la fotografa latina.","Tu esfuerzo diario es tu mayor inversin.","Cada da eres ms competente en espaol!","El espaol te permite participar en webinars.","Tu dedicacin te hace destacar.","Hoy aprenders algo que cambiarn tu perspectiva!","El espaol te hace ms culto y preparado.","Cada palabra nueva ampla tus posibilidades.","Ests haciendo un progreso increble!","El espaol te permite entender audiolibros.","Tu progreso es real y constante.","No pares, ests construyendo algo grande!","El espaol te da acceso a redes profesionales.","Cada conversacin te hace ms seguro.","Hoy es un da perfecto para brillar!","El espaol te hace ms empleable internacionalmente.","Tu esfuerzo es tu mejor carta de presentacin.","Sigue adelante, el xito te pertenece!","El espaol te conecta con el diseo latino.","Cada da mejoras tu vocabulario.","Ests progresando a pasos agigantados!","El espaol te permite entender conferencias TED.","Tu dedicacin es tu superpoder secreto.","Hoy puedes hacer cosas que antes no podas!","El espaol te hace ms adaptable al cambio.","Cada palabra es una herramienta nueva.","No te detengas, ests haciendo historia personal!","El espaol te da acceso a comunidades online.","Tu constancia es tu mejor aliada.","Cada da eres ms capaz de expresarte!","El espaol te permite trabajar desde cualquier lugar.","Tu progreso es tu mejor logro.","Hoy es un gran da para aprender espaol!","El espaol te hace ms competitivo en tu campo.","Cada leccin te acerca a la excelencia.","Sigue as, lo ests logrando perfectamente!","El espaol te conecta con la moda latina.","Tu esfuerzo diario es tu mejor hbito.","Cada da eres mejor estudiante de espaol!","El espaol te permite entender blogs interesantes.","Tu dedicacin te hace nico.","Hoy aprenders algo que usars siempre!","El espaol te hace ms verstil culturalmente.","Cada palabra aprendida es tuya para siempre.","Ests construyendo un futuro prometedor!","El espaol te permite participar en foros.","Tu progreso es constante y notable.","No te rindas, ests a punto de lograrlo!","El espaol te da acceso a oportunidades nicas.","Cada conversacin te hace ms confiado.","Hoy es el da para demostrar tu progreso!","El espaol te hace ms interesante profesionalmente.","Tu esfuerzo se refleja en cada palabra.","Sigue adelante, lo ests haciendo excelente!","El espaol te conecta con el turismo latino.","Cada da mejoras tu gramtica.","Ests progresando de manera impresionante!","El espaol te permite entender reseas de productos.","Tu dedicacin es tu mejor caracterstica.","Hoy puedes comunicarte con ms fluidez!","El espaol te hace ms valioso en tu empresa.","Cada palabra es un paso hacia la maestra.","No pares, ests en el camino del xito!","El espaol te da acceso a eventos internacionales.","Tu constancia es tu mejor estrategia.","Cada da eres ms fluido y natural!","El espaol te permite trabajar en turismo.","Tu progreso es tu mejor recompensa.","Hoy es un da perfecto para practicar!","El espaol te hace ms competitivo acadmicamente.","Cada leccin es un regalo para tu futuro.","Sigue as, ests haciendo un trabajo increble!","El espaol te conecta con la tecnologa latina.","Tu esfuerzo diario es tu mejor decisin.","Cada da eres ms competente y seguro!","El espaol te permite entender manuales tcnicos.","Tu dedicacin te hace sobresalir.","Hoy aprenders algo que te ayudar maana!","El espaol te hace ms adaptable profesionalmente.","Cada palabra nueva es una oportunidad.","Ests haciendo un progreso extraordinario!","El espaol te permite participar en redes sociales.","Tu progreso es real y medible.","No te detengas, ests construyendo tu futuro!","El espaol te da acceso a mentoras internacionales.","Cada conversacin te hace ms natural.","Hoy es un gran da para superar tus lmites!","El espaol te hace ms empleable en cualquier sector.","Tu esfuerzo es tu mejor inversin de tiempo.","Sigue adelante, el xito est asegurado!","El espaol te conecta con startups latinas.","Cada da mejoras tu comprensin auditiva.","Ests progresando ms all de tus expectativas!","El espaol te permite entender investigaciones.","Tu dedicacin es tu mejor cualidad personal.","Hoy puedes hacer ms de lo que imaginas!","El espaol te hace ms verstil en tu carrera.","Cada palabra es un activo permanente.","No te rindas, ests a punto de alcanzar tu meta!","El espaol te da acceso a colaboraciones internacionales.","Tu constancia es tu mejor tctica.","Cada da eres ms capaz de entender y hablar!","El espaol te permite trabajar en educacin.","Tu progreso es tu mejor motivador.","Hoy es el da para celebrar tu avance!","El espaol te hace ms competitivo en entrevistas.","Cada leccin te acerca a la perfeccin.","Sigue as, lo ests logrando maravillosamente!","El espaol te conecta con emprendedores latinos.","Tu esfuerzo diario es tu mejor prctica.","Cada da eres mejor comunicador en espaol!","El espaol te permite entender contratos internacionales.","Tu dedicacin te hace destacar entre otros.","Hoy aprenders algo que recordars siempre!","El espaol te hace ms adaptable a nuevos entornos.","Cada palabra aprendida es una victoria personal.","Ests construyendo un futuro sin lmites!","El espaol te permite participar en proyectos globales.","Tu progreso es constante y admirable.","No pares, ests haciendo algo extraordinario!","El espaol te da acceso a inversiones internacionales.","Cada conversacin te hace ms experto.","Hoy es un da perfecto para demostrar tu espaol!","El espaol te hace ms valioso en cualquier equipo.","Tu esfuerzo se refleja en tu confianza.","Sigue adelante, lo ests haciendo perfectamente!","El espaol te conecta con innovadores latinos.","Cada da mejoras tu expresin oral.","Ests progresando de forma excepcional!","El espaol te permite entender legislacin internacional.","Tu dedicacin es tu mejor inversin personal.","Hoy puedes comunicarte como nunca antes!","El espaol te hace ms verstil en negocios.","Cada palabra es un paso hacia la excelencia.","No te detengas, ests creando tu propio xito!","El espaol te da acceso a mercados emergentes.","Tu constancia es tu mejor herramienta de progreso.","Cada da eres ms fluido y confiado!","El espaol te permite trabajar en organizaciones internacionales.","Tu progreso es tu mejor testimonio.","Hoy es un gran da para alcanzar nuevas metas!","El espaol te hace ms competitivo en el siglo XXI.","Cada leccin es un paso hacia tu sueo.","Sigue as, ests haciendo un trabajo fenomenal!","El espaol te conecta con lderes latinoamericanos.","Tu esfuerzo diario es tu mejor hbito de vida.","Cada da eres ms competente y preparado!","El espaol te permite entender cultura pop latina.","Tu dedicacin te hace imparable.","Hoy aprenders algo que transformar tu espaol!","El espaol te hace ms adaptable globalmente.","Cada palabra nueva es una puerta que se abre.","Ests haciendo un progreso que te enorgullecer!","El espaol te permite participar en la economa global.","Tu progreso es real, constante y extraordinario.","No te rindas, ests escribiendo tu propia historia de xito!"],l9=()=>{const e=new Date,t=new Date(e.getFullYear(),0,0),s=e-t,r=1e3*60*60*24,a=Math.floor(s/r);return NN[a%NN.length]},_N=15*60*1e3,c9=60*1e3,fT=(e=!0)=>{const{user:t,signOut:s}=pr(),{toast:r}=Pt(),a=f.useRef(null),o=f.useRef(null),i=f.useRef(Date.now()),l=f.useRef(!1),c=f.useCallback(async()=>{t&&(r({variant:"destructive",title:"Sesso Encerrada",description:"Sua sesso foi encerrada por inatividade de 15 minutos.",duration:8e3}),await s())},[t,s,r]),d=f.useCallback(()=>{l.current||(l.current=!0,r({variant:"default",title:" Sesso expirando",description:"Sua sesso ser encerrada em 1 minuto por inatividade. Mova o mouse ou pressione uma tecla para continuar.",duration:55e3}))},[r]),u=f.useCallback(()=>{i.current=Date.now(),l.current=!1,a.current&&clearTimeout(a.current),o.current&&clearTimeout(o.current),!(!e||!t)&&(o.current=setTimeout(()=>{d()},_N-c9),a.current=setTimeout(()=>{c()},_N))},[e,t,c,d]);return f.useEffect(()=>{if(!e||!t)return;const m=["mousedown","mousemove","keypress","keydown","scroll","touchstart","click","wheel"];let h=0;const p=1e3,x=()=>{const g=Date.now();g-h>p&&(h=g,u())};return m.forEach(g=>{document.addEventListener(g,x,{passive:!0})}),u(),()=>{m.forEach(g=>{document.removeEventListener(g,x)}),a.current&&clearTimeout(a.current),o.current&&clearTimeout(o.current)}},[e,t,u]),{resetIdleTimer:u,lastActivity:i.current}};var tt=function(){return tt=Object.assign||function(t){for(var s,r=1,a=arguments.length;r<a;r++){s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},tt.apply(this,arguments)};function d9(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]]);return s}function mT(e,t,s){if(s||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Hd(e){return e.mode==="multiple"}function qd(e){return e.mode==="range"}function hh(e){return e.mode==="single"}var u9={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function f9(e,t){return ae(e,"LLLL y",t)}function m9(e,t){return ae(e,"d",t)}function h9(e,t){return ae(e,"LLLL",t)}function p9(e){return"".concat(e)}function g9(e,t){return ae(e,"cccccc",t)}function x9(e,t){return ae(e,"yyyy",t)}var v9=Object.freeze({__proto__:null,formatCaption:f9,formatDay:m9,formatMonthCaption:h9,formatWeekNumber:p9,formatWeekdayName:g9,formatYearCaption:x9}),y9=function(e,t,s){return ae(e,"do MMMM (EEEE)",s)},b9=function(){return"Month: "},w9=function(){return"Go to next month"},j9=function(){return"Go to previous month"},N9=function(e,t){return ae(e,"cccc",t)},_9=function(e){return"Week n. ".concat(e)},S9=function(){return"Year: "},C9=Object.freeze({__proto__:null,labelDay:y9,labelMonthDropdown:b9,labelNext:w9,labelPrevious:j9,labelWeekNumber:_9,labelWeekday:N9,labelYearDropdown:S9});function E9(){var e="buttons",t=u9,s=Ld,r={},a={},o=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:v9,labels:C9,locale:s,modifiersClassNames:r,modifiers:a,numberOfMonths:o,styles:i,today:l,mode:"default"}}function k9(e){var t=e.fromYear,s=e.toYear,r=e.fromMonth,a=e.toMonth,o=e.fromDate,i=e.toDate;return r?o=Er(r):t&&(o=new Date(t,0,1)),a?i=Xm(a):s&&(i=new Date(s,11,31)),{fromDate:o?El(o):void 0,toDate:i?El(i):void 0}}var hT=f.createContext(void 0);function T9(e){var t,s=e.initialProps,r=E9(),a=k9(s),o=a.fromDate,i=a.toDate,l=(t=s.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var c;(hh(s)||Hd(s)||qd(s))&&(c=s.onSelect);var d=tt(tt(tt({},r),s),{captionLayout:l,classNames:tt(tt({},r.classNames),s.classNames),components:tt({},s.components),formatters:tt(tt({},r.formatters),s.formatters),fromDate:o,labels:tt(tt({},r.labels),s.labels),mode:s.mode||r.mode,modifiers:tt(tt({},r.modifiers),s.modifiers),modifiersClassNames:tt(tt({},r.modifiersClassNames),s.modifiersClassNames),onSelect:c,styles:tt(tt({},r.styles),s.styles),toDate:i});return n.jsx(hT.Provider,{value:d,children:e.children})}function Qt(){var e=f.useContext(hT);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function pT(e){var t=Qt(),s=t.locale,r=t.classNames,a=t.styles,o=t.formatters.formatCaption;return n.jsx("div",{className:r.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:s})})}function P9(e){return n.jsx("svg",tt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:n.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function gT(e){var t,s,r=e.onChange,a=e.value,o=e.children,i=e.caption,l=e.className,c=e.style,d=Qt(),u=(s=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&s!==void 0?s:P9;return n.jsxs("div",{className:l,style:c,children:[n.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),n.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:r,children:o}),n.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[i,n.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function A9(e){var t,s=Qt(),r=s.fromDate,a=s.toDate,o=s.styles,i=s.locale,l=s.formatters.formatMonthCaption,c=s.classNames,d=s.components,u=s.labels.labelMonthDropdown;if(!r)return n.jsx(n.Fragment,{});if(!a)return n.jsx(n.Fragment,{});var m=[];if(h8(r,a))for(var h=Er(r),p=r.getMonth();p<=a.getMonth();p++)m.push(bp(h,p));else for(var h=Er(new Date),p=0;p<=11;p++)m.push(bp(h,p));var x=function(y){var b=Number(y.target.value),v=bp(Er(e.displayMonth),b);e.onChange(v)},g=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:gT;return n.jsx(g,{name:"months","aria-label":u(),className:c.dropdown_month,style:o.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:m.map(function(y){return n.jsx("option",{value:y.getMonth(),children:l(y,{locale:i})},y.getMonth())})})}function M9(e){var t,s=e.displayMonth,r=Qt(),a=r.fromDate,o=r.toDate,i=r.locale,l=r.styles,c=r.classNames,d=r.components,u=r.formatters.formatYearCaption,m=r.labels.labelYearDropdown,h=[];if(!a)return n.jsx(n.Fragment,{});if(!o)return n.jsx(n.Fragment,{});for(var p=a.getFullYear(),x=o.getFullYear(),g=p;g<=x;g++)h.push(mj(iE(new Date),g));var y=function(v){var w=mj(Er(s),Number(v.target.value));e.onChange(w)},b=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:gT;return n.jsx(b,{name:"years","aria-label":m(),className:c.dropdown_year,style:l.dropdown_year,onChange:y,value:s.getFullYear(),caption:u(s,{locale:i}),children:h.map(function(v){return n.jsx("option",{value:v.getFullYear(),children:u(v,{locale:i})},v.getFullYear())})})}function R9(e,t){var s=f.useState(e),r=s[0],a=s[1],o=t===void 0?r:t;return[o,a]}function O9(e){var t=e.month,s=e.defaultMonth,r=e.today,a=t||s||r||new Date,o=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(o&&kl(o,a)<0){var d=-1*(c-1);a=Ws(o,d)}return i&&kl(a,i)<0&&(a=i),Er(a)}function D9(){var e=Qt(),t=O9(e),s=R9(t,e.month),r=s[0],a=s[1],o=function(i){var l;if(!e.disableNavigation){var c=Er(i);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,o]}function I9(e,t){for(var s=t.reverseMonths,r=t.numberOfMonths,a=Er(e),o=Er(Ws(a,r)),i=kl(o,a),l=[],c=0;c<i;c++){var d=Ws(a,c);l.push(d)}return s&&(l=l.reverse()),l}function L9(e,t){if(!t.disableNavigation){var s=t.toDate,r=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=r?o:1,l=Er(e);if(!s)return Ws(l,i);var c=kl(s,e);if(!(c<o))return Ws(l,i)}}function $9(e,t){if(!t.disableNavigation){var s=t.fromDate,r=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=r?o:1,l=Er(e);if(!s)return Ws(l,-i);var c=kl(l,s);if(!(c<=0))return Ws(l,-i)}}var xT=f.createContext(void 0);function F9(e){var t=Qt(),s=D9(),r=s[0],a=s[1],o=I9(r,t),i=L9(r,t),l=$9(r,t),c=function(m){return o.some(function(h){return M0(m,h)})},d=function(m,h){c(m)||(h&&hE(m,h)?a(Ws(m,1+t.numberOfMonths*-1)):a(m))},u={currentMonth:r,displayMonths:o,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:i,isDateDisplayed:c};return n.jsx(xT.Provider,{value:u,children:e.children})}function Wd(){var e=f.useContext(xT);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function SN(e){var t,s=Qt(),r=s.classNames,a=s.styles,o=s.components,i=Wd().goToMonth,l=function(u){i(Ws(u,e.displayIndex?-e.displayIndex:0))},c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:pT,d=n.jsx(c,{id:e.id,displayMonth:e.displayMonth});return n.jsxs("div",{className:r.caption_dropdowns,style:a.caption_dropdowns,children:[n.jsx("div",{className:r.vhidden,children:d}),n.jsx(A9,{onChange:l,displayMonth:e.displayMonth}),n.jsx(M9,{onChange:l,displayMonth:e.displayMonth})]})}function V9(e){return n.jsx("svg",tt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function z9(e){return n.jsx("svg",tt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var em=f.forwardRef(function(e,t){var s=Qt(),r=s.classNames,a=s.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var i=o.join(" "),l=tt(tt({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),n.jsx("button",tt({},e,{ref:t,type:"button",className:i,style:l}))});function B9(e){var t,s,r=Qt(),a=r.dir,o=r.locale,i=r.classNames,l=r.styles,c=r.labels,d=c.labelPrevious,u=c.labelNext,m=r.components;if(!e.nextMonth&&!e.previousMonth)return n.jsx(n.Fragment,{});var h=d(e.previousMonth,{locale:o}),p=[i.nav_button,i.nav_button_previous].join(" "),x=u(e.nextMonth,{locale:o}),g=[i.nav_button,i.nav_button_next].join(" "),y=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:z9,b=(s=m==null?void 0:m.IconLeft)!==null&&s!==void 0?s:V9;return n.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&n.jsx(em,{name:"previous-month","aria-label":h,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?n.jsx(y,{className:i.nav_icon,style:l.nav_icon}):n.jsx(b,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&n.jsx(em,{name:"next-month","aria-label":x,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?n.jsx(b,{className:i.nav_icon,style:l.nav_icon}):n.jsx(y,{className:i.nav_icon,style:l.nav_icon})})]})}function CN(e){var t=Qt().numberOfMonths,s=Wd(),r=s.previousMonth,a=s.nextMonth,o=s.goToMonth,i=s.displayMonths,l=i.findIndex(function(x){return M0(e.displayMonth,x)}),c=l===0,d=l===i.length-1,u=t>1&&(c||!d),m=t>1&&(d||!c),h=function(){r&&o(r)},p=function(){a&&o(a)};return n.jsx(B9,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:m,nextMonth:a,previousMonth:r,onPreviousClick:h,onNextClick:p})}function U9(e){var t,s=Qt(),r=s.classNames,a=s.disableNavigation,o=s.styles,i=s.captionLayout,l=s.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:pT,d;return a?d=n.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?d=n.jsx(SN,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?d=n.jsxs(n.Fragment,{children:[n.jsx(SN,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),n.jsx(CN,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=n.jsxs(n.Fragment,{children:[n.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(CN,{displayMonth:e.displayMonth,id:e.id})]}),n.jsx("div",{className:r.caption,style:o.caption,children:d})}function H9(e){var t=Qt(),s=t.footer,r=t.styles,a=t.classNames.tfoot;return s?n.jsx("tfoot",{className:a,style:r.tfoot,children:n.jsx("tr",{children:n.jsx("td",{colSpan:8,children:s})})}):n.jsx(n.Fragment,{})}function q9(e,t,s){for(var r=s?Na(new Date):Tr(new Date,{locale:e,weekStartsOn:t}),a=[],o=0;o<7;o++){var i=Es(r,o);a.push(i)}return a}function W9(){var e=Qt(),t=e.classNames,s=e.styles,r=e.showWeekNumber,a=e.locale,o=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=q9(a,o,i);return n.jsxs("tr",{style:s.head_row,className:t.head_row,children:[r&&n.jsx("td",{style:s.head_cell,className:t.head_cell}),d.map(function(u,m){return n.jsx("th",{scope:"col",className:t.head_cell,style:s.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},m)})]})}function G9(){var e,t=Qt(),s=t.classNames,r=t.styles,a=t.components,o=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:W9;return n.jsx("thead",{style:r.head,className:s.head,children:n.jsx(o,{})})}function Y9(e){var t=Qt(),s=t.locale,r=t.formatters.formatDay;return n.jsx(n.Fragment,{children:r(e.date,{locale:s})})}var fy=f.createContext(void 0);function K9(e){if(!Hd(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return n.jsx(fy.Provider,{value:t,children:e.children})}return n.jsx(X9,{initialProps:e.initialProps,children:e.children})}function X9(e){var t=e.initialProps,s=e.children,r=t.selected,a=t.min,o=t.max,i=function(d,u,m){var h,p;(h=t.onDayClick)===null||h===void 0||h.call(t,d,u,m);var x=!!(u.selected&&a&&(r==null?void 0:r.length)===a);if(!x){var g=!!(!u.selected&&o&&(r==null?void 0:r.length)===o);if(!g){var y=r?mT([],r,!0):[];if(u.selected){var b=y.findIndex(function(v){return Us(d,v)});y.splice(b,1)}else y.push(d);(p=t.onSelect)===null||p===void 0||p.call(t,y,d,u,m)}}},l={disabled:[]};r&&l.disabled.push(function(d){var u=o&&r.length>o-1,m=r.some(function(h){return Us(h,d)});return!!(u&&!m)});var c={selected:r,onDayClick:i,modifiers:l};return n.jsx(fy.Provider,{value:c,children:s})}function my(){var e=f.useContext(fy);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Q9(e,t){var s=t||{},r=s.from,a=s.to;return r&&a?Us(a,e)&&Us(r,e)?void 0:Us(a,e)?{from:a,to:void 0}:Us(r,e)?void 0:Bf(r,e)?{from:e,to:a}:{from:r,to:e}:a?Bf(e,a)?{from:a,to:e}:{from:e,to:a}:r?hE(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var hy=f.createContext(void 0);function J9(e){if(!qd(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return n.jsx(hy.Provider,{value:t,children:e.children})}return n.jsx(Z9,{initialProps:e.initialProps,children:e.children})}function Z9(e){var t=e.initialProps,s=e.children,r=t.selected,a=r||{},o=a.from,i=a.to,l=t.min,c=t.max,d=function(p,x,g){var y,b;(y=t.onDayClick)===null||y===void 0||y.call(t,p,x,g);var v=Q9(p,r);(b=t.onSelect)===null||b===void 0||b.call(t,v,p,x,g)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(u.range_start=[o],i?(u.range_end=[i],Us(o,i)||(u.range_middle=[{after:o,before:i}])):u.range_end=[o]):i&&(u.range_start=[i],u.range_end=[i]),l&&(o&&!i&&u.disabled.push({after:vp(o,l-1),before:Es(o,l-1)}),o&&i&&u.disabled.push({after:o,before:Es(o,l-1)}),!o&&i&&u.disabled.push({after:vp(i,l-1),before:Es(i,l-1)})),c){if(o&&!i&&(u.disabled.push({before:Es(o,-c+1)}),u.disabled.push({after:Es(o,c-1)})),o&&i){var m=yn(i,o)+1,h=c-m;u.disabled.push({before:vp(o,h)}),u.disabled.push({after:Es(i,h)})}!o&&i&&(u.disabled.push({before:Es(i,-c+1)}),u.disabled.push({after:Es(i,c-1)}))}return n.jsx(hy.Provider,{value:{selected:r,onDayClick:d,modifiers:u},children:s})}function py(){var e=f.useContext(hy);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function af(e){return Array.isArray(e)?mT([],e,!0):e!==void 0?[e]:[]}function eW(e){var t={};return Object.entries(e).forEach(function(s){var r=s[0],a=s[1];t[r]=af(a)}),t}var kn;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(kn||(kn={}));var tW=kn.Selected,na=kn.Disabled,sW=kn.Hidden,rW=kn.Today,Ip=kn.RangeEnd,Lp=kn.RangeMiddle,$p=kn.RangeStart,nW=kn.Outside;function aW(e,t,s){var r,a=(r={},r[tW]=af(e.selected),r[na]=af(e.disabled),r[sW]=af(e.hidden),r[rW]=[e.today],r[Ip]=[],r[Lp]=[],r[$p]=[],r[nW]=[],r);return e.fromDate&&a[na].push({before:e.fromDate}),e.toDate&&a[na].push({after:e.toDate}),Hd(e)?a[na]=a[na].concat(t.modifiers[na]):qd(e)&&(a[na]=a[na].concat(s.modifiers[na]),a[$p]=s.modifiers[$p],a[Lp]=s.modifiers[Lp],a[Ip]=s.modifiers[Ip]),a}var vT=f.createContext(void 0);function oW(e){var t=Qt(),s=my(),r=py(),a=aW(t,s,r),o=eW(t.modifiers),i=tt(tt({},a),o);return n.jsx(vT.Provider,{value:i,children:e.children})}function yT(){var e=f.useContext(vT);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function iW(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function lW(e){return!!(e&&typeof e=="object"&&"from"in e)}function cW(e){return!!(e&&typeof e=="object"&&"after"in e)}function dW(e){return!!(e&&typeof e=="object"&&"before"in e)}function uW(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function fW(e,t){var s,r=t.from,a=t.to;if(r&&a){var o=yn(a,r)<0;o&&(s=[a,r],r=s[0],a=s[1]);var i=yn(e,r)>=0&&yn(a,e)>=0;return i}return a?Us(a,e):r?Us(r,e):!1}function mW(e){return _0(e)}function hW(e){return Array.isArray(e)&&e.every(_0)}function pW(e,t){return t.some(function(s){if(typeof s=="boolean")return s;if(mW(s))return Us(e,s);if(hW(s))return s.includes(e);if(lW(s))return fW(e,s);if(uW(s))return s.dayOfWeek.includes(e.getDay());if(iW(s)){var r=yn(s.before,e),a=yn(s.after,e),o=r>0,i=a<0,l=Bf(s.before,s.after);return l?i&&o:o||i}return cW(s)?yn(e,s.after)>0:dW(s)?yn(s.before,e)>0:typeof s=="function"?s(e):!1})}function gy(e,t,s){var r=Object.keys(t).reduce(function(o,i){var l=t[i];return pW(e,l)&&o.push(i),o},[]),a={};return r.forEach(function(o){return a[o]=!0}),s&&!M0(e,s)&&(a.outside=!0),a}function gW(e,t){for(var s=Er(e[0]),r=Xm(e[e.length-1]),a,o,i=s;i<=r;){var l=gy(i,t),c=!l.disabled&&!l.hidden;if(!c){i=Es(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),a||(a=i),i=Es(i,1)}return o||a}var xW=365;function bT(e,t){var s=t.moveBy,r=t.direction,a=t.context,o=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,m=a.locale,h={day:Es,week:xd,month:Ws,year:uF,startOfWeek:function(y){return a.ISOWeek?Na(y):Tr(y,{locale:m,weekStartsOn:c})},endOfWeek:function(y){return a.ISOWeek?lE(y):Qm(y,{locale:m,weekStartsOn:c})}},p=h[s](e,r==="after"?1:-1);r==="before"&&d?p=fF([d,p]):r==="after"&&u&&(p=mF([u,p]));var x=!0;if(o){var g=gy(p,o);x=!g.disabled&&!g.hidden}return x?p:l.count>xW?l.lastFocused:bT(p,{moveBy:s,direction:r,context:a,modifiers:o,retry:tt(tt({},l),{count:l.count+1})})}var wT=f.createContext(void 0);function vW(e){var t=Wd(),s=yT(),r=f.useState(),a=r[0],o=r[1],i=f.useState(),l=i[0],c=i[1],d=gW(t.displayMonths,s),u=a??(l&&t.isDateDisplayed(l))?l:d,m=function(){c(a),o(void 0)},h=function(y){o(y)},p=Qt(),x=function(y,b){if(a){var v=bT(a,{moveBy:y,direction:b,context:p,modifiers:s});Us(a,v)||(t.goToDate(v,a),h(v))}},g={focusedDay:a,focusTarget:u,blur:m,focus:h,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return n.jsx(wT.Provider,{value:g,children:e.children})}function xy(){var e=f.useContext(wT);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function yW(e,t){var s=yT(),r=gy(e,s,t);return r}var vy=f.createContext(void 0);function bW(e){if(!hh(e.initialProps)){var t={selected:void 0};return n.jsx(vy.Provider,{value:t,children:e.children})}return n.jsx(wW,{initialProps:e.initialProps,children:e.children})}function wW(e){var t=e.initialProps,s=e.children,r=function(o,i,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,o,i,l),i.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,o,i,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,o,o,i,l)},a={selected:t.selected,onDayClick:r};return n.jsx(vy.Provider,{value:a,children:s})}function jT(){var e=f.useContext(vy);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function jW(e,t){var s=Qt(),r=jT(),a=my(),o=py(),i=xy(),l=i.focusDayAfter,c=i.focusDayBefore,d=i.focusWeekAfter,u=i.focusWeekBefore,m=i.blur,h=i.focus,p=i.focusMonthBefore,x=i.focusMonthAfter,g=i.focusYearBefore,y=i.focusYearAfter,b=i.focusStartOfWeek,v=i.focusEndOfWeek,w=function(F){var k,P,A,B;hh(s)?(k=r.onDayClick)===null||k===void 0||k.call(r,e,t,F):Hd(s)?(P=a.onDayClick)===null||P===void 0||P.call(a,e,t,F):qd(s)?(A=o.onDayClick)===null||A===void 0||A.call(o,e,t,F):(B=s.onDayClick)===null||B===void 0||B.call(s,e,t,F)},j=function(F){var k;h(e),(k=s.onDayFocus)===null||k===void 0||k.call(s,e,t,F)},N=function(F){var k;m(),(k=s.onDayBlur)===null||k===void 0||k.call(s,e,t,F)},C=function(F){var k;(k=s.onDayMouseEnter)===null||k===void 0||k.call(s,e,t,F)},_=function(F){var k;(k=s.onDayMouseLeave)===null||k===void 0||k.call(s,e,t,F)},S=function(F){var k;(k=s.onDayPointerEnter)===null||k===void 0||k.call(s,e,t,F)},O=function(F){var k;(k=s.onDayPointerLeave)===null||k===void 0||k.call(s,e,t,F)},D=function(F){var k;(k=s.onDayTouchCancel)===null||k===void 0||k.call(s,e,t,F)},z=function(F){var k;(k=s.onDayTouchEnd)===null||k===void 0||k.call(s,e,t,F)},M=function(F){var k;(k=s.onDayTouchMove)===null||k===void 0||k.call(s,e,t,F)},U=function(F){var k;(k=s.onDayTouchStart)===null||k===void 0||k.call(s,e,t,F)},$=function(F){var k;(k=s.onDayKeyUp)===null||k===void 0||k.call(s,e,t,F)},E=function(F){var k;switch(F.key){case"ArrowLeft":F.preventDefault(),F.stopPropagation(),s.dir==="rtl"?l():c();break;case"ArrowRight":F.preventDefault(),F.stopPropagation(),s.dir==="rtl"?c():l();break;case"ArrowDown":F.preventDefault(),F.stopPropagation(),d();break;case"ArrowUp":F.preventDefault(),F.stopPropagation(),u();break;case"PageUp":F.preventDefault(),F.stopPropagation(),F.shiftKey?g():p();break;case"PageDown":F.preventDefault(),F.stopPropagation(),F.shiftKey?y():x();break;case"Home":F.preventDefault(),F.stopPropagation(),b();break;case"End":F.preventDefault(),F.stopPropagation(),v();break}(k=s.onDayKeyDown)===null||k===void 0||k.call(s,e,t,F)},T={onClick:w,onFocus:j,onBlur:N,onKeyDown:E,onKeyUp:$,onMouseEnter:C,onMouseLeave:_,onPointerEnter:S,onPointerLeave:O,onTouchCancel:D,onTouchEnd:z,onTouchMove:M,onTouchStart:U};return T}function NW(){var e=Qt(),t=jT(),s=my(),r=py(),a=hh(e)?t.selected:Hd(e)?s.selected:qd(e)?r.selected:void 0;return a}function _W(e){return Object.values(kn).includes(e)}function SW(e,t){var s=[e.classNames.day];return Object.keys(t).forEach(function(r){var a=e.modifiersClassNames[r];if(a)s.push(a);else if(_W(r)){var o=e.classNames["day_".concat(r)];o&&s.push(o)}}),s}function CW(e,t){var s=tt({},e.styles.day);return Object.keys(t).forEach(function(r){var a;s=tt(tt({},s),(a=e.modifiersStyles)===null||a===void 0?void 0:a[r])}),s}function EW(e,t,s){var r,a,o,i=Qt(),l=xy(),c=yW(e,t),d=jW(e,c),u=NW(),m=!!(i.onDayClick||i.mode!=="default");f.useEffect(function(){var C;c.outside||l.focusedDay&&m&&Us(l.focusedDay,e)&&((C=s.current)===null||C===void 0||C.focus())},[l.focusedDay,e,s,m,c.outside]);var h=SW(i,c).join(" "),p=CW(i,c),x=!!(c.outside&&!i.showOutsideDays||c.hidden),g=(o=(a=i.components)===null||a===void 0?void 0:a.DayContent)!==null&&o!==void 0?o:Y9,y=n.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),b={style:p,className:h,children:y,role:"gridcell"},v=l.focusTarget&&Us(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Us(l.focusedDay,e),j=tt(tt(tt({},b),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=w||v?0:-1,r)),d),N={isButton:m,isHidden:x,activeModifiers:c,selectedDays:u,buttonProps:j,divProps:b};return N}function kW(e){var t=f.useRef(null),s=EW(e.date,e.displayMonth,t);return s.isHidden?n.jsx("div",{role:"gridcell"}):s.isButton?n.jsx(em,tt({name:"day",ref:t},s.buttonProps)):n.jsx("div",tt({},s.divProps))}function TW(e){var t=e.number,s=e.dates,r=Qt(),a=r.onWeekNumberClick,o=r.styles,i=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,d=r.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!a)return n.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:u});var m=c(Number(t),{locale:l}),h=function(p){a(t,s,p)};return n.jsx(em,{name:"week-number","aria-label":m,className:i.weeknumber,style:o.weeknumber,onClick:h,children:u})}function PW(e){var t,s,r=Qt(),a=r.styles,o=r.classNames,i=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:kW,d=(s=l==null?void 0:l.WeekNumber)!==null&&s!==void 0?s:TW,u;return i&&(u=n.jsx("td",{className:o.cell,style:a.cell,children:n.jsx(d,{number:e.weekNumber,dates:e.dates})})),n.jsxs("tr",{className:o.row,style:a.row,children:[u,e.dates.map(function(m){return n.jsx("td",{className:o.cell,style:a.cell,role:"presentation",children:n.jsx(c,{displayMonth:e.displayMonth,date:m})},gV(m))})]})}function EN(e,t,s){for(var r=s!=null&&s.ISOWeek?lE(t):Qm(t,s),a=s!=null&&s.ISOWeek?Na(e):Tr(e,s),o=yn(r,a),i=[],l=0;l<=o;l++)i.push(Es(a,l));var c=i.reduce(function(d,u){var m=s!=null&&s.ISOWeek?E0(u):T0(u,s),h=d.find(function(p){return p.weekNumber===m});return h?(h.dates.push(u),d):(d.push({weekNumber:m,dates:[u]}),d)},[]);return c}function AW(e,t){var s=EN(Er(e),Xm(e),t);if(t!=null&&t.useFixedWeeks){var r=vV(e,t);if(r<6){var a=s[s.length-1],o=a.dates[a.dates.length-1],i=xd(o,6-r),l=EN(xd(o,1),i,t);s.push.apply(s,l)}}return s}function MW(e){var t,s,r,a=Qt(),o=a.locale,i=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,m=a.weekStartsOn,h=a.firstWeekContainsDate,p=a.ISOWeek,x=AW(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:o,weekStartsOn:m,firstWeekContainsDate:h}),g=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:G9,y=(s=u==null?void 0:u.Row)!==null&&s!==void 0?s:PW,b=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:H9;return n.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&n.jsx(g,{}),n.jsx("tbody",{className:i.tbody,style:l.tbody,children:x.map(function(v){return n.jsx(y,{displayMonth:e.displayMonth,dates:v.dates,weekNumber:v.weekNumber},v.weekNumber)})}),n.jsx(b,{displayMonth:e.displayMonth})]})}function RW(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var OW=RW()?f.useLayoutEffect:f.useEffect,Fp=!1,DW=0;function kN(){return"react-day-picker-".concat(++DW)}function IW(e){var t,s=e??(Fp?kN():null),r=f.useState(s),a=r[0],o=r[1];return OW(function(){a===null&&o(kN())},[]),f.useEffect(function(){Fp===!1&&(Fp=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function LW(e){var t,s,r=Qt(),a=r.dir,o=r.classNames,i=r.styles,l=r.components,c=Wd().displayMonths,d=IW(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,m=[o.month],h=i.month,p=e.displayIndex===0,x=e.displayIndex===c.length-1,g=!p&&!x;a==="rtl"&&(t=[p,x],x=t[0],p=t[1]),p&&(m.push(o.caption_start),h=tt(tt({},h),i.caption_start)),x&&(m.push(o.caption_end),h=tt(tt({},h),i.caption_end)),g&&(m.push(o.caption_between),h=tt(tt({},h),i.caption_between));var y=(s=l==null?void 0:l.Caption)!==null&&s!==void 0?s:U9;return n.jsxs("div",{className:m.join(" "),style:h,children:[n.jsx(y,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(MW,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function $W(e){var t=Qt(),s=t.classNames,r=t.styles;return n.jsx("div",{className:s.months,style:r.months,children:e.children})}function FW(e){var t,s,r=e.initialProps,a=Qt(),o=xy(),i=Wd(),l=f.useState(!1),c=l[0],d=l[1];f.useEffect(function(){a.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),d(!0)))},[a.initialFocus,c,o.focus,o.focusTarget,o]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var m=tt(tt({},a.styles.root),a.style),h=Object.keys(r).filter(function(x){return x.startsWith("data-")}).reduce(function(x,g){var y;return tt(tt({},x),(y={},y[g]=r[g],y))},{}),p=(s=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&s!==void 0?s:$W;return n.jsx("div",tt({className:u.join(" "),style:m,dir:a.dir,id:a.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:n.jsx(p,{children:i.displayMonths.map(function(x,g){return n.jsx(LW,{displayIndex:g,displayMonth:x},g)})})}))}function VW(e){var t=e.children,s=d9(e,["children"]);return n.jsx(T9,{initialProps:s,children:n.jsx(F9,{children:n.jsx(bW,{initialProps:s,children:n.jsx(K9,{initialProps:s,children:n.jsx(J9,{initialProps:s,children:n.jsx(oW,{children:n.jsx(vW,{children:t})})})})})})})}function zW(e){return n.jsx(VW,tt({},e,{children:n.jsx(FW,{initialProps:e})}))}function sl({className:e,classNames:t,showOutsideDays:s=!0,...r}){return n.jsx(zW,{showOutsideDays:s,className:ee("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ee(ox({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ee(ox({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>n.jsx(ix,{className:"h-4 w-4"}),IconRight:({...a})=>n.jsx(_l,{className:"h-4 w-4"})},...r})}sl.displayName="Calendar";Array.from({length:68},(e,t)=>{const s=420+t*15,r=Math.floor(s/60),a=s%60;return`${String(r).padStart(2,"0")}:${String(a).padStart(2,"0")}:00`});const BW=({nextClass:e})=>{var r,a,o;if(!e)return n.jsxs("div",{className:"bg-gradient-to-br from-slate-100 to-slate-200 rounded-xl p-5 shadow-sm border border-slate-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-slate-300/50 rounded-lg",children:n.jsx(Xu,{className:"h-5 w-5 text-slate-500"})}),n.jsx("h3",{className:"text-base font-bold text-slate-600",children:"Prxima Aula"})]}),n.jsx("p",{className:"text-slate-500 text-sm",children:"Nenhuma aula agendada."})]});const{class_datetime:t,student:s}=e;return n.jsxs(Ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-sky-500 via-sky-600 to-blue-700 rounded-xl p-5 shadow-lg shadow-sky-200 text-white min-w-[320px]",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(lC,{className:"h-5 w-5 text-white"})}),n.jsx("span",{className:"text-sky-100 text-sm font-medium",children:"Prxima Aula"})]}),n.jsx(me,{className:"bg-white/20 text-white border-0 text-xs",children:jc(new Date(t),{locale:nt,addSuffix:!0})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("p",{className:"text-3xl font-black",children:[ae(new Date(t),"dd MMM",{locale:nt})," | ",ae(new Date(t),"HH:mm")]}),n.jsxs("p",{className:"text-sky-100 text-sm mt-1",children:["Nvel ",(s==null?void 0:s.spanish_level)||"Intermedirio"]}),n.jsxs("p",{className:"text-white/90 text-xs mt-0.5",children:["Professor: ",((r=e.professor)==null?void 0:r.full_name)||((a=e.professor)==null?void 0:a.name)||"No atribudo"]})]}),n.jsx(Y,{asChild:!0,className:"w-full bg-white text-sky-700 hover:bg-sky-50 font-bold shadow-md",children:n.jsxs("a",{href:((o=e.professor)==null?void 0:o.meeting_link)||"https://meet.google.com/tmi-xwmg-kua",target:"_blank",rel:"noopener noreferrer",children:[n.jsx(Om,{className:"h-4 w-4 mr-2"}),"Entrar na Aula"]})})]})},UW=()=>n.jsx(Ke.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:n.jsx("a",{href:"https://wa.me/555198541835",target:"_blank",rel:"noopener noreferrer",children:n.jsx(Y,{size:"icon",className:"rounded-full h-14 w-14 bg-green-500 hover:bg-green-600 shadow-lg",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-message-circle",children:[n.jsx("path",{d:"M10.3 14.7l-1.8-1.8a.9.9 0 0 0-1.3 0l-.8.8a.9.9 0 0 0 0 1.3l2.5 2.5c.4.4 1 .4 1.4 0l5.8-5.8a.9.9 0 0 0 0-1.3l-.8-.8a.9.9 0 0 0-1.3 0l-4 4zM21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0z",fill:"white"}),n.jsx("path",{d:"M21.9 12.8c0 2-1 3.8-2.6 5.1-1.4 1.1-3.1 1.7-4.9 1.7h-.1c-3.4 0-6.4-2.1-7.5-5.1-.3-1 .1-2 .8-2.8.7-.8 1.9-1.1 2.9-1.1h.1c.5 0 1 .1 1.4.3.4.1.8.4 1.1.7l.7.7c.3.3.4.7.4 1.1 0 .4-.1.8-.4 1.1l-1.3 1.3c-.3.3-.8-.4-1.1-.4.4 0 .8.1 1.1.4l.7.7c.3.3.7.4 1.1.4Z",fill:"white",strokeWidth:"0"})]})})})}),HW=()=>{const t=(()=>{const i=new Date,l=new Date(i.getFullYear(),0,0),c=i-l,d=1e3*60*60*24;return Math.floor(c/d)})(),s=Vx,r=s[t%s.length],[a,o]=f.useState(!1);return n.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-amber-400 via-orange-500 to-red-500 rounded-2xl p-5 text-white shadow-lg mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(Qo,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-lg",children:"Palabra del Da"}),n.jsx("p",{className:"text-orange-100 text-xs",children:"Aprende algo nuevo cada da"})]})]}),n.jsx(me,{className:"bg-white/20 text-white border-0 text-xs",children:r.type})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 mb-4",children:[n.jsx("p",{className:"text-4xl font-black mb-1",children:r.word}),n.jsxs("p",{className:"text-orange-100 text-sm font-mono",children:["/",r.pronunciation,"/"]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-orange-200 mb-1",children:"Ejemplo:"}),n.jsxs("p",{className:"text-sm italic",children:['"',r.example,'"']})]}),n.jsx("button",{onClick:()=>o(!a),className:"w-full bg-white/20 hover:bg-white/30 transition-colors rounded-lg py-2 px-4 text-sm font-medium flex items-center justify-center gap-2",children:a?n.jsxs(n.Fragment,{children:[" ",r.translation]}):n.jsx(n.Fragment,{children:" Ver traduo"})})]})]})},TN=()=>{var J,Se,Xe;const{user:e,profile:t}=pr(),{toast:s}=Pt(),r=Ea();fT(!0);const[a,o]=f.useState(!0),[i,l]=f.useState([]),[c,d]=f.useState([]),[u,m]=f.useState({available:0,scheduled:0,completed:0,missed:0,pending:0,rescheduledCount:0}),[h,p]=f.useState([]),[x,g]=f.useState(null),[y,b]=f.useState(null),[v,w]=f.useState([]),[j,N]=f.useState(!1),[C,_]=f.useState(()=>{const W=Qe();return`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}`}),S=f.useMemo(()=>{const W=[],fe=Qe().getFullYear();for(let de=0;de<12;de++){const Fe=new Date(fe,de,1),Ge=`${Fe.getFullYear()}-${String(Fe.getMonth()+1).padStart(2,"0")}`,qe=ae(Fe,"MMMM 'de' yyyy",{locale:nt});W.push({value:Ge,label:qe.charAt(0).toUpperCase()+qe.slice(1)})}return W},[]);f.useState(1);const[O,D]=f.useState([]),[z,M]=f.useState([]);f.useState(null);const[U,$]=f.useState([]);f.useState(!1),f.useState(!1),f.useState(!1),f.useState(null),f.useState(null);const[E,T]=f.useState([]),[F,k]=f.useState(null),[P,A]=f.useState([]),[B,L]=f.useState(""),[H,I]=f.useState(!1),[G,K]=f.useState(!1),[q,X]=f.useState(null),[le,te]=f.useState([]),[ie,Ne]=f.useState([]),[Re,Je]=f.useState("agenda"),[V,_e]=f.useState(!1),[oe,be]=f.useState((t==null?void 0:t.avatar_url)||null),[Ce,at]=f.useState(null),[Gt,st]=f.useState(null),[bt,wt]=f.useState(!1),[mt,lt]=f.useState(!1);f.useEffect(()=>{t!=null&&t.avatar_url&&be(t.avatar_url)},[t==null?void 0:t.avatar_url]);const Mr=W=>{var fe;const ne=(fe=W.target.files)==null?void 0:fe[0];if(ne){if(ne.size>2*1024*1024){s({title:"Arquivo muito grande",description:"O arquivo deve ter no mximo 2MB.",variant:"destructive"});return}at(ne);const de=URL.createObjectURL(ne);st(de)}},Ps=async()=>{if(e!=null&&e.id){wt(!0);try{let W=oe;if(Ce){lt(!0);const fe=Ce.name.split(".").pop(),Fe=`avatars/${`${e.id}-${Date.now()}.${fe}`}`,{error:Ge}=await R.storage.from("avatars").upload(Fe,Ce,{upsert:!0});if(Ge)throw Ge;const{data:qe}=R.storage.from("avatars").getPublicUrl(Fe);W=qe.publicUrl,lt(!1)}const{error:ne}=await R.from("profiles").update({avatar_url:W}).eq("id",e.id);if(ne)throw ne;s({title:"Configuraes salvas",description:"Sua foto de perfil foi atualizada com sucesso."}),_e(!1),at(null),st(null),be(W)}catch(W){console.error("Erro ao salvar configuraes:",W),s({title:"Erro ao salvar",description:W.message,variant:"destructive"})}finally{wt(!1),lt(!1)}}},Ks=Vt.useRef(null),ea=()=>{var W;return(W=Ks.current)==null?void 0:W.scrollIntoView({behavior:"smooth"})};f.useEffect(ea,[P]);const jt=i[0];(J=jt==null?void 0:jt.packages)!=null&&J.classes_per_week;const ar=((Se=jt==null?void 0:jt.packages)==null?void 0:Se.class_duration_minutes)||30,Xs=Math.ceil(ar/15),ue=f.useMemo(()=>{if(!i||i.length===0)return null;const W=Be(i[0].end_date),fe=S0(W,new Date);return Math.max(0,fe)},[i]),ge=f.useCallback(async()=>{var W,ne;if(!(!e||!(t!=null&&t.age))){o(!0);try{const fe=Qe().toISOString(),{data:de,error:Fe}=await R.from("profiles").select("id").eq("role","professor").limit(1).single();if(Fe&&Fe.code!=="PGRST116")throw Fe;const Ge=de==null?void 0:de.id;if(!Ge){o(!1);return}b(Ge);const[qe,$t,Nt,Ht,or,xt,Jt,xr]=await Promise.all([R.from("appointments").select("*").eq("student_id",e.id).order("class_datetime",{ascending:!0}),R.from("billing").select("*, packages ( * )").eq("user_id",e.id).gte("end_date",fe.split("T")[0]).order("purchase_date",{ascending:!1}),R.from("billing").select("*, packages ( * )").eq("user_id",e.id).lt("end_date",fe.split("T")[0]).order("purchase_date",{ascending:!1}),R.from("assigned_packages_log").select("assigned_classes, package_id, status, custom_package_name, assigned_at").eq("student_id",e.id).order("assigned_at",{ascending:!1}),R.from("solicitudes_clase").select("solicitud_id, is_recurring").eq("alumno_id",e.id).eq("status","Pendiente").maybeSingle(),R.from("class_feedback").select("*, appointment:appointments!fk_appointment(class_datetime)").eq("student_id",e.id).order("created_at",{ascending:!1}),R.from("chats").select("*").eq("alumno_id",e.id).maybeSingle(),R.from("role_settings").select("*").eq("role","student").maybeSingle()]);let Q=null;try{const{data:ut,error:As}=await R.from("appointments").select("*, student:profiles!student_id(full_name, spanish_level), professor:profiles!professor_id(full_name, meeting_link)").eq("student_id",e.id).in("status",["scheduled","rescheduled"]).gte("class_datetime",fe).order("class_datetime",{ascending:!0}).limit(1).maybeSingle();if(As){const{data:cn}=await R.from("appointments").select("*, student:profiles!student_id(full_name, spanish_level), professor:profiles!professor_id(full_name)").eq("student_id",e.id).in("status",["scheduled","rescheduled"]).gte("class_datetime",fe).order("class_datetime",{ascending:!0}).limit(1).maybeSingle();Q=cn}else Q=ut}catch(ut){console.warn("Erro ao buscar prxima aula com link:",ut)}const re=[qe.error,$t.error,Nt.error,Ht.error,or.error].filter(Boolean).filter(ut=>ut.code!=="PGRST116");if(re.length)throw new Error(re.map(ut=>ut.message).join(", "));const se=qe.data||[];p(se),g(Q);const xe=$t.data||[],Te=Ht.data||[];l(xe),w(Te),d(Nt.data||[]),T(xt.data||[]),X((xr==null?void 0:xr.data)||null);const{data:rt}=await R.from("class_materials").select("*").eq("student_id",e.id).order("created_at",{ascending:!1});te(rt||[]);const{data:ve}=await R.from("shared_materials").select("*").or(`student_id.eq.${e.id},and(student_id.is.null,professor_id.eq.${t.assigned_professor_id})`).order("created_at",{ascending:!1});Ne(ve||[]),Jt.data&&(k(Jt.data),$e(Jt.data.chat_id));const Ue=xe[0],We=((W=Ue==null?void 0:Ue.packages)==null?void 0:W.classes_per_week)||0,Oe=or.data||null,ct=Te.filter(ut=>ut.status!=="Cancelado").reduce((ut,As)=>ut+(As.assigned_classes||0),0);let _t=ct;ct===0&&Ue&&(_t=((ne=Ue.packages)==null?void 0:ne.number_of_classes)||0);const gt=se.filter(ut=>["completed","missed"].includes(ut.status)).length,dt=se.filter(ut=>ut.status==="scheduled"&&yV(Be(ut.class_datetime))).length,De=se.filter(ut=>ut.status==="rescheduled").length;let Ee=0;Oe&&Oe.is_recurring&&(Ee=We);const qt=gt+dt+Ee,Ot=Math.max(0,_t-qt+De),[Ft,vs]=C.split("-").map(Number),Ls=new Date(Ft,vs-1,1),Vs=new Date(Ft,vs,0,23,59,59),Wr=se.filter(ut=>{if(!ut.class_datetime)return!1;const As=new Date(ut.class_datetime);return As>=Ls&&As<=Vs});m({available:Ot,scheduled:Wr.filter(ut=>ut.status==="scheduled").length,completed:Wr.filter(ut=>ut.status==="completed").length,missed:Wr.filter(ut=>ut.status==="missed").length,pending:Ee,rescheduledCount:De})}catch(fe){s({variant:"destructive",title:"Erro ao carregar dados",description:`(${fe.message})`})}finally{o(!1)}}},[e,t,s,C]);f.useEffect(()=>{ge()},[ge]),f.useEffect(()=>{if(!e||!y)return;const W=R.channel("student-dashboard-realtime").on("postgres_changes",{event:"*",schema:"public",table:"appointments",filter:`student_id=eq.${e.id}`},ge).on("postgres_changes",{event:"*",schema:"public",table:"billing",filter:`user_id=eq.${e.id}`},ge).on("postgres_changes",{event:"*",schema:"public",table:"solicitudes_clase",filter:`alumno_id=eq.${e.id}`},ge).on("postgres_changes",{event:"*",schema:"public",table:"assigned_packages_log",filter:`student_id=eq.${e.id}`},ge).on("postgres_changes",{event:"*",schema:"public",table:"class_slots",filter:`professor_id=eq.${y}`},ge).on("postgres_changes",{event:"*",schema:"public",table:"role_settings",filter:"role=eq.student"},ge).subscribe();return()=>R.removeChannel(W)},[ge,e,y]);const $e=async W=>{K(!0);const{data:ne,error:fe}=await R.from("mensajes").select("*").eq("chat_id",W).order("enviado_en",{ascending:!0});fe||A(ne||[]),K(!1)},Ye=async W=>{if(W.preventDefault(),!B.trim()||!F)return;I(!0);const ne={mensaje_id:`temp-${Date.now()}`,remitente_id:e.id,contenido:B,enviado_en:Qe().toISOString()};A(Fe=>[...Fe,ne]);const fe=B;L("");const{error:de}=await R.from("mensajes").insert({chat_id:F.chat_id,remitente_id:e.id,contenido:fe});de&&(s({variant:"destructive",title:"Erro ao enviar",description:de.message}),A(Fe=>Fe.filter(Ge=>Ge.mensaje_id!==ne.mensaje_id)),L(fe)),I(!1)},Z=f.useMemo(()=>{if(E.length===0)return null;const W=["fala","leitura","escrita","compreensao","audicao","gramatica","pronuncia","vocabulario"],ne={};W.forEach(xt=>ne[xt]=0),E.forEach(xt=>{W.forEach(Jt=>{ne[Jt]+=xt[Jt]||0})});const fe=Qe();fe.setDate(fe.getDate()-30);const de=E.filter(xt=>{var xr;return((xr=xt.appointment)!=null&&xr.class_datetime?new Date(xt.appointment.class_datetime):new Date(xt.created_at))>=fe}),Fe={};W.forEach(xt=>Fe[xt]=0),de.forEach(xt=>{W.forEach(Jt=>{Fe[Jt]+=xt[Jt]||0})});const Ge=W.map(xt=>({name:xt.charAt(0).toUpperCase()+xt.slice(1).replace("_"," "),key:xt,average:(ne[xt]/E.length).toFixed(1),recentAverage:de.length>0?(Fe[xt]/de.length).toFixed(1):null})),$t=(Ge.reduce((xt,Jt)=>xt+parseFloat(Jt.average),0)/Ge.length/5*100).toFixed(0);let Nt=null,Ht=null,or=null;if(de.length>0){Nt=(Ge.reduce((xr,Q)=>xr+parseFloat(Q.recentAverage||0),0)/Ge.length/5*100).toFixed(0);const Jt=parseFloat(Nt)-parseFloat($t);Ht=Math.abs(Jt).toFixed(0),or=Jt>=0?"up":"down"}return{dimensions:Ge,overallAveragePercent:$t,recentAveragePercent:Nt,trendPercent:Ht,trendDirection:or,totalFeedbacks:E.length,recentFeedbacksCount:de.length}},[E]);f.useEffect(()=>{if(U.length>0){const W=O.filter(fe=>fe.status==="active"),ne=new Set;W.forEach(fe=>{const de=fe.start_time;U.every(Ge=>W.some(qe=>qe.day_of_week===Ge&&qe.start_time===de))&&U.every(qe=>{const $t=Jm(de,"HH:mm:ss",Qe());for(let Nt=0;Nt<Xs;Nt++){const Ht=ae(oo($t,{minutes:Nt*15}),"HH:mm:ss");if(!W.some(xt=>xt.day_of_week===qe&&xt.start_time===Ht))return!1}return!0})&&ne.add(de)}),M(Array.from(ne).sort())}else M([])},[U,O,Xs]);const ce=({status:W})=>{const ne={scheduled:{label:"Agendada",className:"bg-blue-100 text-blue-800"},completed:{label:"Realizada",className:"bg-green-100 text-green-800"},canceled:{label:"Cancelada",className:"bg-red-100 text-red-800"},missed:{label:"Falta",className:"bg-orange-100 text-orange-800"},rescheduled:{label:"Reagendada",className:"bg-purple-100 text-purple-800"}},{label:fe,className:de}=ne[W]||{label:W};return n.jsx(me,{variant:"outline",className:ee("font-semibold",de),children:fe})};f.useEffect(()=>{const W=()=>{N(window.scrollY>100)};return window.addEventListener("scroll",W),()=>window.removeEventListener("scroll",W)},[]);const ke=l9();return n.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-sky-50",children:[n.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-slate-100 mb-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 py-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"text-xs font-medium text-slate-400 uppercase tracking-wide",children:ae(new Date,"EEEE, dd 'de' MMMM",{locale:nt})}),n.jsxs("span",{className:"px-2 py-0.5 bg-gradient-to-r from-amber-400 to-orange-500 text-white text-[10px] font-bold rounded-full flex items-center gap-1",children:[" ",u.completed||0," aulas"]})]}),n.jsxs(Ke.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"text-2xl lg:text-3xl font-black text-slate-800",children:["Ol, ",n.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-sky-500 to-blue-600",children:((Xe=t==null?void 0:t.full_name)==null?void 0:Xe.split(" ")[0])||"Aluno"}),"! "]}),n.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[n.jsxs(Ke.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>_e(!0),className:"flex items-center gap-2 px-2 py-1 rounded-lg bg-slate-100 hover:bg-slate-200 transition-colors border border-slate-200",children:[n.jsx("div",{className:"relative h-6 w-6 rounded-full overflow-hidden bg-sky-100 border border-sky-200",children:oe?n.jsx("img",{src:oe,alt:"Perfil",className:"h-full w-full object-cover"}):n.jsx(ul,{className:"h-full w-full p-1 text-sky-600"})}),n.jsx("span",{className:"text-xs font-semibold text-slate-600",children:"Editar Perfil"})]}),n.jsx(Ke.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-slate-500",children:ke})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"hidden min-[1200px]:flex items-center gap-2",children:[n.jsxs(Ke.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-sky-500 to-blue-600 rounded-xl px-5 py-4 text-white shadow-lg shadow-sky-200 min-w-[100px] text-center",children:[n.jsx("p",{className:"text-3xl font-black",children:u.scheduled||0}),n.jsx("p",{className:"text-[10px] text-sky-100 uppercase font-bold",children:"Agendadas"})]}),n.jsxs(Ke.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl px-5 py-4 text-white shadow-lg shadow-emerald-200 min-w-[100px] text-center",children:[n.jsx("p",{className:"text-3xl font-black",children:u.completed||0}),n.jsx("p",{className:"text-[10px] text-emerald-100 uppercase font-bold",children:"Realizadas"})]}),n.jsxs(Ke.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-red-500 to-rose-600 rounded-xl px-5 py-4 text-white shadow-lg shadow-red-200 min-w-[100px] text-center",children:[n.jsx("p",{className:"text-3xl font-black",children:u.missed||0}),n.jsx("p",{className:"text-[10px] text-red-100 uppercase font-bold",children:"Faltas"})]}),ue!==null&&n.jsxs(Ke.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl px-5 py-4 text-white shadow-lg shadow-amber-200 min-w-[100px] text-center",children:[n.jsx("p",{className:"text-3xl font-black",children:ue}),n.jsx("p",{className:"text-[10px] text-amber-100 uppercase font-bold",children:"Dias Restantes"})]})]}),n.jsx(BW,{nextClass:x})]})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4 lg:hidden",children:[n.jsx(Ke.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-sky-500 to-blue-600 rounded-xl p-3 text-white shadow-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-black leading-none",children:u.scheduled||0}),n.jsx("p",{className:"text-[10px] text-sky-100 uppercase font-bold mt-1",children:"Agendadas"})]}),n.jsx(Xu,{className:"h-6 w-6 text-white/30"})]})}),n.jsx(Ke.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl p-3 text-white shadow-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-black leading-none",children:u.completed||0}),n.jsx("p",{className:"text-[10px] text-emerald-100 uppercase font-bold mt-1",children:"Realizadas"})]}),n.jsx(lC,{className:"h-6 w-6 text-white/30"})]})}),n.jsx(Ke.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-red-500 to-rose-600 rounded-xl p-3 text-white shadow-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-black leading-none",children:u.missed||0}),n.jsx("p",{className:"text-[10px] text-red-100 uppercase font-bold mt-1",children:"Faltas"})]}),n.jsx(D3,{className:"h-6 w-6 text-white/30"})]})}),ue!==null&&n.jsx(Ke.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl p-3 text-white shadow-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-black leading-none",children:ue}),n.jsx("p",{className:"text-[10px] text-amber-100 font-bold uppercase mt-1",children:"DIAS"})]}),n.jsx(Bs,{className:"h-6 w-6 text-white/30"})]})}),n.jsx(Ke.div,{whileHover:{scale:1.02},className:"col-span-2 bg-gradient-to-br from-violet-500 to-purple-600 rounded-xl p-3 shadow-lg text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-white/20 rounded-lg",children:n.jsx(Xo,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-bold leading-none",children:"Asistente IA"}),n.jsx("p",{className:"text-[10px] text-violet-100 mt-1",children:"Praticar conversao"})]})]}),n.jsx(Y,{onClick:()=>r("/spanish-assistant"),size:"sm",className:"h-8 bg-white text-violet-600 hover:bg-violet-50 font-bold text-xs",children:"Ir "})]})})]}),n.jsx(ZH,{userId:e==null?void 0:e.id}),n.jsx(JH,{}),n.jsxs(Jo,{value:Re,onValueChange:Je,className:"w-full mt-6",children:[n.jsx("div",{className:"relative",children:n.jsx(ci,{className:"w-full grid grid-cols-3 sm:flex sm:flex-nowrap justify-start gap-1.5 bg-white/90 backdrop-blur-md p-2 rounded-2xl shadow-sm border border-slate-100 overflow-visible h-auto",children:(()=>{var fe;const W=((fe=q==null?void 0:q.permissions)==null?void 0:fe.tabs)||["dashboard","clases","chat","desempenho","faturas"];return[{id:"agenda",value:"agenda",permission:"dashboard",icon:Lm,label:"Inicio",bg:"bg-sky-50",activeBg:"data-[state=active]:bg-sky-500",text:"text-sky-600"},{id:"aulas",value:"aulas",permission:"clases",icon:mo,label:"Aulas",bg:"bg-violet-50",activeBg:"data-[state=active]:bg-violet-500",text:"text-violet-600"},{id:"recursos",value:"recursos",permission:"dashboard",icon:bs,label:"Recursos",bg:"bg-blue-50",activeBg:"data-[state=active]:bg-blue-500",text:"text-blue-600"},{id:"quiz",value:"quiz",permission:"dashboard",icon:dl,label:"Quiz",bg:"bg-emerald-50",activeBg:"data-[state=active]:bg-emerald-500",text:"text-emerald-600"},{id:"logros",value:"logros",permission:"dashboard",icon:ca,label:"Logros",bg:"bg-amber-50",activeBg:"data-[state=active]:bg-amber-500",text:"text-amber-600"},{id:"tickets",value:"tickets",permission:"dashboard",icon:Zu,label:"Tickets",bg:"bg-rose-50",activeBg:"data-[state=active]:bg-rose-500",text:"text-rose-600"},{id:"conversas",value:"conversas",permission:"chat",icon:kr,label:"Chat",bg:"bg-teal-50",activeBg:"data-[state=active]:bg-teal-500",text:"text-teal-600"},{id:"desempenho",value:"desempenho",permission:"desempenho",icon:Nu,label:"Notas",bg:"bg-orange-50",activeBg:"data-[state=active]:bg-orange-500",text:"text-orange-600"},{id:"faturas",value:"faturas",permission:"faturas",icon:bs,label:"Faturas",bg:"bg-slate-50",activeBg:"data-[state=active]:bg-slate-500",text:"text-slate-600"}].filter(de=>W.includes(de.permission)).map(de=>n.jsxs(dr,{value:de.value,className:ee("flex flex-col sm:flex-row items-center justify-center gap-1 sm:gap-1.5 px-1 py-1.5 sm:px-4 sm:py-2.5 rounded-xl transition-all duration-200","data-[state=active]:text-white data-[state=active]:shadow-md active:scale-95","font-bold min-w-0 sm:bg-transparent sm:text-slate-600 sm:data-[state=active]:bg-gradient-to-br sm:data-[state=active]:from-sky-500 sm:data-[state=active]:to-blue-600",de.bg,de.text,de.activeBg),children:[n.jsx(de.icon,{className:"h-3.5 w-3.5 sm:h-5 sm:w-5 flex-shrink-0"}),n.jsx("span",{className:"text-[9px] sm:text-sm truncate w-full text-center sm:text-left",children:de.label})]},de.id))})()})}),n.jsxs(hs,{value:"faturas",className:"mt-4 space-y-6",children:[n.jsxs(Kn,{className:"border-sky-400 bg-sky-50 text-sky-900 [&>svg]:text-sky-600",children:[n.jsx(Qo,{className:"h-4 w-4"}),n.jsx(Sa,{className:"font-bold",children:"Dica de Ouro!"}),n.jsx(Xn,{children:"Sabia que voc pode reagendar aulas perdidas? Converse com seu professor e aproveite ao mximo seu pacote, sempre dentro dos 30 dias de validade. Flexibilidade  a chave para o sucesso!"})]}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-slate-100",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:n.jsx(dl,{className:"h-5 w-5 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Contratos Ativos"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Seus pacotes de aulas ativos"})]})]})}),n.jsx("div",{className:"p-6",children:a?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Ie,{className:"h-6 w-6 text-sky-500 animate-spin"})}):i.length>0?n.jsx("div",{className:"grid gap-4",children:i.map(W=>{var Ge,qe;const ne=new Date(W.purchase_date).getTime(),fe=v.filter($t=>$t.package_id==W.package_id&&$t.status!=="Cancelado").sort(($t,Nt)=>{const Ht=Math.abs(new Date($t.assigned_at).getTime()-ne),or=Math.abs(new Date(Nt.assigned_at).getTime()-ne);return Ht-or})[0],de=W.custom_package_name||(fe==null?void 0:fe.custom_package_name)||((Ge=W.packages)==null?void 0:Ge.name),Fe=(fe==null?void 0:fe.assigned_classes)||((qe=W.packages)==null?void 0:qe.number_of_classes);return n.jsxs(Ke.div,{whileHover:{scale:1.01},className:"p-5 rounded-xl bg-gradient-to-br from-sky-50 to-blue-50 border border-sky-100 shadow-sm",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-slate-800",children:de}),n.jsxs(me,{className:"mt-1 bg-sky-100 text-sky-700 border-sky-200",children:[Fe," aulas"]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"text-2xl font-black text-emerald-600",children:["R$ ",W.amount_paid]})})]}),n.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-sky-100",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[n.jsx(ts,{className:"h-4 w-4"}),n.jsxs("span",{children:["Validade: ",n.jsx("strong",{children:ae(Be(W.end_date),"dd/MM/yyyy")})]})]}),n.jsxs("span",{className:"text-xs text-slate-400",children:["Adquirido em ",ae(Be(W.purchase_date),"dd/MM/yyyy")]})]})]},W.id)})}):n.jsx("p",{className:"text-center text-slate-500 py-8",children:"Nenhum contrato ativo."})})]}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-slate-100",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:n.jsx(bs,{className:"h-5 w-5 text-slate-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Histrico de Faturas"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Pacotes anteriores"})]})]})}),n.jsx("div",{className:"overflow-x-auto",children:a?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Ie,{className:"h-6 w-6 text-sky-500 animate-spin"})}):c.length>0?n.jsxs(Sn,{children:[n.jsx(Cn,{className:"bg-slate-50/50",children:n.jsxs(pt,{children:[n.jsx(Me,{className:"font-semibold",children:"Pacote"}),n.jsx(Me,{className:"font-semibold",children:"Data da Compra"}),n.jsx(Me,{className:"font-semibold",children:"Data de Expirao"})]})}),n.jsx(En,{children:c.map(W=>n.jsxs(pt,{className:"hover:bg-slate-50/50",children:[n.jsx(we,{className:"font-medium",children:W.packages.name}),n.jsx(we,{children:ae(Be(W.purchase_date),"PPP",{locale:nt})}),n.jsx(we,{children:ae(Be(W.end_date),"PPP",{locale:nt})})]},W.id))})]}):n.jsx("p",{className:"p-8 text-center text-slate-500",children:"Nenhum histrico encontrado."})})]})]}),n.jsx(hs,{value:"agenda",className:"mt-4 space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm border border-slate-100 overflow-hidden h-fit",children:[n.jsx("div",{className:"p-5 border-b border-slate-100",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-sky-100 rounded-lg",children:n.jsx(Xu,{className:"h-5 w-5 text-sky-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-slate-800",children:"Prximas Aulas"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Suas aulas agendadas"})]})]})}),n.jsx("div",{className:"divide-y divide-slate-100",children:a?n.jsx("div",{className:"p-8 flex justify-center",children:n.jsx(Ie,{className:"h-6 w-6 text-sky-500 animate-spin"})}):h.filter(W=>W.status==="scheduled").slice(0,4).length>0?h.filter(W=>W.status==="scheduled").slice(0,4).map((W,ne)=>n.jsxs(Ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:ne*.1},className:"p-4 flex items-center justify-between hover:bg-slate-50/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-center min-w-[50px]",children:[n.jsx("p",{className:"text-2xl font-black text-sky-600",children:ae(Be(W.class_datetime),"dd")}),n.jsx("p",{className:"text-xs text-slate-500 uppercase",children:ae(Be(W.class_datetime),"MMM",{locale:nt})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-800",children:ae(Be(W.class_datetime),"EEEE",{locale:nt})}),n.jsxs("p",{className:"text-sm text-slate-500",children:[ae(Be(W.class_datetime),"HH:mm")," - ",W.duration_minutes||30," min"]})]})]}),n.jsx(me,{className:"bg-sky-100 text-sky-700 border-sky-200",children:"Agendada"})]},W.id)):n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(Xu,{className:"h-10 w-10 text-slate-200 mx-auto mb-2"}),n.jsx("p",{className:"text-slate-500",children:"Nenhuma aula agendada"})]})})]}),n.jsx(HW,{})]})}),n.jsx(hs,{value:"recursos",className:"mt-4 space-y-6",children:n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-slate-100",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-sky-100 rounded-lg",children:n.jsx(bs,{className:"h-5 w-5 text-sky-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Biblioteca de Recursos"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Materiais de estudo do seu professor"})]})]})}),n.jsx("div",{className:"p-6",children:a?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Ie,{className:"h-8 w-8 animate-spin text-sky-500"})}):ie.length>0?n.jsx("div",{className:"grid gap-4",children:ie.map((W,ne)=>{const fe=W.file_url.split(".").pop().toUpperCase(),de=W.file_type||fe;return n.jsxs(Ke.a,{href:W.file_url,target:"_blank",rel:"noopener noreferrer",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:ne*.05},className:"flex items-center justify-between p-4 rounded-xl border border-slate-100 hover:border-sky-200 hover:bg-sky-50/50 transition-all cursor-pointer group",children:[n.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[n.jsx("div",{className:ee("p-3 rounded-xl",de==="PDF"?"bg-red-100":de.includes("MP3")||de.includes("AUDIO")?"bg-purple-100":de.includes("MP4")||de.includes("VIDEO")?"bg-blue-100":"bg-sky-100"),children:n.jsx(bs,{className:ee("h-6 w-6",de==="PDF"?"text-red-600":de.includes("MP3")||de.includes("AUDIO")?"text-purple-600":de.includes("MP4")||de.includes("VIDEO")?"text-blue-600":"text-sky-600")})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold text-slate-800 group-hover:text-sky-600 transition-colors truncate",children:W.material_name}),W.description&&n.jsx("p",{className:"text-xs text-slate-500 mt-0.5 truncate",children:W.description}),n.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[n.jsx(me,{variant:"outline",className:"text-xs",children:de}),W.file_size_bytes&&n.jsxs("span",{className:"text-xs text-slate-400",children:[(W.file_size_bytes/1024/1024).toFixed(1)," MB"]}),W.category&&n.jsx(me,{className:"text-xs bg-slate-100 text-slate-600",children:W.category})]})]})]}),n.jsx(Y,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",onClick:Fe=>{Fe.preventDefault(),window.open(W.file_url,"_blank")},children:n.jsx(lx,{className:"h-4 w-4"})})]},W.id)})}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"p-4 bg-slate-100 rounded-full inline-block mb-4",children:n.jsx(bs,{className:"h-10 w-10 text-slate-300"})}),n.jsx("p",{className:"font-medium text-slate-600 mb-2",children:"Nenhum recurso disponvel"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Seu professor ainda no compartilhou materiais de estudo"})]})})]})}),n.jsx(hs,{value:"quiz",className:"mt-4",children:n.jsxs(Ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-violet-500 via-purple-600 to-indigo-700 rounded-2xl p-8 text-white shadow-xl text-center",children:[n.jsx(Ke.div,{animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:2},className:"text-7xl mb-6",children:""}),n.jsx("h2",{className:"text-3xl font-black mb-3",children:"Practica tu Espaol!"}),n.jsx("p",{className:"text-violet-100 mb-6 max-w-md mx-auto",children:"Ejercicios interactivos estilo Duolingo: traduccin, conjugacin, vocabulario y ms. Gana XP y mantn tu racha!"}),n.jsxs("div",{className:"flex items-center justify-center gap-6 mb-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-black",children:" 3"}),n.jsx("p",{className:"text-xs text-violet-200",children:"Vidas"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-black",children:" +10"}),n.jsx("p",{className:"text-xs text-violet-200",children:"XP por acierto"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-black",children:" Racha"}),n.jsx("p",{className:"text-xs text-violet-200",children:"Bonus"})]})]}),n.jsxs(Y,{onClick:()=>r("/quiz"),size:"lg",className:"bg-white text-violet-700 hover:bg-violet-50 font-bold text-lg px-8 py-6 shadow-lg",children:[n.jsx(Qo,{className:"h-5 w-5 mr-2"}),"Comenzar Leccin"]}),n.jsx("p",{className:"text-xs text-violet-200 mt-4",children:"10 ejercicios aleatorios por leccin"})]})}),n.jsxs(hs,{value:"logros",className:"mt-4 space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-amber-400 via-orange-500 to-red-500 rounded-2xl p-6 text-white shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:n.jsx(ca,{className:"h-8 w-8 text-white"})}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-black",children:["Nvel ",Math.floor((u.completed||0)/5)+1]}),n.jsxs("p",{className:"text-orange-100",children:["Estudante ",(u.completed||0)>=20?"Avanado":(u.completed||0)>=10?"Intermedirio":"Iniciante"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-4xl font-black",children:(u.completed||0)*50+(u.scheduled||0)*10}),n.jsx("p",{className:"text-orange-100 text-sm",children:"Pontos XP"})]})]}),n.jsx("div",{className:"bg-white/20 rounded-full h-3 mb-2",children:n.jsx("div",{className:"bg-white rounded-full h-3 transition-all duration-500",style:{width:`${(u.completed||0)%5*20}%`}})}),n.jsxs("p",{className:"text-xs text-orange-100",children:[5-(u.completed||0)%5," aulas para o prximo nvel"]})]}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm border border-slate-100 p-6",children:[n.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[n.jsx(ca,{className:"h-5 w-5 text-amber-500"}),"Suas Conquistas"]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{name:"Primeira Aula",icon:"",earned:(u.completed||0)>=1,desc:"Completou sua primeira aula"},{name:"5 Aulas",icon:"",earned:(u.completed||0)>=5,desc:"Completou 5 aulas"},{name:"10 Aulas",icon:"",earned:(u.completed||0)>=10,desc:"Completou 10 aulas"},{name:"Dedicado",icon:"",earned:(u.completed||0)>=15,desc:"15 aulas completadas"},{name:"Nota Alta",icon:"",earned:((Z==null?void 0:Z.overallAveragePercent)||0)>=80,desc:"Mdia acima de 80%"},{name:"Conversador",icon:"",earned:((P==null?void 0:P.length)||0)>=5,desc:"Enviou 5 mensagens no chat"},{name:"IA Master",icon:"",earned:((P==null?void 0:P.length)||0)>=10,desc:"Usou bastante o assistente IA"},{name:"Estudioso",icon:"",earned:((ie==null?void 0:ie.length)||0)>=3,desc:"Recebeu 3 ou mais recursos"}].map((W,ne)=>n.jsxs(Ke.div,{whileHover:{scale:1.05},className:ee("text-center p-4 rounded-xl border-2 transition-all",W.earned?"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 shadow-sm":"bg-slate-50 border-slate-200 opacity-50"),children:[n.jsx("span",{className:"text-3xl",children:W.icon}),n.jsx("p",{className:ee("font-semibold mt-2 text-sm",W.earned?"text-slate-800":"text-slate-400"),children:W.name}),n.jsx("p",{className:"text-xs text-slate-400 mt-1",children:W.desc})]},ne))})]})]}),n.jsx(hs,{value:"tickets",className:"mt-4",children:n.jsx(i9,{})}),n.jsx(hs,{value:"aulas",className:"mt-4",children:n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-slate-100",children:n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-violet-100 rounded-lg",children:n.jsx(mo,{className:"h-5 w-5 text-violet-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Minhas Aulas"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Histrico de suas aulas por ms"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Mt,{value:C,onValueChange:_,children:[n.jsxs(kt,{className:"w-[180px] h-9 text-xs bg-slate-50 border-slate-200",children:[n.jsx(ts,{className:"w-3 h-3 mr-1 text-sky-500"}),n.jsx(Rt,{placeholder:"Selecione o ms"})]}),n.jsx(Tt,{children:S.map(W=>n.jsx(ye,{value:W.value,className:"text-xs",children:W.value===`${Qe().getFullYear()}-${String(Qe().getMonth()+1).padStart(2,"0")}`?` ${W.label} (Atual)`:W.label},W.value))})]}),C!==`${Qe().getFullYear()}-${String(Qe().getMonth()+1).padStart(2,"0")}`&&n.jsx(me,{variant:"outline",className:"h-6 px-2 text-[10px] bg-amber-50 text-amber-700 border-amber-200 uppercase font-bold",children:"Histrico"})]})]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Sn,{children:[n.jsx(Cn,{className:"bg-slate-50/50",children:n.jsxs(pt,{children:[n.jsx(Me,{className:"font-semibold",children:"Data"}),n.jsx(Me,{className:"font-semibold",children:"Hora"}),n.jsx(Me,{className:"font-semibold",children:"Durao"}),n.jsx(Me,{className:"font-semibold",children:"Status"}),n.jsx(Me,{className:"font-semibold",children:"Material"})]})}),n.jsx(En,{children:a?n.jsx(pt,{children:n.jsx(we,{colSpan:"5",className:"text-center",children:"Carregando..."})}):h.filter(W=>{if(!W.class_datetime)return!1;const[ne,fe]=C.split("-").map(Number),de=new Date(ne,fe-1,1),Fe=new Date(ne,fe,0,23,59,59),Ge=new Date(W.class_datetime);return Ge>=de&&Ge<=Fe}).length>0?h.filter(W=>{if(!W.class_datetime)return!1;const[ne,fe]=C.split("-").map(Number),de=new Date(ne,fe-1,1),Fe=new Date(ne,fe,0,23,59,59),Ge=new Date(W.class_datetime);return Ge>=de&&Ge<=Fe}).map(W=>{const ne=le.filter(fe=>fe.appointment_id===W.id);return n.jsxs(pt,{children:[n.jsx(we,{className:"font-medium",children:ae(Be(W.class_datetime),"PPP",{locale:nt})}),n.jsx(we,{children:ae(Be(W.class_datetime),"HH:mm")}),n.jsxs(we,{children:[W.duration_minutes||30," min"]}),n.jsx(we,{children:n.jsx(ce,{status:W.status})}),n.jsx(we,{children:ne.length>0?n.jsx("div",{className:"flex flex-wrap gap-1",children:ne.map(fe=>n.jsxs("a",{href:fe.file_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-2 py-1 text-xs bg-sky-100 text-sky-700 rounded-md hover:bg-sky-200 transition-colors",title:`Baixar: ${fe.material_name}`,children:[n.jsx(bs,{className:"w-3 h-3"}),n.jsx("span",{className:"max-w-[100px] truncate",children:fe.material_name}),n.jsx(lx,{className:"w-3 h-3"})]},fe.id))}):n.jsx("span",{className:"text-xs text-slate-400",children:"-"})})]},W.id)}):n.jsx(pt,{children:n.jsx(we,{colSpan:"5",className:"text-center p-8 text-slate-500",children:"Nenhuma aula encontrada."})})})]})})]})}),n.jsx(hs,{value:"conversas",className:"mt-4",children:n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm border border-slate-100 flex flex-col h-[600px] overflow-hidden",children:[n.jsx("header",{className:"p-5 border-b border-slate-100 bg-gradient-to-r from-emerald-500 to-teal-600",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center text-white",children:n.jsx(ul,{className:"h-6 w-6"})}),n.jsxs("div",{className:"text-white",children:[n.jsx("h3",{className:"font-bold text-lg",children:"Chat com Professor"}),n.jsx("p",{className:"text-emerald-100 text-sm",children:"Tire suas dvidas em tempo real"})]})]})}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-slate-50 to-white",children:[G?n.jsx("div",{className:"flex justify-center items-center h-full",children:n.jsx(Ie,{className:"w-8 h-8 animate-spin text-emerald-600"})}):P.length>0?P.map((W,ne)=>{const fe=W.remitente_id===e.id;return n.jsx(Ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:ee("flex",fe?"justify-end":"justify-start"),children:n.jsxs("div",{className:ee("max-w-[80%] rounded-2xl px-4 py-3 shadow-sm",fe?"bg-gradient-to-br from-emerald-500 to-teal-600 text-white rounded-tr-sm":"bg-white text-slate-800 rounded-tl-sm border border-slate-100"),children:[n.jsx("p",{className:"text-sm",children:W.contenido}),n.jsx("p",{className:ee("text-[10px] mt-1 text-right",fe?"text-emerald-100":"text-slate-400"),children:ae(Be(W.enviado_en),"HH:mm")})]})},W.mensaje_id||ne)}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[n.jsx("div",{className:"p-4 bg-slate-100 rounded-full mb-4",children:n.jsx(Y3,{className:"h-10 w-10 text-slate-300"})}),n.jsx("p",{className:"font-medium",children:"Inicie uma conversa!"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Envie uma mensagem para seu professor"})]}),n.jsx("div",{ref:Ks})]}),n.jsxs("form",{onSubmit:Ye,className:"p-4 border-t border-slate-100 bg-white flex gap-3",children:[n.jsx("input",{value:B,onChange:W=>L(W.target.value),placeholder:"Escreva sua mensagem...",className:"flex-1 bg-slate-100 border-none rounded-full px-5 py-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none",disabled:H}),n.jsx(Y,{type:"submit",size:"icon",className:"rounded-full bg-gradient-to-r from-emerald-500 to-teal-600 h-12 w-12 shrink-0 shadow-lg shadow-emerald-200 hover:shadow-emerald-300",disabled:H||!B.trim(),children:H?n.jsx(Ie,{className:"h-5 w-5 animate-spin"}):n.jsx(Bl,{className:"h-5 w-5"})})]})]})}),n.jsx(hs,{value:"desempenho",className:"mt-4",children:n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-slate-100",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:n.jsx(Nu,{className:"h-5 w-5 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Meu Desempenho"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Acompanhe sua evoluo no aprendizado"})]})]})}),n.jsx("div",{className:"p-6",children:Z?n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:0},className:"bg-gradient-to-br from-sky-500 to-sky-600 p-6 rounded-xl text-white shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sky-100 text-sm font-medium",children:"Mdia Geral"}),n.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:n.jsx(ca,{className:"h-5 w-5 text-white"})})]}),n.jsxs("p",{className:"text-4xl font-black",children:[Z.overallAveragePercent,"%"]}),n.jsxs("p",{className:"text-sky-100 text-xs mt-1",children:["Baseado em ",Z.totalFeedbacks," avaliaes"]})]}),n.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"bg-gradient-to-br from-emerald-500 to-emerald-600 p-6 rounded-xl text-white shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-emerald-100 text-sm font-medium",children:"ltimos 30 Dias"}),n.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:n.jsx(ts,{className:"h-5 w-5 text-white"})})]}),n.jsx("p",{className:"text-4xl font-black",children:Z.recentAveragePercent?`${Z.recentAveragePercent}%`:"N/A"}),n.jsx("p",{className:"text-emerald-100 text-xs mt-1",children:Z.recentFeedbacksCount>0?`${Z.recentFeedbacksCount} avaliaes recentes`:"Sem avaliaes neste perodo"})]}),n.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:ee("p-6 rounded-xl text-white shadow-lg",Z.trendDirection==="up"?"bg-gradient-to-br from-green-500 to-green-600":Z.trendDirection==="down"?"bg-gradient-to-br from-orange-500 to-orange-600":"bg-gradient-to-br from-slate-500 to-slate-600"),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:ee("text-sm font-medium",Z.trendDirection==="up"?"text-green-100":Z.trendDirection==="down"?"text-orange-100":"text-slate-100"),children:"Tendncia"}),n.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:Z.trendDirection==="up"?n.jsx(l0,{className:"h-5 w-5 text-white"}):Z.trendDirection==="down"?n.jsx(sL,{className:"h-5 w-5 text-white"}):n.jsx(Q3,{className:"h-5 w-5 text-white"})})]}),n.jsx("p",{className:"text-4xl font-black flex items-center gap-2",children:Z.trendPercent?n.jsxs(n.Fragment,{children:[Z.trendDirection==="up"?"+":Z.trendDirection==="down"?"-":"",Z.trendPercent,"%"]}):"N/A"}),n.jsx("p",{className:ee("text-xs mt-1",Z.trendDirection==="up"?"text-green-100":Z.trendDirection==="down"?"text-orange-100":"text-slate-100"),children:Z.trendDirection==="up"?"Voc est evoluindo!":Z.trendDirection==="down"?"Hora de focar mais!":"Sem dados suficientes"})]})]}),n.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-100",children:[n.jsx("h3",{className:"text-lg font-bold mb-6 text-slate-800",children:"Desempenho por Competncia"}),n.jsx("div",{className:"flex items-end justify-between gap-2 h-64 px-4",children:Z.dimensions.map((W,ne)=>{const fe=parseFloat(W.average)/5*100,de=Fe=>Fe>=80?"from-emerald-400 to-emerald-600":Fe>=60?"from-sky-400 to-sky-600":Fe>=40?"from-yellow-400 to-yellow-600":"from-orange-400 to-orange-600";return n.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[n.jsxs("div",{className:"relative w-full flex flex-col items-center",children:[n.jsx(Ke.span,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5+ne*.1},className:"text-xs font-bold text-slate-700 mb-1",children:W.average}),n.jsx("div",{className:"w-full h-48 bg-slate-200 rounded-t-lg overflow-hidden flex items-end",children:n.jsx(Ke.div,{initial:{height:0},animate:{height:`${fe}%`},transition:{duration:1,delay:ne*.1,ease:"easeOut"},className:ee("w-full rounded-t-lg bg-gradient-to-t shadow-inner",de(fe))})})]}),n.jsx("span",{className:"text-[10px] font-medium text-slate-600 mt-2 text-center leading-tight",children:W.name})]},W.key)})}),n.jsxs("div",{className:"flex justify-center gap-6 mt-6 pt-4 border-t border-slate-200",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-emerald-400 to-emerald-600"}),n.jsx("span",{className:"text-xs text-slate-600",children:"Excelente (80%)"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-sky-400 to-sky-600"}),n.jsx("span",{className:"text-xs text-slate-600",children:"Bom (60-79%)"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-yellow-400 to-yellow-600"}),n.jsx("span",{className:"text-xs text-slate-600",children:"Regular (40-59%)"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-orange-400 to-orange-600"}),n.jsx("span",{className:"text-xs text-slate-600",children:"A melhorar (<40%)"})]})]})]}),n.jsxs("div",{className:"pt-6 border-t",children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Comentrios e Feedbacks do Professor"}),n.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2",children:E.length===0?n.jsx("p",{className:"text-center text-slate-500 py-8",children:"Nenhum feedback encontrado."}):E.map(W=>{var Fe,Ge;const ne=["fala","leitura","escrita","compreensao","audicao","gramatica","pronuncia","vocabulario"],fe=ne.reduce((qe,$t)=>qe+(W[$t]||0),0)/ne.length,de=(fe/5*100).toFixed(0);return n.jsxs(Ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"p-5 rounded-xl bg-white border-2 border-slate-100 hover:border-sky-200 hover:shadow-md transition-all",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-sky-100 rounded-lg",children:n.jsx(ts,{className:"h-4 w-4 text-sky-600"})}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-bold text-slate-800",children:(Fe=W.appointment)!=null&&Fe.class_datetime?ae(Be(W.appointment.class_datetime),"PPP",{locale:nt}):"Aula"}),n.jsx("p",{className:"text-xs text-slate-500",children:(Ge=W.appointment)!=null&&Ge.class_datetime?ae(Be(W.appointment.class_datetime),"HH:mm"):""})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(qe=>n.jsx(ca,{className:ee("h-4 w-4",qe<=Math.round(fe)?"text-yellow-400 fill-yellow-400":"text-slate-200")},qe))}),n.jsxs(me,{variant:"outline",className:ee("text-xs font-bold",parseInt(de)>=80?"border-emerald-300 bg-emerald-50 text-emerald-700":parseInt(de)>=60?"border-sky-300 bg-sky-50 text-sky-700":parseInt(de)>=40?"border-yellow-300 bg-yellow-50 text-yellow-700":"border-orange-300 bg-orange-50 text-orange-700"),children:[de,"%"]})]})]}),n.jsx("div",{className:"bg-slate-50 p-4 rounded-lg mb-4",children:n.jsxs("p",{className:"text-sm text-slate-700 italic leading-relaxed",children:['"',W.comment||"Sem comentrio adicional do professor.",'"']})}),n.jsx("div",{className:"grid grid-cols-4 md:grid-cols-8 gap-2",children:ne.map(qe=>n.jsxs("div",{className:"text-center p-2 bg-white border rounded-lg",children:[n.jsx("p",{className:"text-[10px] text-slate-500 font-medium truncate",children:qe.charAt(0).toUpperCase()+qe.slice(1)}),n.jsx("p",{className:ee("text-sm font-bold mt-1",W[qe]>=4?"text-emerald-600":W[qe]>=3?"text-sky-600":W[qe]>=2?"text-yellow-600":"text-orange-600"),children:W[qe]})]},qe))})]},W.id)})})]})]}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"p-4 bg-slate-100 rounded-full inline-block mb-4",children:n.jsx(Nu,{className:"h-10 w-10 text-slate-300"})}),n.jsx("p",{className:"font-medium text-slate-600",children:"Ainda no h avaliaes"}),n.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"As notas aparecero aqui aps suas aulas serem avaliadas"})]})})]})})]}),n.jsxs("div",{className:"mt-6 mb-20 bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm border border-slate-100 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Qo,{className:"h-5 w-5 text-sky-500"}),n.jsx("h3",{className:"font-bold text-slate-800",children:"Acesso Rpido"})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[n.jsxs(Ke.button,{whileHover:{scale:1.03,y:-2},whileTap:{scale:.98},onClick:()=>r("/spanish-assistant"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-gradient-to-br from-violet-50 to-purple-50 border border-violet-100 hover:border-violet-200 transition-colors",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-violet-500 to-purple-600 rounded-xl text-white shadow-lg shadow-violet-200",children:n.jsx(Xo,{className:"h-6 w-6"})}),n.jsx("span",{className:"text-sm font-medium text-slate-700",children:"IA Assistant"}),n.jsx("span",{className:"text-xs text-slate-400",children:"Praticar"})]}),n.jsxs(Ke.button,{whileHover:{scale:1.03,y:-2},whileTap:{scale:.98},className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-gradient-to-br from-emerald-50 to-teal-50 border border-emerald-100 hover:border-emerald-200 transition-colors",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl text-white shadow-lg shadow-emerald-200",children:n.jsx(kr,{className:"h-6 w-6"})}),n.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Chat"}),n.jsx("span",{className:"text-xs text-slate-400",children:"Professor"})]}),n.jsxs(Ke.button,{whileHover:{scale:1.03,y:-2},whileTap:{scale:.98},onClick:()=>Je("recursos"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-gradient-to-br from-sky-50 to-blue-50 border border-sky-100 hover:border-sky-200 transition-colors",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-sky-500 to-blue-600 rounded-xl text-white shadow-lg shadow-sky-200",children:n.jsx(bs,{className:"h-6 w-6"})}),n.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Materiais"}),n.jsx("span",{className:"text-xs text-slate-400",children:"Ver Recursos"})]}),n.jsxs(Ke.button,{whileHover:{scale:1.03,y:-2},whileTap:{scale:.98},className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-100 hover:border-amber-200 transition-colors",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl text-white shadow-lg shadow-amber-200",children:n.jsx(Nu,{className:"h-6 w-6"})}),n.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Desempenho"}),n.jsx("span",{className:"text-xs text-slate-400",children:"Ver notas"})]})]})]}),n.jsxs("div",{className:"fixed bottom-6 right-24 z-50 flex gap-3",children:[n.jsx(Ke.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:n.jsx(Y,{size:"icon",onClick:()=>r("/spanish-assistant"),className:"rounded-full h-14 w-14 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg",title:"Asistente de Espaol IA",children:n.jsx(Xo,{className:"h-7 w-7"})})}),n.jsx(UW,{})]}),n.jsx(Wt,{open:V,onOpenChange:_e,children:n.jsxs(zt,{className:"sm:max-w-[425px] rounded-2xl",children:[n.jsxs(Bt,{children:[n.jsx(Ut,{className:"text-xl font-bold text-slate-800",children:"Foto de Perfil"}),n.jsx(rs,{children:"Personalize seu perfil com uma foto. Seus professores podero v-la."})]}),n.jsxs("div",{className:"flex flex-col items-center gap-6 py-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-sky-100 shadow-xl bg-white",children:[Gt||oe?n.jsx("img",{src:Gt||oe,alt:"Preview",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-50 drop-shadow-inner",children:n.jsx(ul,{className:"h-16 w-16 text-slate-300"})}),mt&&n.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:n.jsx(Ie,{className:"h-8 w-8 text-white animate-spin"})})]}),n.jsxs("label",{htmlFor:"avatar-upload",className:"absolute bottom-0 right-0 p-2 bg-sky-500 hover:bg-sky-600 text-white rounded-full cursor-pointer shadow-lg transition-all hover:scale-110",children:[n.jsx(cC,{className:"h-5 w-5"}),n.jsx("input",{id:"avatar-upload",type:"file",className:"hidden",accept:"image/*",onChange:Mr,disabled:mt||bt})]})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-700",children:t==null?void 0:t.full_name}),n.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wider mt-1",children:(t==null?void 0:t.role)==="student"?"Aluno":t==null?void 0:t.role})]})]}),n.jsxs(Ts,{className:"gap-2 sm:gap-0",children:[n.jsx(Y,{variant:"outline",onClick:()=>{_e(!1),at(null),st(null)},disabled:bt,className:"rounded-xl",children:"Cancelar"}),n.jsx(Y,{onClick:Ps,disabled:bt||!Ce,className:"bg-sky-600 hover:bg-sky-700 min-w-[120px] rounded-xl",children:bt?n.jsxs(n.Fragment,{children:[n.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Un,{className:"mr-2 h-4 w-4"}),"Salvar Foto"]})})]})]})})]})})},et=f.forwardRef(({className:e,type:t,...s},r)=>n.jsx("input",{type:t,className:ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));et.displayName="Input";const PN=300,qW=e=>{const t=Math.floor(e/60),s=Math.floor(e%60);return`${t}:${s.toString().padStart(2,"0")}`},WW=()=>{const[e,t]=f.useState(""),[s,r]=f.useState(""),[a,o]=f.useState(!1),[i,l]=f.useState(!1),{signIn:c,sendPasswordResetLink:d}=pr(),{toast:u}=Pt(),[m,h]=f.useState(0);f.useEffect(()=>{const g=localStorage.getItem("passwordResetRequestTime");if(g){const b=(Date.now()-parseInt(g,10))/1e3,v=Math.max(0,PN-b);h(v)}let y;return m>0&&(y=setInterval(()=>{h(b=>Math.max(0,b-1))},1e3)),()=>clearInterval(y)},[m]);const p=async()=>{if(m>0){u({variant:"info",title:"Aguarde um momento",description:`Voc poder solicitar um novo link em ${Math.ceil(m/60)} minutos.`});return}if(!e){u({variant:"destructive",title:"E-mail necessrio",description:"Por favor, insira seu e-mail para redefinir a senha."});return}o(!0);const{error:g}=await d(e);g||(localStorage.setItem("passwordResetRequestTime",Date.now().toString()),h(PN)),o(!1)},x=async g=>{g.preventDefault(),o(!0),await c(e,s),o(!1)};return n.jsxs(Ke.div,{className:"flex flex-col items-center justify-center min-h-[70vh]",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},children:[n.jsx("div",{className:"text-center mb-8",children:n.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Painel do Aluno"})}),n.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-2xl shadow-lg",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("h2",{className:"text-2xl font-bold",children:[n.jsx("span",{className:"text-sky-600",children:"Conexion"}),n.jsx("span",{className:"text-slate-800",children:" America"})]}),n.jsx("p",{className:"text-slate-500 mt-2",children:"Faa login para acessar seu painel."})]}),n.jsxs("form",{onSubmit:x,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"email",children:"Email"}),n.jsx(et,{id:"email",type:"email",placeholder:"seu@email.com",value:e,onChange:g=>t(g.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Pe,{htmlFor:"password",children:"Senha"}),n.jsx("button",{type:"button",onClick:p,className:"text-sm font-medium text-sky-600 hover:underline disabled:text-slate-400 disabled:no-underline",disabled:m>0,children:m>0?n.jsxs("span",{className:"flex items-center",children:[n.jsx(Bs,{className:"mr-1 h-4 w-4"}),"Aguarde ",qW(m)]}):"Esqueci a minha senha"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(et,{id:"password",type:i?"text":"password",value:s,onChange:g=>r(g.target.value),required:!0,className:"pr-10"}),n.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-slate-500",children:i?n.jsx(Dm,{size:20}):n.jsx(bi,{size:20})})]})]}),n.jsx(Y,{type:"submit",className:"w-full bg-sky-600 hover:bg-sky-700",disabled:a,children:a?"Entrando...":"Entrar"})]})]})]})},GW=()=>{const[e,t]=f.useState(!1),{signUp:s,signIn:r}=pr();Ea();const[a,o]=f.useState(""),[i,l]=f.useState(""),[c,d]=f.useState(""),[u,m]=f.useState(""),[h,p]=f.useState(!1),x=async g=>{g.preventDefault(),t(!0);const y="student",{error:b}=await s(a,i,{data:{username:c,full_name:u,role:y}});b||await r(a,i),t(!1)};return n.jsx(Ke.div,{className:"flex items-center justify-center min-h-[80vh]",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},children:n.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-2xl shadow-lg",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Crie sua conta de Aluno"}),n.jsx("p",{className:"text-slate-500",children:"Comece sua jornada conosco!"})]}),n.jsxs("form",{onSubmit:x,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"fullName-student",children:"Nome Completo"}),n.jsx(et,{id:"fullName-student",type:"text",placeholder:"Seu nome completo",value:u,onChange:g=>m(g.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"username-student",children:"Nome de Usurio"}),n.jsx(et,{id:"username-student",type:"text",placeholder:"Ex: joaosilva123",value:c,onChange:g=>d(g.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"email-student",children:"Email"}),n.jsx(et,{id:"email-student",type:"email",placeholder:"seu@email.com",value:a,onChange:g=>o(g.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"password-student",children:"Senha"}),n.jsxs("div",{className:"relative",children:[n.jsx(et,{id:"password-student",type:h?"text":"password",placeholder:"",value:i,onChange:g=>l(g.target.value),required:!0,className:"pr-10"}),n.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-slate-500",children:h?n.jsx(Dm,{size:20}):n.jsx(bi,{size:20})})]})]}),n.jsx(Y,{type:"submit",className:"w-full bg-sky-600 hover:bg-sky-700",disabled:e,children:e?n.jsxs(n.Fragment,{children:[n.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"})," Criando conta..."]}):"Criar Conta de Aluno"})]}),n.jsxs("p",{className:"text-sm text-center text-slate-500",children:["J tem uma conta?"," ",n.jsx(ai,{to:"/login",className:"font-medium text-sky-600 hover:underline",children:"Faa login"})]}),n.jsxs("p",{className:"text-xs text-center text-slate-400",children:[" um professor?"," ",n.jsx(ai,{to:"/professor-login",className:"font-medium text-sky-600 hover:underline",children:"Acesse o portal do professor"})]})]})})},YW=()=>{const[e,t]=f.useState(""),[s,r]=f.useState(""),[a,o]=f.useState(!1),[i,l]=f.useState(!1),{updateUserPassword:c}=pr(),{toast:d}=Pt(),u=async m=>{if(m.preventDefault(),!e||!s){d({variant:"destructive",title:"Campos obrigatrios",description:"Por favor, preencha todos os campos."});return}if(e!==s){d({variant:"destructive",title:"As senhas no coincidem!",description:"Por favor, verifique sua nova senha."});return}o(!0),await c(e),o(!1)};return n.jsx(Ke.div,{className:"flex items-center justify-center min-h-[80vh]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:n.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-2xl shadow-lg",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Crie sua Senha"}),n.jsx("p",{className:"text-slate-500",children:"Crie uma nova senha para sua conta."})]}),n.jsxs("form",{onSubmit:u,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"password",children:"Nova Senha"}),n.jsxs("div",{className:"relative",children:[n.jsx(et,{id:"password",type:i?"text":"password",placeholder:"",value:e,onChange:m=>t(m.target.value),required:!0,className:"pr-10"}),n.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-slate-500",children:i?n.jsx(Dm,{size:20}):n.jsx(bi,{size:20})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"confirmPassword",children:"Confirmar Nova Senha"}),n.jsx(et,{id:"confirmPassword",type:i?"text":"password",placeholder:"",value:s,onChange:m=>r(m.target.value),required:!0})]}),n.jsx(Y,{type:"submit",className:"w-full bg-sky-600 hover:bg-sky-700",disabled:a,children:a?"Salvando...":"Salvar Nova Senha"})]})]})})},KW=({onLogin:e,loading:t})=>{const[s,r]=f.useState(""),[a,o]=f.useState(""),[i,l]=f.useState(!1),c=d=>{d.preventDefault(),e(s,a)};return n.jsxs("form",{onSubmit:c,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"email-login",children:"Email ou Usurio"}),n.jsx(et,{id:"email-login",type:"text",placeholder:"seu@email.com ou usuario",value:s,onChange:d=>r(d.target.value),required:!0,className:"bg-slate-900 border-slate-700 text-white focus:ring-sky-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"password-login",children:"Senha"}),n.jsxs("div",{className:"relative",children:[n.jsx(et,{id:"password-login",type:i?"text":"password",value:a,onChange:d=>o(d.target.value),required:!0,className:"pr-10 bg-slate-900 border-slate-700 text-white focus:ring-sky-500"}),n.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-slate-400",children:i?n.jsx(Dm,{size:20}):n.jsx(bi,{size:20})})]})]}),n.jsx(Y,{type:"submit",className:"w-full bg-sky-600 hover:bg-sky-700 text-white",disabled:t,children:t?n.jsxs(n.Fragment,{children:[n.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"})," Verificando..."]}):"Entrar"})]})},XW=()=>{const[e,t]=f.useState(!1),{toast:s}=Pt(),{setProfessorSession:r}=pr(),a=Ea(),o=async(i,l)=>{t(!0);let c=i;if(!i.includes("@")){const{data:x,error:g}=await R.from("profiles").select("real_email").eq("username",i.trim().toLowerCase()).single();if(x!=null&&x.real_email)c=x.real_email;else{s({variant:"destructive",title:"Usurio no encontrado",description:"O nome de usurio informado no existe."}),t(!1);return}}const{data:d,error:u}=await R.auth.signInWithPassword({email:c.trim(),password:l});if(u||!d.user){s({variant:"destructive",title:"Credenciais invlidas",description:"O e-mail/usurio ou a senha esto incorretos."}),t(!1);return}const{data:m,error:h}=await R.from("profiles").select("role").eq("id",d.user.id).single();if(h||!["professor","superadmin","admin"].includes(m==null?void 0:m.role))s({variant:"destructive",title:"Acesso Negado",description:"Voc no tem permisso para acessar este painel."}),await R.auth.signOut();else{r(!0);const x=m.role==="superadmin"||m.role==="admin"?"Bem-vindo ao painel administrativo.":"Bem-vindo ao painel do professor.";s({variant:"info",title:"Login bem-sucedido!",description:x}),a("/professor-dashboard")}t(!1)};return n.jsxs(Ke.div,{className:"flex flex-col items-center justify-center min-h-screen bg-slate-900 text-white p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:[n.jsx("div",{className:"absolute top-8 left-8",children:n.jsxs(ai,{to:"/",className:"text-left",children:[n.jsxs("div",{className:"text-3xl font-bold",children:[n.jsx("span",{className:"text-sky-400",children:"Conexion"}),n.jsx("span",{className:"text-slate-100",children:" America"})]}),n.jsx("p",{className:"text-xs text-slate-400 tracking-wider mt-1",children:"A qualquer hora, Em qualquer lugar..."})]})}),n.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-slate-800/50 backdrop-blur-sm rounded-2xl shadow-lg border border-slate-700",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(mC,{className:"mx-auto h-12 w-12 text-sky-400"}),n.jsx("h1",{className:"text-3xl font-bold text-white mt-4",children:"Portal do Professor"}),n.jsx("p",{className:"text-slate-400",children:"Acesso exclusivo para administradores."})]}),n.jsx("div",{className:"mt-6",children:n.jsx(KW,{onLogin:o,loading:e})}),n.jsx("div",{className:"text-center mt-4",children:n.jsx(ai,{to:"/login",className:"text-sm text-slate-400 hover:text-white transition-colors",children:"Ir para o Portal do Aluno "})})]})]})};function QW(e){const t=JW(e),s=f.forwardRef((r,a)=>{const{children:o,...i}=r,l=f.Children.toArray(o),c=l.find(eG);if(c){const d=c.props.children,u=l.map(m=>m===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:m);return n.jsx(t,{...i,ref:a,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}function JW(e){const t=f.forwardRef((s,r)=>{const{children:a,...o}=s;if(f.isValidElement(a)){const i=sG(a),l=tG(o,a.props);return a.type!==f.Fragment&&(l.ref=r?fr(r,i):i),f.cloneElement(a,l)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ZW=Symbol("radix.slottable");function eG(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ZW}function tG(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function sG(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var zx=["Enter"," "],rG=["ArrowDown","PageUp","Home"],NT=["ArrowUp","PageDown","End"],nG=[...rG,...NT],aG={ltr:[...zx,"ArrowRight"],rtl:[...zx,"ArrowLeft"]},oG={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Gd="Menu",[wd,iG,lG]=ih(Gd),[Ni,_T]=qr(Gd,[lG,Wl,lh]),ph=Wl(),ST=lh(),[cG,_i]=Ni(Gd),[dG,Yd]=Ni(Gd),CT=e=>{const{__scopeMenu:t,open:s=!1,children:r,dir:a,onOpenChange:o,modal:i=!0}=e,l=ph(t),[c,d]=f.useState(null),u=f.useRef(!1),m=ps(o),h=Bd(a);return f.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),n.jsx(y0,{...l,children:n.jsx(cG,{scope:t,open:s,onOpenChange:m,content:c,onContentChange:d,children:n.jsx(dG,{scope:t,onClose:f.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:u,dir:h,modal:i,children:r})})})};CT.displayName=Gd;var uG="MenuAnchor",yy=f.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e,a=ph(s);return n.jsx(Hm,{...a,...r,ref:t})});yy.displayName=uG;var by="MenuPortal",[fG,ET]=Ni(by,{forceMount:void 0}),kT=e=>{const{__scopeMenu:t,forceMount:s,children:r,container:a}=e,o=_i(by,t);return n.jsx(fG,{scope:t,forceMount:s,children:n.jsx(Ys,{present:s||o.open,children:n.jsx(Gl,{asChild:!0,container:a,children:r})})})};kT.displayName=by;var nn="MenuContent",[mG,wy]=Ni(nn),TT=f.forwardRef((e,t)=>{const s=ET(nn,e.__scopeMenu),{forceMount:r=s.forceMount,...a}=e,o=_i(nn,e.__scopeMenu),i=Yd(nn,e.__scopeMenu);return n.jsx(wd.Provider,{scope:e.__scopeMenu,children:n.jsx(Ys,{present:r||o.open,children:n.jsx(wd.Slot,{scope:e.__scopeMenu,children:i.modal?n.jsx(hG,{...a,ref:t}):n.jsx(pG,{...a,ref:t})})})})}),hG=f.forwardRef((e,t)=>{const s=_i(nn,e.__scopeMenu),r=f.useRef(null),a=it(t,r);return f.useEffect(()=>{const o=r.current;if(o)return qm(o)},[]),n.jsx(jy,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:je(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),pG=f.forwardRef((e,t)=>{const s=_i(nn,e.__scopeMenu);return n.jsx(jy,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),gG=QW("MenuContent.ScrollLock"),jy=f.forwardRef((e,t)=>{const{__scopeMenu:s,loop:r=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:p,disableOutsideScroll:x,...g}=e,y=_i(nn,s),b=Yd(nn,s),v=ph(s),w=ST(s),j=iG(s),[N,C]=f.useState(null),_=f.useRef(null),S=it(t,_,y.onContentChange),O=f.useRef(0),D=f.useRef(""),z=f.useRef(0),M=f.useRef(null),U=f.useRef("right"),$=f.useRef(0),E=x?Gm:f.Fragment,T=x?{as:gG,allowPinchZoom:!0}:void 0,F=P=>{var q,X;const A=D.current+P,B=j().filter(le=>!le.disabled),L=document.activeElement,H=(q=B.find(le=>le.ref.current===L))==null?void 0:q.textValue,I=B.map(le=>le.textValue),G=kG(I,A,H),K=(X=B.find(le=>le.textValue===G))==null?void 0:X.ref.current;(function le(te){D.current=te,window.clearTimeout(O.current),te!==""&&(O.current=window.setTimeout(()=>le(""),1e3))})(A),K&&setTimeout(()=>K.focus())};f.useEffect(()=>()=>window.clearTimeout(O.current),[]),Fm();const k=f.useCallback(P=>{var B,L;return U.current===((B=M.current)==null?void 0:B.side)&&PG(P,(L=M.current)==null?void 0:L.area)},[]);return n.jsx(mG,{scope:s,searchRef:D,onItemEnter:f.useCallback(P=>{k(P)&&P.preventDefault()},[k]),onItemLeave:f.useCallback(P=>{var A;k(P)||((A=_.current)==null||A.focus(),C(null))},[k]),onTriggerLeave:f.useCallback(P=>{k(P)&&P.preventDefault()},[k]),pointerGraceTimerRef:z,onPointerGraceIntentChange:f.useCallback(P=>{M.current=P},[]),children:n.jsx(E,{...T,children:n.jsx(Od,{asChild:!0,trapped:a,onMountAutoFocus:je(o,P=>{var A;P.preventDefault(),(A=_.current)==null||A.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:n.jsx(Ul,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:p,children:n.jsx(Yk,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:C,onEntryFocus:je(c,P=>{b.isUsingKeyboardRef.current||P.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(b0,{role:"menu","aria-orientation":"vertical","data-state":qT(y.open),"data-radix-menu-content":"",dir:b.dir,...v,...g,ref:S,style:{outline:"none",...g.style},onKeyDown:je(g.onKeyDown,P=>{const B=P.target.closest("[data-radix-menu-content]")===P.currentTarget,L=P.ctrlKey||P.altKey||P.metaKey,H=P.key.length===1;B&&(P.key==="Tab"&&P.preventDefault(),!L&&H&&F(P.key));const I=_.current;if(P.target!==I||!nG.includes(P.key))return;P.preventDefault();const K=j().filter(q=>!q.disabled).map(q=>q.ref.current);NT.includes(P.key)&&K.reverse(),CG(K)}),onBlur:je(e.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout(O.current),D.current="")}),onPointerMove:je(e.onPointerMove,jd(P=>{const A=P.target,B=$.current!==P.clientX;if(P.currentTarget.contains(A)&&B){const L=P.clientX>$.current?"right":"left";U.current=L,$.current=P.clientX}}))})})})})})})});TT.displayName=nn;var xG="MenuGroup",Ny=f.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(ze.div,{role:"group",...r,ref:t})});Ny.displayName=xG;var vG="MenuLabel",PT=f.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(ze.div,{...r,ref:t})});PT.displayName=vG;var tm="MenuItem",AN="menu.itemSelect",gh=f.forwardRef((e,t)=>{const{disabled:s=!1,onSelect:r,...a}=e,o=f.useRef(null),i=Yd(tm,e.__scopeMenu),l=wy(tm,e.__scopeMenu),c=it(t,o),d=f.useRef(!1),u=()=>{const m=o.current;if(!s&&m){const h=new CustomEvent(AN,{bubbles:!0,cancelable:!0});m.addEventListener(AN,p=>r==null?void 0:r(p),{once:!0}),c0(m,h),h.defaultPrevented?d.current=!1:i.onClose()}};return n.jsx(AT,{...a,ref:c,disabled:s,onClick:je(e.onClick,u),onPointerDown:m=>{var h;(h=e.onPointerDown)==null||h.call(e,m),d.current=!0},onPointerUp:je(e.onPointerUp,m=>{var h;d.current||(h=m.currentTarget)==null||h.click()}),onKeyDown:je(e.onKeyDown,m=>{const h=l.searchRef.current!=="";s||h&&m.key===" "||zx.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});gh.displayName=tm;var AT=f.forwardRef((e,t)=>{const{__scopeMenu:s,disabled:r=!1,textValue:a,...o}=e,i=wy(tm,s),l=ST(s),c=f.useRef(null),d=it(t,c),[u,m]=f.useState(!1),[h,p]=f.useState("");return f.useEffect(()=>{const x=c.current;x&&p((x.textContent??"").trim())},[o.children]),n.jsx(wd.ItemSlot,{scope:s,disabled:r,textValue:a??h,children:n.jsx(Kk,{asChild:!0,...l,focusable:!r,children:n.jsx(ze.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:d,onPointerMove:je(e.onPointerMove,jd(x=>{r?i.onItemLeave(x):(i.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:je(e.onPointerLeave,jd(x=>i.onItemLeave(x))),onFocus:je(e.onFocus,()=>m(!0)),onBlur:je(e.onBlur,()=>m(!1))})})})}),yG="MenuCheckboxItem",MT=f.forwardRef((e,t)=>{const{checked:s=!1,onCheckedChange:r,...a}=e;return n.jsx(LT,{scope:e.__scopeMenu,checked:s,children:n.jsx(gh,{role:"menuitemcheckbox","aria-checked":sm(s)?"mixed":s,...a,ref:t,"data-state":Sy(s),onSelect:je(a.onSelect,()=>r==null?void 0:r(sm(s)?!0:!s),{checkForDefaultPrevented:!1})})})});MT.displayName=yG;var RT="MenuRadioGroup",[bG,wG]=Ni(RT,{value:void 0,onValueChange:()=>{}}),OT=f.forwardRef((e,t)=>{const{value:s,onValueChange:r,...a}=e,o=ps(r);return n.jsx(bG,{scope:e.__scopeMenu,value:s,onValueChange:o,children:n.jsx(Ny,{...a,ref:t})})});OT.displayName=RT;var DT="MenuRadioItem",IT=f.forwardRef((e,t)=>{const{value:s,...r}=e,a=wG(DT,e.__scopeMenu),o=s===a.value;return n.jsx(LT,{scope:e.__scopeMenu,checked:o,children:n.jsx(gh,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Sy(o),onSelect:je(r.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,s)},{checkForDefaultPrevented:!1})})})});IT.displayName=DT;var _y="MenuItemIndicator",[LT,jG]=Ni(_y,{checked:!1}),$T=f.forwardRef((e,t)=>{const{__scopeMenu:s,forceMount:r,...a}=e,o=jG(_y,s);return n.jsx(Ys,{present:r||sm(o.checked)||o.checked===!0,children:n.jsx(ze.span,{...a,ref:t,"data-state":Sy(o.checked)})})});$T.displayName=_y;var NG="MenuSeparator",FT=f.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(ze.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});FT.displayName=NG;var _G="MenuArrow",VT=f.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e,a=ph(s);return n.jsx(w0,{...a,...r,ref:t})});VT.displayName=_G;var SG="MenuSub",[wQ,zT]=Ni(SG),Sc="MenuSubTrigger",BT=f.forwardRef((e,t)=>{const s=_i(Sc,e.__scopeMenu),r=Yd(Sc,e.__scopeMenu),a=zT(Sc,e.__scopeMenu),o=wy(Sc,e.__scopeMenu),i=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,d={__scopeMenu:e.__scopeMenu},u=f.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return f.useEffect(()=>u,[u]),f.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),n.jsx(yy,{asChild:!0,...d,children:n.jsx(AT,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":a.contentId,"data-state":qT(s.open),...e,ref:fr(t,a.onTriggerChange),onClick:m=>{var h;(h=e.onClick)==null||h.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:je(e.onPointerMove,jd(m=>{o.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!s.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{s.onOpenChange(!0),u()},100))})),onPointerLeave:je(e.onPointerLeave,jd(m=>{var p,x;u();const h=(p=s.content)==null?void 0:p.getBoundingClientRect();if(h){const g=(x=s.content)==null?void 0:x.dataset.side,y=g==="right",b=y?-5:5,v=h[y?"left":"right"],w=h[y?"right":"left"];o.onPointerGraceIntentChange({area:[{x:m.clientX+b,y:m.clientY},{x:v,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:v,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(m),m.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:je(e.onKeyDown,m=>{var p;const h=o.searchRef.current!=="";e.disabled||h&&m.key===" "||aG[r.dir].includes(m.key)&&(s.onOpenChange(!0),(p=s.content)==null||p.focus(),m.preventDefault())})})})});BT.displayName=Sc;var UT="MenuSubContent",HT=f.forwardRef((e,t)=>{const s=ET(nn,e.__scopeMenu),{forceMount:r=s.forceMount,...a}=e,o=_i(nn,e.__scopeMenu),i=Yd(nn,e.__scopeMenu),l=zT(UT,e.__scopeMenu),c=f.useRef(null),d=it(t,c);return n.jsx(wd.Provider,{scope:e.__scopeMenu,children:n.jsx(Ys,{present:r||o.open,children:n.jsx(wd.Slot,{scope:e.__scopeMenu,children:n.jsx(jy,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var m;i.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:je(e.onFocusOutside,u=>{u.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:je(e.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:je(e.onKeyDown,u=>{var p;const m=u.currentTarget.contains(u.target),h=oG[i.dir].includes(u.key);m&&h&&(o.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});HT.displayName=UT;function qT(e){return e?"open":"closed"}function sm(e){return e==="indeterminate"}function Sy(e){return sm(e)?"indeterminate":e?"checked":"unchecked"}function CG(e){const t=document.activeElement;for(const s of e)if(s===t||(s.focus(),document.activeElement!==t))return}function EG(e,t){return e.map((s,r)=>e[(t+r)%e.length])}function kG(e,t,s){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=s?e.indexOf(s):-1;let i=EG(e,Math.max(o,0));a.length===1&&(i=i.filter(d=>d!==s));const c=i.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==s?c:void 0}function TG(e,t){const{x:s,y:r}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],d=l.x,u=l.y,m=c.x,h=c.y;u>r!=h>r&&s<(m-d)*(r-u)/(h-u)+d&&(a=!a)}return a}function PG(e,t){if(!t)return!1;const s={x:e.clientX,y:e.clientY};return TG(s,t)}function jd(e){return t=>t.pointerType==="mouse"?e(t):void 0}var AG=CT,MG=yy,RG=kT,OG=TT,DG=Ny,IG=PT,LG=gh,$G=MT,FG=OT,VG=IT,zG=$T,BG=FT,UG=VT,HG=BT,qG=HT,xh="DropdownMenu",[WG,jQ]=qr(xh,[_T]),gr=_T(),[GG,WT]=WG(xh),GT=e=>{const{__scopeDropdownMenu:t,children:s,dir:r,open:a,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=gr(t),d=f.useRef(null),[u,m]=Gn({prop:a,defaultProp:o??!1,onChange:i,caller:xh});return n.jsx(GG,{scope:t,triggerId:qs(),triggerRef:d,contentId:qs(),open:u,onOpenChange:m,onOpenToggle:f.useCallback(()=>m(h=>!h),[m]),modal:l,children:n.jsx(AG,{...c,open:u,onOpenChange:m,dir:r,modal:l,children:s})})};GT.displayName=xh;var YT="DropdownMenuTrigger",KT=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,disabled:r=!1,...a}=e,o=WT(YT,s),i=gr(s);return n.jsx(MG,{asChild:!0,...i,children:n.jsx(ze.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:fr(t,o.triggerRef),onPointerDown:je(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:je(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});KT.displayName=YT;var YG="DropdownMenuPortal",XT=e=>{const{__scopeDropdownMenu:t,...s}=e,r=gr(t);return n.jsx(RG,{...r,...s})};XT.displayName=YG;var QT="DropdownMenuContent",JT=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=WT(QT,s),o=gr(s),i=f.useRef(!1);return n.jsx(OG,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...r,ref:t,onCloseAutoFocus:je(e.onCloseAutoFocus,l=>{var c;i.current||(c=a.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:je(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JT.displayName=QT;var KG="DropdownMenuGroup",XG=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=gr(s);return n.jsx(DG,{...a,...r,ref:t})});XG.displayName=KG;var QG="DropdownMenuLabel",ZT=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=gr(s);return n.jsx(IG,{...a,...r,ref:t})});ZT.displayName=QG;var JG="DropdownMenuItem",eP=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=gr(s);return n.jsx(LG,{...a,...r,ref:t})});eP.displayName=JG;var ZG="DropdownMenuCheckboxItem",tP=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=gr(s);return n.jsx($G,{...a,...r,ref:t})});tP.displayName=ZG;var eY="DropdownMenuRadioGroup",tY=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=gr(s);return n.jsx(FG,{...a,...r,ref:t})});tY.displayName=eY;var sY="DropdownMenuRadioItem",sP=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=gr(s);return n.jsx(VG,{...a,...r,ref:t})});sP.displayName=sY;var rY="DropdownMenuItemIndicator",rP=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=gr(s);return n.jsx(zG,{...a,...r,ref:t})});rP.displayName=rY;var nY="DropdownMenuSeparator",nP=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=gr(s);return n.jsx(BG,{...a,...r,ref:t})});nP.displayName=nY;var aY="DropdownMenuArrow",oY=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=gr(s);return n.jsx(UG,{...a,...r,ref:t})});oY.displayName=aY;var iY="DropdownMenuSubTrigger",aP=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=gr(s);return n.jsx(HG,{...a,...r,ref:t})});aP.displayName=iY;var lY="DropdownMenuSubContent",oP=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=gr(s);return n.jsx(qG,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});oP.displayName=lY;var cY=GT,dY=KT,uY=XT,iP=JT,lP=ZT,cP=eP,dP=tP,uP=sP,fP=rP,mP=nP,hP=aP,pP=oP;const Nd=cY,_d=dY,fY=f.forwardRef(({className:e,inset:t,children:s,...r},a)=>n.jsxs(hP,{ref:a,className:ee("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[s,n.jsx(_l,{className:"ml-auto h-4 w-4"})]}));fY.displayName=hP.displayName;const mY=f.forwardRef(({className:e,...t},s)=>n.jsx(pP,{ref:s,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));mY.displayName=pP.displayName;const Al=f.forwardRef(({className:e,sideOffset:t=4,...s},r)=>n.jsx(uY,{children:n.jsx(iP,{ref:r,sideOffset:t,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));Al.displayName=iP.displayName;const jr=f.forwardRef(({className:e,inset:t,...s},r)=>n.jsx(cP,{ref:r,className:ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...s}));jr.displayName=cP.displayName;const hY=f.forwardRef(({className:e,children:t,checked:s,...r},a)=>n.jsxs(dP,{ref:a,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(fP,{children:n.jsx(Ga,{className:"h-4 w-4"})})}),t]}));hY.displayName=dP.displayName;const pY=f.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(uP,{ref:r,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(fP,{children:n.jsx(L3,{className:"h-2 w-2 fill-current"})})}),t]}));pY.displayName=uP.displayName;const rm=f.forwardRef(({className:e,inset:t,...s},r)=>n.jsx(lP,{ref:r,className:ee("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));rm.displayName=lP.displayName;const Zo=f.forwardRef(({className:e,...t},s)=>n.jsx(mP,{ref:s,className:ee("-mx-1 my-1 h-px bg-muted",e),...t}));Zo.displayName=mP.displayName;function gY(e,t=[]){let s=[];function r(o,i){const l=f.createContext(i);l.displayName=o+"Context";const c=s.length;s=[...s,i];const d=m=>{var b;const{scope:h,children:p,...x}=m,g=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,y=f.useMemo(()=>x,Object.values(x));return n.jsx(g.Provider,{value:y,children:p})};d.displayName=o+"Provider";function u(m,h){var g;const p=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,x=f.useContext(p);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[d,u]}const a=()=>{const o=s.map(i=>f.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,xY(a,...t)]}function xY(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...l,...m}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}var vY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Cy=vY.reduce((e,t)=>{const s=Rm(`Primitive.${t}`),r=f.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),gP={exports:{}},xP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ml=f;function yY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bY=typeof Object.is=="function"?Object.is:yY,wY=Ml.useState,jY=Ml.useEffect,NY=Ml.useLayoutEffect,_Y=Ml.useDebugValue;function SY(e,t){var s=t(),r=wY({inst:{value:s,getSnapshot:t}}),a=r[0].inst,o=r[1];return NY(function(){a.value=s,a.getSnapshot=t,Vp(a)&&o({inst:a})},[e,s,t]),jY(function(){return Vp(a)&&o({inst:a}),e(function(){Vp(a)&&o({inst:a})})},[e]),_Y(s),s}function Vp(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!bY(e,s)}catch{return!0}}function CY(e,t){return t()}var EY=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?CY:SY;xP.useSyncExternalStore=Ml.useSyncExternalStore!==void 0?Ml.useSyncExternalStore:EY;gP.exports=xP;var kY=gP.exports;function TY(){return kY.useSyncExternalStore(PY,()=>!0,()=>!1)}function PY(){return()=>{}}var Ey="Avatar",[AY,NQ]=gY(Ey),[MY,vP]=AY(Ey),yP=f.forwardRef((e,t)=>{const{__scopeAvatar:s,...r}=e,[a,o]=f.useState("idle");return n.jsx(MY,{scope:s,imageLoadingStatus:a,onImageLoadingStatusChange:o,children:n.jsx(Cy.span,{...r,ref:t})})});yP.displayName=Ey;var bP="AvatarImage",wP=f.forwardRef((e,t)=>{const{__scopeAvatar:s,src:r,onLoadingStatusChange:a=()=>{},...o}=e,i=vP(bP,s),l=RY(r,o),c=ps(d=>{a(d),i.onImageLoadingStatusChange(d)});return Ss(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?n.jsx(Cy.img,{...o,ref:t,src:r}):null});wP.displayName=bP;var jP="AvatarFallback",NP=f.forwardRef((e,t)=>{const{__scopeAvatar:s,delayMs:r,...a}=e,o=vP(jP,s),[i,l]=f.useState(r===void 0);return f.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&o.imageLoadingStatus!=="loaded"?n.jsx(Cy.span,{...a,ref:t}):null});NP.displayName=jP;function MN(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function RY(e,{referrerPolicy:t,crossOrigin:s}){const r=TY(),a=f.useRef(null),o=(()=>r?(a.current||(a.current=new window.Image),a.current):null)(),[i,l]=f.useState(()=>MN(o,e));return Ss(()=>{l(MN(o,e))},[o,e]),Ss(()=>{const c=m=>()=>{l(m)};if(!o)return;const d=c("loaded"),u=c("error");return o.addEventListener("load",d),o.addEventListener("error",u),t&&(o.referrerPolicy=t),typeof s=="string"&&(o.crossOrigin=s),()=>{o.removeEventListener("load",d),o.removeEventListener("error",u)}},[o,s,t]),i}var _P=yP,SP=wP,CP=NP;const tr=f.forwardRef(({className:e,...t},s)=>n.jsx(_P,{ref:s,className:ee("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));tr.displayName=_P.displayName;const Br=f.forwardRef(({className:e,...t},s)=>n.jsx(SP,{ref:s,className:ee("aspect-square h-full w-full",e),...t}));Br.displayName=SP.displayName;const sr=f.forwardRef(({className:e,...t},s)=>n.jsx(CP,{ref:s,className:ee("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));sr.displayName=CP.displayName;const Ct=f.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:ee("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ct.displayName="Card";const Os=f.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:ee("flex flex-col space-y-1.5 p-6",e),...t}));Os.displayName="CardHeader";const Ds=f.forwardRef(({className:e,...t},s)=>n.jsx("h3",{ref:s,className:ee("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ds.displayName="CardTitle";const tn=f.forwardRef(({className:e,...t},s)=>n.jsx("p",{ref:s,className:ee("text-sm text-muted-foreground",e),...t}));tn.displayName="CardDescription";const Et=f.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:ee("p-6 pt-0",e),...t}));Et.displayName="CardContent";const OY=f.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:ee("flex items-center p-6 pt-0",e),...t}));OY.displayName="CardFooter";function DY(e,t){return f.useReducer((s,r)=>t[s][r]??s,e)}var ky="ScrollArea",[EP,_Q]=qr(ky),[IY,ln]=EP(ky),kP=f.forwardRef((e,t)=>{const{__scopeScrollArea:s,type:r="hover",dir:a,scrollHideDelay:o=600,...i}=e,[l,c]=f.useState(null),[d,u]=f.useState(null),[m,h]=f.useState(null),[p,x]=f.useState(null),[g,y]=f.useState(null),[b,v]=f.useState(0),[w,j]=f.useState(0),[N,C]=f.useState(!1),[_,S]=f.useState(!1),O=it(t,z=>c(z)),D=Bd(a);return n.jsx(IY,{scope:s,type:r,dir:D,scrollHideDelay:o,scrollArea:l,viewport:d,onViewportChange:u,content:m,onContentChange:h,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:N,onScrollbarXEnabledChange:C,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:_,onScrollbarYEnabledChange:S,onCornerWidthChange:v,onCornerHeightChange:j,children:n.jsx(ze.div,{dir:D,...i,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});kP.displayName=ky;var TP="ScrollAreaViewport",PP=f.forwardRef((e,t)=>{const{__scopeScrollArea:s,children:r,nonce:a,...o}=e,i=ln(TP,s),l=f.useRef(null),c=it(t,l,i.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(ze.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});PP.displayName=TP;var Zn="ScrollAreaScrollbar",Ty=f.forwardRef((e,t)=>{const{forceMount:s,...r}=e,a=ln(Zn,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=a,l=e.orientation==="horizontal";return f.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),a.type==="hover"?n.jsx(LY,{...r,ref:t,forceMount:s}):a.type==="scroll"?n.jsx($Y,{...r,ref:t,forceMount:s}):a.type==="auto"?n.jsx(AP,{...r,ref:t,forceMount:s}):a.type==="always"?n.jsx(Py,{...r,ref:t}):null});Ty.displayName=Zn;var LY=f.forwardRef((e,t)=>{const{forceMount:s,...r}=e,a=ln(Zn,e.__scopeScrollArea),[o,i]=f.useState(!1);return f.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),i(!0)},u=()=>{c=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),n.jsx(Ys,{present:s||o,children:n.jsx(AP,{"data-state":o?"visible":"hidden",...r,ref:t})})}),$Y=f.forwardRef((e,t)=>{const{forceMount:s,...r}=e,a=ln(Zn,e.__scopeScrollArea),o=e.orientation==="horizontal",i=yh(()=>c("SCROLL_END"),100),[l,c]=DY("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),f.useEffect(()=>{const d=a.viewport,u=o?"scrollLeft":"scrollTop";if(d){let m=d[u];const h=()=>{const p=d[u];m!==p&&(c("SCROLL"),i()),m=p};return d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[a.viewport,o,c,i]),n.jsx(Ys,{present:s||l!=="hidden",children:n.jsx(Py,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:je(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:je(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),AP=f.forwardRef((e,t)=>{const s=ln(Zn,e.__scopeScrollArea),{forceMount:r,...a}=e,[o,i]=f.useState(!1),l=e.orientation==="horizontal",c=yh(()=>{if(s.viewport){const d=s.viewport.offsetWidth<s.viewport.scrollWidth,u=s.viewport.offsetHeight<s.viewport.scrollHeight;i(l?d:u)}},10);return Rl(s.viewport,c),Rl(s.content,c),n.jsx(Ys,{present:r||o,children:n.jsx(Py,{"data-state":o?"visible":"hidden",...a,ref:t})})}),Py=f.forwardRef((e,t)=>{const{orientation:s="vertical",...r}=e,a=ln(Zn,e.__scopeScrollArea),o=f.useRef(null),i=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=IP(l.viewport,l.content),u={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function m(h,p){return HY(h,i.current,l,p)}return s==="horizontal"?n.jsx(FY,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const h=a.viewport.scrollLeft,p=RN(h,l,a.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=m(h,a.dir))}}):s==="vertical"?n.jsx(VY,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const h=a.viewport.scrollTop,p=RN(h,l);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=m(h))}}):null}),FY=f.forwardRef((e,t)=>{const{sizes:s,onSizesChange:r,...a}=e,o=ln(Zn,e.__scopeScrollArea),[i,l]=f.useState(),c=f.useRef(null),d=it(t,c,o.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(RP,{"data-orientation":"horizontal",...a,ref:d,sizes:s,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":vh(s)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,m)=>{if(o.viewport){const h=o.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),$P(h,m)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:am(i.paddingLeft),paddingEnd:am(i.paddingRight)}})}})}),VY=f.forwardRef((e,t)=>{const{sizes:s,onSizesChange:r,...a}=e,o=ln(Zn,e.__scopeScrollArea),[i,l]=f.useState(),c=f.useRef(null),d=it(t,c,o.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(RP,{"data-orientation":"vertical",...a,ref:d,sizes:s,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":vh(s)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,m)=>{if(o.viewport){const h=o.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),$P(h,m)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:am(i.paddingTop),paddingEnd:am(i.paddingBottom)}})}})}),[zY,MP]=EP(Zn),RP=f.forwardRef((e,t)=>{const{__scopeScrollArea:s,sizes:r,hasThumb:a,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:m,...h}=e,p=ln(Zn,s),[x,g]=f.useState(null),y=it(t,O=>g(O)),b=f.useRef(null),v=f.useRef(""),w=p.viewport,j=r.content-r.viewport,N=ps(u),C=ps(c),_=yh(m,10);function S(O){if(b.current){const D=O.clientX-b.current.left,z=O.clientY-b.current.top;d({x:D,y:z})}}return f.useEffect(()=>{const O=D=>{const z=D.target;(x==null?void 0:x.contains(z))&&N(D,j)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[w,x,j,N]),f.useEffect(C,[r,C]),Rl(x,_),Rl(p.content,_),n.jsx(zY,{scope:s,scrollbar:x,hasThumb:a,onThumbChange:ps(o),onThumbPointerUp:ps(i),onThumbPositionChange:C,onThumbPointerDown:ps(l),children:n.jsx(ze.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:je(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),b.current=x.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),S(O))}),onPointerMove:je(e.onPointerMove,S),onPointerUp:je(e.onPointerUp,O=>{const D=O.target;D.hasPointerCapture(O.pointerId)&&D.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),nm="ScrollAreaThumb",OP=f.forwardRef((e,t)=>{const{forceMount:s,...r}=e,a=MP(nm,e.__scopeScrollArea);return n.jsx(Ys,{present:s||a.hasThumb,children:n.jsx(BY,{ref:t,...r})})}),BY=f.forwardRef((e,t)=>{const{__scopeScrollArea:s,style:r,...a}=e,o=ln(nm,s),i=MP(nm,s),{onThumbPositionChange:l}=i,c=it(t,m=>i.onThumbChange(m)),d=f.useRef(void 0),u=yh(()=>{d.current&&(d.current(),d.current=void 0)},100);return f.useEffect(()=>{const m=o.viewport;if(m){const h=()=>{if(u(),!d.current){const p=qY(m,l);d.current=p,l()}};return l(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[o.viewport,u,l]),n.jsx(ze.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:je(e.onPointerDownCapture,m=>{const p=m.target.getBoundingClientRect(),x=m.clientX-p.left,g=m.clientY-p.top;i.onThumbPointerDown({x,y:g})}),onPointerUp:je(e.onPointerUp,i.onThumbPointerUp)})});OP.displayName=nm;var Ay="ScrollAreaCorner",DP=f.forwardRef((e,t)=>{const s=ln(Ay,e.__scopeScrollArea),r=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&r?n.jsx(UY,{...e,ref:t}):null});DP.displayName=Ay;var UY=f.forwardRef((e,t)=>{const{__scopeScrollArea:s,...r}=e,a=ln(Ay,s),[o,i]=f.useState(0),[l,c]=f.useState(0),d=!!(o&&l);return Rl(a.scrollbarX,()=>{var m;const u=((m=a.scrollbarX)==null?void 0:m.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),Rl(a.scrollbarY,()=>{var m;const u=((m=a.scrollbarY)==null?void 0:m.offsetWidth)||0;a.onCornerWidthChange(u),i(u)}),d?n.jsx(ze.div,{...r,ref:t,style:{width:o,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function am(e){return e?parseInt(e,10):0}function IP(e,t){const s=e/t;return isNaN(s)?0:s}function vh(e){const t=IP(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-s)*t;return Math.max(r,18)}function HY(e,t,s,r="ltr"){const a=vh(s),o=a/2,i=t||o,l=a-i,c=s.scrollbar.paddingStart+i,d=s.scrollbar.size-s.scrollbar.paddingEnd-l,u=s.content-s.viewport,m=r==="ltr"?[0,u]:[u*-1,0];return LP([c,d],m)(e)}function RN(e,t,s="ltr"){const r=vh(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,i=t.content-t.viewport,l=o-r,c=s==="ltr"?[0,i]:[i*-1,0],d=Ox(e,c);return LP([0,i],[0,l])(d)}function LP(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(s-e[0])}}function $P(e,t){return e>0&&e<t}var qY=(e,t=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const o={left:e.scrollLeft,top:e.scrollTop},i=s.left!==o.left,l=s.top!==o.top;(i||l)&&t(),s=o,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function yh(e,t){const s=ps(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(s,t)},[s,t])}function Rl(e,t){const s=ps(t);Ss(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(s)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,s])}var FP=kP,WY=PP,GY=DP;const Mn=f.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(FP,{ref:r,className:ee("relative overflow-hidden",e),...s,children:[n.jsx(WY,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(VP,{}),n.jsx(GY,{})]}));Mn.displayName=FP.displayName;const VP=f.forwardRef(({className:e,orientation:t="vertical",...s},r)=>n.jsx(Ty,{ref:r,orientation:t,className:ee("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:n.jsx(OP,{className:"relative flex-1 rounded-full bg-border"})}));VP.displayName=Ty.displayName;var bh="Checkbox",[YY,SQ]=qr(bh),[KY,My]=YY(bh);function XY(e){const{__scopeCheckbox:t,checked:s,children:r,defaultChecked:a,disabled:o,form:i,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:m}=e,[h,p]=Gn({prop:s,defaultProp:a??!1,onChange:c,caller:bh}),[x,g]=f.useState(null),[y,b]=f.useState(null),v=f.useRef(!1),w=x?!!i||!!x.closest("form"):!0,j={checked:h,disabled:o,setChecked:p,control:x,setControl:g,name:l,form:i,value:u,hasConsumerStoppedPropagationRef:v,required:d,defaultChecked:co(a)?!1:a,isFormControl:w,bubbleInput:y,setBubbleInput:b};return n.jsx(KY,{scope:t,...j,children:QY(m)?m(j):r})}var zP="CheckboxTrigger",BP=f.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:s,...r},a)=>{const{control:o,value:i,disabled:l,checked:c,required:d,setControl:u,setChecked:m,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:x}=My(zP,e),g=it(a,u),y=f.useRef(c);return f.useEffect(()=>{const b=o==null?void 0:o.form;if(b){const v=()=>m(y.current);return b.addEventListener("reset",v),()=>b.removeEventListener("reset",v)}},[o,m]),n.jsx(ze.button,{type:"button",role:"checkbox","aria-checked":co(c)?"mixed":c,"aria-required":d,"data-state":GP(c),"data-disabled":l?"":void 0,disabled:l,value:i,...r,ref:g,onKeyDown:je(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:je(s,b=>{m(v=>co(v)?!0:!v),x&&p&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});BP.displayName=zP;var Ry=f.forwardRef((e,t)=>{const{__scopeCheckbox:s,name:r,checked:a,defaultChecked:o,required:i,disabled:l,value:c,onCheckedChange:d,form:u,...m}=e;return n.jsx(XY,{__scopeCheckbox:s,checked:a,defaultChecked:o,disabled:l,required:i,onCheckedChange:d,name:r,form:u,value:c,internal_do_not_use_render:({isFormControl:h})=>n.jsxs(n.Fragment,{children:[n.jsx(BP,{...m,ref:t,__scopeCheckbox:s}),h&&n.jsx(WP,{__scopeCheckbox:s})]})})});Ry.displayName=bh;var UP="CheckboxIndicator",HP=f.forwardRef((e,t)=>{const{__scopeCheckbox:s,forceMount:r,...a}=e,o=My(UP,s);return n.jsx(Ys,{present:r||co(o.checked)||o.checked===!0,children:n.jsx(ze.span,{"data-state":GP(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});HP.displayName=UP;var qP="CheckboxBubbleInput",WP=f.forwardRef(({__scopeCheckbox:e,...t},s)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:o,defaultChecked:i,required:l,disabled:c,name:d,value:u,form:m,bubbleInput:h,setBubbleInput:p}=My(qP,e),x=it(s,p),g=cy(o),y=g0(r);f.useEffect(()=>{const v=h;if(!v)return;const w=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(w,"checked").set,C=!a.current;if(g!==o&&N){const _=new Event("click",{bubbles:C});v.indeterminate=co(o),N.call(v,co(o)?!1:o),v.dispatchEvent(_)}},[h,g,o,a]);const b=f.useRef(co(o)?!1:o);return n.jsx(ze.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??b.current,required:l,disabled:c,name:d,value:u,form:m,...t,tabIndex:-1,ref:x,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});WP.displayName=qP;function QY(e){return typeof e=="function"}function co(e){return e==="indeterminate"}function GP(e){return co(e)?"indeterminate":e?"checked":"unchecked"}const YP=f.forwardRef(({className:e,...t},s)=>n.jsx(Ry,{ref:s,className:ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(HP,{className:ee("flex items-center justify-center text-current"),children:n.jsx(Ga,{className:"h-4 w-4"})})}));YP.displayName=Ry.displayName;const Si=(e,t)=>{const[s,r]=f.useState(()=>{try{const i=localStorage.getItem(`form_persist_${e}`);return i?JSON.parse(i):t}catch(i){return console.warn(`Error loading form persistence for ${e}:`,i),t}});f.useEffect(()=>{try{localStorage.setItem(`form_persist_${e}`,JSON.stringify(s))}catch(i){console.warn(`Error saving form persistence for ${e}:`,i)}},[e,s]);const a=f.useCallback(()=>{try{localStorage.removeItem(`form_persist_${e}`),r(t)}catch(i){console.warn(`Error clearing form persistence for ${e}:`,i)}},[e,t]),o=f.useCallback((i,l)=>{r(c=>({...c,[i]:l}))},[]);return[s,r,a,o]},pc={0:"Dom",1:"Seg",2:"Ter",3:"Qua",4:"Qui",5:"Sex",6:"Sb"},ON=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"],DN=[];for(let e=7;e<=23;e++)DN.push(`${String(e).padStart(2,"0")}:00`),DN.push(`${String(e).padStart(2,"0")}:30`);const zp=({dashboardData:e,setActiveTab:t})=>{var $t,Nt,Ht,or,xt,Jt,xr;const{toast:s}=Pt(),[r,a]=f.useState(null),[o,i]=f.useState([]),[l,c]=f.useState([]);f.useState("all");const[d,u]=f.useState({studentsWithoutProfessor:[],studentsWithAvailableClasses:[],packagesExpiringSoon:[],recentNotifications:[],classHistory:[],systemWarnings:[],historicoNotifications:[]}),[m,h]=f.useState(!1),[p,x]=f.useState([]);f.useState(!1);const[g,y]=f.useState(null),[b,v]=f.useState([]),[w,j]=f.useState(!1),[N,C]=f.useState(null),[_,S]=f.useState(""),[O,D]=f.useState(!1),[z,M]=f.useState(()=>{const Q=Qe();return`${Q.getFullYear()}-${String(Q.getMonth()+1).padStart(2,"0")}`}),U=(($t=e==null?void 0:e.data)==null?void 0:$t.appointments)||[],$=6.11,E=f.useMemo(()=>{const Q=[],se=Qe().getFullYear();for(let xe=0;xe<12;xe++){const Te=new Date(se,xe,1),rt=`${Te.getFullYear()}-${String(Te.getMonth()+1).padStart(2,"0")}`,ve=ae(Te,"MMMM 'de' yyyy",{locale:nt});Q.push({value:rt,label:ve.charAt(0).toUpperCase()+ve.slice(1)})}return Q},[]),T=f.useMemo(()=>{var gt;const[Q,re]=z.split("-").map(Number),se=new Date(Q,re-1,1),xe=new Date(Q,re,0,23,59,59),Te=U.filter(dt=>{if(dt.status!=="completed"||!dt.class_datetime)return!1;const De=new Date(dt.class_datetime);return De>=se&&De<=xe}),rt=Te.reduce((dt,De)=>dt+(De.duration_minutes||30),0),ve=rt/30,Ue=ve*$,We={};Te.forEach(dt=>{var Ot;const De=dt.student_id,Ee=((Ot=dt.student)==null?void 0:Ot.full_name)||"Aluno N/A",qt=dt.duration_minutes||30;We[De]||(We[De]={name:Ee,typicalDuration:qt,totalMinutes:0,units:0,earnings:0,sessions:0}),We[De].totalMinutes+=qt,We[De].sessions+=1});const Oe=Object.values(We).map(dt=>{const De=dt.totalMinutes/30;return{...dt,units:De,earnings:De*$}}),ct=((gt=E.find(dt=>dt.value===z))==null?void 0:gt.label)||z,_t=z===`${Qe().getFullYear()}-${String(Qe().getMonth()+1).padStart(2,"0")}`;return{totalEarnings:Ue,totalMinutes:rt,totalUnits:ve,groupedList:Oe,monthLabel:ct,isCurrentMonth:_t,classCount:Te.length}},[U,z,E]),F=Q=>{const re=Math.floor(Q/60),se=Q%60;return`${re}h ${String(se).padStart(2,"0")}m`},[k,P]=f.useState(null),[A,B]=f.useState(!1),[L,H]=f.useState(1),[I,G,K]=Si("vincular_student_prefs",{days:[],time:"08:00"}),[q,X]=f.useState([]),[le,te]=f.useState(!1),[ie,Ne]=f.useState(!1),[Re,Je]=f.useState(null),[V,_e]=f.useState(""),[oe,be]=f.useState(null),[Ce,at]=f.useState(!1),[Gt,st]=f.useState([]),[bt,wt]=f.useState(!1),mt=e==null?void 0:e.professorId,lt=(e==null?void 0:e.data)||{},Mr=(e==null?void 0:e.loading)||!1,Ps=e==null?void 0:e.onUpdate,Ks=(e==null?void 0:e.isSuperadmin)||!1,ea=(e==null?void 0:e.showPainelView)||!1;e!=null&&e.showHomeView;const jt=(lt==null?void 0:lt.appointments)||[];lt!=null&&lt.allProfiles;const ar=(lt==null?void 0:lt.students)||[],Xs=(lt==null?void 0:lt.professors)||[],ue=(lt==null?void 0:lt.allBillings)||[],ge=(lt==null?void 0:lt.classSlots)||[];c2(mt,{status:["read","accepted","rejected","archived"]});const $e=f.useMemo(()=>{if(!jt||jt.length===0)return null;const Q=Qe(),re=jt.filter(se=>{if(!se.class_datetime)return!1;const xe=new Date(se.class_datetime),Te=se.status;return xe>=Q&&["scheduled","rescheduled"].includes(Te)}).sort((se,xe)=>new Date(se.class_datetime)-new Date(xe.class_datetime));return re.length>0?re[0]:null},[jt]),Ye=f.useMemo(()=>{if(!jt||jt.length===0)return[];const Q=Qe();return jt.filter(re=>{if(!re.class_datetime)return!1;const se=new Date(re.class_datetime),xe=re.status;return se>=Q&&["scheduled","rescheduled"].includes(xe)}).sort((re,se)=>new Date(re.class_datetime)-new Date(se.class_datetime))},[jt]);f.useEffect(()=>{Array.isArray(lt==null?void 0:lt.scheduleRequests)?i(lt.scheduleRequests):i([])},[lt==null?void 0:lt.scheduleRequests]),f.useEffect(()=>{if(!jt||jt.length===0){c([]);return}const Q=Qe(),re=new Date(Q.getTime()+24*60*60*1e3),se=jt.filter(xe=>{if(!xe.class_datetime)return!1;const Te=new Date(xe.class_datetime),rt=xe.status;return Te>=Q&&Te<=re&&["scheduled","rescheduled"].includes(rt)}).sort((xe,Te)=>new Date(xe.class_datetime)-new Date(Te.class_datetime));c(se)},[jt]);const Z=f.useCallback(async()=>{var Q;if(Ks){h(!0);try{const re=Qe(),se=ar.filter(gt=>gt.is_active!==!1&&!gt.assigned_professor_id),{data:xe,error:Te}=await R.from("appointments").select(`
            *,
            student:profiles!student_id(full_name),
            professor:profiles!professor_id(full_name)
          `).in("status",["completed","missed","rescheduled"]).order("class_datetime",{ascending:!1}).limit(50);Te&&console.error("Erro classHistory:",Te);const{data:rt,error:ve}=await R.from("admin_notifications").select("*").in("type",["error","alert","system_failure"]).eq("status","active").order("created_at",{ascending:!1});ve&&console.error("Erro warnings:",ve);const{data:Ue}=await R.from("admin_notifications").select("details").eq("type","expiry_seen"),We=new Set;Ue==null||Ue.forEach(gt=>{var dt;(dt=gt.details)!=null&&dt.billing_id&&We.add(gt.details.billing_id)});const Oe=[];for(const gt of ue){const dt=new Date(gt.end_date),De=S0(dt,re);if(De>=0&&De<=5){if(We.has(gt.id))continue;const Ee=ar.find(qt=>qt.id===gt.user_id);Ee&&Ee.is_active!==!1&&Oe.push({student:Ee,billing:gt,daysUntilExpiry:De,packageName:((Q=gt.packages)==null?void 0:Q.name)||"Pacote"})}}const{data:ct,error:_t}=await R.from("admin_notifications").select("*").in("status",["seen","resolved","archived"]).order("resolved_at",{ascending:!1,nullsFirst:!1}).limit(50);_t&&console.error("Erro history:",_t),u({studentsWithoutProfessor:se,classHistory:xe||[],systemWarnings:rt||[],packagesExpiringSoon:Oe.sort((gt,dt)=>gt.daysUntilExpiry-dt.daysUntilExpiry),historicoNotifications:ct||[]})}catch(re){console.error("Erro ao carregar pendncias:",re),s({variant:"destructive",title:"Erro ao carregar pendncias",description:re.message})}finally{h(!1)}}},[Ks,ar,ue,jt,ge,s]);f.useEffect(()=>{Z()},[Z]),f.useEffect(()=>{if(!Ks)return;const Q=R.channel("online-users");return Q.on("presence",{event:"sync"},()=>{const re=Q.presenceState(),se=[];for(const Te in re)se.push(...re[Te]);const xe=Array.from(new Map(se.map(Te=>[Te.user_id,Te])).values());v(xe)}).subscribe(),()=>{R.removeChannel(Q)}},[Ks]),f.useMemo(()=>{var Q,re,se,xe;return{withoutProfessor:d.studentsWithoutProfessor.length,classHistory:((Q=d.classHistory)==null?void 0:Q.length)||0,expiring:d.packagesExpiringSoon.length,warnings:((re=d.systemWarnings)==null?void 0:re.length)||0,historico:((se=d.historicoNotifications)==null?void 0:se.length)||0,total:d.studentsWithoutProfessor.length+d.packagesExpiringSoon.length+(((xe=d.systemWarnings)==null?void 0:xe.length)||0)}},[d]);const ce=async(Q,re)=>{var se;y(`seen-${Q}-${re.id||((se=re.billing)==null?void 0:se.id)}`);try{if(Q==="expiring"){const{error:xe}=await R.from("admin_notifications").insert({type:"expiry_seen",title:"Alerta de Vencimento Visto",message:`Pacote de ${re.student.full_name} vencendo em ${re.daysUntilExpiry} dias.`,details:{billing_id:re.billing.id,student_id:re.student.id},student_id:re.student.id,status:"seen",resolved_at:new Date().toISOString()});if(xe)throw xe;u(Te=>({...Te,packagesExpiringSoon:Te.packagesExpiringSoon.filter(rt=>rt.billing.id!==re.billing.id)}))}else if(Q==="warning"){const{error:xe}=await R.from("admin_notifications").update({status:"seen",resolved_at:new Date().toISOString()}).eq("id",re.id);if(xe)throw xe;u(Te=>({...Te,systemWarnings:Te.systemWarnings.filter(rt=>rt.id!==re.id)}))}s({title:"Marcado como visto",description:"Item movido para o Histrico."})}catch(xe){console.error(xe),s({variant:"destructive",title:"Erro ao marcar como visto"})}finally{y(null)}},ke=Q=>{let re=Q.preferred_schedule||{};const se=jt.filter(Ue=>Ue.student_id===Q.id&&["scheduled","rescheduled","pending"].includes(Ue.status)&&new Date(Ue.class_datetime)>=Qe());if(se.length>0){const Ue={...re};se.forEach(We=>{const Oe=new Date(We.class_datetime),_t=new Intl.DateTimeFormat("en-US",{timeZone:"America/Sao_Paulo",hour12:!1,hour:"2-digit",minute:"2-digit",weekday:"long"}).formatToParts(Oe),gt=vs=>{var Ls;return(Ls=_t.find(Vs=>Vs.type===vs))==null?void 0:Ls.value},dt=gt("hour"),De=gt("minute"),Ee=gt("weekday").toLowerCase(),Ot={sunday:0,monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6}[Ee],Ft=`${dt}:${De}`;Ot!==void 0&&!Ue[Ot]&&(Ue[Ot]=Ft)}),re=Ue}const xe={...Q,preferred_schedule:re};C(xe),S(""),P(null),H(1);const Te=Object.keys(re).map(Number).sort((Ue,We)=>Ue-We),rt=Te[0],ve=rt!==void 0?re[rt]:"08:00";G({days:Te,time:ve}),X([]),j(!0)},J=async()=>{let Q={};I.days.forEach(se=>{const xe=N==null?void 0:N.preferred_schedule,Te=xe&&(xe[se]||xe[String(se)])||I.time;Te&&(Q[se]=Te)});const re=Object.keys(Q).map(Number);if([...new Set([...re,...re.map(String)])],re.length===0){s({variant:"destructive",title:"Sem preferncias",description:"Defina os dias/horrios preferidos do aluno no perfil ou selecione os dias abaixo."});return}te(!0);try{const se={},{data:xe}=await R.from("profiles").select("id, full_name").eq("role","professor").eq("is_active",!0),Te=(xe||[]).map(Oe=>Oe.id),rt=Qe(),{data:ve}=await R.from("appointments").select("professor_id, student_id, class_datetime, duration_minutes").in("professor_id",Te).in("status",["scheduled","rescheduled"]).gte("class_datetime",rt.toISOString()),Ue={};(ve||[]).forEach(Oe=>{const ct=new Date(Oe.class_datetime),gt=new Intl.DateTimeFormat("en-US",{timeZone:"America/Sao_Paulo",hour12:!1,hour:"2-digit",minute:"2-digit",weekday:"long"}).formatToParts(ct),dt=Ft=>{var vs;return(vs=gt.find(Ls=>Ls.type===Ft))==null?void 0:vs.value},Ee={sunday:0,monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6}[dt("weekday").toLowerCase()],qt=`${dt("hour")}:${dt("minute")}`,Ot=`${Oe.professor_id}-${Ee}-${qt}`;Ue[Ot]=Oe.student_id});for(const[Oe,ct]of Object.entries(Q)){const _t=Number(Oe),[gt,dt]=ct.split(":").map(Number),De=`${String(gt).padStart(2,"0")}:${String(dt).padStart(2,"0")}:00`,Ee=`${String(gt).padStart(2,"0")}:${String(dt).padStart(2,"0")}`,{data:qt}=await R.from("class_slots").select("professor_id, professor:professor_id(id, full_name)").eq("day_of_week",_t).eq("start_time",De).eq("status","active");(qt||[]).forEach(Ot=>{const Ft=Ot.professor_id,vs=`${Ft}-${_t}-${Ee}`,Ls=Ue[vs];if(Ls&&Ls!==(N==null?void 0:N.id)){console.log(`[Match] Slot ${vs} ocupado por outro aluno, ignorando`);return}se[Ft]||(se[Ft]={professor:Ot.professor,matchedDays:new Set,matchedSlots:[],totalSlotsRequired:re.length}),se[Ft].matchedDays.add(_t),se[Ft].matchedSlots.push({day_of_week:_t,start_time:ct})})}const We=Object.values(se).map(Oe=>({...Oe,matchedDaysCount:Oe.matchedDays.size,matchPercentage:Math.round(Oe.matchedDays.size/Oe.totalSlotsRequired*100)})).filter(Oe=>Oe.matchPercentage>0).sort((Oe,ct)=>ct.matchPercentage-Oe.matchPercentage);X(We),H(2),We.length===0&&s({variant:"destructive",title:"Nenhum professor disponvel",description:"Nenhum professor possui os horrios solicitados com status ATIVO (azul) e sem aulas agendadas."})}catch(se){console.error("Erro ao buscar professores:",se),s({variant:"destructive",title:"Erro ao buscar",description:se.message})}finally{te(!1)}},Se=async Q=>{if(!Q){P(null);return}try{const{data:re,error:se}=await R.from("class_slots").select("*").eq("professor_id",Q).order("day_of_week",{ascending:!0}).order("start_time",{ascending:!0});if(se)throw se;const xe=re||[],Te=xe.filter(Oe=>Oe.status==="active"),rt=xe.filter(Oe=>Oe.status==="filled"),ve={};ON.forEach((Oe,ct)=>{ve[ct]={name:Oe,active:Te.filter(_t=>_t.day_of_week===ct),filled:rt.filter(_t=>_t.day_of_week===ct),total:xe.filter(_t=>_t.day_of_week===ct)}});const We=[...new Set(Te.map(Oe=>Oe.day_of_week))].map(Oe=>ON[Oe]).join(", ");P({totalSlots:Te.length,filledSlots:rt.length,daysCovered:We,hasAvailability:Te.length>0,slotsByDay:ve})}catch(re){console.error("Erro ao verificar disponibilidade:",re),P(null)}};f.useEffect(()=>{_&&Se(_)},[_]);const Xe=async()=>{var Q;if(!N||!_){s({variant:"destructive",title:"Erro",description:"Selecione um professor para vincular."});return}B(!0);try{const re=Qe(),{data:se}=await R.from("appointments").select("class_datetime, student_id, student:profiles!student_id(full_name)").eq("professor_id",_).in("status",["scheduled","rescheduled"]).gte("class_datetime",re.toISOString()),xe={};(se||[]).forEach(De=>{var ut;const Ee=new Date(De.class_datetime),Ot=new Intl.DateTimeFormat("en-US",{timeZone:"America/Sao_Paulo",hour12:!1,hour:"2-digit",minute:"2-digit",weekday:"long"}).formatToParts(Ee),Ft=As=>{var cn;return(cn=Ot.find(Gr=>Gr.type===As))==null?void 0:cn.value},Ls={sunday:0,monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6}[Ft("weekday").toLowerCase()],Vs=`${Ft("hour")}:${Ft("minute")}`,Wr=`${Ls}-${Vs}`;xe[Wr]={studentId:De.student_id,studentName:((ut=De.student)==null?void 0:ut.full_name)||"Outro aluno"}});const Te=[],rt={0:"Domingo",1:"Segunda",2:"Tera",3:"Quarta",4:"Quinta",5:"Sexta",6:"Sbado"};for(const De of I.days){const Ee=I.time,qt=`${De}-${Ee}`,Ot=xe[qt];Ot&&Ot.studentId!==N.id&&Te.push({day:rt[De],time:Ee,occupiedBy:Ot.studentName})}if(Te.length>0){const De=Te.map(Ee=>`${Ee.day} s ${Ee.time} (ocupado por ${Ee.occupiedBy})`).join(", ");s({variant:"destructive",title:"Conflito de Horrio!",description:`No  possvel vincular. Os seguintes horrios j esto ocupados: ${De}`}),B(!1);return}const ve=Xs.find(De=>De.id===_),Ue=N.assigned_professor_id,We=(Q=Xs.find(De=>De.id===Ue))==null?void 0:Q.full_name,Oe={};I.days.forEach(De=>{Oe[De]=I.time});const{data:ct,error:_t}=await R.from("profiles").update({assigned_professor_id:null,pending_professor_id:_,pending_professor_status:"aguardando_aprovacao",pending_professor_requested_at:new Date().toISOString(),preferred_schedule:Oe}).eq("id",N.id).select();if(_t||!ct||ct.length===0)throw _t||new Error("Falha ao atualizar perfil do aluno.");const gt={type:"vinculacao",is_recurring:!1,student_name:N.full_name,old_professor_id:Ue,old_professor_name:We,preferred_schedule:Oe,days:I.days,time:I.time},{error:dt}=await R.from("solicitudes_clase").insert({alumno_id:N.id,profesor_id:_,horarios_propuestos:JSON.stringify(gt),status:"Pendiente",is_recurring:!1});if(dt)throw dt;u(De=>({...De,studentsWithoutProfessor:De.studentsWithoutProfessor.map(Ee=>Ee.id===N.id?{...Ee,pending_professor_id:_,pending_professor_status:"aguardando_aprovacao"}:Ee)})),j(!1),C(null),S(""),P(null),H(1),K(),X([]),await R.from("admin_notifications").insert({type:"assignment_resolved",message:`Vnculo solicitado: ${N.full_name} -> ${ve==null?void 0:ve.full_name}`,student_id:N.id,professor_id:_,status:"resolved",created_at:new Date,resolved_at:new Date}),s({title:"Solicitao enviada!",description:`Aguardando aprovao de ${(ve==null?void 0:ve.full_name)||"Professor"}. A solicitao aparecer na tela inicial do professor.`}),Ps==null||Ps()}catch(re){console.error("Erro ao enviar solicitao:",re),s({variant:"destructive",title:"Erro ao enviar solicitao",description:re.message})}finally{B(!1)}},W=async(Q,re)=>{var Ue,We,Oe,ct,_t,gt,dt;a(Q);const se=o.find(De=>De.solicitud_id===Q);if(!se){s({variant:"destructive",title:"Erro",description:"Solicitao no encontrada."}),a(null);return}let xe=null;try{xe=JSON.parse(se.horarios_propuestos)}catch{}const Te=(xe==null?void 0:xe.type)==="vinculacao",{error:rt}=await R.from("solicitudes_clase").update({status:re}).eq("solicitud_id",Q);if(rt){s({variant:"destructive",title:"Erro ao atualizar",description:rt.message}),a(null);return}if(Te){const De=se.alumno_id;if(re==="Aceita")try{const{error:Ee}=await R.from("profiles").update({assigned_professor_id:mt,pending_professor_id:null,pending_professor_status:null,pending_professor_requested_at:null}).eq("id",De);if(Ee)throw Ee;const{data:qt,error:Ot}=await R.rpc("transfer_student_data",{p_student_id:De,p_professor_id:mt});if(Ot)throw console.error("Erro na RPC transfer_student_data:",Ot),new Error("Falha ao transferir aulas e dados do aluno. Verifique se a funo RPC existe.");const Ft=qt||{appointments:0,logs:0,blocked_slots:0,released_slots:0};await R.from("admin_notifications").insert({type:"assignment_resolved",message:`Vinculao aprovada: ${(Ue=se.profile)==null?void 0:Ue.full_name}`,student_id:De,professor_id:mt,status:"resolved",created_at:new Date,resolved_at:new Date}),s({variant:"default",title:"Vinculao Aprovada!",description:`${((We=se.profile)==null?void 0:We.full_name)||"Aluno"} vinculado. (Aulas: ${Ft.appointments}, Liberados: ${Ft.released_slots}, Bloqueados: ${Ft.blocked_slots})`})}catch(Ee){await R.from("solicitudes_clase").update({status:"Pendiente"}).eq("solicitud_id",Q),s({variant:"destructive",title:"Erro ao vincular",description:Ee.message})}else if(re==="Rejeitada")try{const{error:Ee}=await R.from("profiles").update({assigned_professor_id:null,pending_professor_id:null,pending_professor_status:"rejeitado",pending_professor_requested_at:null}).eq("id",De);if(Ee)throw Ee;s({variant:"destructive",title:"Vinculao Rejeitada",description:`${((Oe=se.profile)==null?void 0:Oe.full_name)||"Aluno"} continua sem professor vinculado e reaparecer nas pendncias.`})}catch(Ee){s({variant:"destructive",title:"Erro ao rejeitar",description:Ee.message})}Ps&&Ps(Q),a(null);return}if((xe==null?void 0:xe.type)==="atribuicao_aulas"){const De=se.alumno_id;if(re==="Aceita")try{const Ee=xe,{error:qt}=await R.from("billing").insert({user_id:De,package_id:Ee.package_id,amount_paid:Ee.price,purchase_date:Ee.start_date,end_date:Ee.end_date,custom_package_name:Ee.is_recurring?Ee.package_name:null});if(qt)throw qt;const{error:Ot}=await R.from("assigned_packages_log").insert({professor_id:mt,student_id:De,package_id:Ee.package_id,observation:Ee.observation||"",assigned_classes:Ee.classes_count,custom_package_name:Ee.is_recurring?Ee.package_name:null,status:"Ativo"});if(Ot)throw Ot;if(Ee.is_recurring&&Ee.days&&Ee.days.length>0){const Ft=[],vs=Be(Ee.start_date),Ls=Be(Ee.end_date);let Vs=Qe()>vs?Qe():vs,Wr=0;const ut=Ee.duration_minutes||30;for(;Wr<Ee.classes_count&&Vs<=Ls;){const As=en(Vs);if(Ee.days.includes(As)){const cn=((ct=Ee.day_times)==null?void 0:ct[As])||Ee.time||"08:00",[Gr,Qd]=cn.split(":").map(Number),To=new Date(Vs.getFullYear(),Vs.getMonth(),Vs.getDate(),Gr,Qd,0);Ft.push({student_id:De,professor_id:mt,class_datetime:To.toISOString(),class_slot_id:null,status:"scheduled",duration_minutes:ut}),Wr++}Vs=oo(Vs,{days:1})}if(Ft.length>0){const{error:As}=await R.from("appointments").insert(Ft);if(As)throw As}}await R.from("profiles").update({assigned_professor_id:mt,pending_professor_id:null,pending_professor_status:null,pending_professor_requested_at:null,preferred_schedule:Ee.day_times||{}}).eq("id",De),s({variant:"default",title:"Aulas Aprovadas!",description:`Pacote "${Ee.package_name}" criado com ${Ee.classes_count} aulas para ${((_t=se.profile)==null?void 0:_t.full_name)||"Aluno"}.`})}catch(Ee){await R.from("solicitudes_clase").update({status:"Pendiente"}).eq("solicitud_id",Q),s({variant:"destructive",title:"Erro ao aprovar aulas",description:Ee.message})}else if(re==="Rejeitada")try{await R.from("profiles").update({pending_professor_id:null,pending_professor_status:"rejeitado",pending_professor_requested_at:null}).eq("id",De),s({variant:"destructive",title:"Aulas Rejeitadas",description:`${((gt=se.profile)==null?void 0:gt.full_name)||"Aluno"} no ter aulas criadas. Reaparecer nas pendncias.`})}catch(Ee){s({variant:"destructive",title:"Erro ao rejeitar",description:Ee.message})}Ps&&Ps(Q),a(null);return}if(re==="Aceita"&&se.is_recurring){if(typeof se.horarios_propuestos!="string"||!se.horarios_propuestos){s({variant:"destructive",title:"Erro de Agendamento",description:"Formato de horrio invlido."}),a(null);return}try{const De=JSON.parse(se.horarios_propuestos),Ee=se.alumno_id,{data:qt,error:Ot}=await R.from("billing").select("end_date, packages(number_of_classes, class_duration_minutes)").eq("user_id",Ee).gte("end_date",Qe().toISOString()).order("purchase_date",{ascending:!1}).limit(1).single();if(Ot||!qt)throw new Error("Fatura ativa do aluno no encontrada.");const Ft=Be(qt.end_date),vs=qt.packages.number_of_classes,Ls=qt.packages.class_duration_minutes,Vs=Math.ceil(Ls/15),{data:Wr,error:ut}=await R.from("class_slots").select("id, day_of_week, start_time, status").eq("professor_id",mt);if(ut)throw ut;const As=[],cn=new Set;let Gr=Qe(),Qd=0;for(;Gr<=Ft&&Qd<vs;){const To=en(Gr);if(De.days.includes(To)){const Kl=De.time,eM=Jm(Kl,"HH:mm:ss",Gr),_h=[];let Vy=!0;for(let Xl=0;Xl<Vs;Xl++){const Sh=ae(oo(eM,{minutes:Xl*15}),"HH:mm:ss"),Ql=Wr.find(Jd=>Jd.day_of_week===To&&Jd.start_time===Sh);if(!Ql||Ql.status!=="active"){Vy=!1;break}_h.push(Ql)}if(Vy){const Xl=_h[0],[Sh,Ql]=Kl.split(":").map(Number),Jd=new Date(Gr.getFullYear(),Gr.getMonth(),Gr.getDate(),Sh,Ql,0);As.push({student_id:Ee,professor_id:mt,class_datetime:Jd.toISOString(),class_slot_id:Xl.id,status:"scheduled",duration_minutes:Ls}),_h.forEach(tM=>cn.add(tM.id)),Qd++}}Gr=oo(Gr,{days:1})}if(As.length>0){const{error:To}=await R.from("appointments").insert(As,{onConflict:"class_slot_id, class_datetime"});if(To)throw new Error(`Falha ao criar aulas: ${To.message}`);if(cn.size>0){const{error:Kl}=await R.from("class_slots").update({status:"filled"}).in("id",Array.from(cn));if(Kl)throw new Error(`Falha ao bloquear horrios: ${Kl.message}`)}s({variant:"default",title:"Solicitao Aceita!",description:`${As.length} aulas agendadas e ${cn.size} horrios bloqueados.`})}else s({variant:"warning",title:"Aulas no agendadas",description:"Nenhum horrio correspondente foi encontrado para criar as aulas."})}catch(De){await R.from("solicitudes_clase").update({status:"Pendiente"}).eq("solicitud_id",Q),s({variant:"destructive",title:"Erro ao processar agendamento",description:De.message})}}else if(re==="Aceita"&&!se.is_recurring)try{const De=JSON.parse(se.horarios_propuestos),Ee=se.alumno_id,{data:qt,error:Ot}=await R.from("billing").select("packages(class_duration_minutes)").eq("user_id",Ee).gte("end_date",Qe().toISOString()).order("purchase_date",{ascending:!1}).limit(1).single();if(Ot||!qt)throw new Error("Fatura ativa do aluno no encontrada.");const Ft=((dt=qt.packages)==null?void 0:dt.class_duration_minutes)||30,vs=Be(De.date),[Ls,Vs]=De.time.split(":").map(Number),Wr=new Date(vs.getFullYear(),vs.getMonth(),vs.getDate(),Ls,Vs,0),{error:ut}=await R.from("appointments").insert({student_id:Ee,professor_id:mt,class_datetime:Wr.toISOString(),status:"scheduled",duration_minutes:Ft});if(ut)throw new Error(`Falha ao criar aula: ${ut.message}`);s({variant:"default",title:"Aula Pontual Agendada!",description:`Aula agendada para ${ae(vs,"dd/MM/yyyy")} s ${De.time.substring(0,5)}.`})}catch(De){await R.from("solicitudes_clase").update({status:"Pendiente"}).eq("solicitud_id",Q),s({variant:"destructive",title:"Erro ao processar aula pontual",description:De.message})}else re==="Rejeitada"&&s({variant:"destructive",title:"Solicitao Rejeitada"});Ps&&Ps(Q),a(null)},ne=Q=>{var re;try{if(!Q||typeof Q!="string"||!Q.startsWith("{"))return n.jsx("p",{className:"text-sm text-slate-500",children:"Detalhes no disponveis"});const se=JSON.parse(Q);return se.type==="vinculacao"?n.jsxs("div",{className:"mt-2 p-2 bg-purple-50 rounded-md border border-purple-200",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-purple-700",children:[n.jsx(za,{className:"w-4 h-4"}),n.jsx("span",{className:"font-semibold",children:"Solicitao de Vinculao"})]}),se.old_professor_name&&n.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:["Anteriormente com: ",se.old_professor_name]}),se.days&&se.days.length>0&&n.jsx("div",{className:"flex items-center gap-4 text-xs text-slate-600 mt-1",children:n.jsxs("span",{children:["Horrios: ",se.days.map(xe=>pc[xe]).join(", ")," s ",se.time]})})]}):se.type==="atribuicao_aulas"?n.jsxs("div",{className:"mt-2 p-2 bg-green-50 rounded-md border border-green-200",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-700",children:[n.jsx(mo,{className:"w-4 h-4"}),n.jsx("span",{className:"font-semibold",children:"Solicitao de Aulas"})]}),n.jsxs("div",{className:"text-xs text-green-600 mt-1 space-y-0.5",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Pacote:"})," ",se.package_name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Aulas:"})," ",se.classes_count," | ",n.jsx("strong",{children:"Valor:"})," R$ ",(re=se.price)==null?void 0:re.toFixed(2)]}),se.days&&se.days.length>0&&n.jsxs("p",{children:[n.jsx("strong",{children:"Dias:"})," ",se.days.map(xe=>pc[xe]).join(", ")]})]})]}):se.is_recurring?n.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-700 mt-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Bs,{className:"w-4 h-4 text-sky-600"}),n.jsx("span",{className:"font-semibold",children:se.time.substring(0,5)})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ti,{className:"w-4 h-4 text-sky-600"}),n.jsx("span",{className:"font-semibold",children:se.days.map(xe=>pc[xe]).join(", ")})]})]}):n.jsx("p",{className:"text-sm text-slate-500",children:"Aula individual"})}catch{return n.jsx("p",{className:"text-xs text-red-500",children:"Erro ao ler detalhes"})}},fe=async Q=>{Je(Q),_e(""),be(null),Ne(!0),wt(!0);try{const{data:re}=await R.from("class_materials").select("*").eq("appointment_id",Q.id).order("created_at",{ascending:!1});st(re||[])}catch(re){console.error("Erro ao carregar materiais:",re)}finally{wt(!1)}},de=Q=>{var se;const re=(se=Q.target.files)==null?void 0:se[0];if(re){if(re.type!=="application/pdf"){s({title:"Arquivo invlido",description:"Por favor, selecione um arquivo PDF.",variant:"destructive"});return}be(re)}},Fe=async()=>{var Q;if(!V.trim()){s({title:"Nome obrigatrio",description:"Por favor, insira o nome do material.",variant:"destructive"});return}if(!oe){s({title:"Arquivo obrigatrio",description:"Por favor, selecione um arquivo PDF.",variant:"destructive"});return}if(!(Re!=null&&Re.id)||!(Re!=null&&Re.student_id)){s({title:"Erro",description:"Informaes da aula no encontradas.",variant:"destructive"});return}at(!0);try{const{data:{user:re}}=await R.auth.getUser();if(!re)throw new Error("Usurio no autenticado");const se=oe.name.split(".").pop(),xe=`${Re.id}_${Date.now()}.${se}`,Te=`class-materials/${re.id}/${xe}`,{data:rt,error:ve}=await R.storage.from("class-materials").upload(Te,oe,{cacheControl:"3600",upsert:!1});if(ve)throw new Error(`Erro no upload: ${ve.message}`);const{data:Ue}=R.storage.from("class-materials").getPublicUrl(Te),We=Ue==null?void 0:Ue.publicUrl,{error:Oe}=await R.from("class_materials").insert({appointment_id:Re.id,student_id:Re.student_id,professor_id:re.id,material_name:V.trim(),file_name:oe.name,file_url:We,file_size_bytes:oe.size});if(Oe)throw await R.storage.from("class-materials").remove([Te]),new Error(`Erro ao salvar: ${Oe.message}`);s({title:"Material enviado!",description:`"${V}" foi adicionado com sucesso para ${((Q=Re.student)==null?void 0:Q.full_name)||"o aluno"}.`});const{data:ct}=await R.from("class_materials").select("*").eq("appointment_id",Re.id).order("created_at",{ascending:!1});st(ct||[]),_e(""),be(null),Ps&&Ps()}catch(re){console.error("Erro ao enviar PDF:",re),s({title:"Erro ao enviar",description:re.message||"Ocorreu um erro ao enviar o material. Tente novamente.",variant:"destructive"})}finally{at(!1)}},Ge=()=>{if(!Ks)return null;const Q=d.studentsWithoutProfessor||[],re=d.classHistory||[],se=d.packagesExpiringSoon||[],xe=d.systemWarnings||[],Te=[...d.historicoNotifications||[],...p],rt=ve=>ve?ve.length:0;return n.jsxs(Ct,{className:"mb-6 border-l-4 border-purple-500 shadow-sm",children:[n.jsx(Os,{className:"pb-3 bg-slate-50/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(Ow,{className:"h-6 w-6 text-purple-600"})}),n.jsxs("div",{children:[n.jsx(Ds,{className:"text-lg text-slate-800",children:"Painel Administrativo"}),n.jsx(tn,{children:"Central de controle e monitoramento"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(me,{variant:"outline",className:"text-purple-700 border-purple-300 bg-purple-50",children:[rt(Q)+rt(se)+rt(xe)," pendncia(s)"]}),n.jsx(Y,{variant:"ghost",size:"icon",onClick:Z,disabled:m,className:ee("h-8 w-8 hover:bg-purple-100 text-purple-600",m&&"animate-spin"),children:n.jsx($m,{className:"h-4 w-4"})})]})]})}),n.jsx(Et,{className:"pt-0 px-0",children:n.jsxs(Jo,{defaultValue:"sem_prof",className:"w-full",children:[n.jsx("div",{className:"px-6 border-b bg-white sticky top-0 z-10",children:n.jsxs(ci,{className:"w-full justify-start h-12 bg-transparent p-0 gap-6",children:[n.jsx(dr,{value:"sem_prof",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-purple-600 rounded-none h-full px-0 pb-0 text-slate-500 data-[state=active]:text-purple-700",children:n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx(ii,{className:"h-4 w-4"}),n.jsx("span",{children:"Sem Prof"}),rt(Q)>0&&n.jsx(me,{variant:"secondary",className:"bg-red-100 text-red-700 h-5 px-1.5 min-w-[1.25rem] text-[10px] flex justify-center items-center",children:rt(Q)})]})}),n.jsx(dr,{value:"aulas",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-purple-600 rounded-none h-full px-0 pb-0 text-slate-500 data-[state=active]:text-purple-700",children:n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx(ro,{className:"h-4 w-4"}),n.jsx("span",{children:"Aulas"})]})}),n.jsx(dr,{value:"vencendo",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-purple-600 rounded-none h-full px-0 pb-0 text-slate-500 data-[state=active]:text-purple-700",children:n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx(Bs,{className:"h-4 w-4"}),n.jsx("span",{children:"Vencendo"}),rt(se)>0&&n.jsx(me,{variant:"secondary",className:"bg-amber-100 text-amber-700 h-5 px-1.5 min-w-[1.25rem] text-[10px] flex justify-center items-center",children:rt(se)})]})}),n.jsx(dr,{value:"avisos",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-purple-600 rounded-none h-full px-0 pb-0 text-slate-500 data-[state=active]:text-purple-700",children:n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx(ao,{className:"h-4 w-4"}),n.jsx("span",{children:"Avisos"}),rt(xe)>0&&n.jsx(me,{variant:"secondary",className:"bg-orange-100 text-orange-700 h-5 px-1.5 min-w-[1.25rem] text-[10px] flex justify-center items-center",children:rt(xe)})]})}),n.jsx(dr,{value:"online",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-purple-600 rounded-none h-full px-0 pb-0 text-slate-500 data-[state=active]:text-purple-700",children:n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx(fl,{className:"h-4 w-4"}),[...ar,...Xs].filter(ve=>ve.is_online).length>0&&n.jsxs("span",{className:"absolute -top-1 -right-1 flex h-2 w-2",children:[n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),n.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]})]}),n.jsx("span",{children:"Online"}),[...ar,...Xs].filter(ve=>ve.is_online).length>0&&n.jsx(me,{variant:"secondary",className:"bg-green-100 text-green-700 h-5 px-1.5 min-w-[1.25rem] text-[10px] flex justify-center items-center",children:[...ar,...Xs].filter(ve=>ve.is_online).length})]})}),n.jsx(dr,{value:"historico",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-purple-600 rounded-none h-full px-0 pb-0 text-slate-500 data-[state=active]:text-purple-700 ml-auto",children:n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx(P3,{className:"h-4 w-4"}),n.jsx("span",{children:"Histrico"})]})})]})}),m?n.jsxs("div",{className:"flex justify-center items-center py-12",children:[n.jsx(Ie,{className:"h-8 w-8 animate-spin text-purple-600"}),n.jsx("span",{className:"ml-3 text-sm text-slate-500",children:"Atualizando painel..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(hs,{value:"sem_prof",className:"p-0",children:n.jsx(Mn,{className:"h-[300px] w-full",children:n.jsx("div",{className:"p-6",children:Q.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center text-slate-500",children:[n.jsx(Qu,{className:"h-12 w-12 text-green-100 text-green-500 mb-2"}),n.jsx("p",{children:"Tudo certo! Todos os alunos tm professor."})]}):n.jsx("div",{className:"space-y-3",children:Q.map(ve=>{var Ue;return n.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border shadow-sm hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(tr,{className:"h-10 w-10 border",children:n.jsx(sr,{className:"bg-purple-100 text-purple-700 font-bold",children:(Ue=ve.full_name)==null?void 0:Ue[0]})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-800",children:ve.full_name}),n.jsx("p",{className:"text-sm text-slate-500",children:"Aguardando vinculao"})]})]}),n.jsxs(Y,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white",onClick:()=>ke(ve),children:[n.jsx(za,{className:"h-4 w-4 mr-2"}),"Vincular"]})]},ve.id)})})})})}),n.jsx(hs,{value:"aulas",className:"p-0",children:n.jsx(Mn,{className:"h-[300px] w-full",children:n.jsx("div",{className:"p-6",children:re.length===0?n.jsx("div",{className:"text-center py-8 text-slate-500",children:"Nenhuma aula recente registrada."}):n.jsx("div",{className:"space-y-3",children:re.map(ve=>{var Ue;return n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg text-sm",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:ee("p-1.5 rounded-full",ve.status==="completed"?"bg-green-100 text-green-600":ve.status==="missed"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"),children:ve.status==="completed"?n.jsx(Ga,{className:"h-4 w-4"}):ve.status==="missed"?n.jsx(rn,{className:"h-4 w-4"}):n.jsx(ts,{className:"h-4 w-4"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-slate-700",children:(Ue=ve.student)==null?void 0:Ue.full_name}),n.jsx("p",{className:"text-xs text-slate-500",children:ae(new Date(ve.class_datetime),"dd 'de' MMMM 's' HH:mm",{locale:nt})})]})]}),n.jsx(me,{variant:"outline",className:"capitalize",children:ve.status})]},ve.id)})})})})}),n.jsx(hs,{value:"vencendo",className:"p-0",children:n.jsx(Mn,{className:"h-[300px] w-full",children:n.jsx("div",{className:"p-6",children:se.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center text-slate-500",children:[n.jsx(Qu,{className:"h-10 w-10 text-slate-200 mb-2"}),n.jsx("p",{children:"Nenhum pacote vencendo em breve."})]}):n.jsx("div",{className:"space-y-3",children:se.map(ve=>{var Ue,We;return n.jsxs("div",{className:"flex items-center justify-between p-4 bg-amber-50/50 border border-amber-100 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Lm,{className:"h-8 w-8 text-amber-500 opacity-80"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-slate-800",children:ve.custom_package_name||((Ue=ve.package_def)==null?void 0:Ue.name)||"Pacote"}),n.jsxs("p",{className:"text-sm text-slate-600",children:["Aluno: ",(We=ve.student)==null?void 0:We.full_name]}),n.jsxs("p",{className:"text-xs text-amber-600 font-medium mt-0.5",children:["Vence ",jc(new Date(ve.expiration_date),{locale:nt,addSuffix:!0})]})]})]}),n.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>{var Oe;return ce({type:"package_expiration",message:`Pacote expirando visto: ${(Oe=ve.student)==null?void 0:Oe.full_name}`,details:{package_id:ve.id},student_id:ve.student_id})},disabled:g,className:"text-amber-700 border-amber-200 hover:bg-amber-100",children:[n.jsx(bi,{className:"h-4 w-4 mr-2"}),"Marcar Visto"]})]},ve.id)})})})})}),n.jsx(hs,{value:"avisos",className:"p-0",children:n.jsx(Mn,{className:"h-[300px] w-full",children:n.jsx("div",{className:"p-6",children:xe.length===0?n.jsx("div",{className:"text-center py-8 text-slate-500",children:"Nenhum aviso do sistema."}):n.jsx("div",{className:"space-y-3",children:xe.map(ve=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50/50 border border-red-100 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ao,{className:"h-5 w-5 text-red-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-slate-800",children:ve.message}),n.jsx("p",{className:"text-xs text-slate-500",children:jc(new Date(ve.created_at),{locale:nt,addSuffix:!0})})]})]}),n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>ce(ve),disabled:g,className:"text-red-600 hover:bg-red-100",children:"Resolvido"})]},ve.id))})})})}),n.jsx(hs,{value:"online",className:"p-0",children:n.jsx(Mn,{className:"h-[300px] w-full",children:n.jsx("div",{className:"p-6",children:(()=>{const ve=[...ar,...Xs].filter(We=>We&&We.full_name).sort((We,Oe)=>{if(We.is_online&&!Oe.is_online)return-1;if(!We.is_online&&Oe.is_online)return 1;const ct=We.last_seen_at?new Date(We.last_seen_at):new Date(0);return(Oe.last_seen_at?new Date(Oe.last_seen_at):new Date(0))-ct}),Ue=ve.filter(We=>We.is_online).length;return ve.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center text-slate-500",children:[n.jsx("div",{className:"p-3 bg-slate-50 rounded-full mb-3",children:n.jsx(fl,{className:"h-8 w-8 text-slate-200"})}),n.jsx("p",{children:"Nenhum usurio cadastrado."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-4 p-3 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative flex h-3 w-3",children:[n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),n.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),n.jsxs("span",{className:"font-semibold text-green-800",children:[Ue," ",Ue===1?"usurio":"usurios"," online agora"]})]}),n.jsxs("span",{className:"text-xs text-green-600",children:["Total: ",ve.length," usurios"]})]}),n.jsx("div",{className:"space-y-2",children:ve.map((We,Oe)=>{var gt;const ct=We.is_online===!0,_t=We.last_seen_at?new Date(We.last_seen_at):null;return n.jsxs("div",{className:ee("flex items-center justify-between p-3 bg-white rounded-lg border transition-all",ct?"border-green-200 shadow-sm":"border-slate-100"),children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsxs(tr,{className:ee("h-9 w-9 border",ct?"border-green-200":"border-slate-200"),children:[n.jsx(Br,{src:We.photo_url}),n.jsx(sr,{className:ee("font-bold text-sm",ct?"bg-green-50 text-green-700":"bg-slate-50 text-slate-600"),children:(gt=We.full_name)==null?void 0:gt[0]})]}),n.jsx("span",{className:ee("absolute bottom-0 right-0 h-2.5 w-2.5 rounded-full border-2 border-white",ct?"bg-green-500":"bg-slate-300")})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-slate-800 text-sm",children:We.full_name}),n.jsx("div",{className:"flex items-center gap-1.5 text-xs text-slate-500",children:n.jsx(me,{variant:"outline",className:"capitalize text-[10px] h-4 px-1 bg-slate-50",children:We.role==="student"?"Aluno":We.role==="professor"?"Prof":We.role})})]})]}),n.jsx("div",{className:"text-right",children:ct?n.jsxs("span",{className:"inline-flex items-center gap-1.5 text-xs font-medium text-green-700 bg-green-50 px-2 py-0.5 rounded-full border border-green-100",children:[n.jsxs("span",{className:"relative flex h-1.5 w-1.5",children:[n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),n.jsx("span",{className:"relative inline-flex rounded-full h-1.5 w-1.5 bg-green-500"})]}),"Online"]}):n.jsx("div",{className:"text-xs text-slate-400",children:_t?n.jsxs("span",{children:["Visto ",jc(_t,{locale:nt,addSuffix:!0})]}):n.jsx("span",{children:"Nunca acessou"})})})]},We.id||Oe)})})]})})()})})}),n.jsx(hs,{value:"historico",className:"p-0",children:n.jsx(Mn,{className:"h-[300px] w-full",children:n.jsx("div",{className:"p-6",children:Te.length===0?n.jsxs("div",{className:"text-center py-8 text-slate-500",children:[n.jsx(ro,{className:"h-8 w-8 mx-auto text-slate-300 mb-2"}),n.jsx("p",{children:"Histrico vazio."})]}):n.jsx("div",{className:"space-y-2",children:Te.map((ve,Ue)=>n.jsx("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded border border-slate-100 opacity-75 grayscale-[0.5] hover:opacity-100 transition-opacity",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-1.5 bg-slate-200 rounded-full",children:n.jsx(Ga,{className:"h-3 w-3 text-slate-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-700",children:ve.message||ve.titulo||"Item resolvido"}),n.jsxs("p",{className:"text-xs text-slate-500",children:["Resolvido ",ve.resolved_at?ae(new Date(ve.resolved_at),"dd/MM HH:mm"):"Recentemente"]})]})]})},ve.id||Ue))})})})})]})]})})]})};if(ea&&Ks)return n.jsx("div",{className:"w-full",children:n.jsxs("div",{className:"w-full px-4 lg:px-8",children:[Ge(),n.jsx(Wt,{open:w,onOpenChange:j,children:n.jsxs(zt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsxs(Ut,{className:"flex items-center gap-2",children:[n.jsx(za,{className:"h-5 w-5 text-green-600"}),"Vincular Professor ao Aluno",n.jsxs(me,{variant:"outline",className:"ml-2",children:["Passo ",L," de 2"]})]}),n.jsx(rs,{children:L===1?"Informe as preferncias de horrio do aluno para encontrar professores compatveis":"Selecione um professor da lista de compatveis"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(tr,{className:"h-12 w-12",children:n.jsx(sr,{className:"bg-blue-100 text-blue-700 text-lg font-bold",children:(Nt=N==null?void 0:N.full_name)==null?void 0:Nt[0]})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-lg",children:N==null?void 0:N.full_name}),n.jsxs("p",{className:"text-sm text-slate-500",children:["Cdigo: ",(N==null?void 0:N.student_code)||"N/A"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Idioma"}),n.jsx("p",{className:"font-medium text-slate-800",children:"Espaol"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Nvel"}),n.jsx("p",{className:"font-medium text-slate-800",children:(N==null?void 0:N.spanish_level)||"A definir"})]}),(N==null?void 0:N.phone)&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Telefone"}),n.jsx("p",{className:"font-medium text-slate-800",children:N==null?void 0:N.phone})]}),(N==null?void 0:N.email)&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500",children:"E-mail"}),n.jsx("p",{className:"font-medium text-slate-800",children:N==null?void 0:N.email})]})]})]}),L===1&&n.jsx("div",{className:"text-center py-4 text-slate-600",children:n.jsx("p",{className:"text-sm",children:'Clique em "Buscar Professores" para ver os professores disponveis para este aluno.'})}),L===2&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[n.jsx("p",{className:"text-sm text-blue-800 font-semibold mb-2",children:"Agenda Desejada pelo Aluno:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:I.days.length>0?I.days.map(Q=>{var re;return n.jsxs(me,{variant:"outline",className:"bg-white border-blue-300 text-blue-700",children:[pc[Q]," s ",((re=N==null?void 0:N.preferred_schedule)==null?void 0:re[Q])||I.time]},Q)}):n.jsx("span",{className:"text-xs text-slate-500 italic",children:"Nenhuma preferncia definida"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Pe,{className:"text-base font-semibold",children:["Professores Compatveis (",q.length,")"]}),q.length>0?n.jsx(Mn,{className:"h-[250px]",children:n.jsx("div",{className:"space-y-2 pr-4",children:q.map((Q,re)=>{var se,xe,Te,rt,ve;return n.jsxs("div",{onClick:()=>{var Ue;S((Ue=Q.professor)==null?void 0:Ue.id)},className:ee("p-3 rounded-lg border-2 cursor-pointer transition-all",_===((se=Q.professor)==null?void 0:se.id)?"bg-green-50 border-green-500":"bg-white border-slate-200 hover:border-slate-400"),children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(tr,{className:"h-10 w-10",children:n.jsx(sr,{className:ee(Q.matchPercentage===100?"bg-green-500 text-white":Q.matchPercentage>=50?"bg-yellow-500 text-white":"bg-slate-500 text-white"),children:(Te=(xe=Q.professor)==null?void 0:xe.full_name)==null?void 0:Te[0]})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:(rt=Q.professor)==null?void 0:rt.full_name}),n.jsxs("p",{className:"text-xs text-slate-500",children:[Q.matchedDaysCount," de ",Q.totalDaysRequested," dias disponveis"]})]})]}),n.jsxs(me,{className:ee("text-sm",Q.matchPercentage===100?"bg-green-500":Q.matchPercentage>=50?"bg-yellow-500":"bg-orange-500"),children:[Q.matchPercentage,"% match"]})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[Q.matchedSlots.slice(0,6).map((Ue,We)=>{var Oe;return n.jsxs(me,{variant:"outline",className:"text-xs bg-green-50",children:[pc[Ue.day_of_week]," ",(Oe=Ue.start_time)==null?void 0:Oe.substring(0,5)]},We)}),Q.matchedSlots.length>6&&n.jsxs(me,{variant:"outline",className:"text-xs",children:["+",Q.matchedSlots.length-6]})]})]},((ve=Q.professor)==null?void 0:ve.id)||re)})})}):n.jsxs(Kn,{variant:"destructive",children:[n.jsx(ao,{className:"h-4 w-4"}),n.jsx(Sa,{children:"Nenhum professor encontrado"}),n.jsx(Xn,{children:"Tente ajustar os dias ou horrio de preferncia."})]})]}),_&&k&&n.jsxs(Kn,{className:"bg-green-50 border-green-200",children:[n.jsx(Qu,{className:"h-4 w-4 text-green-600"}),n.jsxs(Xn,{className:"text-green-800",children:[n.jsx("strong",{children:(Ht=Xs.find(Q=>Q.id===_))==null?void 0:Ht.full_name})," - Disponvel: ",k.daysCovered]})]})]})]}),n.jsx(Ts,{className:"gap-2",children:L===1?n.jsxs(n.Fragment,{children:[n.jsx(Y,{variant:"outline",onClick:()=>j(!1),children:"Cancelar"}),n.jsx(Y,{onClick:J,disabled:I.days.length===0||le,className:"bg-blue-600 hover:bg-blue-700",children:le?n.jsxs(n.Fragment,{children:[n.jsx(Ie,{className:"h-4 w-4 mr-2 animate-spin"}),"Buscando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(_o,{className:"h-4 w-4 mr-2"}),"Buscar Professores"]})})]}):n.jsxs(n.Fragment,{children:[n.jsx(Y,{variant:"outline",onClick:()=>H(1),children:"Voltar"}),n.jsx(Y,{onClick:Xe,disabled:!_||A,className:"bg-green-600 hover:bg-green-700",children:A?n.jsxs(n.Fragment,{children:[n.jsx(Ie,{className:"h-4 w-4 mr-2 animate-spin"}),"Vinculando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(za,{className:"h-4 w-4 mr-2"}),"Vincular Professor"]})})]})})]})})]})});const qe=f.useMemo(()=>{const[Q,re]=z.split("-").map(Number),se=new Date(Q,re-1,1),xe=new Date(Q,re,0,23,59,59),Te=jt.filter(Oe=>{const ct=new Date(Oe.class_datetime);return ct>=se&&ct<=xe}),rt=Te.filter(Oe=>Oe.status==="completed").length,ve=Te.filter(Oe=>Oe.status==="missed").length,Ue=Te.filter(Oe=>["scheduled","rescheduled"].includes(Oe.status)).length,We=Te.length||1;return{total:We,completed:rt,missed:ve,scheduled:Ue,completedPercent:Math.round(rt/We*100),missedPercent:Math.round(ve/We*100),scheduledPercent:Math.round(Ue/We*100)}},[jt]);return n.jsx("div",{className:"w-full",children:n.jsxs("div",{className:"w-full px-4 lg:px-8",children:[n.jsxs("div",{className:"mb-6 p-4 bg-white rounded-xl shadow-sm border border-slate-100 flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-sky-100 rounded-lg",children:n.jsx(ts,{className:"h-5 w-5 text-sky-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-base font-bold text-slate-800",children:"Resumo do Ms"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Filtrando estatsticas e grficos por perodo"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(Mt,{value:z,onValueChange:M,children:[n.jsx(kt,{className:"w-[200px] h-10",children:n.jsx(Rt,{placeholder:"Selecione o ms"})}),n.jsx(Tt,{children:E.map(Q=>n.jsx(ye,{value:Q.value,children:Q.value===`${Qe().getFullYear()}-${String(Qe().getMonth()+1).padStart(2,"0")}`?` ${Q.label} (Atual)`:Q.label},Q.value))})]}),n.jsx(me,{variant:"outline",className:ee("px-3 py-1.5 text-xs font-bold",z===`${Qe().getFullYear()}-${String(Qe().getMonth()+1).padStart(2,"0")}`?"bg-sky-50 text-sky-700 border-sky-200":"bg-amber-50 text-amber-700 border-amber-200"),children:z===`${Qe().getFullYear()}-${String(Qe().getMonth()+1).padStart(2,"0")}`?" PERODO ATUAL":" HISTRICO"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Ct,{className:"shadow-sm h-[400px] flex flex-col border-l-4 border-l-sky-500",children:[n.jsxs(Os,{className:"pb-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ds,{className:"text-lg font-bold text-slate-800",children:"Solicitaes Pendentes"}),n.jsxs(me,{className:ee("px-3 py-1 text-sm font-semibold",o.length>0?"bg-sky-500 text-white":"bg-slate-100 text-slate-600"),children:[o.length," pendentes"]})]}),n.jsx(tn,{children:"Solicitaes de aulas aguardando sua aprovao"})]}),n.jsx(Et,{className:"flex-1 overflow-y-auto",children:Mr?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx(Ie,{className:"w-6 h-6 animate-spin text-slate-400"})}):o.length>0?n.jsx("div",{className:"space-y-3",children:o.map(Q=>{var re,se,xe,Te;return n.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(tr,{className:"h-10 w-10",children:[n.jsx(Br,{src:(re=Q.profile)==null?void 0:re.avatar_url}),n.jsx(sr,{className:"bg-blue-100 text-blue-700",children:(xe=(se=Q.profile)==null?void 0:se.full_name)==null?void 0:xe[0]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-800",children:(Te=Q.profile)==null?void 0:Te.full_name}),ne(Q.horarios_propuestos)]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Y,{size:"sm",variant:"outline",className:"text-green-600 border-green-600 hover:bg-green-50",onClick:()=>W(Q.solicitud_id,"Aceita"),disabled:r===Q.solicitud_id,children:r===Q.solicitud_id?n.jsx(Ie,{className:"w-4 h-4 animate-spin"}):n.jsx(Ga,{className:"w-4 h-4"})}),n.jsx(Y,{size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",onClick:()=>W(Q.solicitud_id,"Rejeitada"),disabled:r===Q.solicitud_id,children:r===Q.solicitud_id?n.jsx(Ie,{className:"w-4 h-4 animate-spin"}):n.jsx(rn,{className:"w-4 h-4"})})]})]},Q.solicitud_id)})}):n.jsxs("div",{className:"text-center py-10",children:[n.jsx(M3,{className:"w-16 h-16 mx-auto mb-3 text-slate-300"}),n.jsx("p",{className:"text-slate-500",children:"No h solicitaes pendentes no momento"})]})})]}),n.jsxs(Ct,{className:"shadow-sm h-[400px] flex flex-col border-l-4 border-l-sky-500",children:[n.jsxs(Os,{className:"pb-3",children:[n.jsx(Ds,{className:"text-lg font-bold text-slate-800",children:"Aulas em seguida"}),n.jsx(tn,{children:"Prximas aulas agendadas"})]}),n.jsx(Et,{className:"flex-1 overflow-y-auto",children:Mr?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx(Ie,{className:"w-6 h-6 animate-spin text-slate-400"})}):Ye.length>0?n.jsx("div",{className:"space-y-4",children:Ye.slice(0,5).map(Q=>{var rt,ve;const re=Be(Q.class_datetime),se=ae(re,"EEEE, d 'de' MMMM",{locale:nt}),xe=ae(re,"HH:mm"),Te=ae(new Date(re.getTime()+(Q.duration_minutes||30)*6e4),"HH:mm");return n.jsxs("div",{className:"p-4 border rounded-lg bg-white hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-bold text-sky-700",children:["Espaol - ",((rt=Q.student)==null?void 0:rt.spanish_level)||"Bsico"]}),n.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[n.jsx("span",{className:"font-medium",children:"Aluno:"})," ",((ve=Q.student)==null?void 0:ve.full_name)||"N/A"]}),n.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-slate-500",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Ti,{className:"w-3 h-3"}),se]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Bs,{className:"w-3 h-3"}),xe," - ",Te]})]})]}),n.jsx(me,{className:"bg-sky-100 text-sky-700 border-sky-200",children:"Efetiva"})]}),n.jsx("div",{className:"mt-3 pt-3 border-t flex justify-end",children:n.jsxs(Y,{variant:"ghost",size:"sm",className:"text-slate-500 hover:text-slate-700",onClick:()=>fe(Q),children:[n.jsx(bs,{className:"w-4 h-4 mr-1"}),"Adicionar Material PDF"]})})]},Q.id)})}):n.jsxs("div",{className:"text-center py-10",children:[n.jsx(Ti,{className:"w-16 h-16 mx-auto mb-3 text-slate-300"}),n.jsx("p",{className:"text-slate-500",children:"Nenhuma aula agendada no momento"})]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Ct,{className:"shadow-sm h-[400px] flex flex-col border-l-4 border-l-sky-500",children:[n.jsx(Os,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Ds,{className:"text-lg font-bold text-slate-800",children:"Prxima Aula"}),$e&&n.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Comea ",jc(new Date($e.class_datetime),{locale:nt,addSuffix:!0})]})]}),$e&&n.jsx(me,{className:"bg-sky-100 text-sky-700 border-sky-200",children:"Efetiva"})]})}),n.jsx(Et,{className:"flex-1 overflow-y-auto",children:Mr?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx(Ie,{className:"w-6 h-6 animate-spin text-slate-400"})}):$e?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-xl font-bold text-sky-700",children:["Espaol - ",((or=$e.student)==null?void 0:or.spanish_level)||"Bsico"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-400 uppercase font-semibold",children:"Aluno"}),n.jsx("p",{className:"font-semibold text-slate-800 uppercase",children:((xt=$e.student)==null?void 0:xt.full_name)||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-400 uppercase font-semibold",children:"Durao"}),n.jsxs("p",{className:"font-semibold text-slate-800",children:[$e.duration_minutes||45,"m"]})]})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[n.jsx(Ti,{className:"w-4 h-4 text-slate-400"}),ae(new Date($e.class_datetime),"EEEE, d 'de' MMMM",{locale:nt})]}),n.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[n.jsx(Bs,{className:"w-4 h-4 text-slate-400"}),ae(new Date($e.class_datetime),"HH'h'mm")," - ",ae(new Date(new Date($e.class_datetime).getTime()+($e.duration_minutes||45)*6e4),"HH'h'mm")]}),n.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[n.jsx("span",{className:"text-xs uppercase font-semibold text-slate-400",children:"Nvel:"}),n.jsx("span",{children:((Jt=$e.student)==null?void 0:Jt.spanish_level)||"Intermedirio"})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsxs(Y,{variant:"outline",className:"flex-1",onClick:()=>fe($e),children:[n.jsx(bs,{className:"w-4 h-4 mr-2"}),"PDF Aulas"]}),n.jsx(Y,{asChild:!0,className:"flex-1 bg-emerald-500 hover:bg-emerald-600",children:n.jsx("a",{href:(e==null?void 0:e.meeting_link)||"https://meet.google.com/tmi-xwmg-kua",target:"_blank",rel:"noopener noreferrer",children:"Iniciar Aula"})})]})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Ti,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),n.jsx("p",{className:"text-slate-500",children:"Nenhuma aula agendada"})]})})]}),n.jsxs(Ct,{className:"shadow-sm h-[400px] flex flex-col border-l-4 border-l-sky-500",children:[n.jsxs(Os,{className:"pb-3",children:[n.jsx(Ds,{className:"text-lg font-bold text-slate-800",children:"Aulas no ms"}),n.jsx(tn,{children:"Total por status referente a todas as aulas do professor"})]}),n.jsx(Et,{className:"flex-1",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ga,{className:"w-4 h-4 text-emerald-500"}),n.jsxs("span",{className:"text-slate-600",children:[qe.completed,"/",qe.total," Completas"]})]}),n.jsxs("span",{className:"font-semibold text-slate-700",children:[qe.completedPercent,"%"]})]}),n.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2",children:n.jsx("div",{className:"bg-emerald-500 h-2 rounded-full transition-all duration-500",style:{width:`${qe.completedPercent}%`}})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ii,{className:"w-4 h-4 text-orange-500"}),n.jsxs("span",{className:"text-slate-600",children:[qe.missed,"/",qe.total," Falta Aluno"]})]}),n.jsxs("span",{className:"font-semibold text-slate-700",children:[qe.missedPercent,"%"]})]}),n.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2",children:n.jsx("div",{className:"bg-orange-500 h-2 rounded-full transition-all duration-500",style:{width:`${qe.missedPercent}%`}})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ts,{className:"w-4 h-4 text-sky-500"}),n.jsxs("span",{className:"text-slate-600",children:[qe.scheduled,"/",qe.total," Aulas Agendadas"]})]}),n.jsxs("span",{className:"font-semibold text-slate-700",children:[qe.scheduledPercent,"%"]})]}),n.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2",children:n.jsx("div",{className:"bg-sky-500 h-2 rounded-full transition-all duration-500",style:{width:`${qe.scheduledPercent}%`}})})]})]})})]})]})]}),n.jsxs("div",{className:"mt-10",children:[n.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-6",children:"Atalhos Rpidos"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(Ct,{className:"hover:shadow-md transition-all cursor-pointer group border-slate-200",onClick:()=>D(!0),children:n.jsxs(Et,{className:"p-6 flex flex-col items-center text-center",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:n.jsx(dd,{className:"w-6 h-6 text-emerald-600"})}),n.jsx("h3",{className:"font-bold text-slate-800 mb-1",children:"My Earnings"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Detalhes de ganhos por aulas agendadas"})]})}),n.jsx(Ct,{className:"hover:shadow-md transition-all cursor-pointer group border-slate-200",onClick:()=>t&&t("servicos"),children:n.jsxs(Et,{className:"p-6 flex flex-col items-center text-center",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-sky-100 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:n.jsx(Ow,{className:"w-6 h-6 text-sky-600"})}),n.jsx("h3",{className:"font-bold text-slate-800 mb-1",children:"Servios"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Acessar ferramentas e servios disponveis"})]})}),n.jsx(Ct,{className:"hover:shadow-md transition-all cursor-pointer group border-slate-200",onClick:()=>t&&t("avisos"),children:n.jsxs(Et,{className:"p-6 flex flex-col items-center text-center",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-rose-100 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:n.jsx(fd,{className:"w-6 h-6 text-rose-600"})}),n.jsx("h3",{className:"font-bold text-slate-800 mb-1",children:"Avisos"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Ver comunicados e notcias importantes"})]})}),n.jsx(Ct,{className:"hover:shadow-md transition-all cursor-pointer group border-slate-200",onClick:()=>t&&t("agenda"),children:n.jsxs(Et,{className:"p-6 flex flex-col items-center text-center",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-sky-100 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:n.jsx(ts,{className:"w-6 h-6 text-sky-600"})}),n.jsx("h3",{className:"font-bold text-slate-800 mb-1",children:"Agenda"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Visualize sua escala de aulas agendadas"})]})})]})]}),n.jsx(Wt,{open:w,onOpenChange:j,children:n.jsx(zt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:n.jsx(Bt,{children:n.jsxs(Ut,{className:"flex items-center gap-2",children:[n.jsx(za,{className:"h-5 w-5 text-green-600"}),"Vincular Professor ao Aluno",n.jsxs(me,{variant:"outline",className:"ml-2",children:["Passo ",L," de 2"]})]})})})}),n.jsx(Wt,{open:ie,onOpenChange:Ne,children:n.jsxs(zt,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsxs(Ut,{className:"flex items-center gap-2",children:[n.jsx(bs,{className:"h-5 w-5 text-sky-600"}),"Adicionar Material PDF"]}),n.jsx(rs,{children:((xr=Re==null?void 0:Re.student)==null?void 0:xr.full_name)&&n.jsxs("span",{children:["Material para aula com ",n.jsx("strong",{children:Re.student.full_name})]})})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"pdf-name",children:"Nome do Material *"}),n.jsx(et,{id:"pdf-name",placeholder:"Ex: Exerccios Captulo 5",value:V,onChange:Q=>_e(Q.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"pdf-file",children:"Arquivo PDF *"}),n.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center hover:border-sky-400 transition-colors",children:[n.jsx("input",{type:"file",id:"pdf-file",accept:".pdf,application/pdf",className:"hidden",onChange:de}),n.jsxs("label",{htmlFor:"pdf-file",className:"cursor-pointer",children:[n.jsx(Un,{className:"w-10 h-10 mx-auto mb-2 text-slate-400"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Clique para selecionar ou arraste o arquivo"}),n.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Apenas arquivos PDF"})]})]}),oe&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-sky-50 rounded-lg border border-sky-200",children:[n.jsx(bs,{className:"w-5 h-5 text-sky-600"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:oe.name}),n.jsxs("p",{className:"text-xs text-slate-500",children:[(oe.size/1024).toFixed(1)," KB"]})]}),n.jsx(Y,{type:"button",variant:"ghost",size:"sm",onClick:()=>be(null),className:"text-slate-400 hover:text-red-500",children:n.jsx(rn,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"pt-4 border-t",children:[n.jsxs("h4",{className:"text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2",children:[n.jsx(ro,{className:"w-4 h-4"}),"Materiais j enviados nesta aula"]}),bt?n.jsx("div",{className:"flex justify-center py-4",children:n.jsx(Ie,{className:"w-6 h-6 animate-spin text-slate-300"})}):Gt.length>0?n.jsx("div",{className:"space-y-2 max-h-[180px] overflow-y-auto pr-2 custom-scrollbar",children:Gt.map(Q=>n.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-md bg-slate-50 border border-slate-100 group",children:[n.jsx("div",{className:"p-1.5 bg-white rounded border border-slate-200",children:n.jsx(bs,{className:"w-4 h-4 text-slate-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-slate-700 truncate",title:Q.material_name,children:Q.material_name}),n.jsx("p",{className:"text-[10px] text-slate-400 truncate",children:Q.file_name})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Y,{variant:"ghost",size:"icon",className:"h-7 w-7 text-slate-400 hover:text-sky-600",asChild:!0,children:n.jsx("a",{href:Q.file_url,target:"_blank",rel:"noopener noreferrer",children:n.jsx(Om,{className:"w-3.5 h-3.5"})})}),n.jsx(Y,{variant:"ghost",size:"icon",className:"h-7 w-7 text-slate-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",onClick:async()=>{if(window.confirm("Excluir este material?"))try{const re=Q.file_url.split("/public/class-materials/")[1];re&&await R.storage.from("class-materials").remove([re]);const{error:se}=await R.from("class_materials").delete().eq("id",Q.id);if(se)throw se;st(xe=>xe.filter(Te=>Te.id!==Q.id)),s({title:"Material removido"})}catch(re){console.error(re),s({title:"Erro ao remover",variant:"destructive"})}},children:n.jsx(oi,{className:"w-3.5 h-3.5"})})]})]},Q.id))}):n.jsx("p",{className:"text-xs text-center py-4 text-slate-400 bg-slate-50 rounded-md border border-dashed",children:"Nenhum material enviado para esta aula."})]})]}),n.jsxs(Ts,{children:[n.jsx(Y,{onClick:()=>Ne(!1),children:"Fechar"}),n.jsx(Y,{onClick:Fe,className:"bg-sky-600 hover:bg-sky-700",disabled:Ce||!V.trim()||!oe,children:Ce?n.jsxs(n.Fragment,{children:[n.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"})," Enviando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Un,{className:"mr-2 h-4 w-4"})," Enviar Material"]})})]})]})}),n.jsx(Wt,{open:O,onOpenChange:D,children:n.jsxs(zt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsxs(Ut,{className:"flex items-center gap-2 text-2xl font-bold text-slate-800",children:[n.jsx(dd,{className:"h-6 w-6 text-emerald-600"}),"MY EARNINGS"]}),n.jsxs(rs,{children:["Detalhamento de ganhos baseados em aulas completadas (Taxa: R$ ",$.toFixed(2)," / 30 min)"]})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ti,{className:"h-5 w-5 text-slate-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Perodo"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Selecione o ms para visualizar"})]})]}),n.jsxs(Mt,{value:z,onValueChange:M,children:[n.jsx(kt,{className:"w-[220px]",children:n.jsx(Rt,{placeholder:"Selecione o ms"})}),n.jsx(Tt,{children:E.map(Q=>n.jsx(ye,{value:Q.value,children:Q.label},Q.value))})]})]}),n.jsx("div",{className:"flex items-center justify-center",children:n.jsxs(me,{variant:"outline",className:ee("text-lg px-4 py-2 font-semibold",T.isCurrentMonth?"bg-emerald-50 text-emerald-700 border-emerald-300":"bg-amber-50 text-amber-700 border-amber-300"),children:[T.isCurrentMonth?" Ms Atual: ":" Histrico: ",T.monthLabel]})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[n.jsx(Ct,{className:"bg-emerald-600 text-white border-none shadow-sm",children:n.jsxs(Et,{className:"p-4 flex flex-col items-center justify-center text-center",children:[n.jsx("p",{className:"text-xs font-semibold opacity-80 uppercase mb-1",children:"Ganhos do Ms"}),n.jsxs("h3",{className:"text-2xl font-bold",children:["R$ ",T.totalEarnings.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})}),n.jsx(Ct,{className:"bg-sky-600 text-white border-none shadow-sm",children:n.jsxs(Et,{className:"p-4 flex flex-col items-center justify-center text-center",children:[n.jsx("p",{className:"text-xs font-semibold opacity-80 uppercase mb-1",children:"Tempo em Aula"}),n.jsx("h3",{className:"text-2xl font-bold",children:F(T.totalMinutes)})]})}),n.jsx(Ct,{className:"bg-purple-600 text-white border-none shadow-sm",children:n.jsxs(Et,{className:"p-4 flex flex-col items-center justify-center text-center",children:[n.jsx("p",{className:"text-xs font-semibold opacity-80 uppercase mb-1",children:"Unidades (30m)"}),n.jsx("h3",{className:"text-2xl font-bold",children:T.totalUnits.toFixed(1)})]})}),n.jsx(Ct,{className:"bg-indigo-600 text-white border-none shadow-sm",children:n.jsxs(Et,{className:"p-4 flex flex-col items-center justify-center text-center",children:[n.jsx("p",{className:"text-xs font-semibold opacity-80 uppercase mb-1",children:"Aulas Realizadas"}),n.jsx("h3",{className:"text-2xl font-bold",children:T.classCount})]})})]}),n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs(Sn,{children:[n.jsx(Cn,{className:"bg-slate-50",children:n.jsxs(pt,{children:[n.jsx(Me,{className:"text-xs font-bold uppercase",children:"Aluno"}),n.jsx(Me,{className:"text-xs font-bold uppercase",children:"Durao"}),n.jsx(Me,{className:"text-xs font-bold uppercase",children:"Tempo Total"}),n.jsx(Me,{className:"text-xs font-bold uppercase",children:"Qtd (30m)"}),n.jsx(Me,{className:"text-xs font-bold uppercase",children:"Unitrio"}),n.jsx(Me,{className:"text-xs font-bold uppercase text-right",children:"Valor Estimado"})]})}),n.jsx(En,{children:T.groupedList.length>0?T.groupedList.map((Q,re)=>n.jsxs(pt,{children:[n.jsx(we,{className:"font-medium text-slate-700",children:Q.name}),n.jsxs(we,{children:[Q.typicalDuration," min"]}),n.jsx(we,{children:F(Q.totalMinutes)}),n.jsx(we,{children:n.jsx(me,{variant:"outline",children:Q.units.toFixed(1)})}),n.jsxs(we,{className:"text-slate-500",children:["R$ ",$.toFixed(2)]}),n.jsxs(we,{className:"text-right font-bold text-emerald-600",children:["R$ ",Q.earnings.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]},re)):n.jsx(pt,{children:n.jsx(we,{colSpan:6,className:"text-center py-8 text-slate-400",children:"Nenhuma aula concluda encontrada."})})})]})})]}),n.jsx(Ts,{children:n.jsx(Y,{variant:"outline",onClick:()=>D(!1),children:"Fechar"})})]})})]})})},Di=Array.from({length:68},(e,t)=>{const s=420+t*15,r=Math.floor(s/60),a=s%60;return`${String(r).padStart(2,"0")}:${String(a).padStart(2,"0")}`}),JY=({rating:e,setRating:t})=>n.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(s=>n.jsx(ca,{className:`h-6 w-6 cursor-pointer ${e>=s?"text-yellow-400 fill-yellow-400":"text-gray-300"}`,onClick:()=>t&&t(s)},s))}),ZY=({appointment:e,isOpen:t,onClose:s,onFeedbackSent:r})=>{var x,g,y,b;const{toast:a}=Pt(),[o,i]=f.useState(!1),[l,c,d,u]=Si("feedback_draft",{ratings:{fala:0,leitura:0,escrita:0,compreensao:0,audicao:0,gramatica:0,pronuncia:0,vocabulario:0},comment:""}),m=(v,w)=>{u("ratings",{...l.ratings,[v]:w})},h=()=>{d()},p=async()=>{var j,N;const v=l.ratings,w=l.comment;if(Object.values(v).some(C=>C===0)){a({variant:"destructive",title:"Avaliao incompleta",description:"Por favor, preencha todas as estrelas."});return}i(!0);try{const{data:C,error:_}=await R.from("class_feedback").insert([{appointment_id:e.id,professor_id:e.professor_id,student_id:e.student_id,comment:w,...v}]).select().single();if(_)throw _;const{error:S}=await R.from("appointments").update({status:"completed",feedback_id:C.id}).eq("id",e.id);if(S)throw S;const{error:O}=await R.from("assigned_packages_log").insert({professor_id:e.professorId,student_id:e.student_id,package_id:e.customPackageId,assigned_classes:-1,status:"completed",observation:`Dbito de aula concluda: ${ae(Be(e.class_datetime),"dd/MM/yyyy HH:mm")}`});O&&console.error("Error creating debit log:",O);const{error:D}=await R.from("notifications").insert({user_id:e.student_id,type:"class_feedback",content:{message:`Sua aula de ${(j=e.student)!=null&&j.spanish_level?"Espanhol":"Ingls"} foi avaliada.`,subject:(N=e.student)!=null&&N.spanish_level?"Espanhol":"Ingls",appointmentId:e.id,ratings:v,comment:w}});D&&console.error("Error creating feedback notification:",D),a({variant:"default",title:"Feedback enviado!",description:"O aluno foi notificado sobre a avaliao."}),h(),r(),s()}catch(C){a({variant:"destructive",title:"Erro ao enviar feedback",description:C.message})}finally{i(!1)}};return e?n.jsx(Wt,{open:t,onOpenChange:s,children:n.jsxs(zt,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsx(Ut,{children:"Avaliar Aluno"}),n.jsxs(rs,{className:"flex items-center gap-4 pt-2",children:[n.jsxs(tr,{children:[n.jsx(Br,{src:(x=e.student)==null?void 0:x.avatar_url}),n.jsx(sr,{children:(y=(g=e.student)==null?void 0:g.full_name)==null?void 0:y[0]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold",children:(b=e.student)==null?void 0:b.full_name}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx(ts,{className:"h-3 w-3"})," ",ae(Be(e.class_datetime),"dd/MM/yyyy"),n.jsx(Bs,{className:"h-3 w-3"})," ",ae(Be(e.class_datetime),"HH:mm")]})]})]})]}),n.jsxs("div",{className:"space-y-3 py-4 max-h-[50vh] overflow-y-auto pr-2",children:[Object.keys(l.ratings).map(v=>n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("p",{className:"capitalize text-sm font-medium",children:v.replace("_"," ")}),n.jsx(JY,{rating:l.ratings[v],setRating:w=>m(v,w)})]},v)),n.jsx(Jn,{placeholder:"Adicione um comentrio sobre o desempenho do Aluno...",value:l.comment,onChange:v=>u("comment",v.target.value),className:"mt-4"})]}),n.jsx(Ts,{children:n.jsx(Y,{onClick:p,disabled:o,className:"bg-sky-600 hover:bg-sky-700 text-white",children:o?n.jsxs(n.Fragment,{children:[n.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"})," Salvando..."]}):"Salvar"})})]})}):null},eK=({appointment:e,isOpen:t,onClose:s,onReschedule:r})=>{var D,z,M,U;const{toast:a}=Pt(),[o,i]=f.useState(!1),[l,c,d,u]=Si("reschedule_draft",{newDate:null,newTime:"",observation:""}),m=l.newDate,h=f.useMemo(()=>m?new Date(m):null,[m]),p=l.newTime,x=l.observation,[g,y]=f.useState(Di.filter($=>$>="07:00"&&$<="23:30")),[b,v]=f.useState(!1),[w,j]=f.useState(!1),N=e!=null&&e.class_datetime?Be(e.class_datetime):null,C=N&&e.duration_minutes?ae(new Date(N.getTime()+e.duration_minutes*6e4),"HH:mm"):"N/A",_=N?`${ae(N,"HH:mm")} - ${C}`:"N/A",S=f.useCallback(async $=>{if(!$||!(e!=null&&e.professorId)||!(e!=null&&e.duration_minutes)){y(Di.filter(K=>K>="07:00"&&K<="23:30"));return}v(!0);const E=ae($,"yyyy-MM-dd"),T=en($),{data:F,error:k}=await R.from("class_slots").select("start_time").eq("professor_id",e.professorId).eq("day_of_week",T).eq("status","active");if(k){console.error("Error fetching preferred slots:",k),v(!1),y(Di.filter(K=>K>="07:00"&&K<="23:30"));return}const P=new Set(F.map(K=>K.start_time.substring(0,5))),{data:A,error:B}=await R.from("appointments").select("class_datetime, duration_minutes, id").eq("professor_id",e.professorId).in("status",["scheduled","rescheduled","pending"]).gte("class_datetime",`${E}T00:00:00-03:00`).lte("class_datetime",`${E}T23:59:59-03:00`);if(B){console.error("Error fetching day appointments:",B),v(!1),y(Di.filter(K=>K>="07:00"&&K<="23:30"));return}const L=new Set,H=e.duration_minutes,I=Math.ceil(H/15);A.forEach(K=>{if(K.id===e.id)return;const q=Be(K.class_datetime),X=K.duration_minutes||H,le=Math.ceil(X/15);for(let te=0;te<le;te++){const ie=ae(new Date(q.getTime()+te*15*6e4),"HH:mm");L.add(ie)}});const G=Di.filter(K=>{if(K<"07:00"||K>"23:30")return!1;const q=Jm(K,"HH:mm",$);if(Bf(Qe(),q))return!1;for(let X=0;X<I;X++){const le=ae(oo(q,{minutes:X*15*6e4}),"HH:mm");if(le>"23:30"||L.has(le)||!P.has(le))return!1}return!0});y(G),v(!1)},[e==null?void 0:e.professorId,e==null?void 0:e.duration_minutes,e==null?void 0:e.id]);f.useEffect(()=>{h&&xx(h)?(S(h),u("newTime","")):y(Di.filter($=>$>="07:00"&&$<="23:30"))},[m,S]);const O=async()=>{if(!h||!p){a({variant:"destructive",title:"Campos obrigatrios",description:"Selecione uma nova data e um novo horrio."});return}i(!0);try{const[$,E]=p.split(":").map(Number),T=new Date(h.getFullYear(),h.getMonth(),h.getDate(),$,E,0);if(!xx(T))throw new Error("A data e hora selecionadas so invlidas.");const F=T.toISOString(),{error:k}=await R.from("appointments").update({class_datetime:F,status:"scheduled"}).eq("id",e.id);if(k)throw k;const{error:P}=await R.from("assigned_packages_log").insert({professor_id:e.professorId,student_id:e.student_id,package_id:e.customPackageId,assigned_classes:1,status:"rescheduled_credit",observation:`Crdito devolvido pela remarcao (Prof.) da aula original em ${ae(Be(e.class_datetime),"dd/MM/yyyy")}. Novo horrio: ${ae(h,"dd/MM/yyyy")} ${p}. Motivo: ${x}`});P&&console.error("Error creating credit log:",P),await R.from("notifications").insert({user_id:e.student_id,type:"class_rescheduled",content:{message:`Sua aula foi reagendada pelo professor para ${ae(h,"dd/MM/yyyy")} s ${p}.`,newDateTime:F,oldDateTime:e.class_datetime}}),a({variant:"default",title:"Aula Reagendada!",description:`Aula de ${e.student.full_name} reagendada para ${ae(h,"dd/MM/yyyy")} s ${p}.`}),d(),r(),s()}catch($){a({variant:"destructive",title:"Erro ao salvar reagendamento",description:$.message})}finally{i(!1)}};return e?n.jsx(Wt,{open:t,onOpenChange:s,children:n.jsxs(zt,{className:"sm:max-w-[480px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsx(Ut,{children:"Reagendar Aula"}),n.jsx(rs,{className:"pt-2",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(tr,{children:[n.jsx(Br,{src:(D=e.student)==null?void 0:D.avatar_url}),n.jsx(sr,{children:(M=(z=e.student)==null?void 0:z.full_name)==null?void 0:M[0]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-slate-800",children:(U=e.student)==null?void 0:U.full_name}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx(ts,{className:"h-3 w-3"})," ",ae(Be(e.class_datetime),"dd/MM/yyyy"),n.jsx(Bs,{className:"h-3 w-3"})," ",_]})]})]})})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-sky-600 flex items-center",children:"Nova Data"}),n.jsxs(Ba,{open:w,onOpenChange:j,children:[n.jsx(Ua,{asChild:!0,children:n.jsxs(Y,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[n.jsx(ts,{className:"mr-2 h-4 w-4"}),h?ae(h,"dd/MM/yyyy",{locale:nt}):n.jsx("span",{children:"dd/mm/aaaa"})]})}),n.jsx(da,{className:"w-auto p-0",children:n.jsx(sl,{mode:"single",selected:h,onSelect:$=>{u("newDate",$?$.toISOString():null),j(!1)},initialFocus:!0,locale:nt,disabled:$=>$<new Date})})]}),n.jsx("h4",{className:"text-sm font-semibold text-sky-600 flex items-center",children:"Novo Horrio"}),n.jsxs(Mt,{onValueChange:$=>u("newTime",$),value:p,disabled:b||!h,children:[n.jsx(kt,{className:"w-full",children:n.jsx(Rt,{placeholder:b?"Carregando horrios...":"Selecione um horrio disponvel..."})}),n.jsx(Tt,{className:"max-h-60 overflow-y-auto",children:g.length>0?g.map($=>n.jsx(ye,{value:$,children:$},$)):n.jsx("div",{className:"p-2 text-center text-slate-500",children:h?"Nenhum horrio disponvel nas preferncias.":"Selecione uma data primeiro."})})]}),n.jsx("h4",{className:"text-sm font-semibold text-sky-600 mt-6",children:"Descrio"}),n.jsx(Jn,{placeholder:"Descreva o motivo do reagendamento...",value:x,onChange:$=>u("observation",$.target.value)})]}),n.jsx(Ts,{children:n.jsx(Y,{onClick:O,disabled:o||!h||!p,className:"bg-sky-600 hover:bg-sky-700",children:o?n.jsxs(n.Fragment,{children:[n.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"})," Salvar"]}):"Salvar"})})]})}):null},IN=({dashboardData:e})=>{var ce,ke;const{toast:t}=Pt(),[s,r]=f.useState(""),[a,o]=f.useState(null),[i,l]=f.useState("TODAS"),[c,d]=f.useState("all"),[u,m]=f.useState(null),[h,p]=f.useState(!1),[x,g]=f.useState(!1),[y,b]=f.useState(!1),[v,w]=f.useState(""),[j,N]=f.useState(""),[C,_]=f.useState(1),[S,O]=f.useState(10),D=f.useMemo(()=>{const J=Qe();return`${J.getFullYear()}-${String(J.getMonth()+1).padStart(2,"0")}`},[]),z=(e==null?void 0:e.data)||{},M=(e==null?void 0:e.loading)||!1,U=e==null?void 0:e.professorId,$=e==null?void 0:e.onUpdate,E=(e==null?void 0:e.isSuperadmin)||!1,T=z.professors||[],F=z.appointments||[],k=z.packages||[],P=z.can_manage_classes!==!1,A=e==null?void 0:e.globalProfessorFilter,[B,L]=f.useState("all"),H=A&&A!=="all"?A:B,[I,G]=f.useState(null),[K,q]=f.useState(!1),[X,le]=f.useState(!1),[te,ie]=f.useState(null),[Ne,Re]=f.useState(""),[Je,V]=f.useState(null),[_e,oe]=f.useState(!1),[be,Ce]=f.useState([]),[at,Gt]=f.useState(!1);f.useEffect(()=>{(async()=>{if(!E||B==="all"){G(null);return}q(!0);try{const{data:Se,error:Xe}=await R.from("class_slots").select("*").eq("professor_id",B).in("status",["active","filled"]);if(Xe)throw Xe;const W=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],ne={};for(let de=0;de<7;de++)ne[de]={name:W[de],active:[],filled:[]};(Se||[]).forEach(de=>{const Fe=de.day_of_week;ne[Fe]&&(de.status==="active"?ne[Fe].active.push(de):de.status==="filled"&&ne[Fe].filled.push(de))}),Object.keys(ne).forEach(de=>{ne[de].active.sort((Fe,Ge)=>(Fe.start_time||"").localeCompare(Ge.start_time||"")),ne[de].filled.sort((Fe,Ge)=>(Fe.start_time||"").localeCompare(Ge.start_time||""))});const fe=T.find(de=>de.id===B);G({professor:fe,slotsByDay:ne,totalActive:(Se||[]).filter(de=>de.status==="active").length,totalFilled:(Se||[]).filter(de=>de.status==="filled").length})}catch(Se){console.error("Error loading professor agenda:",Se)}finally{q(!1)}})()},[B,E,T]);const st=[{value:"all",label:"Todos os status"},{value:"scheduled",label:"Agendada"},{value:"completed",label:"Concluda"},{value:"missed",label:"Faltou"},{value:"canceled",label:"Cancelada"},{value:"refunded",label:"Reembolsada"}],bt=()=>{$&&$()},wt=async J=>{ie(J),Re(""),V(null),le(!0),Gt(!0);try{const{data:Se}=await R.from("class_materials").select("*").eq("appointment_id",J.id).order("created_at",{ascending:!1});Ce(Se||[])}catch(Se){console.error("Erro ao carregar materiais:",Se)}finally{Gt(!1)}},mt=J=>{var Xe;const Se=(Xe=J.target.files)==null?void 0:Xe[0];if(Se){if(Se.type!=="application/pdf"){t({title:"Arquivo invlido",description:"Por favor, selecione um arquivo PDF.",variant:"destructive"});return}V(Se)}},lt=async()=>{if(!Ne.trim()){t({title:"Nome obrigatrio",description:"Por favor, insira o nome do material.",variant:"destructive"});return}if(!Je){t({title:"Arquivo obrigatrio",description:"Por favor, selecione um arquivo PDF.",variant:"destructive"});return}if(!(te!=null&&te.id)||!(te!=null&&te.student_id)){t({title:"Erro",description:"Informaes da aula no encontradas.",variant:"destructive"});return}oe(!0);try{const{data:{user:J}}=await R.auth.getUser();if(!J)throw new Error("Usurio no autenticado");const Se=Je.name.split(".").pop(),Xe=`${te.id}_${Date.now()}.${Se}`,W=`class-materials/${J.id}/${Xe}`,{data:ne,error:fe}=await R.storage.from("class-materials").upload(W,Je,{cacheControl:"3600",upsert:!1});if(fe)throw new Error(`Erro no upload: ${fe.message}`);const{data:de}=R.storage.from("class-materials").getPublicUrl(W),Fe=de==null?void 0:de.publicUrl,{error:Ge}=await R.from("class_materials").insert({appointment_id:te.id,student_id:te.student_id,professor_id:J.id,material_name:Ne.trim(),file_name:Je.name,file_url:Fe,file_size_bytes:Je.size});if(Ge)throw await R.storage.from("class-materials").remove([W]),new Error(`Erro ao salvar: ${Ge.message}`);t({title:"Material enviado!",description:`"${Ne}" foi adicionado com sucesso.`});const{data:qe}=await R.from("class_materials").select("*").eq("appointment_id",te.id).order("created_at",{ascending:!1});Ce(qe||[]),Re(""),V(null),$&&$()}catch(J){console.error("Erro ao enviar PDF:",J),t({title:"Erro ao enviar",description:J.message||"Ocorreu um erro ao enviar o material.",variant:"destructive"})}finally{oe(!1)}},Mr=f.useMemo(()=>{var J;return(J=k.find(Se=>Se.name==="Personalizado"))==null?void 0:J.id},[k]),Ps=()=>ae(Qe(),"yyyy-MM-dd"),Ks=()=>ae(Es(Qe(),1),"yyyy-MM-dd"),ea=()=>{(v||j)&&l("TODAS"),b(!1),_(1)},jt=J=>{l(J),o(null),_(1)},ar=async J=>{var W;if(!window.confirm(`Tem certeza que deseja marcar a aula de ${((W=J.student)==null?void 0:W.full_name)||"este aluno"} como FALTA? Esta ao no pode ser desfeita e consumir um crdito do aluno.`))return;const{error:Se}=await R.from("appointments").update({status:"missed"}).eq("id",J.id);if(Se){t({variant:"destructive",title:"Erro ao marcar falta",description:Se.message});return}const{error:Xe}=await R.from("assigned_packages_log").insert({professor_id:U,student_id:J.student_id,package_id:Mr,assigned_classes:-1,status:"missed",observation:`Dbito de falta: ${ae(Be(J.class_datetime),"dd/MM/yyyy HH:mm")}`});Xe&&console.error("Error creating debit log for missed class:",Xe),await R.from("notifications").insert({user_id:J.student_id,type:"class_missed",content:{message:`Sua aula de ${ae(Be(J.class_datetime),"dd/MM/yyyy")} foi marcada como falta.`}}),t({variant:"default",title:"Aula marcada como falta!"}),bt()},Xs=J=>{m({...J,customPackageId:Mr,professorId:J.professor_id}),g(!0)},ue=f.useMemo(()=>{const[J,Se]=D.split("-").map(Number),Xe=new Date(J,Se-1,1),W=new Date(J,Se,0,23,59,59);return(F||[]).filter(ne=>{var $t,Nt;let fe=!0;if(ne.class_datetime){const Ht=new Date(ne.class_datetime);fe=Ht>=Xe&&Ht<=W}else fe=!1;const de=!s||((Nt=($t=ne.student)==null?void 0:$t.full_name)==null?void 0:Nt.toLowerCase().includes(s.toLowerCase()));let Fe=!0;if(v||j)if(ne.class_datetime){const Ht=ae(Be(ne.class_datetime),"yyyy-MM-dd");v&&j?Fe=Ht>=v&&Ht<=j:v?Fe=Ht>=v:j&&(Fe=Ht<=j)}else Fe=!1;else a?Fe=ne.class_datetime&&ae(Be(ne.class_datetime),"yyyy-MM-dd")===ae(new Date(a),"yyyy-MM-dd"):i==="HOJE"?Fe=ne.class_datetime&&ae(Be(ne.class_datetime),"yyyy-MM-dd")===Ps():i==="AMANHA"&&(Fe=ne.class_datetime&&ae(Be(ne.class_datetime),"yyyy-MM-dd")===Ks());let Ge=!0;c&&c!=="all"&&(Ge=ne.status===c||c==="canceled"&&(ne.status==="canceled"||ne.status==="cancelled"));let qe=!0;return E?H!=="all"&&(qe=ne.professor_id===H):qe=ne.professor_id===U,fe&&de&&Fe&&Ge&&qe}).sort((ne,fe)=>new Date(ne.class_datetime)-new Date(fe.class_datetime))},[F,s,a,i,c,v,j,E,U,H,D]),ge=Math.ceil(ue.length/S),$e=f.useMemo(()=>{const J=(C-1)*S;return ue.slice(J,J+S)},[ue,C,S]);f.useEffect(()=>{_(1)},[s,a,i,c]);const Ye=J=>{m({...J,customPackageId:Mr,professorId:U}),p(!0)},Z=({status:J})=>{switch(J){case"scheduled":return n.jsx(me,{className:"bg-sky-500 hover:bg-sky-600 text-white",children:"Agendada"});case"completed":return n.jsx(me,{className:"bg-green-500 hover:bg-green-600 text-white",children:"Concluda"});case"canceled":case"cancelled":return n.jsx(me,{variant:"destructive",children:"Cancelada"});case"missed":return n.jsx(me,{className:"bg-orange-500 hover:bg-orange-600 text-white",children:"Faltou"});case"rescheduled":return n.jsx(me,{className:"bg-purple-500 hover:bg-purple-600 text-white",children:"Reagendada"});case"refunded":return n.jsx(me,{className:"bg-pink-500 hover:bg-pink-600 text-white",children:"Reembolsada"});default:return n.jsx(me,{variant:"secondary",children:J})}};return n.jsxs("div",{className:"w-full px-4 lg:px-8 bg-white p-6 rounded-lg shadow-sm",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-slate-800",children:["Aulas",n.jsxs("span",{className:"ml-2 text-lg font-normal text-slate-500",children:["(",ue.length," ",ue.length===1?"aula":"aulas",")"]})]}),n.jsx("p",{className:"text-sm text-slate-500",children:E?"Visualizando todas as aulas de todos os professores e alunos":"Por aqui  possvel visualizar todas as suas aulas."})]}),E&&n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(me,{className:"bg-sky-500 text-white",children:["Agendadas: ",F.filter(J=>J.status==="scheduled").length]}),n.jsxs(me,{className:"bg-green-500 text-white",children:["Concludas: ",F.filter(J=>J.status==="completed").length]}),n.jsxs(me,{className:"bg-orange-500 text-white",children:["Faltas: ",F.filter(J=>J.status==="missed").length]}),n.jsxs(me,{variant:"destructive",children:["Canceladas: ",F.filter(J=>["canceled","cancelled"].includes(J.status)).length]})]})]})}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[n.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-[300px]",children:[n.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),n.jsx(et,{placeholder:"Pesquisar por Aluno",value:s,onChange:J=>r(J.target.value),className:"pl-10 border-slate-300 focus:border-sky-500 focus:ring-sky-500"})]}),n.jsxs("div",{className:"flex items-center border rounded-lg overflow-hidden",children:[n.jsx(Y,{variant:i==="HOJE"?"default":"ghost",size:"sm",onClick:()=>jt("HOJE"),className:ee("rounded-none border-r px-4 h-10",i==="HOJE"?"bg-sky-500 hover:bg-sky-600 text-white":"text-slate-600 hover:bg-slate-100"),children:"Hoje"}),n.jsx(Y,{variant:i==="AMANHA"?"default":"ghost",size:"sm",onClick:()=>jt("AMANHA"),className:ee("rounded-none border-r px-4 h-10",i==="AMANHA"?"bg-sky-500 hover:bg-sky-600 text-white":"text-slate-600 hover:bg-slate-100"),children:"Amanh"}),n.jsx(Y,{variant:i==="TODAS"?"default":"ghost",size:"sm",onClick:()=>jt("TODAS"),className:ee("rounded-none px-4 h-10",i==="TODAS"?"bg-sky-500 hover:bg-sky-600 text-white":"text-slate-600 hover:bg-slate-100"),children:"Todas"})]}),n.jsxs(Mt,{value:c,onValueChange:d,children:[n.jsx(kt,{className:"w-[220px] border-slate-300",children:n.jsx(Rt,{placeholder:"Selecione o status da aula"})}),n.jsx(Tt,{children:st.map(J=>n.jsx(ye,{value:J.value,children:J.label},J.value))})]}),E&&T.length>0&&n.jsxs(Mt,{value:B,onValueChange:L,children:[n.jsxs(kt,{className:"w-[200px] border-slate-300",children:[n.jsx(Im,{className:"h-4 w-4 mr-2"}),n.jsx(Rt,{placeholder:"Filtrar professor"})]}),n.jsxs(Tt,{children:[n.jsx(ye,{value:"all",children:"Todos os professores"}),T.map(J=>n.jsx(ye,{value:J.id,children:J.full_name},J.id))]})]}),n.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"flex items-center gap-2 h-10 px-4 border-slate-300 text-slate-600 hover:bg-slate-100",children:[n.jsx("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filtros"]})]}),E&&I&&n.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h3",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[n.jsx(ts,{className:"h-5 w-5 text-sky-600"}),"Agenda de ",(ce=I.professor)==null?void 0:ce.full_name]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(me,{className:"bg-green-500 text-white",children:[I.totalActive," disponvel(is)"]}),n.jsxs(me,{className:"bg-blue-500 text-white",children:[I.totalFilled," ocupado(s)"]})]})]}),K?n.jsx("div",{className:"flex justify-center py-4",children:n.jsx(Ie,{className:"h-6 w-6 animate-spin text-slate-400"})}):n.jsx("div",{className:"grid grid-cols-7 gap-2",children:Object.entries(I.slotsByDay).map(([J,Se])=>n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs font-semibold mb-2 text-slate-700 bg-slate-200 rounded py-1",children:Se.name}),n.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:[Se.active.length>0?Se.active.map((Xe,W)=>{var ne,fe;return n.jsx("div",{className:"text-[10px] px-1 py-0.5 bg-green-100 text-green-700 rounded truncate",title:`Disponvel: ${(ne=Xe.start_time)==null?void 0:ne.substring(0,5)}`,children:(fe=Xe.start_time)==null?void 0:fe.substring(0,5)},`active-${W}`)}):null,Se.filled.length>0?Se.filled.map((Xe,W)=>{var ne,fe;return n.jsxs("div",{className:"text-[10px] px-1 py-0.5 bg-blue-100 text-blue-600 rounded truncate",title:`Ocupado: ${(ne=Xe.start_time)==null?void 0:ne.substring(0,5)}`,children:[(fe=Xe.start_time)==null?void 0:fe.substring(0,5)," "]},`filled-${W}`)}):null,Se.active.length===0&&Se.filled.length===0&&n.jsx("div",{className:"text-[10px] text-slate-400 py-1",children:"-"})]})]},J))}),n.jsxs("div",{className:"mt-3 flex gap-4 text-xs text-slate-500",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-3 h-3 bg-green-100 rounded"})," Disponvel"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-100 rounded"})," Ocupado"]})]})]}),n.jsx(Wt,{open:y,onOpenChange:b,children:n.jsxs(zt,{className:"sm:max-w-[450px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsx(Ut,{children:"Filtros"}),n.jsx(rs,{children:"Filtros tabela de aulas"})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-sky-600",children:"Data de Inicio"}),n.jsx(et,{type:"date",value:v,onChange:J=>w(J.target.value),className:"border-slate-300",placeholder:"dd/mm/aaaa"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-sky-600",children:"Data Fim"}),n.jsx(et,{type:"date",value:j,onChange:J=>N(J.target.value),className:"border-slate-300",placeholder:"dd/mm/aaaa"})]})]})}),n.jsxs(Ts,{children:[n.jsx(Y,{variant:"outline",onClick:()=>{w(""),N("")},className:"mr-2",children:"Limpar"}),n.jsx(Y,{onClick:ea,className:"bg-sky-600 hover:bg-sky-700 text-white",children:"Filtrar"})]})]})}),n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs(Sn,{children:[n.jsx(Cn,{className:"bg-slate-50",children:n.jsxs(pt,{children:[n.jsx(Me,{className:"w-[120px]",children:"Cdigo"}),n.jsx(Me,{children:"Aluno"}),n.jsx(Me,{children:"Matria"}),n.jsx(Me,{children:"Tipo de aula"}),n.jsx(Me,{children:"Data"}),n.jsx(Me,{children:"Horrio"}),n.jsx(Me,{children:"Status"}),P&&n.jsx(Me,{className:"text-right",children:"Aes"})]})}),n.jsx(En,{children:M?n.jsx(pt,{children:n.jsx(we,{colSpan:P?"8":"7",className:"text-center p-8",children:n.jsx(Ie,{className:"mx-auto h-6 w-6 animate-spin"})})}):$e.length>0?$e.map(J=>{var ne,fe,de,Fe,Ge,qe;const Se=J.class_datetime?Be(J.class_datetime):null,Xe=Se&&J.duration_minutes?new Date(Se.getTime()+J.duration_minutes*6e4):null,W=Se&&Xe?`${ae(Se,"HH'h'mm")} - ${ae(Xe,"HH'h'mm")}`:"N/A";return n.jsxs(pt,{children:[n.jsx(we,{children:n.jsx("span",{className:"font-mono text-xs text-sky-700 bg-sky-50 px-2 py-1 rounded",children:J.class_code||`#${J.id}`})}),n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(tr,{className:"h-8 w-8",children:[n.jsx(Br,{src:(ne=J.student)==null?void 0:ne.avatar_url}),n.jsx(sr,{className:"bg-pink-100 text-pink-600 text-xs",children:((de=(fe=J.student)==null?void 0:fe.full_name)==null?void 0:de[0])||"A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-400",children:((Fe=J.student)==null?void 0:Fe.student_code)||"N/A"}),n.jsx("p",{className:"font-medium text-slate-800",children:((Ge=J.student)==null?void 0:Ge.full_name)||"N/A"})]})]})}),n.jsx(we,{className:"text-slate-600",children:(qe=J.student)!=null&&qe.spanish_level?"Espanhol":"Ingls"}),n.jsx(we,{className:"text-slate-600",children:"Efetiva"}),n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-1 text-slate-600",children:[n.jsx(ts,{className:"h-4 w-4 text-slate-400"}),J.class_datetime?ae(Be(J.class_datetime),"dd/MM/yyyy"):"N/A"]})}),n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-1 text-slate-600",children:[n.jsx(Bs,{className:"h-4 w-4 text-slate-400"}),W]})}),n.jsx(we,{children:n.jsx(Z,{status:J.status})}),P&&n.jsx(we,{className:"text-right",children:n.jsxs(Nd,{children:[n.jsx(_d,{asChild:!0,children:n.jsx(Y,{variant:"ghost",size:"icon",children:n.jsx(uC,{className:"w-4 h-4"})})}),n.jsxs(Al,{children:[n.jsxs(jr,{onClick:()=>wt(J),children:[n.jsx(bs,{className:"mr-2 h-4 w-4"})," PDF Aulas"]}),n.jsxs(jr,{onClick:()=>Ye(J),disabled:!["scheduled","rescheduled"].includes(J.status),children:[n.jsx(ca,{className:"mr-2 h-4 w-4"})," Marcar como Concluda"]}),n.jsxs(jr,{onClick:()=>Xs(J),disabled:!["scheduled","missed","canceled","cancelled"].includes(J.status),children:[n.jsx(md,{className:"mr-2 h-4 w-4"})," Reagendar"]}),n.jsxs(jr,{onClick:()=>ar(J),disabled:!["scheduled"].includes(J.status),className:"text-orange-600 focus:text-orange-700 focus:bg-orange-50",children:[n.jsx(ii,{className:"mr-2 h-4 w-4"})," Marcar Falta"]})]})]})})]},J.id)}):n.jsx(pt,{children:n.jsx(we,{colSpan:P?"7":"6",className:"text-center p-8 text-slate-500",children:"Nenhuma aula encontrada com o filtro atual."})})})]})}),n.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm text-slate-600",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("span",{children:["Total: ",ue.length]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:"por pgina:"}),n.jsxs(Mt,{value:String(S),onValueChange:J=>O(Number(J)),children:[n.jsx(kt,{className:"w-[70px] h-8 border-slate-300",children:n.jsx(Rt,{})}),n.jsxs(Tt,{children:[n.jsx(ye,{value:"5",children:"5"}),n.jsx(ye,{value:"10",children:"10"}),n.jsx(ye,{value:"20",children:"20"}),n.jsx(ye,{value:"50",children:"50"})]})]})]}),n.jsx("span",{className:"min-w-[80px] text-center",children:ue.length>0?`${(C-1)*S+1} - ${Math.min(C*S,ue.length)}`:"0 - 0"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Y,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>_(1),disabled:C===1,children:n.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})}),n.jsx(Y,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>_(J=>Math.max(1,J-1)),disabled:C===1,children:n.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsx(Y,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>_(J=>Math.min(ge,J+1)),disabled:C>=ge,children:n.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),n.jsx(Y,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>_(ge),disabled:C>=ge,children:n.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})})]})]})]}),n.jsx(ZY,{appointment:u,isOpen:h,onClose:()=>p(!1),onFeedbackSent:bt}),u&&n.jsx(eK,{appointment:u,isOpen:x,onClose:()=>g(!1),onReschedule:bt}),n.jsx(Wt,{open:X,onOpenChange:le,children:n.jsxs(zt,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsxs(Ut,{className:"flex items-center gap-2",children:[n.jsx(bs,{className:"h-5 w-5 text-sky-600"}),"Adicionar Material PDF"]}),n.jsx(rs,{children:((ke=te==null?void 0:te.student)==null?void 0:ke.full_name)&&n.jsxs("span",{children:["Material para aula com ",n.jsx("strong",{children:te.student.full_name})]})})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"pdf-name",children:"Nome do Material *"}),n.jsx(et,{id:"pdf-name",placeholder:"Ex: Exerccios Captulo 5",value:Ne,onChange:J=>Re(J.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"pdf-file",children:"Arquivo PDF *"}),n.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center hover:border-sky-400 transition-colors",children:[n.jsx("input",{type:"file",id:"pdf-file",accept:".pdf,application/pdf",className:"hidden",onChange:mt}),n.jsxs("label",{htmlFor:"pdf-file",className:"cursor-pointer",children:[n.jsx(Un,{className:"w-10 h-10 mx-auto mb-2 text-slate-400"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Clique para selecionar ou arraste o arquivo"}),n.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Apenas arquivos PDF"})]})]}),Je&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-sky-50 rounded-lg border border-sky-200",children:[n.jsx(bs,{className:"w-5 h-5 text-sky-600"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:Je.name}),n.jsxs("p",{className:"text-xs text-slate-500",children:[(Je.size/1024).toFixed(1)," KB"]})]}),n.jsx(Y,{type:"button",variant:"ghost",size:"sm",onClick:()=>V(null),className:"text-slate-400 hover:text-red-500",children:n.jsx(rn,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"pt-4 border-t",children:[n.jsxs("h4",{className:"text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2",children:[n.jsx(ro,{className:"w-4 h-4"}),"Materiais j enviados nesta aula"]}),at?n.jsx("div",{className:"flex justify-center py-4",children:n.jsx(Ie,{className:"w-6 h-6 animate-spin text-slate-300"})}):be.length>0?n.jsx("div",{className:"space-y-2 max-h-[180px] overflow-y-auto pr-2",children:be.map(J=>n.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-md bg-slate-50 border border-slate-100 group",children:[n.jsx("div",{className:"p-1.5 bg-white rounded border border-slate-200",children:n.jsx(bs,{className:"w-4 h-4 text-slate-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-slate-700 truncate",title:J.material_name,children:J.material_name}),n.jsx("p",{className:"text-[10px] text-slate-400 truncate",children:J.file_name})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Y,{variant:"ghost",size:"icon",className:"h-7 w-7 text-slate-400 hover:text-sky-600",asChild:!0,children:n.jsx("a",{href:J.file_url,target:"_blank",rel:"noopener noreferrer",children:n.jsx(Om,{className:"w-3.5 h-3.5"})})}),n.jsx(Y,{variant:"ghost",size:"icon",className:"h-7 w-7 text-slate-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",onClick:async()=>{if(window.confirm("Excluir este material?"))try{const Se=J.file_url.split("/public/class-materials/")[1];Se&&await R.storage.from("class-materials").remove([Se]);const{error:Xe}=await R.from("class_materials").delete().eq("id",J.id);if(Xe)throw Xe;Ce(W=>W.filter(ne=>ne.id!==J.id)),t({title:"Material removido"})}catch(Se){console.error(Se),t({title:"Erro ao remover",variant:"destructive"})}},children:n.jsx(oi,{className:"w-3.5 h-3.5"})})]})]},J.id))}):n.jsx("p",{className:"text-xs text-center py-4 text-slate-400 bg-slate-50 rounded-md border border-dashed",children:"Nenhum material enviado para esta aula."})]})]}),n.jsxs(Ts,{children:[n.jsx(Y,{onClick:()=>le(!1),children:"Fechar"}),n.jsx(Y,{onClick:lt,className:"bg-sky-600 hover:bg-sky-700",disabled:_e||!Ne.trim()||!Je,children:_e?n.jsxs(n.Fragment,{children:[n.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"})," Enviando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Un,{className:"mr-2 h-4 w-4"})," Enviar Material"]})})]})]})})]})},tK={0:"Domingo",1:"Segunda",2:"Tera",3:"Quarta",4:"Quinta",5:"Sexta",6:"Sbado"},sK=()=>{const e=[];for(let t=7;t<=23;t++)for(let s=0;s<60&&!(t===23&&s>45);s+=15)e.push(`${String(t).padStart(2,"0")}:${String(s).padStart(2,"0")}`);return e},rK=sK(),LN=({dashboardData:e})=>{var F,k;const t=e==null?void 0:e.professorId,s=e==null?void 0:e.onUpdate,r=(e==null?void 0:e.loading)||!1,a=(e==null?void 0:e.isSuperadmin)||!1,o=((F=e==null?void 0:e.data)==null?void 0:F.professors)||[],i=e==null?void 0:e.globalProfessorFilter,l=((k=e==null?void 0:e.data)==null?void 0:k.appointments)||[];f.useMemo(()=>Bk(),[]);const c=f.useMemo(()=>Qe(),[]),[d,u]=f.useState(c),[m,h]=f.useState("week"),[p,x]=f.useState("all"),[g,y]=f.useState(()=>bN()),b=i&&i!=="all"?i:p,v=f.useRef(null),w=f.useRef(null),j=f.useMemo(()=>Tr(d,{weekStartsOn:0}),[d]),N=f.useMemo(()=>Qm(d,{weekStartsOn:0}),[d]),C=f.useMemo(()=>{const P=[];for(let A=0;A<7;A++)P.push(Es(j,A));return P},[j]),_=f.useMemo(()=>{const P=ae(j,"yyyy-MM-dd"),A=ae(N,"yyyy-MM-dd");return l.filter(B=>{if(!B.class_datetime)return!1;const L=B.class_datetime.substring(0,10),H=B.status;if(a){if(b!=="all"&&B.professor_id!==b)return!1}else if(B.professor_id!==t)return!1;return L>=P&&L<=A&&["scheduled","completed","rescheduled","missed"].includes(H)})},[l,j,N,a,t,b]);f.useEffect(()=>{const P=setInterval(()=>{y(bN())},6e4);return()=>clearInterval(P)},[]),f.useEffect(()=>{v.current&&w.current&&S()&&setTimeout(()=>{var P;(P=v.current)==null||P.scrollIntoView({behavior:"smooth",block:"center"})},500)},[m]);const S=()=>C.some(P=>Us(P,c)),O=()=>{const[P,A]=g.split(":").map(Number),B=P*60+A,L=7*60,H=24*60;if(B<L||B>H)return null;const I=B-L,G=Math.floor(I/15),q=I%15/15*100;return{slotIndex:G,percentageIntoSlot:q}},D=()=>u(A8(d,1)),z=()=>u(xd(d,1)),M=()=>u(P8(d,1)),U=()=>u(Ws(d,1)),$=(P,A)=>_.filter(B=>{const L=Be(B.class_datetime),H=ae(L,"HH:mm");return Us(L,P)&&H===A}),E=P=>`${Math.ceil(P/15)*60}px`,T=P=>{var L,H,I;const A=(L=P.student)==null?void 0:L.spanish_level,B=P.status==="completed"?"bg-green-100 border-green-300":P.status==="rescheduled"?"bg-blue-200 border-blue-400":P.status==="missed"?"bg-red-100 border-red-300":"bg-blue-50 border-blue-200";return n.jsxs("div",{className:ee("absolute left-0 right-0 mx-1 p-2 rounded border text-xs overflow-hidden",B),style:{height:E(P.duration_minutes||30),zIndex:10},children:[n.jsx("div",{className:"font-semibold truncate text-slate-800",children:((H=P.student)==null?void 0:H.full_name)||"Sin nombre"}),n.jsx("div",{className:"text-slate-600 text-[10px]",children:A?"Espanhol":"Ingls"}),a&&n.jsxs("div",{className:"text-slate-500 text-[10px] truncate",children:["Prof: ",((I=o.find(G=>G.id===P.professor_id))==null?void 0:I.full_name)||""]})]},P.id)};return t?n.jsx("div",{className:"w-full px-4 lg:px-8",children:n.jsxs("div",{className:"w-full bg-white rounded-lg shadow-sm",children:[n.jsxs("div",{className:"p-4 border-b flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Horrios de Aula"}),a&&o.length>0&&n.jsxs(Mt,{value:p,onValueChange:x,children:[n.jsxs(kt,{className:"w-[200px]",children:[n.jsx(Im,{className:"h-4 w-4 mr-2"}),n.jsx(Rt,{placeholder:"Filtrar professor"})]}),n.jsxs(Tt,{children:[n.jsx(ye,{value:"all",children:"Todos os professores"}),o.map(P=>n.jsx(ye,{value:P.id,children:P.full_name},P.id))]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-2 border rounded-lg px-2 py-1",children:[n.jsx(Y,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:M,children:n.jsx(ix,{className:"h-4 w-4"})}),n.jsx("span",{className:"text-sm font-medium min-w-[120px] text-center",children:ae(d,"MMMM yyyy",{locale:nt})}),n.jsx(Y,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:U,children:n.jsx(_l,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex items-center gap-2 border rounded-lg px-2 py-1",children:[n.jsx(Y,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:D,children:n.jsx(ix,{className:"h-4 w-4"})}),n.jsxs("span",{className:"text-sm font-medium min-w-[200px] text-center",children:[ae(j,"dd",{locale:nt})," de ",ae(j,"MMMM",{locale:nt})," - ",ae(N,"dd",{locale:nt})," de ",ae(N,"MMMM yyyy",{locale:nt})]}),n.jsx(Y,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:z,children:n.jsx(_l,{className:"h-4 w-4"})})]}),n.jsxs(Y,{onClick:()=>{s&&s()},className:"bg-blue-500 hover:bg-blue-600 text-white",size:"sm",children:[n.jsx($m,{className:"h-4 w-4 mr-2"}),"Atualizar Horrios"]}),n.jsxs("div",{className:"flex border rounded-lg",children:[n.jsx(Y,{variant:m==="week"?"default":"ghost",size:"icon",className:ee("h-8 w-8",m==="week"&&"bg-sky-600"),onClick:()=>h("week"),children:n.jsx(U3,{className:"h-4 w-4"})}),n.jsx(Y,{variant:m==="list"?"default":"ghost",size:"icon",className:ee("h-8 w-8",m==="list"&&"bg-sky-600"),onClick:()=>h("list"),children:n.jsx(W3,{className:"h-4 w-4"})})]})]})]}),m==="week"&&n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("div",{className:"min-w-[1000px] mx-auto",children:[n.jsxs("div",{className:"grid grid-cols-8 border-b bg-slate-50",style:{gridTemplateColumns:"80px repeat(7, 1fr)"},children:[n.jsx("div",{className:"p-2 text-center text-sm font-medium text-slate-600 border-r",children:"Horrio"}),C.map((P,A)=>{const B=kH(P);return n.jsxs("div",{className:ee("p-2 text-center border-r last:border-r-0",B?"bg-orange-100 border-b-2 border-orange-500":""),children:[n.jsxs("div",{className:ee("text-sm font-medium",B?"text-orange-700 font-bold":"text-slate-700"),children:[tK[en(P)],B&&n.jsx("span",{className:"ml-1 text-xs bg-orange-500 text-white px-1.5 py-0.5 rounded",children:"HOJE"})]}),n.jsx("div",{className:ee("text-xs mt-0.5",B?"text-orange-600 font-bold":"text-slate-500"),children:ae(P,"dd/MM")})]},A)})]}),n.jsx("div",{ref:w,className:"relative",style:{maxHeight:"600px",overflowY:"auto"},children:r?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx(Ie,{className:"h-8 w-8 animate-spin text-sky-600"})}):rK.map((P,A)=>{const B=O(),L=B&&B.slotIndex===A;return n.jsxs("div",{className:"grid grid-cols-8 border-b hover:bg-slate-50 relative",style:{minHeight:"60px",gridTemplateColumns:"80px repeat(7, 1fr)"},ref:L?v:null,children:[L&&S()&&n.jsx("div",{className:"absolute left-0 right-0 z-20 pointer-events-none",style:{top:`${B.percentageIntoSlot}%`},children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-[80px] flex items-center justify-end pr-1",children:n.jsx("span",{className:"text-[10px] text-red-600 font-bold bg-red-100 px-1 rounded",children:g})}),n.jsx("div",{className:"flex-1 h-0.5 bg-red-500 relative",children:n.jsx("div",{className:"absolute left-0 -top-1 w-2 h-2 bg-red-500 rounded-full"})})]})}),n.jsx("div",{className:"p-2 text-center text-xs text-slate-600 border-r bg-slate-50 font-medium",children:P}),C.map((H,I)=>{const G=Us(H,c),K=$(H,P);return n.jsx("div",{className:ee("relative border-r last:border-r-0",G&&"bg-orange-50/50"),style:{minHeight:"60px"},children:K.map(q=>T(q))},I)})]},P)})})]})}),m==="list"&&n.jsx("div",{className:"p-4",children:r?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx(Ie,{className:"h-8 w-8 animate-spin text-sky-600"})}):_.length>0?n.jsx("div",{className:"space-y-2",children:_.map(P=>{var H,I;const A=Be(P.class_datetime),B=P.status==="completed"?"bg-green-100 border-green-300":P.status==="rescheduled"?"bg-blue-200 border-blue-400":P.status==="missed"?"bg-red-100 border-red-300":"bg-blue-50 border-blue-200",L=P.status==="missed"?"text-red-800":"text-slate-800";return n.jsx("div",{className:`p-4 border-2 rounded-lg hover:shadow-md transition-shadow ${B}`,children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("div",{className:`font-semibold ${L}`,children:((H=P.student)==null?void 0:H.full_name)||"Sin nombre"}),n.jsx("div",{className:"text-sm text-slate-600",children:(I=P.student)!=null&&I.spanish_level?"Espanhol":"Ingls"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:`text-sm font-medium ${L}`,children:ae(A,"dd/MM/yyyy")}),n.jsxs("div",{className:"text-sm text-slate-600",children:[ae(A,"HH:mm")," (",P.duration_minutes||30," min)"]})]})]})},P.id)})}):n.jsx("div",{className:"text-center py-12 text-slate-500",children:"Nenhuma aula agendada para esta semana."})})]})}):n.jsx("div",{className:"flex justify-center p-8",children:n.jsx(Ie,{className:"h-8 w-8 animate-spin text-sky-600"})})},nK=({student:e,isOpen:t,onClose:s,onUpdate:r,professorId:a})=>{const{toast:o}=Pt(),[i,l]=f.useState(!1),[c,d]=f.useState(null),[u,m]=f.useState(null),[h,p]=f.useState(""),[x,g]=f.useState(""),[y,b]=f.useState(""),[v,w]=f.useState([]),[j,N]=f.useState(!1),[C,_]=f.useState("enviar"),S=Vt.useRef(null),O=["Gramtica","Vocabulrio","Listening","Speaking","Exerccios","Leitura","Escrita","Cultura","Outro"],D={"application/pdf":"PDF","audio/mpeg":"MP3","audio/mp3":"MP3","video/mp4":"MP4","application/msword":"DOC","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"DOCX","application/vnd.ms-excel":"XLS","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"XLSX","application/vnd.ms-powerpoint":"PPT","application/vnd.openxmlformats-officedocument.presentationml.presentation":"PPTX","application/zip":"ZIP"},z=Vt.useCallback(async()=>{if(t){N(!0);try{let T=R.from("shared_materials").select("*").eq("professor_id",a).order("created_at",{ascending:!1});e?T=T.eq("student_id",e.id):T=T.is("student_id",null);const{data:F,error:k}=await T;if(k)throw k;w(F||[])}catch(T){console.error("Error fetching material history:",T)}finally{N(!1)}}},[t,a,e]);Vt.useEffect(()=>{t&&z()},[t,z]);const M=T=>{var k;const F=(k=T.target.files)==null?void 0:k[0];if(F){if(F.size>50*1024*1024){o({variant:"destructive",title:"Arquivo muito grande",description:"O arquivo deve ter no mximo 50MB"});return}if(m(F),!h){const P=F.name.replace(/\.[^/.]+$/,"");p(P)}}},U=async T=>{if(window.confirm(`Tem certeza que deseja excluir o material "${T.material_name}"?`)){d(T.id);try{const F=T.file_url.split("/shared-materials/");if(F.length>1){const P=F[1],{error:A}=await R.storage.from("shared-materials").remove([P]);A&&console.warn("Could not delete file from storage:",A)}const{error:k}=await R.from("shared_materials").delete().eq("id",T.id);if(k)throw k;o({title:"Material excludo",description:"O material foi removido com sucesso."}),w(P=>P.filter(A=>A.id!==T.id)),r==null||r()}catch(F){console.error("Error deleting material:",F),o({variant:"destructive",title:"Erro ao excluir material",description:F.message})}finally{d(null)}}},$=async()=>{if(!u||!h.trim()){o({variant:"destructive",title:"Campos obrigatrios",description:"Por favor, selecione um arquivo e preencha o nome do material"});return}l(!0);try{const T=u.name.split(".").pop(),F=`${Date.now()}_${Math.random().toString(36).substring(7)}.${T}`,k=`professor-materials/${a}/${F}`,{error:P}=await R.storage.from("shared-materials").upload(k,u,{cacheControl:"3600",upsert:!1});if(P)throw P;const{data:{publicUrl:A}}=R.storage.from("shared-materials").getPublicUrl(k),B=D[u.type]||"OTHER",{error:L}=await R.from("shared_materials").insert({professor_id:a,student_id:(e==null?void 0:e.id)||null,material_name:h.trim(),file_url:A,file_type:B,file_size_bytes:u.size,category:y||null,description:x.trim()||null});if(L)throw L;o({title:"Material enviado!",description:e?`Material compartilhado com ${e.full_name}`:"Material compartilhado com todos os seus alunos"}),m(null),p(""),g(""),b(""),S.current&&(S.current.value=""),z(),r==null||r(),_("historico")}catch(T){console.error("Error uploading material:",T),o({variant:"destructive",title:"Erro ao enviar material",description:T.message})}finally{l(!1)}},E=T=>T==="PDF"?n.jsx(bs,{className:"h-5 w-5 text-red-500"}):T==="MP3"?n.jsx(J3,{className:"h-5 w-5 text-purple-500"}):T==="MP4"?n.jsx(nL,{className:"h-5 w-5 text-blue-500"}):n.jsx(cx,{className:"h-5 w-5 text-sky-500"});return n.jsx(Wt,{open:t,onOpenChange:s,children:n.jsxs(zt,{className:"sm:max-w-[550px] p-0 overflow-hidden rounded-2xl",children:[n.jsx("div",{className:"p-6 bg-slate-50 border-b border-slate-100",children:n.jsxs(Bt,{children:[n.jsxs(Ut,{className:"flex items-center gap-2 text-xl",children:[n.jsx(Un,{className:"h-5 w-5 text-sky-600"}),"Gesto de Materiais"]}),n.jsx(rs,{className:"text-slate-500",children:e?`Materiais para ${e.full_name}`:"Materiais compartilhados com todos os alunos"})]})}),n.jsxs(Jo,{value:C,onValueChange:_,className:"w-full",children:[n.jsx("div",{className:"px-6 pt-2 bg-slate-50",children:n.jsxs(ci,{className:"grid w-full grid-cols-2 bg-slate-200/50 p-1 rounded-xl",children:[n.jsxs(dr,{value:"enviar",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[n.jsx(Un,{className:"h-4 w-4 mr-2"}),"Enviar Novo"]}),n.jsxs(dr,{value:"historico",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[n.jsx(_o,{className:"h-4 w-4 mr-2"}),"Histrico (",v.length,")"]})]})}),n.jsxs("div",{className:"p-6 min-h-[400px]",children:[n.jsxs(hs,{value:"enviar",className:"mt-0 space-y-4 animate-in fade-in-50 duration-300",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"file-upload",className:"font-bold text-slate-700",children:"Arquivo *"}),n.jsx(et,{id:"file-upload",ref:S,type:"file",onChange:M,accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.mp3,.mp4,.zip",className:"cursor-pointer bg-white border-slate-200 hover:border-sky-300 transition-colors"}),u&&n.jsxs("p",{className:"text-xs font-semibold text-sky-600 flex items-center gap-1",children:[" ",u.name," (",(u.size/1024/1024).toFixed(2)," MB)"]}),n.jsx("p",{className:"text-[11px] text-slate-400",children:"PDF, DOC, XLS, PPT, MP3, MP4, ZIP (mx. 50MB)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"material-name",className:"font-bold text-slate-700",children:"Nome do Material *"}),n.jsx(et,{id:"material-name",value:h,onChange:T=>p(T.target.value),placeholder:"Ex: Guia de Conversao",className:"bg-white"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"category",className:"font-bold text-slate-700",children:"Categoria"}),n.jsxs(Mt,{value:y,onValueChange:b,children:[n.jsx(kt,{id:"category",className:"bg-white",children:n.jsx(Rt,{placeholder:"Selecione..."})}),n.jsx(Tt,{children:O.map(T=>n.jsx(ye,{value:T,children:T},T))})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"description",className:"font-bold text-slate-700",children:"Descrio"}),n.jsx(Jn,{id:"description",value:x,onChange:T=>g(T.target.value),placeholder:"O que o aluno deve fazer com este material?",rows:3,className:"bg-white resize-none"})]})]}),n.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[n.jsx(Y,{variant:"outline",onClick:s,disabled:i,className:"rounded-xl px-6",children:"Cancelar"}),n.jsx(Y,{onClick:$,disabled:i||!u||!h.trim(),className:"bg-sky-600 hover:bg-sky-700 rounded-xl px-8 shadow-lg shadow-sky-100",children:i?n.jsxs(n.Fragment,{children:[n.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"})," Enviando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Un,{className:"mr-2 h-4 w-4"})," Enviar Agora"]})})]})]}),n.jsx(hs,{value:"historico",className:"mt-0 animate-in fade-in-50 duration-300",children:n.jsx(Mn,{className:"h-[380px] w-full pr-4",children:j?n.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-20 text-slate-400",children:[n.jsx(Ie,{className:"h-8 w-8 animate-spin mb-2"}),n.jsx("p",{children:"Carregando histrico..."})]}):v.length>0?n.jsx("div",{className:"space-y-3",children:v.map(T=>n.jsxs("div",{className:"group flex items-center justify-between p-3 rounded-xl border border-slate-100 hover:border-sky-100 hover:bg-sky-50 transition-all",children:[n.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[n.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:E(T.file_type)}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"font-bold text-slate-800 text-sm truncate",children:T.material_name}),n.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[n.jsx("span",{className:"text-[10px] text-slate-400 font-medium",children:ae(new Date(T.created_at),"dd/MM/yyyy",{locale:nt})}),n.jsx(me,{variant:"outline",className:"text-[9px] h-4 py-0 px-1 text-slate-500 uppercase",children:T.file_type})]})]})]}),n.jsx("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(Y,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-400 hover:text-red-600 hover:bg-red-50",onClick:()=>U(T),disabled:c===T.id,children:c===T.id?n.jsx(Ie,{className:"h-4 w-4 animate-spin"}):n.jsx(oi,{className:"h-4 w-4"})})})]},T.id))}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-20 text-slate-400",children:[n.jsx("div",{className:"p-4 bg-slate-50 rounded-full mb-3",children:n.jsx(cx,{className:"h-10 w-10 text-slate-200"})}),n.jsx("p",{className:"font-medium text-slate-400",children:"Nenhum material enviado ainda."}),n.jsx("p",{className:"text-xs",children:"O que voc enviar aparecer aqui."})]})})})]})]})]})})},KP={0:"Dom",1:"Seg",2:"Ter",3:"Qua",4:"Qui",5:"Sex",6:"Sb"},Mo={0:"Domingo",1:"Segunda",2:"Tera",3:"Quarta",4:"Quinta",5:"Sexta",6:"Sbado"},aK=()=>{const e=[];for(let t=7;t<=23;t++)for(let s=0;s<60&&!(t===23&&s>45);s+=15)e.push(`${String(t).padStart(2,"0")}:${String(s).padStart(2,"0")}`);return e},oK=aK(),iK=({student:e,isOpen:t,onClose:s,onUpdate:r,professorId:a,scheduledAppointments:o})=>{const{toast:i}=Pt(),[l,c]=f.useState(!1),[d,u]=f.useState(!1),[m,h]=f.useState([]),[p,x]=f.useState({0:{enabled:!1,time:"08:00"},1:{enabled:!1,time:"08:00"},2:{enabled:!1,time:"08:00"},3:{enabled:!1,time:"08:00"},4:{enabled:!1,time:"08:00"},5:{enabled:!1,time:"08:00"},6:{enabled:!1,time:"08:00"}});f.useMemo(()=>{if(o&&o.length>0){const w={};for(let j=0;j<7;j++)w[j]={enabled:!1,time:"08:00"};o.forEach(j=>{const N=Be(j.class_datetime),C=en(N),_=ae(N,"HH:mm");w[C].enabled||(w[C]={enabled:!0,time:_})}),x(w)}},[o]),f.useEffect(()=>{const j=setTimeout(async()=>{var _,S;if(!a||!t)return;const N=Object.entries(p).filter(([O,D])=>D.enabled);if(N.length===0){h([]);return}u(!0);const C=[];try{const{data:O,error:D}=await R.from("class_slots").select("day_of_week, start_time, status").eq("professor_id",a);if(D)throw D;const{data:z,error:M}=await R.from("appointments").select("class_datetime, duration_minutes, student_id, student:profiles!student_id(full_name)").eq("professor_id",a).neq("student_id",e==null?void 0:e.id).in("status",["scheduled","rescheduled"]).gte("class_datetime",Qe().toISOString());if(M)throw M;const{data:U,error:$}=await R.from("appointments").select("class_datetime").eq("professor_id",a).eq("student_id",e==null?void 0:e.id).in("status",["scheduled","rescheduled"]).gte("class_datetime",Qe().toISOString());if($)throw $;const E=new Set;(U||[]).forEach(T=>{const F=Be(T.class_datetime),k=en(F),P=`${String(F.getHours()).padStart(2,"0")}:${String(F.getMinutes()).padStart(2,"0")}`;E.add(`${k}-${P}`)});for(const[T,F]of N){const k=parseInt(T),[P,A]=F.time.split(":").map(Number),B=`${String(P).padStart(2,"0")}:${String(A).padStart(2,"0")}`,L=`${k}-${B}`,H=(O||[]).find(G=>{var q;return G.day_of_week!==k?!1:((q=G.start_time)==null?void 0:q.substring(0,5))===B});if(console.log(`[ConflictCheck] Dia ${k}, Horrio ${F.time}:`,{matchingSlot:H?{status:H.status}:"NO ENCONTRADO",isOwnSlot:E.has(L),totalSlots:(O||[]).length}),E.has(L)){console.log(`[ConflictCheck] Aluno j ocupa ${L} - ignorando verificao`);continue}if(!H){C.push({day:Mo[k],time:F.time,reason:"slot_unavailable",existingStudent:"Horrio no disponvel"});continue}if(H.status==="inactive"){C.push({day:Mo[k],time:F.time,reason:"slot_inactive",existingStudent:"Horrio desativado pelo professor"});continue}if(H.status==="filled"){C.push({day:Mo[k],time:F.time,reason:"slot_filled_other",existingStudent:"Ocupado por outro aluno"});continue}const I=(z||[]).filter(G=>{const K=Be(G.class_datetime),q=en(K),X=K.getHours(),le=K.getMinutes(),te=G.duration_minutes||30;if(q!==k)return!1;const ie=P*60+A,Ne=ie+30,Re=X*60+le,Je=Re+te;return ie<Je&&Ne>Re});I.length>0&&C.push({day:Mo[k],time:F.time,reason:"appointment_conflict",existingStudent:((S=(_=I[0])==null?void 0:_.student)==null?void 0:S.full_name)||"Outro aluno"})}h(C)}catch(O){console.error("Erro ao verificar conflitos:",O)}finally{u(!1)}},500);return()=>clearTimeout(j)},[p,a,e==null?void 0:e.id,t]);const g=w=>{x(j=>({...j,[w]:{...j[w],enabled:!j[w].enabled}}))},y=(w,j)=>{x(N=>({...N,[w]:{...N[w],time:j}}))},b=async()=>{const w=Object.entries(p).filter(([D,z])=>z.enabled);if(w.length===0){i({variant:"destructive",title:"Campos obrigatrios",description:"Selecione pelo menos um dia da semana."});return}if(m.length>0){i({variant:"destructive",title:"Conflitos detectados",description:`Existem ${m.length} conflito(s) de horrio com a agenda do professor. Escolha horrios diferentes para continuar.`});return}const j=w.map(([D,z])=>`${Mo[D]} s ${z.time}`).join(`
`),N=Qe(),C=new Date(N.getTime()+15*60*1e3),_=o.filter(D=>{const z=Be(D.class_datetime),M=["scheduled","rescheduled"].includes(D.status),U=z>C;return M&&U}).length,S=o.length-_;if(_===0){i({variant:"destructive",title:"Nenhuma aula elegvel",description:'No h aulas agendadas futuras para alterar. Aulas passadas ou com status diferente de "agendada/reagendada" no podem ser modificadas.'});return}const O=`Tem certeza que deseja alterar o horrio das aulas de ${e.full_name}?

Novos horrios:
${j}

 ${_} aula(s) sero reagendadas.`+(S>0?`
 ${S} aula(s) sero mantidas (passadas ou com outro status).`:"");if(window.confirm(O)){c(!0);try{const D=Qe(),z=new Date(D.getTime()+15*60*1e3),M=o.filter(A=>{const B=Be(A.class_datetime),L=["scheduled","rescheduled"].includes(A.status),H=B>z;return L&&H});if(M.length===0){i({variant:"destructive",title:"Nenhuma aula elegvel",description:'No h aulas agendadas futuras para alterar. Aulas passadas ou com status diferente de "agendada/reagendada" no podem ser modificadas.'}),c(!1);return}const U=o.length-M.length;U>0&&console.log(`${U} aulas sero mantidas (passadas ou com status diferente)`);const $={};M.forEach(A=>{const B=Be(A.class_datetime),L=ae(B,"yyyy-ww");$[L]||($[L]=[]),$[L].push(A)});const E=[];for(const[A,B]of Object.entries($)){B.sort((q,X)=>new Date(q.class_datetime)-new Date(X.class_datetime));const L=B[0],H=Be(L.class_datetime),I=en(H),G=new Date(H);G.setDate(G.getDate()-I);const K=[];w.forEach(([q,X])=>{const le=new Date(G);le.setDate(le.getDate()+parseInt(q));const[te,ie]=X.time.split(":").map(Number);le.setHours(te,ie,0,0),le>z&&K.push(le)}),K.sort((q,X)=>q-X),B.forEach((q,X)=>{X<K.length?E.push({id:q.id,class_datetime:K[X].toISOString()}):E.push({id:q.id,status:"cancelled"})})}for(const A of E){const{error:B}=await R.from("appointments").update(A.status?{status:A.status}:{class_datetime:A.class_datetime}).eq("id",A.id);if(B)throw B}const T={};w.forEach(([A,B])=>{T[A]=B.time}),await R.from("profiles").update({preferred_schedule:T}).eq("id",e.id);const F=E.filter(A=>!A.status).length,k=E.filter(A=>A.status).length,P=o.length-M.length;i({title:"Horrios atualizados!",description:`${F} aula(s) reagendada(s)`+(k>0?`, ${k} cancelada(s)`:"")+(P>0?`. ${P} aula(s) mantida(s) sem alterao.`:".")}),r(),s()}catch(D){console.error("Error updating schedule:",D),i({variant:"destructive",title:"Erro ao atualizar horrios",description:D.message})}finally{c(!1)}}};if(!e)return null;const v=Object.entries(p).filter(([w,j])=>j.enabled);return n.jsx(Wt,{open:t,onOpenChange:s,children:n.jsxs(zt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsx(Ut,{children:"Alterar Dias e Horrios"}),n.jsxs(rs,{children:["Alterar os dias da semana e horrios das aulas agendadas de ",e.full_name]})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[n.jsxs("p",{className:"text-sm font-medium text-slate-700 mb-1",children:["Aulas agendadas: ",o.length]}),n.jsx("p",{className:"text-xs text-slate-500",children:'Somente aulas com status "agendada" sero alteradas'})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Pe,{className:"text-base font-semibold",children:"Dias da Semana e Horrios"}),n.jsx("div",{className:"space-y-2",children:Object.entries(Mo).map(([w,j])=>{const N=parseInt(w),C=p[N];return n.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-slate-50",children:[n.jsx(YP,{id:`day-${N}`,checked:C.enabled,onCheckedChange:()=>g(N)}),n.jsx("label",{htmlFor:`day-${N}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer flex-1",children:j}),n.jsxs(Mt,{value:C.time,onValueChange:_=>y(N,_),disabled:!C.enabled,children:[n.jsx(kt,{className:`w-[120px] ${!C.enabled&&"opacity-50"}`,children:n.jsx(Rt,{})}),n.jsx(Tt,{className:"max-h-60",children:oK.map(_=>n.jsx(ye,{value:_,children:_},_))})]})]},N)})})]}),d&&n.jsxs("div",{className:"flex items-center gap-2 py-2 text-slate-500",children:[n.jsx(Ie,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{className:"text-sm",children:"Verificando disponibilidade do professor..."})]}),!d&&m.length>0&&n.jsxs(Kn,{variant:"destructive",className:"border-red-300 bg-red-50",children:[n.jsx(ao,{className:"h-4 w-4"}),n.jsx(Sa,{className:"text-red-800",children:"Conflitos de Agenda Detectados"}),n.jsxs(Xn,{className:"text-red-700",children:[n.jsx("p",{className:"mb-2",children:"Os seguintes horrios j esto ocupados na agenda do professor:"}),n.jsx("ul",{className:"space-y-1",children:m.map((w,j)=>n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"font-bold",children:[" ",w.day," s ",w.time]}),n.jsxs("span",{className:"text-xs",children:[" ocupado por: ",w.existingStudent]})]},j))}),n.jsx("p",{className:"mt-3 text-sm font-medium",children:" Escolha horrios diferentes para continuar."})]})]}),v.length>0&&m.length===0&&!d&&n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[n.jsx("p",{className:"text-sm font-medium text-green-900 mb-2",children:" Novos horrios (sem conflitos):"}),n.jsx("div",{className:"space-y-1",children:v.map(([w,j])=>n.jsxs("p",{className:"text-sm text-green-700",children:[" ",Mo[w]," s ",j.time]},w))})]})]}),n.jsxs(Ts,{children:[n.jsx(Y,{variant:"outline",onClick:s,children:"Cancelar"}),n.jsx(Y,{onClick:b,disabled:l||v.length===0||m.length>0||d,className:"bg-sky-600 hover:bg-sky-700",children:l?n.jsxs(n.Fragment,{children:[n.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"})," Salvando..."]}):d?n.jsxs(n.Fragment,{children:[n.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"})," Verificando..."]}):"Salvar Alteraes"})]})]})})},lK=({student:e,isOpen:t,onClose:s,onUpdate:r,professors:a,classSlots:o,currentProfessorId:i})=>{const{toast:l}=Pt(),[c,d]=f.useState(null),[u,m]=f.useState([]),[h,p]=f.useState(!1),[x,g]=f.useState(!0);f.useEffect(()=>{if(!t||!e||!a.length)return;g(!0),(()=>{const j=e.daySchedules||{},N=Object.keys(j);if(N.length===0){m([]),g(!1);return}const C=a.filter(_=>_.id!==e.assigned_professor_id).map(_=>{const S=(o||[]).filter(z=>z.professor_id===_.id&&z.status==="active");let O=0;N.forEach(z=>{const M=j[z];S.some($=>{const E=$.start_time.substring(0,5);return $.day_of_week===parseInt(z)&&E===M})&&O++});const D=Math.round(O/N.length*100);return{professor:_,matchPercentage:D,matchingSlots:O,totalSlots:N.length}}).filter(_=>_.matchPercentage===100).sort((_,S)=>S.matchPercentage-_.matchPercentage);m(C),g(!1)})()},[t,e,a,o]);const y=async()=>{var j;if(!(!c||!e||!window.confirm(`Tem certeza que deseja iniciar a transferncia de ${e.full_name} para ${c.full_name}?

O aluno perder o vnculo atual e o novo professor precisar APROVAR a transferncia.

Isso afetar todas as aulas agendadas, remarcadas e com falta do aluno.`))){p(!0);try{const N=e.assigned_professor_id,C=((j=a.find(z=>z.id===N))==null?void 0:j.full_name)||"Desconhecido",{error:_}=await R.rpc("transfer_student_data",{p_student_id:e.id,p_professor_id:null});if(_)throw _;const{error:S}=await R.from("profiles").update({pending_professor_id:c.id,pending_professor_status:"aguardando_aprovacao",pending_professor_requested_at:new Date().toISOString()}).eq("id",e.id);if(S)throw S;const O={type:"vinculacao",is_recurring:!1,student_name:e.full_name,old_professor_id:N,old_professor_name:C,preferred_schedule:e.preferred_schedule||e.daySchedules,days:Object.keys(e.daySchedules||{}).map(Number),time:Object.values(e.daySchedules||{})[0]||"08:00"},{error:D}=await R.from("solicitudes_clase").insert({alumno_id:e.id,profesor_id:c.id,horarios_propuestos:JSON.stringify(O),status:"Pendiente",is_recurring:!1});D&&console.error("Error creating solicitation:",D),l({title:"Solicitao de transferncia enviada!",description:`Aguardando aprovao de ${c.full_name}. A solicitao aparecer na tela inicial do professor.`}),r(),s(),d(null)}catch(N){console.error("Error changing professor:",N),l({variant:"destructive",title:"Erro ao alterar professor",description:N.message})}finally{p(!1)}}};if(!e)return null;const b=async()=>{if(!(!e||!window.confirm(`Tem certeza que deseja DESVINCULAR ${e.full_name}?

O aluno ficar sem professor e os horrios na agenda do professor antigo sero LIBERADOS imediatamente.`))){p(!0);try{const{error:j}=await R.rpc("transfer_student_data",{p_student_id:e.id,p_professor_id:null});if(j)throw j;l({title:"Aluno desvinculado!",description:"Vnculo removido e horrios liberados com sucesso."}),r(),s()}catch(j){console.error("Erro ao desvincular:",j),l({variant:"destructive",title:"Erro ao desvincular",description:j.message})}finally{p(!1)}}},v=u.find(w=>w.professor.id===(c==null?void 0:c.id));return n.jsx(Wt,{open:t,onOpenChange:s,children:n.jsxs(zt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsx(Ut,{children:"Alterar Professor Vinculado"}),n.jsxs(rs,{children:["Transferir ",e.full_name," para outro professor compatvel"]})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-sm text-slate-700 mb-2",children:"Horrios do Aluno:"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[Object.entries(e.daySchedules||{}).map(([w,j])=>n.jsxs(me,{variant:"outline",className:"text-xs",children:[KP[w]," - ",j]},w)),Object.keys(e.daySchedules||{}).length===0&&n.jsx("span",{className:"text-xs text-slate-500",children:"Nenhum horrio definido"})]})]}),x?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(Ie,{className:"h-6 w-6 animate-spin text-purple-600"}),n.jsx("span",{className:"ml-2 text-sm text-slate-600",children:"Calculando compatibilidade..."})]}):u.length===0?n.jsxs("div",{className:"text-center py-8 text-slate-500",children:[n.jsx(ii,{className:"h-12 w-12 mx-auto mb-3 text-slate-300"}),n.jsx("p",{className:"font-medium",children:"Nenhum professor compatvel encontrado"}),n.jsx("p",{className:"text-sm mt-1",children:"Os horrios do aluno no coincidem com nenhum professor disponvel"})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm text-slate-700",children:"Professores Disponveis:"}),u.map(({professor:w,matchPercentage:j,matchingSlots:N,totalSlots:C})=>{const _=j===100,S=(c==null?void 0:c.id)===w.id;return n.jsxs("div",{onClick:()=>_&&d(w),className:`border p-3 rounded-lg transition-all ${_?"cursor-pointer hover:bg-purple-50 hover:border-purple-300":"opacity-50 cursor-not-allowed"} ${S?"border-purple-600 bg-purple-50":""}`,children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[S&&n.jsx(ux,{className:"h-4 w-4 text-purple-600"}),n.jsx("span",{className:"font-medium text-slate-800",children:w.full_name})]}),n.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[N," de ",C," horrios compatveis"]})]}),n.jsxs(me,{variant:_?"default":"secondary",className:_?"bg-green-600":"",children:[j,"%"]})]}),!_&&n.jsx("p",{className:"text-xs text-orange-600 mt-2",children:" Compatibilidade parcial - no  possvel transferir"})]},w.id)})]}),v&&n.jsxs("div",{className:"bg-green-50 border border-green-200 p-3 rounded-lg",children:[n.jsxs("p",{className:"text-sm text-green-800",children:[" Professor ",n.jsx("strong",{children:v.professor.full_name})," selecionado"]}),n.jsxs("p",{className:"text-xs text-green-700 mt-1",children:["Compatibilidade: ",v.matchPercentage,"% (",v.matchingSlots,"/",v.totalSlots," horrios)"]})]})]}),n.jsxs(Ts,{className:"flex sm:justify-between items-center w-full",children:[n.jsxs(Y,{type:"button",variant:"ghost",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:b,disabled:h,children:[n.jsx(ii,{className:"mr-2 h-4 w-4"}),"Desvincular"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Y,{variant:"outline",onClick:s,disabled:h,children:"Cancelar"}),n.jsx(Y,{onClick:y,disabled:!c||h,className:"bg-purple-600 hover:bg-purple-700",children:h?n.jsxs(n.Fragment,{children:[n.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"})," Processando..."]}):n.jsxs(n.Fragment,{children:[n.jsx($m,{className:"mr-2 h-4 w-4"})," Confirmar Alterao"]})})]})]})]})})},$N=({dashboardData:e})=>{const{toast:t}=Pt(),[s,r]=f.useState(""),[a,o]=f.useState(null),[i,l]=f.useState(!1),[c,d]=f.useState(!1),[u,m]=f.useState(!1),[h,p]=f.useState(!1),[x,g,y]=Si("student_message_form",{title:"",content:"",priority:"normal"}),{title:b,content:v,priority:w}=x,j=(X,le)=>g(te=>({...te,[X]:le})),[N,C]=f.useState(!1),_=(e==null?void 0:e.data)||{},S=(e==null?void 0:e.loading)||!1,O=e==null?void 0:e.professorId,D=e==null?void 0:e.onUpdate,z=(e==null?void 0:e.isSuperadmin)||!1,M=_.professors||[],U=_.can_manage_students!==!1,$=e==null?void 0:e.globalProfessorFilter,[E,T]=f.useState("all"),F=$&&$!=="all"?$:E,k=_.students||[],P=_.allBillings||[],A=_.appointments||[],B=_.assignedLogs||[],H=f.useMemo(()=>!k||!P||!A||!B?[]:k.map(X=>{const le=A.filter(oe=>oe.student_id===X.id),te=le.filter(oe=>oe.status==="scheduled"),ie={};te.forEach(oe=>{const be=Be(oe.class_datetime),Ce=en(be),at=ae(be,"HH:mm");ie[Ce]||(ie[Ce]=at)});const Re=B.filter(oe=>oe.student_id===X.id&&oe.status!=="Cancelado").reduce((oe,be)=>oe+(be.assigned_classes||0),0),Je=le.filter(oe=>["scheduled","completed","missed"].includes(oe.status)).length,V=Re-Je,_e=te.length;return{...X,availableClasses:Math.max(0,V),scheduledClasses:_e,daySchedules:Object.keys(ie).length>0?ie:X.preferred_schedule||{},scheduledAppointments:te}}),[k,P,A,B]).filter(X=>{var te;const le=(te=X.full_name)==null?void 0:te.toLowerCase().includes(s.toLowerCase());return z?F!=="all"?F==="none"?le&&!X.assigned_professor_id:le&&X.assigned_professor_id===F:le:le&&X.assigned_professor_id===O});f.useEffect(()=>{console.log("AlunosTab Total Students:",k.length),console.log("AlunosTab Filtered Students:",H.length),console.log("AlunosTab Filter:",F)},[k.length,H.length,F]);const I=X=>{o(X),l(!0)},G=X=>{o(X),d(!0)},K=X=>{o(X),m(!0)},q=async()=>{if(!b.trim()||!v.trim()){t({variant:"destructive",title:"Campos obrigatrios",description:"Preencha o ttulo e a mensagem."});return}C(!0);try{const{error:X}=await R.from("student_messages").insert({professor_id:O,student_id:a.id,title:b,message:v,priority:w});if(X)throw X;await R.from("notifications").insert({user_id:a.id,type:"professor_message",content:{message:`Nova mensagem do professor: ${b}`,priority:w}}),t({title:"Mensagem enviada!",description:`Mensagem enviada para ${a.full_name}.`}),l(!1),y()}catch(X){t({variant:"destructive",title:"Erro ao enviar mensagem",description:X.message})}finally{C(!1)}};return n.jsx("div",{className:"w-full",children:n.jsx("div",{className:"w-full px-4 lg:px-8",children:n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[n.jsxs("h3",{className:"font-bold mb-4",children:["Gerenciar Alunos (",H.length,")"]}),n.jsxs("div",{className:"flex justify-between items-center mb-4 gap-4 flex-wrap",children:[n.jsxs("div",{className:"relative w-full max-w-sm",children:[n.jsx(_o,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-500"}),n.jsx(et,{placeholder:"Buscar por nome...",value:s,onChange:X=>r(X.target.value),className:"pl-10"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Y,{variant:"outline",className:"border-sky-200 text-sky-700 hover:bg-sky-50",onClick:()=>{o(null),p(!0)},children:[n.jsx(Un,{className:"mr-2 h-4 w-4"}),"Compartilhar com Todos"]}),z&&M.length>0&&n.jsxs(Mt,{value:E,onValueChange:T,children:[n.jsxs(kt,{className:"w-[200px]",children:[n.jsx(Im,{className:"h-4 w-4 mr-2"}),n.jsx(Rt,{placeholder:"Filtrar professor"})]}),n.jsxs(Tt,{children:[n.jsx(ye,{value:"all",children:"Todos os professores"}),n.jsx(ye,{value:"none",children:"Sem Professor Vinculado"}),M.map(X=>n.jsx(ye,{value:X.id,children:X.full_name},X.id))]})]})]})]}),n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs(Sn,{children:[n.jsx(Cn,{className:"bg-slate-50",children:n.jsxs(pt,{children:[n.jsx(Me,{children:"Cdigo"}),n.jsx(Me,{children:"Nome"}),n.jsx(Me,{children:"Idade"}),n.jsx(Me,{children:"Nvel"}),n.jsx(Me,{children:"Professor"}),n.jsx(Me,{children:"Dias de Aula"}),n.jsx(Me,{children:"Aulas Agendadas"}),n.jsx(Me,{children:"Estado"}),n.jsx(Me,{children:"Membro Desde"}),U&&n.jsx(Me,{className:"text-right",children:"Aes"})]})}),n.jsx(En,{children:S?n.jsx(pt,{children:n.jsx(we,{colSpan:U?"10":"9",className:"text-center",children:n.jsx(Ie,{className:"mx-auto my-4 h-6 w-6 animate-spin"})})}):H.length>0?H.map(X=>{var le,te;return n.jsxs(pt,{children:[n.jsx(we,{className:"font-mono text-sm text-slate-600",children:X.student_code||"-"}),n.jsx(we,{className:"font-medium",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(tr,{className:"h-8 w-8",children:[n.jsx(Br,{src:X.avatar_url}),n.jsx(sr,{children:((le=X.full_name)==null?void 0:le[0])||"A"})]}),X.full_name]})}),n.jsx(we,{children:X.age||"N/A"}),n.jsx(we,{children:X.spanish_level||"N/A"}),n.jsx(we,{children:((te=M.find(ie=>ie.id===X.assigned_professor_id))==null?void 0:te.full_name)||""}),n.jsx(we,{children:Object.keys(X.daySchedules).length>0?n.jsx("div",{className:"flex flex-col gap-1",children:Object.entries(X.daySchedules).sort(([ie],[Ne])=>parseInt(ie)-parseInt(Ne)).map(([ie,Ne])=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(me,{variant:"outline",className:"text-xs",children:KP[ie]}),n.jsxs("span",{className:"text-xs text-slate-600",children:[n.jsx(Bs,{className:"inline h-3 w-3 mr-1"}),Ne]})]},ie))}):n.jsx("span",{className:"text-xs text-slate-400",children:"Sem aulas"})}),n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[n.jsx(Lm,{className:"h-4 w-4 text-sky-500"}),X.scheduledClasses]})}),n.jsx(we,{children:n.jsxs("div",{className:"flex flex-col gap-1 items-start",children:[X.is_active!==!1?n.jsx(me,{className:"bg-green-100 text-green-800 hover:bg-green-200",children:"Ativo"}):n.jsx(me,{variant:"destructive",children:"Inativo"}),X.pending_professor_status==="rejeitado"&&n.jsx(me,{variant:"outline",className:"text-xs bg-red-50 text-red-600 border-red-200",children:"Rejeitado"})]})}),n.jsx(we,{children:ae(new Date(X.created_at),"dd/MM/yyyy")}),U&&n.jsx(we,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[n.jsx(Y,{variant:"ghost",size:"icon",className:"text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50",title:"Enviar Material",onClick:()=>{o(X),p(!0)},children:n.jsx(Un,{className:"h-4 w-4"})}),n.jsxs(Nd,{children:[n.jsx(_d,{asChild:!0,children:n.jsx(Y,{variant:"ghost",size:"icon",children:n.jsx(uC,{className:"h-4 w-4"})})}),n.jsxs(Al,{align:"end",children:[X.scheduledAppointments.length>0&&n.jsxs(n.Fragment,{children:[n.jsxs(jr,{onClick:()=>G(X),children:[n.jsx(ts,{className:"mr-2 h-4 w-4 text-blue-600"}),"Alterar Dias/Horrios"]}),n.jsx(Zo,{})]}),n.jsxs(jr,{onClick:()=>K(X),children:[n.jsx($m,{className:"mr-2 h-4 w-4 text-purple-600"}),"Alterar Professor Vinculado"]}),n.jsx(Zo,{}),n.jsxs(jr,{onClick:()=>I(X),children:[n.jsx(kr,{className:"mr-2 h-4 w-4 text-sky-600"}),"Enviar Mensagem"]})]})]})]})})]},X.id)}):n.jsx(pt,{children:n.jsx(we,{colSpan:U?"10":"9",className:"text-center py-8 text-slate-500",children:"Nenhum aluno encontrado."})})})]})}),n.jsx(Wt,{open:i,onOpenChange:l,children:n.jsxs(zt,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsxs(Ut,{children:["Enviar Mensagem para ",a==null?void 0:a.full_name]}),n.jsx(rs,{children:"A mensagem aparecer no painel do aluno como um aviso importante."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"title",children:"Ttulo da Mensagem"}),n.jsx(et,{id:"title",placeholder:"Ex: Tarefa da prxima aula",value:b,onChange:X=>j("title",X.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"message",children:"Mensagem"}),n.jsx(Jn,{id:"message",placeholder:"Digite sua mensagem...",value:v,onChange:X=>j("content",X.target.value),rows:5})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"priority",children:"Prioridade"}),n.jsxs(Mt,{value:w,onValueChange:X=>j("priority",X),children:[n.jsx(kt,{id:"priority",children:n.jsx(Rt,{})}),n.jsxs(Tt,{children:[n.jsx(ye,{value:"normal",children:"Normal"}),n.jsx(ye,{value:"important",children:"Importante"}),n.jsx(ye,{value:"urgent",children:"Urgente"})]})]})]})]}),n.jsx(Ts,{children:n.jsx(Y,{onClick:q,disabled:N,className:"bg-sky-500 hover:bg-sky-600",children:N?n.jsxs(n.Fragment,{children:[n.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"})," Enviando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Bl,{className:"mr-2 h-4 w-4"})," Enviar Mensagem"]})})})]})}),n.jsx(iK,{student:a,isOpen:c,onClose:()=>d(!1),onUpdate:D,professorId:(a==null?void 0:a.assigned_professor_id)||O,scheduledAppointments:(a==null?void 0:a.scheduledAppointments)||[]}),n.jsx(lK,{student:a,isOpen:u,onClose:()=>m(!1),onUpdate:D,professors:M,classSlots:_.allClassSlots||_.classSlots||[],currentProfessorId:O}),n.jsx(nK,{student:a,isOpen:h,onClose:()=>p(!1),onUpdate:D,professorId:O})]})})})},cK=({activeChat:e,professorId:t,professorName:s,onBack:r})=>{var b;const[a,o]=f.useState([]),[i,l]=f.useState(""),[c,d]=f.useState(!0),[u,m]=f.useState(!1),h=f.useRef(null),{toast:p}=Pt(),x=()=>{var v;return(v=h.current)==null?void 0:v.scrollIntoView({behavior:"smooth"})},g=f.useCallback(async()=>{if(!(e!=null&&e.chat_id))return;d(!0);const{data:v,error:w}=await R.from("mensajes").select("*").eq("chat_id",e.chat_id).order("enviado_en",{ascending:!0});if(w)p({variant:"destructive",title:"Erro ao carregar mensagens."});else{o(v||[]);const{error:j,count:N}=await R.from("mensajes").update({leido:!0}).eq("chat_id",e.chat_id).neq("remitente_id",t).eq("leido",!1);j&&console.error("Erro ao marcar mensagens como lidas:",j)}d(!1)},[e,p,t]);f.useEffect(()=>{g();const v=R.channel(`professor-chat-${e.chat_id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"mensajes",filter:`chat_id=eq.${e.chat_id}`},w=>{w.new.remitente_id!==t&&o(j=>[...j,w.new])}).subscribe();return()=>R.removeChannel(v)},[e,g,t]),f.useEffect(x,[a]);const y=async v=>{if(v.preventDefault(),!i.trim())return;m(!0);const w=i;l("");const j={mensaje_id:`temp-${Date.now()}`,chat_id:e.chat_id,remitente_id:t,contenido:w,enviado_en:Qe().toISOString()};o(C=>[...C,j]);const{error:N}=await R.from("mensajes").insert({chat_id:e.chat_id,remitente_id:t,contenido:w.trim()});N?(p({variant:"destructive",title:"Erro ao enviar",description:N.message}),o(C=>C.filter(_=>_.mensaje_id!==j.mensaje_id)),l(w)):await R.from("notifications").insert({user_id:e.alumno_id,type:"new_message",content:{message:`Nova mensagem de ${s}`,senderName:s,chatId:e.chat_id}}),m(!1)};return n.jsx("div",{className:"w-full",children:n.jsx("div",{className:"w-full px-4 lg:px-8",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm flex flex-col h-[75vh]",children:[n.jsxs("header",{className:"p-4 border-b flex items-center gap-4 sticky top-0 bg-white z-10",children:[n.jsx(Y,{variant:"ghost",size:"icon",onClick:r,children:n.jsx(i0,{className:"w-5 h-5"})}),n.jsxs(tr,{children:[n.jsx(Br,{src:e.alumno_avatar_url}),n.jsx(sr,{children:((b=e.alumno_full_name)==null?void 0:b[0])||"A"})]}),n.jsx("h3",{className:"font-bold",children:e.alumno_full_name})]}),n.jsxs("main",{className:"flex-1 p-4 overflow-y-auto bg-slate-50 space-y-4",children:[c?n.jsx("div",{className:"flex justify-center items-center h-full",children:n.jsx(Ie,{className:"w-8 h-8 animate-spin text-sky-600"})}):a.length>0?a.map(v=>{const w=v.remitente_id===t;return n.jsx("div",{className:ee("flex",w?"justify-end":"justify-start"),children:n.jsx("div",{className:ee("rounded-lg px-4 py-2 max-w-[80%]",w?"bg-sky-600 text-white":"bg-slate-200 text-slate-800"),children:n.jsx("p",{className:"text-sm",children:v.contenido})})},v.mensaje_id)}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-slate-400",children:[n.jsx("p",{children:"Nenhuma mensagem nesta conversa ainda."}),n.jsx("p",{className:"text-sm",children:"Envie a primeira mensagem para comear."})]}),n.jsx("div",{ref:h})]}),n.jsx("footer",{className:"p-4 border-t bg-white",children:n.jsxs("form",{onSubmit:y,className:"flex gap-2",children:[n.jsx(et,{value:i,onChange:v=>l(v.target.value),placeholder:"Digite sua mensagem...",autoComplete:"off",disabled:u}),n.jsx(Y,{type:"submit",disabled:u||!i.trim(),children:u?n.jsx(Ie,{className:"w-4 h-4 animate-spin"}):n.jsx(Bl,{className:"w-4 h-4"})})]})})]})})})},FN=({dashboardData:e})=>{var T,F,k,P;const t=e==null?void 0:e.professorId,s=(e==null?void 0:e.professorName)||"Professor",r=(e==null?void 0:e.isSuperadmin)||!1,a=(e==null?void 0:e.globalProfessorFilter)||"all",o=e==null?void 0:e.filteredProfessorId,i=((T=e==null?void 0:e.data)==null?void 0:T.chatList)||[],l=((F=e==null?void 0:e.data)==null?void 0:F.students)||[],c=((k=e==null?void 0:e.data)==null?void 0:k.appointments)||[],d=((P=e==null?void 0:e.data)==null?void 0:P.allBillings)||[],u=(e==null?void 0:e.loading)||!1,m=r&&a!=="all"?o:t,[h,p]=f.useState([]),[x,g]=f.useState(null),[y,b]=f.useState({}),[v,w]=f.useState(!1),[j,N]=f.useState(""),[C,_]=f.useState(!1),{toast:S}=Pt(),O=f.useMemo(()=>{if(r&&a==="all")return l;const A=new Set(c.filter(H=>H.professor_id===m).map(H=>H.student_id)),B=new Set(d.filter(H=>H.professor_id===m).map(H=>H.user_id)),L=new Set([...A,...B]);return l.filter(H=>L.has(H.id))},[l,c,d,m,r,a]),D=f.useMemo(()=>{const A=new Set(h.map(B=>B.alumno_id));return O.filter(B=>!A.has(B.id))},[h,O]),z=f.useMemo(()=>{if(!j.trim())return D;const A=j.toLowerCase();return D.filter(B=>{var L,H;return((L=B.full_name)==null?void 0:L.toLowerCase().includes(A))||((H=B.email)==null?void 0:H.toLowerCase().includes(A))})},[D,j]),M=async A=>{if(!m){S({variant:"destructive",title:"Erro",description:"No foi possvel identificar o professor."});return}_(!0);try{const{data:B}=await R.from("chats").select("*").eq("alumno_id",A.id).eq("profesor_id",m).maybeSingle();if(B){g({...B,alumno_full_name:A.full_name,alumno_avatar_url:A.avatar_url}),w(!1);return}const{data:L,error:H}=await R.from("chats").insert({alumno_id:A.id,profesor_id:m}).select().single();if(H)throw H;const I={...L,alumno_full_name:A.full_name,alumno_avatar_url:A.avatar_url,last_message_content:null,last_message_time:null};p(G=>[I,...G]),g(I),w(!1),N(""),S({title:"Conversa iniciada!",description:`Voc pode agora enviar mensagens para ${A.full_name}.`})}catch(B){console.error("Erro ao criar chat:",B),S({variant:"destructive",title:"Erro ao criar conversa",description:B.message})}finally{_(!1)}},U=f.useCallback(async()=>{if(t){if(i.length>0&&!u){p(i);return}if(!u&&i.length===0){const A=r?a==="all"?null:a:t,{data:B,error:L}=await R.rpc("get_chat_list_v2",{p_prof_id:A});if(L)if(console.error("Error fetching chat list:",L),L.code==="PGRST202"&&!r){const{data:H}=await R.rpc("get_professor_chat_list",{p_id:t});p(H||[])}else S({variant:"destructive",title:"Erro ao carregar conversas",description:L.message});else p(B||[])}}},[t,i,u,S,r,a]),$=f.useCallback(async()=>{if(!m||h.length===0)return;const A=h.map(L=>L.chat_id),B={};for(const L of A){const{count:H,error:I}=await R.from("mensajes").select("mensaje_id",{count:"exact",head:!0}).eq("chat_id",L).neq("remitente_id",m).eq("leido",!1);I||(B[L]=H||0)}b(B)},[m,h]);f.useEffect(()=>{if(i.length>0&&h.length===0&&p(i),!t)return;const A=L=>{U(),$()},B=R.channel("professor-chat-list").on("postgres_changes",{event:"INSERT",schema:"public",table:"mensajes"},A).on("postgres_changes",{event:"INSERT",schema:"public",table:"chats",filter:r?void 0:`profesor_id=eq.${t}`},A).subscribe();return()=>R.removeChannel(B)},[t,U,$,i,r]),f.useEffect(()=>{h.length>0&&$()},[h,$]);const E=f.useCallback(()=>{g(null),$()},[$]);return x?n.jsx(cK,{activeChat:x,professorId:m,professorName:s,onBack:E}):n.jsx("div",{className:"w-full",children:n.jsx("div",{className:"w-full px-4 lg:px-8",children:n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-xl font-bold",children:"Conversas com Alunos"}),n.jsxs(Wt,{open:v,onOpenChange:w,children:[n.jsx(P2,{asChild:!0,children:n.jsxs(Y,{variant:"default",size:"sm",className:"bg-sky-600 hover:bg-sky-700",disabled:D.length===0,children:[n.jsx(za,{className:"w-4 h-4 mr-2"}),"Nova Conversa"]})}),n.jsxs(zt,{className:"sm:max-w-[425px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsx(Ut,{children:"Iniciar Nova Conversa"}),n.jsx(rs,{children:"Selecione um aluno para iniciar uma nova conversa."})]}),n.jsxs("div",{className:"relative mb-4",children:[n.jsx(_o,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),n.jsx(et,{placeholder:"Buscar aluno...",value:j,onChange:A=>N(A.target.value),className:"pl-10"})]}),n.jsx("div",{className:"max-h-[300px] overflow-y-auto space-y-2",children:z.length>0?z.map(A=>{var B;return n.jsxs("div",{onClick:()=>!C&&M(A),className:ee("flex items-center gap-3 p-3 rounded-lg border hover:bg-slate-50 cursor-pointer transition-colors",C&&"opacity-50 cursor-not-allowed"),children:[n.jsxs(tr,{className:"h-10 w-10",children:[n.jsx(Br,{src:A.avatar_url}),n.jsx(sr,{className:"bg-sky-100 text-sky-600",children:((B=A.full_name)==null?void 0:B[0])||"A"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-slate-800",children:A.full_name}),n.jsx("p",{className:"text-xs text-slate-500",children:A.email})]}),C?n.jsx(Ie,{className:"w-4 h-4 animate-spin text-sky-600"}):n.jsx(kr,{className:"w-4 h-4 text-slate-400"})]},A.id)}):n.jsx("div",{className:"text-center text-slate-500 py-8",children:j?n.jsxs("p",{children:['Nenhum aluno encontrado com "',j,'"']}):n.jsx("p",{children:"Todos os alunos j possuem uma conversa iniciada."})})})]})]})]}),n.jsx("div",{className:"space-y-2 max-h-[70vh] overflow-y-auto",children:u?n.jsx("div",{className:"flex justify-center py-10",children:n.jsx(Ie,{className:"w-8 h-8 animate-spin text-sky-600"})}):h.length>0?h.map(A=>{var B;return n.jsxs("div",{onClick:()=>g(A),className:ee("flex items-start gap-4 p-3 rounded-lg hover:bg-slate-100 cursor-pointer transition-colors border shadow-sm bg-white",y[A.chat_id]>0&&"bg-sky-50 border-sky-200"),children:[n.jsxs(tr,{className:"h-10 w-10",children:[n.jsx(Br,{src:A.alumno_avatar_url}),n.jsx(sr,{children:((B=A.alumno_full_name)==null?void 0:B[0])||"A"})]}),n.jsxs("div",{className:"flex-1 overflow-hidden",children:[n.jsxs("div",{className:"flex justify-between items-center mb-0.5",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("p",{className:ee("font-bold text-slate-800 truncate leading-none mb-1",y[A.chat_id]>0&&"text-sky-800"),children:A.alumno_full_name}),r&&n.jsxs("span",{className:"text-[10px] text-slate-400 font-medium uppercase tracking-tight",children:["Professor: ",A.profesor_full_name||"Desconhecido"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[y[A.chat_id]>0&&n.jsx("span",{className:"bg-sky-600 text-white text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:y[A.chat_id]}),A.last_message_time&&n.jsx("p",{className:"text-[10px] text-slate-400 flex-shrink-0 font-medium",children:mE(new Date(A.last_message_time),{addSuffix:!0,locale:nt})})]})]}),n.jsx("p",{className:ee("text-xs truncate max-w-[90%]",y[A.chat_id]>0?"text-slate-700 font-semibold":"text-slate-500"),children:A.last_message_content||"Nenhuma mensagem ainda."})]})]},A.chat_id)}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center text-slate-500",children:[n.jsx(kr,{className:"w-16 h-16 mb-4 opacity-20"}),n.jsx("p",{className:"text-lg",children:"Nenhuma conversa iniciada."}),n.jsx("p",{className:"text-sm mb-4",children:'Clique em "Nova Conversa" para enviar uma mensagem a um aluno.'}),D.length>0&&n.jsxs(Y,{variant:"outline",onClick:()=>w(!0),className:"mt-2",children:[n.jsx(za,{className:"w-4 h-4 mr-2"}),"Iniciar Conversa"]})]})})]})})})};var wh="Switch",[dK,CQ]=qr(wh),[uK,fK]=dK(wh),XP=f.forwardRef((e,t)=>{const{__scopeSwitch:s,name:r,checked:a,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:d,form:u,...m}=e,[h,p]=f.useState(null),x=it(t,w=>p(w)),g=f.useRef(!1),y=h?u||!!h.closest("form"):!0,[b,v]=Gn({prop:a,defaultProp:o??!1,onChange:d,caller:wh});return n.jsxs(uK,{scope:s,checked:b,disabled:l,children:[n.jsx(ze.button,{type:"button",role:"switch","aria-checked":b,"aria-required":i,"data-state":eA(b),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:x,onClick:je(e.onClick,w=>{v(j=>!j),y&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),y&&n.jsx(ZP,{control:h,bubbles:!g.current,name:r,value:c,checked:b,required:i,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});XP.displayName=wh;var QP="SwitchThumb",JP=f.forwardRef((e,t)=>{const{__scopeSwitch:s,...r}=e,a=fK(QP,s);return n.jsx(ze.span,{"data-state":eA(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});JP.displayName=QP;var mK="SwitchBubbleInput",ZP=f.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:r=!0,...a},o)=>{const i=f.useRef(null),l=it(i,o),c=cy(s),d=g0(t);return f.useEffect(()=>{const u=i.current;if(!u)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==s&&p){const x=new Event("click",{bubbles:r});p.call(u,s),u.dispatchEvent(x)}},[c,s,r]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ZP.displayName=mK;function eA(e){return e?"checked":"unchecked"}var tA=XP,hK=JP;const Bx=f.forwardRef(({className:e,...t},s)=>n.jsx(tA,{className:ee("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:n.jsx(hK,{className:ee("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Bx.displayName=tA.displayName;var VN=1,pK=.9,gK=.8,xK=.17,Bp=.1,Up=.999,vK=.9999,yK=.99,bK=/[\\\/_+.#"@\[\(\{&]/,wK=/[\\\/_+.#"@\[\(\{&]/g,jK=/[\s-]/,sA=/[\s-]/g;function Ux(e,t,s,r,a,o,i){if(o===t.length)return a===e.length?VN:yK;var l=`${a},${o}`;if(i[l]!==void 0)return i[l];for(var c=r.charAt(o),d=s.indexOf(c,a),u=0,m,h,p,x;d>=0;)m=Ux(e,t,s,r,d+1,o+1,i),m>u&&(d===a?m*=VN:bK.test(e.charAt(d-1))?(m*=gK,p=e.slice(a,d-1).match(wK),p&&a>0&&(m*=Math.pow(Up,p.length))):jK.test(e.charAt(d-1))?(m*=pK,x=e.slice(a,d-1).match(sA),x&&a>0&&(m*=Math.pow(Up,x.length))):(m*=xK,a>0&&(m*=Math.pow(Up,d-a))),e.charAt(d)!==t.charAt(o)&&(m*=vK)),(m<Bp&&s.charAt(d-1)===r.charAt(o+1)||r.charAt(o+1)===r.charAt(o)&&s.charAt(d-1)!==r.charAt(o))&&(h=Ux(e,t,s,r,d+1,o+2,i),h*Bp>m&&(m=h*Bp)),m>u&&(u=m),d=s.indexOf(c,d+1);return i[l]=u,u}function zN(e){return e.toLowerCase().replace(sA," ")}function NK(e,t,s){return e=s&&s.length>0?`${e+" "+s.join(" ")}`:e,Ux(e,t,zN(e),zN(t),0,0,{})}var gc='[cmdk-group=""]',Hp='[cmdk-group-items=""]',_K='[cmdk-group-heading=""]',rA='[cmdk-item=""]',BN=`${rA}:not([aria-disabled="true"])`,Hx="cmdk-item-select",Li="data-value",SK=(e,t,s)=>NK(e,t,s),nA=f.createContext(void 0),Kd=()=>f.useContext(nA),aA=f.createContext(void 0),Oy=()=>f.useContext(aA),oA=f.createContext(void 0),iA=f.forwardRef((e,t)=>{let s=$i(()=>{var L,H;return{search:"",value:(H=(L=e.value)!=null?L:e.defaultValue)!=null?H:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=$i(()=>new Set),a=$i(()=>new Map),o=$i(()=>new Map),i=$i(()=>new Set),l=lA(e),{label:c,children:d,value:u,onValueChange:m,filter:h,shouldFilter:p,loop:x,disablePointerSelection:g=!1,vimBindings:y=!0,...b}=e,v=qs(),w=qs(),j=qs(),N=f.useRef(null),C=IK();mi(()=>{if(u!==void 0){let L=u.trim();s.current.value=L,_.emit()}},[u]),mi(()=>{C(6,U)},[]);let _=f.useMemo(()=>({subscribe:L=>(i.current.add(L),()=>i.current.delete(L)),snapshot:()=>s.current,setState:(L,H,I)=>{var G,K,q,X;if(!Object.is(s.current[L],H)){if(s.current[L]=H,L==="search")M(),D(),C(1,z);else if(L==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let le=document.getElementById(j);le?le.focus():(G=document.getElementById(v))==null||G.focus()}if(C(7,()=>{var le;s.current.selectedItemId=(le=$())==null?void 0:le.id,_.emit()}),I||C(5,U),((K=l.current)==null?void 0:K.value)!==void 0){let le=H??"";(X=(q=l.current).onValueChange)==null||X.call(q,le);return}}_.emit()}},emit:()=>{i.current.forEach(L=>L())}}),[]),S=f.useMemo(()=>({value:(L,H,I)=>{var G;H!==((G=o.current.get(L))==null?void 0:G.value)&&(o.current.set(L,{value:H,keywords:I}),s.current.filtered.items.set(L,O(H,I)),C(2,()=>{D(),_.emit()}))},item:(L,H)=>(r.current.add(L),H&&(a.current.has(H)?a.current.get(H).add(L):a.current.set(H,new Set([L]))),C(3,()=>{M(),D(),s.current.value||z(),_.emit()}),()=>{o.current.delete(L),r.current.delete(L),s.current.filtered.items.delete(L);let I=$();C(4,()=>{M(),(I==null?void 0:I.getAttribute("id"))===L&&z(),_.emit()})}),group:L=>(a.current.has(L)||a.current.set(L,new Set),()=>{o.current.delete(L),a.current.delete(L)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:v,inputId:j,labelId:w,listInnerRef:N}),[]);function O(L,H){var I,G;let K=(G=(I=l.current)==null?void 0:I.filter)!=null?G:SK;return L?K(L,s.current.search,H):0}function D(){if(!s.current.search||l.current.shouldFilter===!1)return;let L=s.current.filtered.items,H=[];s.current.filtered.groups.forEach(G=>{let K=a.current.get(G),q=0;K.forEach(X=>{let le=L.get(X);q=Math.max(le,q)}),H.push([G,q])});let I=N.current;E().sort((G,K)=>{var q,X;let le=G.getAttribute("id"),te=K.getAttribute("id");return((q=L.get(te))!=null?q:0)-((X=L.get(le))!=null?X:0)}).forEach(G=>{let K=G.closest(Hp);K?K.appendChild(G.parentElement===K?G:G.closest(`${Hp} > *`)):I.appendChild(G.parentElement===I?G:G.closest(`${Hp} > *`))}),H.sort((G,K)=>K[1]-G[1]).forEach(G=>{var K;let q=(K=N.current)==null?void 0:K.querySelector(`${gc}[${Li}="${encodeURIComponent(G[0])}"]`);q==null||q.parentElement.appendChild(q)})}function z(){let L=E().find(I=>I.getAttribute("aria-disabled")!=="true"),H=L==null?void 0:L.getAttribute(Li);_.setState("value",H||void 0)}function M(){var L,H,I,G;if(!s.current.search||l.current.shouldFilter===!1){s.current.filtered.count=r.current.size;return}s.current.filtered.groups=new Set;let K=0;for(let q of r.current){let X=(H=(L=o.current.get(q))==null?void 0:L.value)!=null?H:"",le=(G=(I=o.current.get(q))==null?void 0:I.keywords)!=null?G:[],te=O(X,le);s.current.filtered.items.set(q,te),te>0&&K++}for(let[q,X]of a.current)for(let le of X)if(s.current.filtered.items.get(le)>0){s.current.filtered.groups.add(q);break}s.current.filtered.count=K}function U(){var L,H,I;let G=$();G&&(((L=G.parentElement)==null?void 0:L.firstChild)===G&&((I=(H=G.closest(gc))==null?void 0:H.querySelector(_K))==null||I.scrollIntoView({block:"nearest"})),G.scrollIntoView({block:"nearest"}))}function $(){var L;return(L=N.current)==null?void 0:L.querySelector(`${rA}[aria-selected="true"]`)}function E(){var L;return Array.from(((L=N.current)==null?void 0:L.querySelectorAll(BN))||[])}function T(L){let H=E()[L];H&&_.setState("value",H.getAttribute(Li))}function F(L){var H;let I=$(),G=E(),K=G.findIndex(X=>X===I),q=G[K+L];(H=l.current)!=null&&H.loop&&(q=K+L<0?G[G.length-1]:K+L===G.length?G[0]:G[K+L]),q&&_.setState("value",q.getAttribute(Li))}function k(L){let H=$(),I=H==null?void 0:H.closest(gc),G;for(;I&&!G;)I=L>0?OK(I,gc):DK(I,gc),G=I==null?void 0:I.querySelector(BN);G?_.setState("value",G.getAttribute(Li)):F(L)}let P=()=>T(E().length-1),A=L=>{L.preventDefault(),L.metaKey?P():L.altKey?k(1):F(1)},B=L=>{L.preventDefault(),L.metaKey?T(0):L.altKey?k(-1):F(-1)};return f.createElement(ze.div,{ref:t,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:L=>{var H;(H=b.onKeyDown)==null||H.call(b,L);let I=L.nativeEvent.isComposing||L.keyCode===229;if(!(L.defaultPrevented||I))switch(L.key){case"n":case"j":{y&&L.ctrlKey&&A(L);break}case"ArrowDown":{A(L);break}case"p":case"k":{y&&L.ctrlKey&&B(L);break}case"ArrowUp":{B(L);break}case"Home":{L.preventDefault(),T(0);break}case"End":{L.preventDefault(),P();break}case"Enter":{L.preventDefault();let G=$();if(G){let K=new Event(Hx);G.dispatchEvent(K)}}}}},f.createElement("label",{"cmdk-label":"",htmlFor:S.inputId,id:S.labelId,style:$K},c),jh(e,L=>f.createElement(aA.Provider,{value:_},f.createElement(nA.Provider,{value:S},L))))}),CK=f.forwardRef((e,t)=>{var s,r;let a=qs(),o=f.useRef(null),i=f.useContext(oA),l=Kd(),c=lA(e),d=(r=(s=c.current)==null?void 0:s.forceMount)!=null?r:i==null?void 0:i.forceMount;mi(()=>{if(!d)return l.item(a,i==null?void 0:i.id)},[d]);let u=cA(a,o,[e.value,e.children,o],e.keywords),m=Oy(),h=vo(C=>C.value&&C.value===u.current),p=vo(C=>d||l.filter()===!1?!0:C.search?C.filtered.items.get(a)>0:!0);f.useEffect(()=>{let C=o.current;if(!(!C||e.disabled))return C.addEventListener(Hx,x),()=>C.removeEventListener(Hx,x)},[p,e.onSelect,e.disabled]);function x(){var C,_;g(),(_=(C=c.current).onSelect)==null||_.call(C,u.current)}function g(){m.setState("value",u.current,!0)}if(!p)return null;let{disabled:y,value:b,onSelect:v,forceMount:w,keywords:j,...N}=e;return f.createElement(ze.div,{ref:fr(o,t),...N,id:a,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!h,"data-disabled":!!y,"data-selected":!!h,onPointerMove:y||l.getDisablePointerSelection()?void 0:g,onClick:y?void 0:x},e.children)}),EK=f.forwardRef((e,t)=>{let{heading:s,children:r,forceMount:a,...o}=e,i=qs(),l=f.useRef(null),c=f.useRef(null),d=qs(),u=Kd(),m=vo(p=>a||u.filter()===!1?!0:p.search?p.filtered.groups.has(i):!0);mi(()=>u.group(i),[]),cA(i,l,[e.value,e.heading,c]);let h=f.useMemo(()=>({id:i,forceMount:a}),[a]);return f.createElement(ze.div,{ref:fr(l,t),...o,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},s&&f.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},s),jh(e,p=>f.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":s?d:void 0},f.createElement(oA.Provider,{value:h},p))))}),kK=f.forwardRef((e,t)=>{let{alwaysRender:s,...r}=e,a=f.useRef(null),o=vo(i=>!i.search);return!s&&!o?null:f.createElement(ze.div,{ref:fr(a,t),...r,"cmdk-separator":"",role:"separator"})}),TK=f.forwardRef((e,t)=>{let{onValueChange:s,...r}=e,a=e.value!=null,o=Oy(),i=vo(d=>d.search),l=vo(d=>d.selectedItemId),c=Kd();return f.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),f.createElement(ze.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:i,onChange:d=>{a||o.setState("search",d.target.value),s==null||s(d.target.value)}})}),PK=f.forwardRef((e,t)=>{let{children:s,label:r="Suggestions",...a}=e,o=f.useRef(null),i=f.useRef(null),l=vo(d=>d.selectedItemId),c=Kd();return f.useEffect(()=>{if(i.current&&o.current){let d=i.current,u=o.current,m,h=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let p=d.offsetHeight;u.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return h.observe(d),()=>{cancelAnimationFrame(m),h.unobserve(d)}}},[]),f.createElement(ze.div,{ref:fr(o,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":r,id:c.listId},jh(e,d=>f.createElement("div",{ref:fr(i,c.listInnerRef),"cmdk-list-sizer":""},d)))}),AK=f.forwardRef((e,t)=>{let{open:s,onOpenChange:r,overlayClassName:a,contentClassName:o,container:i,...l}=e;return f.createElement(C2,{open:s,onOpenChange:r},f.createElement(E2,{container:i},f.createElement(iy,{"cmdk-overlay":"",className:a}),f.createElement(ly,{"aria-label":e.label,"cmdk-dialog":"",className:o},f.createElement(iA,{ref:t,...l}))))}),MK=f.forwardRef((e,t)=>vo(s=>s.filtered.count===0)?f.createElement(ze.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),RK=f.forwardRef((e,t)=>{let{progress:s,children:r,label:a="Loading...",...o}=e;return f.createElement(ze.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},jh(e,i=>f.createElement("div",{"aria-hidden":!0},i)))}),Ar=Object.assign(iA,{List:PK,Item:CK,Input:TK,Group:EK,Separator:kK,Dialog:AK,Empty:MK,Loading:RK});function OK(e,t){let s=e.nextElementSibling;for(;s;){if(s.matches(t))return s;s=s.nextElementSibling}}function DK(e,t){let s=e.previousElementSibling;for(;s;){if(s.matches(t))return s;s=s.previousElementSibling}}function lA(e){let t=f.useRef(e);return mi(()=>{t.current=e}),t}var mi=typeof window>"u"?f.useEffect:f.useLayoutEffect;function $i(e){let t=f.useRef();return t.current===void 0&&(t.current=e()),t}function vo(e){let t=Oy(),s=()=>e(t.snapshot());return f.useSyncExternalStore(t.subscribe,s,s)}function cA(e,t,s,r=[]){let a=f.useRef(),o=Kd();return mi(()=>{var i;let l=(()=>{var d;for(let u of s){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=r.map(d=>d.trim());o.value(e,l,c),(i=t.current)==null||i.setAttribute(Li,l),a.current=l}),a}var IK=()=>{let[e,t]=f.useState(),s=$i(()=>new Map);return mi(()=>{s.current.forEach(r=>r()),s.current=new Map},[e]),(r,a)=>{s.current.set(r,a),t({})}};function LK(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function jh({asChild:e,children:t},s){return e&&f.isValidElement(t)?f.cloneElement(LK(t),{ref:t.ref},s(t.props.children)):s(t)}var $K={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const dA=f.forwardRef(({className:e,...t},s)=>n.jsx(Ar,{ref:s,className:ee("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));dA.displayName=Ar.displayName;const uA=f.forwardRef(({className:e,...t},s)=>n.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[n.jsx(_o,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),n.jsx(Ar.Input,{ref:s,className:ee("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));uA.displayName=Ar.Input.displayName;const fA=f.forwardRef(({className:e,...t},s)=>n.jsx(Ar.List,{ref:s,className:ee("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));fA.displayName=Ar.List.displayName;const mA=f.forwardRef((e,t)=>n.jsx(Ar.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));mA.displayName=Ar.Empty.displayName;const hA=f.forwardRef(({className:e,...t},s)=>n.jsx(Ar.Group,{ref:s,className:ee("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));hA.displayName=Ar.Group.displayName;const FK=f.forwardRef(({className:e,...t},s)=>n.jsx(Ar.Separator,{ref:s,className:ee("-mx-1 h-px bg-border",e),...t}));FK.displayName=Ar.Separator.displayName;const pA=f.forwardRef(({className:e,...t},s)=>n.jsx(Ar.Item,{ref:s,className:ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled='true']:pointer-events-none data-[disabled='true']:opacity-50",e),...t}));pA.displayName=Ar.Item.displayName;const UN=Array.from({length:68},(e,t)=>{const s=420+t*15,r=Math.floor(s/60),a=s%60;return`${String(r).padStart(2,"0")}:${String(a).padStart(2,"0")}:00`}),VK=({professorId:e,onDelete:t,isSuperadmin:s})=>{const[r,a]=f.useState([]),[o,i]=f.useState(!0),l=f.useCallback(async()=>{let m=R.from("assigned_packages_log").select(`
        id, student_id, package_id, observation, assigned_classes, assigned_at, status, custom_package_name,
        student:profiles!student_id(full_name),
        package:packages(name)
      `);if(e&&e!=="all")m=m.eq("professor_id",e);else if(!s){i(!1);return}const{data:h,error:p}=await m.order("assigned_at",{ascending:!1});if(p){console.error("Error fetching logs:",p),i(!1);return}const x=[...new Set(h.map(v=>v.student_id))],{data:g,error:y}=await R.from("billing").select("id, user_id, package_id, purchase_date, end_date, amount_paid").in("user_id",x);y&&console.error("Error fetching billings:",y);const b=h.map(v=>{const w=(g||[]).filter(j=>j.user_id===v.student_id&&j.package_id===v.package_id&&new Date(j.purchase_date)<=new Date(v.assigned_at)).sort((j,N)=>new Date(N.purchase_date)-new Date(j.purchase_date))[0];return{...v,start_date:(w==null?void 0:w.purchase_date)||null,end_date:(w==null?void 0:w.end_date)||null,total_classes_sent:v.assigned_classes,amount_paid:(w==null?void 0:w.amount_paid)||0}});a(b||[]),i(!1)},[e]);f.useEffect(()=>{l();const m=R.channel("assigned-packages-history").on("postgres_changes",{event:"*",schema:"public",table:"assigned_packages_log"},l).subscribe();return()=>R.removeChannel(m)},[l,e]);const c=async m=>{a(h=>h.map(p=>p.id===m.id?{...p,status:"Cancelado"}:p)),await t(m)},d=({status:m})=>{const h=m==="Cancelado",p=m==="missed"||m==="completed"||m==="rescheduled_credit";let x="default";h&&(x="destructive"),p&&(x="secondary");let g=m;return h&&(g="Desfeito"),m==="missed"&&(g="Falta"),m==="completed"&&(g="Concludo"),m==="rescheduled_credit"&&(g="Crdito Ativo"),n.jsx(me,{variant:x,children:g})},u=m=>{const h=m||0;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(h)};return n.jsxs(zt,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[" ",n.jsx(Bt,{children:n.jsx(Ut,{children:"Histrico de Pacotes Includos"})}),n.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:n.jsxs(Sn,{children:[n.jsx(Cn,{children:n.jsxs(pt,{children:[n.jsx(Me,{children:"Aluno"}),n.jsx(Me,{children:"Pacote"}),n.jsx(Me,{children:"Aulas Total"}),n.jsx(Me,{children:"Preo Pago"})," ",n.jsx(Me,{children:"Data Incio"}),n.jsx(Me,{children:"Data Fim"}),n.jsx(Me,{children:"Data Atribuio"}),n.jsx(Me,{children:"Status"}),n.jsx(Me,{children:"Aes"})]})}),n.jsx(En,{children:o?n.jsx(pt,{children:n.jsx(we,{colSpan:"9",className:"text-center",children:n.jsx(Ie,{className:"mx-auto my-4 h-6 w-6 animate-spin"})})}):r.length>0?r.map(m=>{var h,p,x;return n.jsxs(pt,{className:m.status==="Cancelado"?"opacity-60 bg-slate-50":"",children:[n.jsx(we,{children:((h=m.student)==null?void 0:h.full_name)||"N/A"}),n.jsx(we,{children:m.custom_package_name?n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-semibold text-sky-700",children:m.custom_package_name}),n.jsx("span",{className:"text-xs text-slate-400",children:(p=m.package)==null?void 0:p.name})]}):((x=m.package)==null?void 0:x.name)||"Pacote no encontrado"}),n.jsx(we,{children:m.total_classes_sent||"N/A"}),n.jsx(we,{children:u(m.amount_paid)})," ",n.jsx(we,{children:m.start_date?ae(Be(m.start_date),"dd/MM/yyyy"):"N/A"}),n.jsx(we,{children:m.end_date?ae(Be(m.end_date),"dd/MM/yyyy"):"N/A"}),n.jsx(we,{children:ae(Be(m.assigned_at),"dd/MM/yyyy HH:mm",{locale:nt})}),n.jsx(we,{children:n.jsx(d,{status:m.status})}),n.jsx(we,{children:m.status==="Ativo"||m.status==="rescheduled_credit"?n.jsx(Y,{variant:"destructive",size:"sm",onClick:()=>c(m),children:"Desfazer"}):n.jsx(me,{variant:"destructive",className:"bg-red-100 text-red-700 hover:bg-red-100 cursor-default",children:"DESFEITO"})})]},m.id)}):n.jsx(pt,{children:n.jsx(we,{colSpan:"9",className:"text-center py-8 text-slate-500",children:"Nenhum registro encontrado."})})})]})})]})},qx=({dashboardData:e,hideForm:t=!1,hideTable:s=!1})=>{const{toast:r}=Pt(),a=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"],o=(e==null?void 0:e.data)||{},i=(e==null?void 0:e.loading)||!1,l=e==null?void 0:e.professorId;o.professors;const c=o.students||[],d=o.packages||[];o.classSlots;const u=e==null?void 0:e.onUpdate,m=(e==null?void 0:e.isSuperadmin)||!1,[h,p]=f.useState(l||null);f.useEffect(()=>{l&&l!=="all"?p(l):(l==="all"||l===null&&m)&&p(null)},[l,m]);const x=h,[g,y]=f.useState([]),[b,v]=f.useState(!1),[w,j]=f.useState(!1),[N,C]=f.useState(null),[_,S]=f.useState(null),[O,D]=f.useState(""),[z,M]=f.useState(""),[U,$,E]=Si("package_assignment_form",{packageName:"",totalClasses:"",duration:"30",dayTimes:{},days:[],price:"",startDate:Qe(),endDate:Ws(Qe(),1)}),{packageName:T,totalClasses:F,duration:k,dayTimes:P,days:A,price:B,endDate:L,startDate:H}=U,I=(ue,ge)=>{$($e=>({...$e,[ue]:ge}))},G=ue=>{$(ge=>{const $e=ge.days.includes(ue),Ye=$e?ge.days.filter(ce=>ce!==ue):[...ge.days,ue].sort((ce,ke)=>ce-ke),Z={...ge.dayTimes};return $e?delete Z[ue]:Z[ue]="08:00",{...ge,days:Ye,dayTimes:Z}})},K=(ue,ge)=>{$($e=>({...$e,dayTimes:{...$e.dayTimes,[ue]:ge}}))},[q,X]=f.useState(!1),[le,te]=f.useState(null),[ie,Ne]=f.useState([]),[Re,Je]=f.useState({}),[V,_e]=f.useState(Qe()),[oe,be]=f.useState(Ws(Qe(),1)),Ce=c.find(ue=>ue.id===N),at=d.find(ue=>ue.id===parseInt(_)),Gt=(at==null?void 0:at.name)==="Personalizado"||_==="custom-choice";f.useEffect(()=>{if(!_&&d.length>0){const ue=d.find(ge=>ge.name==="Personalizado");ue&&S(ue.id.toString())}},[d,_]);const st=Gt,bt=f.useMemo(()=>{if(!st||A.length===0)return{possibleClasses:0,requestedClasses:0,isValid:!0,daysInPeriod:0};const ue=parseInt(F,10)||0,ge=H instanceof Date?H:new Date(H),$e=L instanceof Date?L:new Date(L);if(isNaN(ge.getTime())||isNaN($e.getTime())||ge>$e)return{possibleClasses:0,requestedClasses:ue,isValid:!1,error:"Datas invlidas",daysInPeriod:0};let Ye=0;bF({start:ge,end:$e}).forEach(ke=>{const J=en(ke);A.includes(J)&&Ye++});const ce=S0($e,ge)+1;return{possibleClasses:Ye,requestedClasses:ue,daysInPeriod:ce,isValid:ue<=Ye,exceeds:ue>Ye,shortage:ue-Ye}},[st,A,F,H,L]),[wt,mt]=f.useState(!1),[lt,Mr]=f.useState(0);f.useEffect(()=>{(async()=>{if(y([]),!(!x||x==="all")){mt(!0);try{const{data:ge,error:$e}=await R.from("class_slots").select("*").eq("professor_id",x);if($e){console.error("Erro ao buscar slots do professor:",$e),r({variant:"destructive",title:"Erro",description:"No foi possvel carregar os horrios."}),mt(!1);return}const Ye=new Map;(ge||[]).forEach(ce=>{var J;const ke=((J=ce.start_time)==null?void 0:J.length)===5?`${ce.start_time}:00`:ce.start_time;Ye.set(`${ce.day_of_week}-${ke}`,ce)});const Z=[];for(let ce=0;ce<7;ce++)UN.forEach(ke=>{const J=`${ce}-${ke}`,Se=Ye.get(J);Se?Z.push({...Se}):Z.push({professor_id:x,day_of_week:ce,start_time:ke,status:"inactive"})});y(Z)}catch(ge){console.error("Exceo ao buscar slots:",ge)}finally{mt(!1)}}})()},[x,lt]),f.useEffect(()=>{const ue=async()=>{if(!x){Ne([]),Je({});return}const{data:ge,error:$e}=await R.from("appointments").select(`
          id, class_datetime, duration_minutes, status,
          student:profiles!student_id(full_name)
        `).eq("professor_id",x).gte("class_datetime",Qe().toISOString()).in("status",["scheduled","pending","rescheduled"]);if($e){console.error("Error fetching future appointments:",$e);return}Ne(ge||[]);const Ye={};(ge||[]).forEach(Z=>{var Xe;const ce=Be(Z.class_datetime),ke=en(ce);ae(ce,"HH:mm:ss");const J=Z.duration_minutes||30,Se=Math.ceil(J/15);for(let W=0;W<Se;W++){const ne=oo(ce,{minutes:W*15}),fe=ae(ne,"HH:mm:ss"),de=`${ke}-${fe}`;Ye[de]={appointmentId:Z.id,studentName:(Xe=Z.student)==null?void 0:Xe.full_name,isFirstSlot:W===0,status:Z.status}}}),Je(Ye)};Je({}),ue()},[x,i]);const Ps=(ue,ge)=>{y($e=>$e.map(Ye=>{if(Ye.day_of_week===ue&&Ye.start_time===ge){const Z=Ye.status==="active"?"inactive":"active";return Ye.status==="filled"?Ye:{...Ye,status:Z}}return Ye}))},Ks=(ue,ge)=>{y($e=>$e.map(Ye=>Ye.day_of_week===ue&&Ye.status!=="filled"?{...Ye,status:ge?"active":"inactive"}:Ye))},ea=async()=>{if(!x||x==="all"){r({variant:"destructive",title:"Professor no selecionado",description:"Selecione um professor antes de salvar as alteraes."});return}v(!0);const ue=g.map(ge=>{const{id:$e,created_at:Ye,...Z}=ge;return{...Z,professor_id:x}});try{const{error:ge}=await R.from("class_slots").upsert(ue,{onConflict:"professor_id, day_of_week, start_time"});if(ge)throw ge;r({variant:"default",title:"Sucesso!",description:"Preferncias de horrio salvas com sucesso."}),Mr($e=>$e+1),u&&u()}catch(ge){console.error("Error saving slots:",ge),r({variant:"destructive",title:"Erro ao salvar",description:`No foi possvel salvar: ${ge.message}`})}finally{v(!1)}},jt=async(ue,ge)=>{const $e=`${ue.day_of_week}-${ue.start_time}`;try{if(ge!=null&&ge.appointmentId){const Ye=ge.studentName||"Aluno desconhecido";if(!window.confirm(`Este horrio est ocupado por: ${Ye}

Ao liberar este horrio:
 O agendamento ser CANCELADO
 O horrio ficar DISPONVEL

Deseja continuar?`))return;te($e);const{error:Z}=await R.from("appointments").update({status:"cancelled"}).eq("id",ge.appointmentId);if(Z)throw Z;r({title:"Horrio liberado!",description:`O horrio foi liberado. Agendamento de ${Ye} foi cancelado.`})}else{if(!window.confirm(`Deseja liberar este horrio?

O horrio ficar disponvel para novos agendamentos.`))return;te($e);const{error:Ye}=await R.from("class_slots").update({status:"active"}).eq("id",ue.id);if(Ye)throw Ye;r({title:"Horrio liberado!",description:"O horrio foi liberado com sucesso."})}u&&u()}catch(Ye){console.error("Error liberating slot:",Ye),r({variant:"destructive",title:"Erro ao liberar horrio",description:Ye.message})}finally{te(null)}},ar=f.useCallback(async ue=>{const{id:ge,student_id:$e,package_id:Ye,professor_id:Z,start_date:ce,end_date:ke}=ue,J=Z;if(window.confirm(`ATENO: Voc est prestes a desfazer a incluso de um pacote. Isso ir:

1. Marcar o registro como CANCELADO (Permanecer no histrico).
2. REMOVER a fatura ativa correspondente.
3. EXCLUIR TODAS AS AULAS associadas ao pacote (tanto do aluno quanto do professor).
4. LIBERAR OS HORRIOS dos professores.

Confirma a operao?`))try{const{error:Se}=await R.from("assigned_packages_log").update({status:"Cancelado"}).eq("id",ge);if(Se)throw Se;let Xe=!1,W=0,ne=0;const fe=ce?Be(ce):Qe(),de=ke?Be(ke):null;let Fe=R.from("appointments").select("id, class_slot_id").eq("student_id",$e).gte("class_datetime",ae(fe,"yyyy-MM-dd'T'00:00:00"));de&&(Fe=Fe.lte("class_datetime",ae(de,"yyyy-MM-dd'T'23:59:59"))),J&&(Fe=Fe.eq("professor_id",J));const{data:Ge,error:qe}=await Fe;if(qe)throw qe;if(Ge&&Ge.length>0){const Nt=Ge.map(Jt=>Jt.id),Ht=Ge.map(Jt=>Jt.class_slot_id).filter(Boolean),{error:or,count:xt}=await R.from("appointments").delete({count:"exact"}).in("id",Nt);if(or)throw or;if(ne=xt,Ht.length>0){const Jt=[...new Set(Ht)],{error:xr,count:Q}=await R.from("class_slots").update({status:"active"},{count:"exact"}).in("id",Jt);xr||(W=Q)}}if(ce){const{error:Nt}=await R.from("billing").delete().eq("user_id",$e).eq("package_id",Ye).eq("purchase_date",ce);Nt||(Xe=!0)}else{const{data:Nt}=await R.from("billing").select("id").eq("user_id",$e).eq("package_id",Ye).order("purchase_date",{ascending:!1}).limit(1).maybeSingle();if(Nt){const{error:Ht}=await R.from("billing").delete().eq("id",Nt.id);Ht||(Xe=!0)}}try{const{error:Nt}=await R.from("solicitudes_clase").delete().eq("alumno_id",$e).eq("is_recurring",!0).eq("status","Aceita").gte("updated_at",ae(fe,"yyyy-MM-dd'T'00:00:00"));Nt&&console.warn("Erro ao limpar solicitaes:",Nt)}catch(Nt){console.warn("Ignorando erro limpeza solicitao:",Nt)}let $t="Pacote desfeito com sucesso.";Xe&&($t+=" Fatura removida."),ne>0&&($t+=` ${ne} aulas removidas (Professor notificvel).`),W>0&&($t+=` ${W} horrios liberados.`),r({variant:"default",title:"Operao Completa",description:$t}),u&&u()}catch(Se){console.error("Error in handleDeleteLog:",Se),r({variant:"destructive",title:"Erro ao desfazer pacote",description:`Ocorreu um erro: ${Se.message}`})}},[x,r,u]),Xs=async ue=>{if(ue.preventDefault(),!N||!_){r({variant:"destructive",title:"Campos obrigatrios",description:"Selecione aluno e pacote."});return}if(!at){r({variant:"destructive",title:"Pacote no encontrado"});return}if(st){if(!F||!k||A.length===0||!B||!T){r({variant:"destructive",title:"Campos obrigatrios",description:"Preencha Nome do Pacote, Aulas, Preo e selecione os dias/horrios."});return}if(bt.exceeds){r({variant:"destructive",title:"Perodo insuficiente",description:`O perodo selecionado comporta apenas ${bt.possibleClasses} aulas, mas voc solicitou ${bt.requestedClasses}. Aumente o perodo ou reduza o nmero de aulas.`});return}}X(!0);try{const ge=st?parseInt(F,10):at.number_of_classes,$e=st?parseFloat(B):at.price,Ye=st?H:V,Z=st?L:oe,ce=Ye instanceof Date?Ye:new Date(Ye),ke=Z instanceof Date?Z:new Date(Z);if(isNaN(ce.getTime())||isNaN(ke.getTime()))throw new Error("Datas invlidas. Verifique a data de incio e fim.");const J=st?parseInt(k,10):30,Se=Math.ceil(J/15);let Xe=[],W=0;if(st){let de=[],Fe=[],Ge=new Date(ce),qe=0;for(;qe<ge&&Ge<=ke;){const $t=en(Ge);if(A.includes($t)){const Ht=`${P[$t]}:00`,xt=Jm(Ht,"HH:mm:ss",Ge),Jt=oo(xt,{minutes:J});let xr=!1,Q=!1;Xe.push({student_id:N,professor_id:null,class_datetime:xt.toISOString(),class_slot_id:null,status:"scheduled",duration_minutes:J}),qe++}Ge=oo(Ge,{days:1})}if(Xe.length===0)throw new Error("No foi possvel agendar nenhuma aula no perodo selecionado. Verifique os dias escolhidos.")}const{error:ne}=await R.from("billing").insert({user_id:N,package_id:at.id,amount_paid:$e,purchase_date:ae(ce,"yyyy-MM-dd"),end_date:ae(ke,"yyyy-MM-dd"),custom_package_name:st?T:null});if(ne)throw ne;const{error:fe}=await R.from("assigned_packages_log").insert({professor_id:null,student_id:N,package_id:at.id,observation:z,assigned_classes:ge,custom_package_name:st?T:null,status:"Ativo"});if(fe)throw fe;if(Xe.length>0){const{error:de}=await R.from("appointments").insert(Xe);if(de)throw de}st&&await R.from("profiles").update({preferred_schedule:P}).eq("id",N),r({title:"Pacote Criado (Pendncia)",description:`Pacote "${st?T:at.name}" criado com ${Xe.length} aulas. ATENO: Aluno sem professor vinculado.`}),C(null),M(""),E(),u&&u()}catch(ge){console.error("Erro na atribuio:",ge),r({variant:"destructive",title:"Erro",description:ge.message})}finally{X(!1)}};return f.useEffect(()=>{st||be(Ws(V,1))},[V,st]),n.jsx("div",{className:"w-full",children:n.jsxs("div",{className:"w-full space-y-8",children:[!t&&n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Incluir Aulas para Aluno"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Atribua pacotes de aulas e agende horrios automaticamente"})]}),n.jsxs(Wt,{children:[n.jsx(P2,{asChild:!0,children:n.jsxs(Y,{variant:"outline",disabled:!x&&!m,children:[n.jsx(ro,{className:"mr-2 h-4 w-4"})," Ver Histrico"]})}),n.jsx(VK,{professorId:x,onDelete:ar,isSuperadmin:m})]})]}),n.jsxs("form",{onSubmit:Xs,className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{children:"Aluno"}),n.jsxs(Ba,{open:w,onOpenChange:j,children:[n.jsx(Ua,{asChild:!0,children:n.jsxs(Y,{variant:"outline",role:"combobox","aria-expanded":w,className:"w-full justify-between font-normal",children:[Ce?Ce.full_name:"Selecione o aluno...",n.jsx(O3,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),n.jsx(da,{className:"w-[--radix-popover-trigger-width] p-0",children:n.jsxs(dA,{children:[n.jsx(uA,{placeholder:"Buscar alumno..."}),n.jsxs(fA,{children:[n.jsx(mA,{children:"Nenhum alumno encontrado."}),n.jsx(hA,{children:c.map(ue=>n.jsxs(pA,{value:ue.full_name,onSelect:()=>{C(ue.id),j(!1)},children:[n.jsx(Ga,{className:ee("mr-2 h-4 w-4",N===ue.id?"opacity-100":"opacity-0")}),ue.full_name]},ue.id))})]})]})})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs(Mt,{onValueChange:ue=>{S(ue),D("")},value:_||"",children:[n.jsx(kt,{children:n.jsx(Rt,{placeholder:"Selecione um pacote"})}),n.jsx(Tt,{children:d.map(ue=>n.jsx(ye,{value:ue.id.toString(),children:ue.name},ue.id))})]}),!st&&n.jsxs(Ba,{children:[n.jsx(Ua,{asChild:!0,children:n.jsxs(Y,{variant:"outline",className:ee("w-full justify-start text-left font-normal",!V&&"text-muted-foreground"),children:[n.jsx(ts,{className:"mr-2 h-4 w-4"}),V?ae(V,"PPP",{locale:nt}):n.jsx("span",{children:"Data de Incio"})]})}),n.jsx(da,{className:"w-auto p-0",children:n.jsx(sl,{mode:"single",selected:V,onSelect:_e,initialFocus:!0,locale:nt})})]}),!st&&n.jsxs(Ba,{children:[n.jsx(Ua,{asChild:!0,children:n.jsxs(Y,{variant:"outline",className:ee("w-full justify-start text-left font-normal",!oe&&"text-muted-foreground"),children:[n.jsx(ts,{className:"mr-2 h-4 w-4"}),oe?ae(oe,"PPP",{locale:nt}):n.jsx("span",{children:"Data de Fim"})]})}),n.jsx(da,{className:"w-auto p-0",children:n.jsx(sl,{mode:"single",selected:oe,onSelect:be,initialFocus:!0,locale:nt})})]})]}),st?n.jsxs(Ke.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"space-y-4 overflow-hidden p-4 border border-sky-300 rounded-lg bg-sky-50",children:[n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"pck-name",children:"Nome do Pacote (Exibido nas Faturas)"}),n.jsx(et,{id:"pck-name",placeholder:"Ex: Espanhol Iniciante Intensivo",value:T||"",onChange:ue=>I("packageName",ue.target.value),required:!0})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"pck-price",children:"Preo Pago (R$)"}),n.jsx(et,{id:"pck-price",type:"number",placeholder:"Ex: 500.00",value:B||"",onChange:ue=>I("price",ue.target.value),required:!0,min:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"pck-total-classes",children:"Total de Aulas"}),n.jsx(et,{id:"pck-total-classes",type:"number",placeholder:"Ex: 12",value:F||"",onChange:ue=>I("totalClasses",ue.target.value),required:!0,min:"1"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"pck-start-date",children:"Data de Incio"}),n.jsxs(Ba,{children:[n.jsx(Ua,{asChild:!0,children:n.jsxs(Y,{variant:"outline",className:ee("w-full justify-start text-left font-normal"),children:[n.jsx(ts,{className:"mr-2 h-4 w-4"}),ae(H,"PPP",{locale:nt})]})}),n.jsx(da,{className:"w-auto p-0",children:n.jsx(sl,{mode:"single",selected:H,onSelect:ue=>I("startDate",ue),initialFocus:!0,locale:nt})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{children:"Validade (Trmino)"}),n.jsxs(Ba,{children:[n.jsx(Ua,{asChild:!0,children:n.jsxs(Y,{variant:"outline",className:ee("w-full justify-start text-left font-normal"),children:[n.jsx(ts,{className:"mr-2 h-4 w-4"}),ae(L,"PPP",{locale:nt})]})}),n.jsx(da,{className:"w-auto p-0",children:n.jsx(sl,{mode:"single",selected:L,onSelect:ue=>I("endDate",ue),initialFocus:!0,locale:nt})})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"pck-duration",children:"Durao de cada Aula (Minutos)"}),n.jsxs(Mt,{onValueChange:ue=>I("duration",ue),value:k,required:!0,children:[n.jsx(kt,{id:"pck-duration",children:n.jsx(Rt,{placeholder:"Durao"})}),n.jsxs(Tt,{children:[n.jsx(ye,{value:"30",children:"30 Minutos"}),n.jsx(ye,{value:"45",children:"45 Minutos"}),n.jsx(ye,{value:"60",children:"60 Minutos"})]})]})]})}),n.jsxs("div",{className:"space-y-4 pt-2",children:[n.jsx(Pe,{className:"text-sky-800 font-bold",children:"Configurao da Agenda Semanal"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm text-slate-600",children:"Selecione os dias e o horrio especfico para cada um:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((ue,ge)=>n.jsx(Y,{type:"button",variant:A.includes(ge)?"default":"outline",size:"sm",onClick:()=>G(ge),className:ee(A.includes(ge)?"bg-sky-600":""),children:ue.substring(0,3)},ge))})]}),A.length>0&&n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-4 border-t pt-4",children:A.map(ue=>n.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white rounded border border-sky-200",children:[n.jsx(me,{className:"w-12 justify-center bg-sky-100 text-sky-700 hover:bg-sky-100",children:a[ue].substring(0,3)}),n.jsxs(Mt,{value:P[ue]||"08:00",onValueChange:ge=>K(ue,ge),children:[n.jsx(kt,{className:"h-8",children:n.jsx(Rt,{})}),n.jsx(Tt,{className:"max-h-60",children:UN.filter((ge,$e)=>$e%2===0).map(ge=>n.jsx(ye,{value:ge.substring(0,5),children:ge.substring(0,5)},ge.substring(0,5)))})]})]},ue))}),A.length===0&&n.jsx("p",{className:"text-red-500 text-sm",children:"Selecione pelo menos um dia para agendar as aulas."}),A.length>0&&F&&n.jsx("div",{className:"mt-4",children:bt.exceeds?n.jsxs(Kn,{variant:"destructive",className:"border-red-300 bg-red-50",children:[n.jsx(ao,{className:"h-4 w-4"}),n.jsx(Sa,{className:"text-red-800",children:"Perodo Insuficiente"}),n.jsxs(Xn,{className:"text-red-700",children:[n.jsxs("p",{children:["O perodo selecionado (",n.jsxs("strong",{children:[bt.daysInPeriod," dias"]}),") comporta apenas ",n.jsxs("strong",{children:[bt.possibleClasses," aulas"]})," nos dias escolhidos."]}),n.jsxs("p",{className:"mt-1",children:["Voc solicitou ",n.jsxs("strong",{children:[bt.requestedClasses," aulas"]}),". Faltam ",n.jsxs("strong",{children:[bt.shortage," aulas"]}),"."]}),n.jsx("p",{className:"mt-2 text-sm font-medium",children:" Aumente a data de validade ou reduza o nmero de aulas."})]})]}):bt.possibleClasses>0&&n.jsxs(Kn,{className:"border-green-300 bg-green-50",children:[n.jsx(fC,{className:"h-4 w-4 text-green-600"}),n.jsx(Sa,{className:"text-green-800",children:"Validao OK"}),n.jsxs(Xn,{className:"text-green-700",children:["O perodo de ",n.jsxs("strong",{children:[bt.daysInPeriod," dias"]})," comporta at ",n.jsxs("strong",{children:[bt.possibleClasses," aulas"]})," nos dias selecionados. Sero agendadas ",n.jsxs("strong",{children:[bt.requestedClasses," aulas"]}),"."]})]})})]})]},"pck-personal-details"):null,n.jsx(Jn,{placeholder:"Observao (motivo da incluso)",value:z,onChange:ue=>M(ue.target.value)}),n.jsx(Y,{type:"submit",className:"w-full bg-sky-600 hover:bg-sky-700",disabled:q||st&&bt.exceeds,children:q?n.jsxs(n.Fragment,{children:[n.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"})," Incluindo..."]}):"Incluir Pacote"})]})]}),!s&&n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold",children:"Preferncias de Horrios"}),n.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Ative ou desative os horrios de aula para o ciclo semanal."})]}),n.jsx(Y,{onClick:ea,disabled:b,children:b?n.jsxs(n.Fragment,{children:[n.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"})," Salvando..."]}):"Salvar Alteraes"})]}),n.jsx("div",{className:"space-y-6 mt-6",children:x?a.map((ue,ge)=>{const $e=g==null?void 0:g.filter(Z=>Z.day_of_week===ge),Ye=$e==null?void 0:$e.filter(Z=>Z.status!=="filled").every(Z=>Z.status==="active");return n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-3 border-b pb-2",children:[n.jsx("h4",{className:"font-semibold text-lg",children:ue}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-slate-500",children:Ye?"Desativar todos":"Ativar todos"}),n.jsx(Bx,{checked:Ye,onCheckedChange:Z=>Ks(ge,Z),"aria-label":`Ativar/desativar todos os horrios de ${ue}`})]})]}),i?n.jsx(Ie,{className:"h-6 w-6 animate-spin"}):n.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4",children:$e==null?void 0:$e.map(Z=>{const ce=`${Z.day_of_week}-${Z.start_time}`,ke=Re[ce],J=Z.status==="filled",Se=!!ke,Xe=Z.status==="active",W=Z.status==="inactive";return n.jsxs("div",{className:ee("flex flex-col gap-1 p-2 rounded-md border",Se||J?"bg-sky-100 border-sky-300":W?"bg-slate-200 border-slate-300":"bg-white border-slate-200"),children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:ee("text-sm font-medium",Se||J?"text-sky-700":W?"text-slate-500":"text-slate-700"),children:Z.start_time.substring(0,5)}),!Se&&!J&&n.jsx(Bx,{checked:Xe,onCheckedChange:()=>Ps(Z.day_of_week,Z.start_time),"aria-label":`Ativar/desativar ${Z.start_time}`,className:"h-4 w-7"})]}),(Se||J)&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-xs text-sky-700 font-medium truncate",children:(ke==null?void 0:ke.studentName)||"Ocupado"}),n.jsx(Y,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs hover:bg-red-100 hover:text-red-700",onClick:()=>jt(Z,ke),disabled:le===ce,title:"Clique para liberar este horrio",children:le===ce?n.jsx(Ie,{className:"h-3 w-3 animate-spin"}):"Liberar"})]})]},Z.start_time)})})]},ue)}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-500 border-2 border-dashed rounded-lg",children:[n.jsx(ts,{className:"h-12 w-12 mb-4 opacity-20"}),n.jsx("p",{className:"text-lg font-medium",children:"Selecione um professor acima"}),n.jsx("p",{className:"text-sm",children:"Para configurar a agenda de preferncias, escolha um professor no menu suspenso."})]})})]})]})})},om=e=>e?e.replace(/\D/g,""):"",zK=e=>{if(!e)return"";const s=om(e).substring(0,11);return s.length<=3?s:s.length<=6?`${s.slice(0,3)}.${s.slice(3)}`:s.length<=9?`${s.slice(0,3)}.${s.slice(3,6)}.${s.slice(6)}`:`${s.slice(0,3)}.${s.slice(3,6)}.${s.slice(6,9)}-${s.slice(9)}`},BK=e=>{if(!e)return"";const t=om(e);return t.length!==11?e:`${t.slice(0,3)}.***.**${t.slice(9,11)}`},HN=e=>e?e.replace(/\D/g,""):"",qN=e=>e||"",UK=e=>{if(!e)return"";const s=e.replace(/\D/g,"").substring(0,8);return s.length<=5?s:`${s.slice(0,5)}-${s.slice(5)}`},HK=e=>e?e.replace(/\D/g,""):"",qK=({dashboardData:e})=>{var ie,Ne,Re,Je;const{toast:t}=Pt(),[s,r]=f.useState("preferencias"),[a,o]=f.useState(""),[i,l]=f.useState("all"),[c,d]=f.useState(!1),[u,m]=f.useState(null),[h,p]=f.useState(!1),[x,g]=f.useState(!1),[y,b]=f.useState(null),[v,w]=f.useState({tabs:[]}),[j,N]=f.useState(!1),[C,_]=f.useState(null);f.useState(null),f.useState(null);const[S,O,D]=Si("admin_user_form",{full_name:"",email:"",password:"",role:"student",is_active:!0,assigned_professor_id:""}),[z,M]=f.useState(""),U=(e==null?void 0:e.data)||{},$=e==null?void 0:e.onUpdate;e==null||e.professorId;const E=U.professors||[],T=U.allProfiles||[],F=U.students||[],k=U.roleSettings||[];U.classSlots;const P=T.filter(V=>{var be,Ce,at,Gt;const _e=((be=V.full_name)==null?void 0:be.toLowerCase().includes(a.toLowerCase()))||((Ce=V.username)==null?void 0:Ce.toLowerCase().includes(a.toLowerCase()))||((at=V.student_code)==null?void 0:at.toLowerCase().includes(a.toLowerCase()))||((Gt=V.cpf)==null?void 0:Gt.includes(om(a))),oe=i==="all"||V.role===i;return _e&&oe}),A=(e==null?void 0:e.filteredProfessorId)||"all",B=A==="all"?U.classSlots||[]:(U.classSlots||[]).filter(V=>String(V.professor_id)===String(A)),L=()=>{m(null),O({full_name:"",email:"",password:"",role:"student",is_active:!0}),d(!0)},H=async V=>{const{data:_e,error:oe}=await R.from("profiles").select("*").eq("id",V.id).single(),be=_e||V;m(be),O({full_name:be.full_name||"",username:be.username||"",email:be.real_email||be.email||"",phone:be.phone||"",role:be.role||"student",student_code:be.student_code||"",assigned_professor_id:be.assigned_professor_id||"",cpf:be.cpf||"",birth_date:be.birth_date||"",gender:be.gender||"",address_street:be.address_street||"",address_number:be.address_number||"",address_complement:be.address_complement||"",address_neighborhood:be.address_neighborhood||"",address_city:be.address_city||"",address_state:be.address_state||"",address_zip_code:be.address_zip_code||"",registration_status:be.registration_status||"pre_registered",is_active:be.is_active!==!1}),M(""),d(!0)},I=async()=>{var V,_e,oe,be,Ce,at,Gt,st,bt;if(!S.full_name.trim()||!S.email.trim()){t({title:"Erro",description:"Nome e E-mail so obrigatrios.",variant:"destructive"});return}if(!u&&!S.password){t({title:"Erro",description:"Senha  obrigatria para novos usurios.",variant:"destructive"});return}p(!0);try{if(!u){const{data:wt,error:mt}=await R.from("profiles").select("full_name, real_email").eq("real_email",S.email.trim()).maybeSingle();if(wt){p(!1),t({title:"E-mail em uso",description:`O e-mail ${S.email} j est vinculado ao usurio: ${wt.full_name}.`,variant:"destructive"});return}}if(u){const wt=u.assigned_professor_id,mt={full_name:(V=S.full_name)==null?void 0:V.trim(),email:(_e=S.email)==null?void 0:_e.trim().toLowerCase(),phone:HN(S.phone),student_code:((oe=S.student_code)==null?void 0:oe.trim())||null,role:S.role,responsible_name:(be=S.responsible_name)==null?void 0:be.trim(),responsible_phone:HN(S.responsible_phone),academic_level:S.academic_level,spanish_level:S.spanish_level,learning_goals:S.learning_goals,observations:S.observations,cpf:om(S.cpf)||null,birth_date:S.birth_date||null,gender:S.gender||null,address_street:S.address_street||null,address_number:S.address_number||null,address_complement:S.address_complement||null,address_neighborhood:S.address_neighborhood||null,address_city:S.address_city||null,address_state:S.address_state||null,address_zip_code:HK(S.address_zip_code)||null,registration_status:S.registration_status||"pre_registered",is_active:S.is_active},{error:lt}=await R.from("profiles").update(mt).eq("id",u.id);if(lt)throw(Ce=lt.message)!=null&&Ce.includes("duplicate key")?new Error("J existe outro usurio com estes dados."):lt;t({title:"Usurio atualizado!",description:"Os dados foram salvos com sucesso."})}else try{const{data:wt,error:mt}=await R.rpc("admin_create_user",{p_email:S.email.trim().toLowerCase(),p_password:S.password,p_full_name:(S.full_name||"").trim(),p_role:S.role});if(mt)throw new Error(mt.message);t({title:"Sucesso!",description:`Usurio criado com sucesso. Senha: ${S.password}`,duration:1e4})}catch(wt){throw console.error("Exception during user creation via RPC:",wt),wt}d(!1),D(),$==null||$()}catch(wt){console.error("Error saving user:",wt);let mt=wt.message||"Erro desconhecido ao salvar usurio.";(at=wt.message)!=null&&at.includes("duplicate key")?mt="Este usurio ou e-mail j existe no sistema.":(Gt=wt.message)!=null&&Gt.includes("foreign key")?mt="O professor selecionado no foi encontrado. Tente selecionar outro.":((st=wt.message)!=null&&st.includes("network")||(bt=wt.message)!=null&&bt.includes("fetch"))&&(mt="Erro de conexo. Verifique sua internet e tente novamente."),t({title:"Erro ao criar usurio",description:mt,variant:"destructive"})}finally{p(!1)}},G=V=>{_(V),N(!0)},K=async()=>{if(C){p(!0);try{const{error:V}=await R.rpc("delete_user_complete",{p_user_id:C.id});if(V)throw V;t({variant:"default",title:"Usurio excludo",description:`O perfil de ${C.full_name} foi removido com sucesso de todas as tabelas.`}),N(!1),_(null),$&&$()}catch(V){console.error("Erro ao excluir usurio:",V),console.error("Erro ao excluir usurio:",V),t({variant:"destructive",title:"Erro ao excluir",description:`Erro tcnico: ${V.message} ${V.details?`(${V.details})`:""}`})}finally{p(!1)}}},q=V=>{const _e=k.find(be=>be.role===V);b(V);const oe=(_e==null?void 0:_e.permissions)||{tabs:[]};oe.actions||(oe.actions={can_manage_classes:V==="professor"||V==="superadmin",can_manage_students:V==="professor"||V==="superadmin"}),w(oe),g(!0)},X=async()=>{p(!0);try{const{error:V}=await R.from("role_settings").upsert({role:y,permissions:v,updated_at:new Date().toISOString()});if(V)throw V;t({title:"Sucesso",description:"Configuraes de perfil atualizadas."}),g(!1),$==null||$()}catch(V){console.error("Error saving role settings:",V),t({title:"Erro",description:"Falha ao salvar configuraes.",variant:"destructive"})}finally{p(!1)}},le=V=>{const _e=v.tabs||[],oe=_e.includes(V)?_e.filter(be=>be!==V):[..._e,V];w({...v,tabs:oe})},te=V=>{const _e=v.actions||{};w({...v,actions:{..._e,[V]:!_e[V]}})};return n.jsxs("div",{className:"px-4 lg:px-8 space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ju,{className:"h-8 w-8 text-purple-600"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Administrao"}),n.jsx("p",{className:"text-slate-500",children:"Gerencie usurios, preferncias e perfis de acesso"})]})]}),n.jsxs(Jo,{value:s,onValueChange:r,className:"w-full",children:[n.jsxs(ci,{className:"grid w-full grid-cols-3 max-w-md",children:[n.jsxs(dr,{value:"preferencias",className:"flex items-center gap-2",children:[n.jsx(If,{className:"h-4 w-4"}),"Preferncias"]}),n.jsxs(dr,{value:"usuarios",className:"flex items-center gap-2",children:[n.jsx(fl,{className:"h-4 w-4"}),"Usurios"]}),n.jsxs(dr,{value:"perfis",className:"flex items-center gap-2",children:[n.jsx(Ju,{className:"h-4 w-4"}),"Perfis"]})]}),n.jsxs(hs,{value:"preferencias",className:"mt-6 space-y-6",children:[n.jsx(qx,{hideTable:!0,dashboardData:{...e,professorId:A}}),n.jsxs(Ct,{children:[n.jsx(Os,{children:n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{children:[n.jsx(Ds,{children:"Preferncias dos Professores"}),n.jsx(tn,{children:"Visualize as preferncias de horrios do professor selecionado acima (Filtro Global)"})]})})}),n.jsx(Et,{children:A!=="all"?n.jsx(qx,{hideForm:!0,dashboardData:{...e,data:{...U,classSlots:B},professorId:A}}):n.jsxs("div",{className:"text-center py-8 text-slate-500",children:[n.jsx(If,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),n.jsx("p",{children:"Selecione um professor no filtro principal (topo da pgina) para ver e editar seus horrios."})]})})]})]}),n.jsx(hs,{value:"usuarios",className:"mt-6",children:n.jsxs(Ct,{children:[n.jsx(Os,{children:n.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsx(Ds,{children:"Gesto de Usurios"}),n.jsx(tn,{children:"Crie, edite e gerencie todos os usurios do sistema"})]}),n.jsxs("div",{className:"flex gap-3 flex-wrap",children:[n.jsxs(Mt,{value:i,onValueChange:l,children:[n.jsx(kt,{className:"w-[180px]",children:n.jsx(Rt,{placeholder:"Filtrar por tipo"})}),n.jsxs(Tt,{children:[n.jsx(ye,{value:"all",children:"Todos os tipos"}),n.jsx(ye,{value:"student",children:"Alunos"}),n.jsx(ye,{value:"professor",children:"Professores"}),n.jsx(ye,{value:"superadmin",children:"Administradores"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(_o,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),n.jsx(et,{placeholder:"Nome, cdigo ou CPF...",value:a,onChange:V=>o(V.target.value),className:"pl-10 w-[250px]"})]}),n.jsxs(Y,{onClick:L,className:"bg-purple-600 hover:bg-purple-700",children:[n.jsx(za,{className:"h-4 w-4 mr-2"}),"Novo Usurio"]})]})]})}),n.jsx(Et,{children:n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs(Sn,{children:[n.jsx(Cn,{className:"bg-slate-50",children:n.jsxs(pt,{children:[n.jsx(Me,{children:"Nome"}),n.jsx(Me,{children:"Telefone"}),n.jsx(Me,{children:"CPF"}),n.jsx(Me,{children:"Cdigo"}),n.jsx(Me,{children:"Tipo"}),n.jsx(Me,{children:"Status Cadastro"}),n.jsx(Me,{children:"Professor Vinculado"}),n.jsx(Me,{children:"Estado"}),n.jsx(Me,{className:"text-right",children:"Aes"})]})}),n.jsx(En,{children:P.length>0?P.map(V=>{var _e;return n.jsxs(pt,{children:[n.jsx(we,{className:"font-medium",children:V.full_name}),n.jsx(we,{className:"text-slate-500",children:qN(V.phone)||""}),n.jsx(we,{className:"text-slate-500",children:V.cpf?BK(V.cpf):""}),n.jsx(we,{children:V.student_code||""}),n.jsx(we,{children:n.jsx(me,{variant:V.role==="superadmin"?"destructive":V.role==="professor"?"default":"secondary",children:V.role==="superadmin"?"Admin":V.role==="professor"?"Professor":"Aluno"})}),n.jsx(we,{children:V.role==="student"?V.registration_status==="complete"?n.jsx(me,{className:"bg-green-100 text-green-700 border-green-300",children:"Completo"}):n.jsx(me,{variant:"outline",className:"text-amber-700 border-amber-300",children:"Pr-cadastro"}):n.jsx(me,{className:"bg-blue-100 text-blue-700 border-blue-300",children:""})}),n.jsx(we,{children:V.role==="student"&&V.assigned_professor_id&&((_e=E.find(oe=>oe.id===V.assigned_professor_id))==null?void 0:_e.full_name)||""}),n.jsx(we,{children:V.is_active!==!1?n.jsx(me,{className:"bg-green-100 text-green-800",children:"Ativo"}):n.jsx(me,{variant:"destructive",children:"Inativo"})}),n.jsx(we,{children:V.created_at?ae(new Date(V.created_at),"dd/MM/yyyy"):"-"}),n.jsx(we,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>H(V),title:"Editar / Inativar",children:n.jsx(lp,{className:"h-4 w-4 text-blue-600"})}),n.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>G(V),title:"Excluir Usurio",className:"hover:text-red-600",children:n.jsx(oi,{className:"h-4 w-4 text-red-500"})})]})})]},V.id)}):n.jsx(pt,{children:n.jsx(we,{colSpan:8,className:"text-center py-8 text-slate-500",children:"Nenhum usurio encontrado."})})})]})})})]})}),n.jsx(hs,{value:"perfis",className:"mt-6",children:n.jsxs(Ct,{children:[n.jsxs(Os,{children:[n.jsx(Ds,{children:"Perfis de Acesso"}),n.jsx(tn,{children:"Gerencie os perfis e permisses de acesso ao sistema"})]}),n.jsxs(Et,{children:[n.jsxs("div",{className:"grid gap-4",children:[n.jsx("div",{className:"border rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-slate-800",children:"Aluno (student)"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Acesso ao portal do aluno"}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:["dashboard","clases","chat","desempenho","faturas"].map(V=>{var oe,be,Ce;const _e=(Ce=(be=(oe=k.find(at=>at.role==="student"))==null?void 0:oe.permissions)==null?void 0:be.tabs)==null?void 0:Ce.includes(V);return n.jsx(me,{variant:_e?"default":"outline",className:`text-xs capitalize ${_e?"":"opacity-40"}`,children:V},V)})})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(me,{variant:"secondary",children:[F.length," usurios"]}),n.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>q("student"),children:[n.jsx(lp,{className:"h-3.5 w-3.5 mr-1"})," Editar"]})]})]})}),n.jsx("div",{className:"border rounded-lg p-4 border-sky-200 bg-sky-50/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sky-800",children:"Professor (professor)"}),n.jsx("p",{className:"text-sm text-sky-600",children:"Acesso ao painel do professor (dados prprios)"}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:[{id:"inicio",label:"Incio"},{id:"agenda",label:"Agenda"},{id:"conversas",label:"Conversas"},{id:"alunos",label:"Alunos"},{id:"aulas",label:"Aulas"},{id:"preferencias",label:"Preferncias"}].map(V=>{var oe,be,Ce;const _e=(Ce=(be=(oe=k.find(at=>at.role==="professor"))==null?void 0:oe.permissions)==null?void 0:be.tabs)==null?void 0:Ce.includes(V.id);return n.jsx(me,{variant:_e?"default":"outline",className:`text-xs ${_e?"border-sky-300 text-sky-700 bg-sky-100":"opacity-40 text-slate-400"}`,children:V.label},V.id)})})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(me,{className:"bg-sky-600",children:[E.length," usurios"]}),n.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>q("professor"),children:[n.jsx(lp,{className:"h-3.5 w-3.5 mr-1"})," Editar"]})]})]})}),n.jsx("div",{className:"border rounded-lg p-4 border-purple-200 bg-purple-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-purple-800",children:"Administrador (superadmin)"}),n.jsx("p",{className:"text-sm text-purple-600",children:"Acesso total com viso global e filtro por professor"}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:[{id:"painel",label:"Painel"},{id:"inicio",label:"Incio"},{id:"agenda",label:"Agenda"},{id:"conversas",label:"Conversas"},{id:"alunos",label:"Alunos"},{id:"aulas",label:"Aulas"},{id:"admtab",label:"Administrao"}].map(V=>n.jsx(me,{variant:"outline",className:"text-xs border-purple-300 text-purple-700 bg-purple-100",children:V.label},V.id))}),n.jsx("p",{className:"text-xs text-purple-500 mt-2",children:"+ Filtro global por professor em todas as abas"})]}),n.jsxs(me,{variant:"destructive",children:[T.filter(V=>V.role==="superadmin").length," usurios"]})]})})]}),n.jsx("div",{className:"mt-6 p-4 bg-slate-50 rounded-lg",children:n.jsxs("p",{className:"text-sm text-slate-600",children:[n.jsx("strong",{children:"Nota:"})," Superusurios tm acesso a todas as abas com a possibilidade de filtrar por professor especfico. Professores veem apenas seus prprios dados."]})})]})]})})]}),n.jsx(Wt,{open:c,onOpenChange:d,children:n.jsxs(zt,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsx(Ut,{children:u?"Gerenciar Usurio":"Novo Usurio"}),n.jsx(rs,{children:u?"Gerencie o vnculo com professor e status da conta.":"Preencha os dados do novo usurio."})]}),n.jsxs("div",{className:"grid gap-4 py-4",children:[!u&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Pe,{htmlFor:"full_name",children:"Nome completo *"}),n.jsx(et,{id:"full_name",value:S.full_name,onChange:V=>O({...S,full_name:V.target.value}),placeholder:"Nome completo do usurio",autoFocus:!0})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Pe,{htmlFor:"email",children:"E-mail *"}),n.jsx(et,{id:"email",type:"email",value:S.email,onChange:V=>O({...S,email:V.target.value}),placeholder:"usuario@email.com"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Este ser o e-mail de login do usurio."})]}),n.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg space-y-2 border border-purple-200",children:[n.jsx(Pe,{htmlFor:"password_new",className:"text-sm text-purple-700 font-semibold",children:"Senha *"}),n.jsx(et,{id:"password_new",type:"text",value:S.password,onChange:V=>O({...S,password:V.target.value}),placeholder:"Digite a senha (letras, nmeros, smbolos)",className:"font-mono text-base bg-white border-purple-300"}),n.jsx("p",{className:"text-xs text-purple-600",children:"A senha ser salva exatamente como digitada, respeitando maisculas, minsculas e smbolos."})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Pe,{htmlFor:"role",children:"Perfil de Usurio *"}),n.jsxs(Mt,{value:S.role,onValueChange:V=>O({...S,role:V}),children:[n.jsx(kt,{children:n.jsx(Rt,{placeholder:"Selecione um tipo"})}),n.jsxs(Tt,{children:[n.jsx(ye,{value:"student",children:"Aluno"}),n.jsx(ye,{value:"professor",children:"Professor"})]})]})]})]}),u&&n.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border space-y-1",children:[n.jsx("p",{className:"font-medium text-slate-900",children:u.full_name}),n.jsx("p",{className:"text-sm text-slate-500",children:u.real_email||u.email||"Sin email"}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx(me,{variant:u.role==="student"?"default":"secondary",children:u.role==="student"?"Aluno":u.role==="professor"?"Professor":"Admin"}),u.student_code&&n.jsxs(me,{variant:"outline",children:["Cdigo: ",u.student_code]})]})]}),u&&n.jsxs("div",{className:"border-t pt-4 mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h4",{className:"font-semibold text-sm text-slate-700",children:"Dados Complementares"}),u.registration_status==="complete"?n.jsx(me,{className:"bg-green-100 text-green-700 border-green-300",children:"Cadastro Completo"}):n.jsx(me,{variant:"outline",className:"text-amber-700 border-amber-300",children:"Pr-cadastro"})]}),n.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Atualize os dados para cadastro completo. Necessrio para contratos e ttulos financeiros."}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Pe,{htmlFor:"edit_phone",children:"Telefone *"}),n.jsx(et,{id:"edit_phone",value:qN(S.phone),onChange:V=>O({...S,phone:V.target.value}),placeholder:"(00) 00000-0000",maxLength:15})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Pe,{htmlFor:"edit_cpf",children:"CPF"}),n.jsx(et,{id:"edit_cpf",value:zK(S.cpf),onChange:V=>O({...S,cpf:V.target.value}),placeholder:"000.000.000-00",maxLength:14})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Pe,{htmlFor:"edit_birth_date",children:"Data de Nascimento"}),n.jsx(et,{id:"edit_birth_date",type:"date",value:S.birth_date,onChange:V=>O({...S,birth_date:V.target.value})})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h5",{className:"font-medium text-sm text-slate-700 mb-3",children:"Endereo"}),n.jsxs("div",{className:"grid gap-3",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("div",{className:"col-span-2 grid gap-2",children:[n.jsx(Pe,{htmlFor:"edit_address_street",children:"Rua"}),n.jsx(et,{id:"edit_address_street",value:S.address_street,onChange:V=>O({...S,address_street:V.target.value}),placeholder:"Nome da rua"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Pe,{htmlFor:"edit_address_number",children:"Nmero"}),n.jsx(et,{id:"edit_address_number",value:S.address_number,onChange:V=>O({...S,address_number:V.target.value}),placeholder:"123"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Pe,{htmlFor:"edit_address_complement",children:"Complemento"}),n.jsx(et,{id:"edit_address_complement",value:S.address_complement,onChange:V=>O({...S,address_complement:V.target.value}),placeholder:"Apto, bloco..."})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Pe,{htmlFor:"edit_address_neighborhood",children:"Bairro"}),n.jsx(et,{id:"edit_address_neighborhood",value:S.address_neighborhood,onChange:V=>O({...S,address_neighborhood:V.target.value}),placeholder:"Nome do bairro"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Pe,{htmlFor:"edit_address_city",children:"Cidade"}),n.jsx(et,{id:"edit_address_city",value:S.address_city,onChange:V=>O({...S,address_city:V.target.value}),placeholder:"Cidade"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Pe,{htmlFor:"edit_address_state",children:"Estado"}),n.jsxs(Mt,{value:S.address_state,onValueChange:V=>O({...S,address_state:V}),children:[n.jsx(kt,{children:n.jsx(Rt,{placeholder:"UF"})}),n.jsxs(Tt,{children:[n.jsx(ye,{value:"AC",children:"AC"}),n.jsx(ye,{value:"AL",children:"AL"}),n.jsx(ye,{value:"AP",children:"AP"}),n.jsx(ye,{value:"AM",children:"AM"}),n.jsx(ye,{value:"BA",children:"BA"}),n.jsx(ye,{value:"CE",children:"CE"}),n.jsx(ye,{value:"DF",children:"DF"}),n.jsx(ye,{value:"ES",children:"ES"}),n.jsx(ye,{value:"GO",children:"GO"}),n.jsx(ye,{value:"MA",children:"MA"}),n.jsx(ye,{value:"MT",children:"MT"}),n.jsx(ye,{value:"MS",children:"MS"}),n.jsx(ye,{value:"MG",children:"MG"}),n.jsx(ye,{value:"PA",children:"PA"}),n.jsx(ye,{value:"PB",children:"PB"}),n.jsx(ye,{value:"PR",children:"PR"}),n.jsx(ye,{value:"PE",children:"PE"}),n.jsx(ye,{value:"PI",children:"PI"}),n.jsx(ye,{value:"RJ",children:"RJ"}),n.jsx(ye,{value:"RN",children:"RN"}),n.jsx(ye,{value:"RS",children:"RS"}),n.jsx(ye,{value:"RO",children:"RO"}),n.jsx(ye,{value:"RR",children:"RR"}),n.jsx(ye,{value:"SC",children:"SC"}),n.jsx(ye,{value:"SP",children:"SP"}),n.jsx(ye,{value:"SE",children:"SE"}),n.jsx(ye,{value:"TO",children:"TO"})]})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Pe,{htmlFor:"edit_address_zip_code",children:"CEP"}),n.jsx(et,{id:"edit_address_zip_code",value:UK(S.address_zip_code),onChange:V=>O({...S,address_zip_code:V.target.value}),placeholder:"00000-000",maxLength:9})]})]})]})]})]}),n.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("p",{className:"text-xs text-blue-800",children:[n.jsx("strong",{children:" Nota:"})," As permisses de acesso (Aes em Aulas e Alunos) so configuradas por tipo de perfil na aba ",n.jsx("strong",{children:'"Perfis"'}),"."]})}),u&&n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-orange-50 border-orange-100",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Pe,{className:"text-orange-900",children:"Estado da Conta"}),n.jsx("p",{className:"text-xs text-orange-700",children:S.is_active?"Conta ativa":"Conta inativa"})]}),n.jsx(Y,{variant:S.is_active?"destructive":"default",size:"sm",type:"button",onClick:()=>O({...S,is_active:!S.is_active}),children:S.is_active?"Inativar":"Ativar"})]})]}),n.jsxs(Ts,{children:[n.jsx(Y,{variant:"outline",type:"button",onClick:()=>d(!1),children:"Cancelar"}),n.jsx(Y,{onClick:I,disabled:h,className:"bg-purple-600 hover:bg-purple-700",children:h?n.jsxs(n.Fragment,{children:[n.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"})," Salvando..."]}):"Salvar"})]})]})}),n.jsx(Wt,{open:x,onOpenChange:g,children:n.jsxs(zt,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsxs(Ut,{children:["Editar Permisses - ",y]}),n.jsx(rs,{children:"Selecione quais abas e recursos estaro visveis para este papel."})]}),n.jsxs("div",{className:"py-4 space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"text-sm font-semibold text-slate-700 flex items-center gap-2",children:[n.jsx(ux,{className:"h-4 w-4"}),"Abas Visveis"]}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:(y==="student"?["dashboard","clases","chat","desempenho","faturas"]:["inicio","agenda","alunos","aulas","conversas","servicos","financeiro","preferencias","admtab","global"]).map(V=>{var oe,be;const _e={inicio:"Incio",agenda:"Agenda",alunos:"Alunos",aulas:"Aulas",conversas:"Conversas",servicos:"Servios",financeiro:"Financeiro",preferencias:"Preferncias",admtab:"Admin",global:"Global",dashboard:"Dashboard",clases:"Aulas (Aluno)",chat:"Chat",desempenho:"Desempenho",faturas:"Faturas"};return n.jsxs("div",{className:"flex items-center space-x-2 border p-3 rounded-lg hover:bg-slate-50 cursor-pointer",onClick:()=>le(V),children:[n.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center ${(oe=v.tabs)!=null&&oe.includes(V)?"bg-purple-600 border-purple-600":"border-slate-300"}`,children:((be=v.tabs)==null?void 0:be.includes(V))&&n.jsx(ux,{className:"h-3 w-3 text-white"})}),n.jsx(Pe,{className:"capitalize cursor-pointer flex-1",children:_e[V]||V})]},V)})})]}),y!=="student"&&n.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[n.jsxs("h4",{className:"text-sm font-semibold text-slate-700 flex items-center gap-2",children:[n.jsx(Ju,{className:"h-4 w-4"}),"Permisses de Aes"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-slate-50 cursor-pointer",onClick:()=>te("can_manage_classes"),children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(Pe,{className:"cursor-pointer font-medium text-slate-800",children:"Gerenciar Aulas"}),n.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Permitir editar e excluir aulas"})]}),n.jsx("div",{className:`w-11 h-6 rounded-full transition-colors ${(ie=v.actions)!=null&&ie.can_manage_classes?"bg-purple-600":"bg-slate-300"}`,children:n.jsx("div",{className:`w-5 h-5 rounded-full bg-white shadow-sm transition-transform duration-200 mt-0.5 ${(Ne=v.actions)!=null&&Ne.can_manage_classes?"translate-x-5":"translate-x-0.5"}`})})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-slate-50 cursor-pointer",onClick:()=>te("can_manage_students"),children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(Pe,{className:"cursor-pointer font-medium text-slate-800",children:"Gerenciar Alunos"}),n.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Permitir editar e excluir alunos"})]}),n.jsx("div",{className:`w-11 h-6 rounded-full transition-colors ${(Re=v.actions)!=null&&Re.can_manage_students?"bg-purple-600":"bg-slate-300"}`,children:n.jsx("div",{className:`w-5 h-5 rounded-full bg-white shadow-sm transition-transform duration-200 mt-0.5 ${(Je=v.actions)!=null&&Je.can_manage_students?"translate-x-5":"translate-x-0.5"}`})})]})]})]})]}),n.jsxs(Ts,{children:[n.jsx(Y,{variant:"outline",onClick:()=>g(!1),children:"Cancelar"}),n.jsx(Y,{onClick:X,disabled:h,className:"bg-purple-600 hover:bg-purple-700",children:h?n.jsx(Ie,{className:"h-4 w-4 animate-spin"}):"Salvar Alteraes"})]})]})}),n.jsx(Wt,{open:j,onOpenChange:N,children:n.jsxs(zt,{className:"sm:max-w-[400px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsxs(Ut,{className:"flex items-center gap-2 text-red-600",children:[n.jsx(oi,{className:"h-5 w-5"}),"Confirmar Excluso"]}),n.jsxs(rs,{children:["Tem certeza que deseja excluir permanentemente o usurio ",n.jsx("strong",{children:C==null?void 0:C.full_name}),"?",n.jsx("br",{}),n.jsx("br",{}),"Esta ao apagar ",n.jsx("strong",{children:"TODOS"})," os dados do usurio (aulas, financeiro, mensagens, histrico).",n.jsx("br",{}),n.jsx("strong",{children:"A operao  irreversvel."})]})]}),n.jsxs(Ts,{className:"gap-2 sm:gap-0",children:[n.jsx(Y,{variant:"outline",onClick:()=>N(!1),disabled:h,children:"Cancelar"}),n.jsxs(Y,{variant:"destructive",onClick:K,disabled:h,children:[h?n.jsx(Ie,{className:"h-4 w-4 animate-spin mr-2"}):null,"Confirmar Excluso"]})]})]})})]})};function WK(e,t=[]){let s=[];function r(o,i){const l=f.createContext(i);l.displayName=o+"Context";const c=s.length;s=[...s,i];const d=m=>{var b;const{scope:h,children:p,...x}=m,g=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,y=f.useMemo(()=>x,Object.values(x));return n.jsx(g.Provider,{value:y,children:p})};d.displayName=o+"Provider";function u(m,h){var g;const p=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,x=f.useContext(p);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[d,u]}const a=()=>{const o=s.map(i=>f.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,GK(a,...t)]}function GK(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...l,...m}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}var YK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gA=YK.reduce((e,t)=>{const s=Rm(`Primitive.${t}`),r=f.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Dy="Progress",Iy=100,[KK,EQ]=WK(Dy),[XK,QK]=KK(Dy),xA=f.forwardRef((e,t)=>{const{__scopeProgress:s,value:r=null,max:a,getValueLabel:o=JK,...i}=e;(a||a===0)&&!WN(a)&&console.error(ZK(`${a}`,"Progress"));const l=WN(a)?a:Iy;r!==null&&!GN(r,l)&&console.error(eX(`${r}`,"Progress"));const c=GN(r,l)?r:null,d=im(c)?o(c,l):void 0;return n.jsx(XK,{scope:s,value:c,max:l,children:n.jsx(gA.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":im(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":bA(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});xA.displayName=Dy;var vA="ProgressIndicator",yA=f.forwardRef((e,t)=>{const{__scopeProgress:s,...r}=e,a=QK(vA,s);return n.jsx(gA.div,{"data-state":bA(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});yA.displayName=vA;function JK(e,t){return`${Math.round(e/t*100)}%`}function bA(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function im(e){return typeof e=="number"}function WN(e){return im(e)&&!isNaN(e)&&e>0}function GN(e,t){return im(e)&&!isNaN(e)&&e<=t&&e>=0}function ZK(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Iy}\`.`}function eX(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Iy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var wA=xA,tX=yA;const jA=f.forwardRef(({className:e,value:t,...s},r)=>n.jsx(wA,{ref:r,className:ee("relative h-4 w-full overflow-hidden rounded-full bg-slate-100 dark:bg-slate-800",e),...s,children:n.jsx(tX,{className:"h-full w-full flex-1 bg-slate-900 transition-all dark:bg-slate-50",style:{transform:`translateX(-${100-(t||0)}%)`}})}));jA.displayName=wA.displayName;const sX=()=>{const[e,t]=f.useState(null),[s,r]=f.useState([]),[a,o]=f.useState([]),[i,l]=f.useState([]),[c,d]=f.useState(!0);f.useEffect(()=>{u()},[]);const u=async()=>{d(!0);try{const{data:p}=await R.from("ticket_stats").select("*").single(),{data:x}=await R.from("tickets_by_type").select("*"),{data:g}=await R.from("tickets_by_priority").select("*"),{data:y}=await R.from("daily_ticket_trend").select("*").limit(7);t(p),r(x||[]),o(g||[]),l(y||[])}catch(p){console.error("Error loading reports:",p)}finally{d(!1)}};if(c)return n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx(Ie,{className:"h-8 w-8 animate-spin text-purple-600"})});const m={transfer_student:{label:"Transferncia de Aluno",icon:""},temporary_replacement:{label:"Substituio Temporria",icon:""},system_question:{label:"Queixa sobre o Sistema",icon:""},reschedule_class:{label:"Reagendar Aula",icon:""},change_student_schedule:{label:"Mudana de Horrio",icon:""},schedule_unavailability:{label:"Indisponibilidade",icon:""},confirm_student_info:{label:"Confirmar Informaes",icon:""}},h={low:{label:"Baixa",color:"bg-green-100 text-green-800",icon:""},medium:{label:"Mdia",color:"bg-yellow-100 text-yellow-800",icon:""},high:{label:"Alta",color:"bg-orange-100 text-orange-800",icon:""},urgent:{label:"Urgente",color:"bg-red-100 text-red-800",icon:""}};return n.jsxs("div",{className:"space-y-6 p-6 bg-slate-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-1",children:"Relatrios e Estatsticas"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Dados dos ltimos 30 dias"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(Ct,{children:n.jsx(Et,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Total de Tickets"}),n.jsx("p",{className:"text-3xl font-bold text-slate-900",children:(e==null?void 0:e.total_tickets)||0})]}),n.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-full flex items-center justify-center",children:n.jsx(l0,{className:"h-6 w-6 text-purple-600"})})]})})}),n.jsx(Ct,{children:n.jsx(Et,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Tickets Encerrados"}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:(e==null?void 0:e.closed_count)||0}),n.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[(e==null?void 0:e.resolution_rate_percent)||0,"% taxa de resoluo"]})]}),n.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(Qu,{className:"h-6 w-6 text-green-600"})})]})})}),n.jsx(Ct,{children:n.jsx(Et,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Tempo Mdio"}),n.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e!=null&&e.avg_resolution_hours?`${Math.round(e.avg_resolution_hours)}h`:"-"}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Tempo de resoluo"})]}),n.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(Bs,{className:"h-6 w-6 text-blue-600"})})]})})}),n.jsx(Ct,{children:n.jsx(Et,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Violaes de SLA"}),n.jsx("p",{className:"text-3xl font-bold text-red-600",children:(e==null?void 0:e.sla_violations)||0}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Tickets sem resposta no prazo"})]}),n.jsx("div",{className:"h-12 w-12 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx(ao,{className:"h-6 w-6 text-red-600"})})]})})})]}),n.jsxs(Ct,{children:[n.jsx(Os,{children:n.jsx(Ds,{children:"Distribuio por Status"})}),n.jsx(Et,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[n.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:(e==null?void 0:e.pending_count)||0}),n.jsx("p",{className:"text-sm text-yellow-600 font-medium mt-1",children:"Pendentes"})]}),n.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg border border-blue-200",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-700",children:(e==null?void 0:e.open_count)||0}),n.jsx("p",{className:"text-sm text-blue-600 font-medium mt-1",children:"Abertas"})]}),n.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg border border-orange-200",children:[n.jsx("p",{className:"text-2xl font-bold text-orange-700",children:(e==null?void 0:e.awaiting_user_count)||0}),n.jsx("p",{className:"text-sm text-orange-600 font-medium mt-1",children:"Aguardando"})]}),n.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[n.jsx("p",{className:"text-2xl font-bold text-green-700",children:(e==null?void 0:e.closed_count)||0}),n.jsx("p",{className:"text-sm text-green-600 font-medium mt-1",children:"Encerradas"})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(Ct,{children:[n.jsxs(Os,{children:[n.jsx(Ds,{children:"Tickets por Tipo"}),n.jsx(tn,{children:"Distribuio e taxa de resoluo"})]}),n.jsx(Et,{children:n.jsxs("div",{className:"space-y-3",children:[s.map(p=>{const x=m[p.type]||{label:p.type,icon:""},g=p.ticket_count/((e==null?void 0:e.total_tickets)||1)*100;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx("span",{children:x.icon}),n.jsx("span",{children:x.label})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(me,{variant:"outline",className:"text-xs",children:p.ticket_count}),n.jsxs("span",{className:"text-xs text-slate-500",children:[p.resolution_rate,"%"]})]})]}),n.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:n.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all",style:{width:`${g}%`}})})]},p.type)}),s.length===0&&n.jsx("p",{className:"text-center text-slate-500 py-4",children:"Nenhum ticket registrado"})]})})]}),n.jsxs(Ct,{children:[n.jsxs(Os,{children:[n.jsx(Ds,{children:"Tickets por Prioridade"}),n.jsx(tn,{children:"Tempo mdio e violaes de SLA"})]}),n.jsx(Et,{children:n.jsxs("div",{className:"space-y-4",children:[a.map(p=>{const x=h[p.priority]||{label:p.priority,color:"bg-slate-100",icon:""};return n.jsxs("div",{className:`p-3 rounded-lg ${x.color}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("span",{className:"font-medium flex items-center gap-2",children:[n.jsx("span",{children:x.icon}),n.jsx("span",{children:x.label})]}),n.jsx(me,{variant:"secondary",children:p.ticket_count})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-slate-600",children:"Resolvidos"}),n.jsx("p",{className:"font-semibold",children:p.closed_count})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-slate-600",children:"SLA violado"}),n.jsx("p",{className:"font-semibold text-red-600",children:p.sla_violations||0})]})]}),p.avg_resolution_hours&&n.jsxs("p",{className:"text-xs mt-2 text-slate-600",children:["Tempo mdio: ",n.jsxs("span",{className:"font-semibold",children:[Math.round(p.avg_resolution_hours),"h"]})]})]},p.priority)}),a.length===0&&n.jsx("p",{className:"text-center text-slate-500 py-4",children:"Nenhum ticket registrado"})]})})]})]}),n.jsxs(Ct,{children:[n.jsx(Os,{children:n.jsxs(Ds,{className:"flex items-center gap-2",children:[n.jsx(ts,{className:"h-5 w-5"}),"Tendncia Diria (ltimos 7 dias)"]})}),n.jsx(Et,{children:n.jsxs("div",{className:"space-y-2",children:[i.map(p=>n.jsxs("div",{className:"flex items-center gap-4 p-2 hover:bg-slate-50 rounded",children:[n.jsx("div",{className:"w-24 text-sm font-medium text-slate-600",children:ae(Be(p.date),"dd/MM",{locale:nt})}),n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-6 relative overflow-hidden",children:n.jsx("div",{className:"bg-purple-500 h-6 rounded-full flex items-center justify-end pr-2",style:{width:`${p.tickets_created/Math.max(...i.map(x=>x.tickets_created))*100}%`},children:n.jsx("span",{className:"text-white text-xs font-semibold",children:p.tickets_created})})})})}),n.jsxs("div",{className:"flex gap-2",children:[p.urgent_count>0&&n.jsxs(me,{className:"bg-red-500 text-white text-xs",children:[" ",p.urgent_count]}),p.high_count>0&&n.jsxs(me,{className:"bg-orange-500 text-white text-xs",children:[" ",p.high_count]})]})]},p.date)),i.length===0&&n.jsx("p",{className:"text-center text-slate-500 py-4",children:"Nenhum ticket nos ltimos 7 dias"})]})})]})]})},lm=[{value:"transfer_student",label:"Transferncia de Aluno",icon:""},{value:"temporary_replacement",label:"Substituio Temporria",icon:""},{value:"system_question",label:"Queixa sobre o Sistema",icon:""},{value:"reschedule_class",label:"Reagendar Aula",icon:""},{value:"change_student_schedule",label:"Mudana de Horrio do Aluno",icon:""},{value:"schedule_unavailability",label:"Indisponibilidade de horrios",icon:""},{value:"confirm_student_info",label:"Confirmar informaes de aluno",icon:""}],cm={pending:{label:"Pendente",color:"bg-yellow-500",textColor:"text-yellow-900",bgLight:"bg-yellow-50"},open:{label:"Aberta",color:"bg-blue-500",textColor:"text-blue-900",bgLight:"bg-blue-50"},awaiting_user:{label:"Aguardando Solicitante",color:"bg-orange-500",textColor:"text-orange-900",bgLight:"bg-orange-50"},closed:{label:"Encerrada",color:"bg-green-500",textColor:"text-green-900",bgLight:"bg-green-50"}},Ol={low:{label:"Baixa",color:"bg-green-500",icon:"",hours:48},medium:{label:"Mdia",color:"bg-yellow-500",icon:"",hours:24},high:{label:"Alta",color:"bg-orange-500",icon:"",hours:12},urgent:{label:"Urgente",color:"bg-red-500",icon:"",hours:4}},NA=({status:e})=>{const t=cm[e]||cm.pending;return n.jsx(me,{className:`${t.color} hover:${t.color} text-white`,children:t.label})},_A=({priority:e})=>{const t=Ol[e]||Ol.medium;return n.jsxs(me,{className:`${t.color} text-white text-xs`,children:[t.icon," ",t.label]})},SA=({ticket:e})=>{var o;if(e.status==="closed"||e.first_response_at)return null;const t=pF(new Date,Be(e.created_at)),s=e.expected_response_hours||((o=Ol[e.priority||"medium"])==null?void 0:o.hours)||24,r=t/s*100,a=r>100||e.sla_violated;return n.jsxs("div",{className:"space-y-1 mt-1",children:[n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:a?"text-red-600 font-medium":"text-slate-600",children:a?" SLA Violado":"Aguardando resposta"}),n.jsxs("span",{className:"text-slate-500",children:[t,"h / ",s,"h"]})]}),n.jsx(jA,{value:Math.min(r,100),className:`h-1.5 ${a?"[&>div]:bg-red-500":""}`})]})},rX=({ticketType:e,onSelect:t,disabled:s})=>{const[r,a]=f.useState([]),[o,i]=f.useState(!0);f.useEffect(()=>{l()},[e]);const l=async()=>{i(!0);const{data:c,error:d}=await R.from("ticket_response_templates").select("*").eq("is_active",!0).or(`category.eq.${e},category.is.null`).order("title");d||a(c||[]),i(!1)};return o?n.jsx(Y,{variant:"outline",size:"sm",disabled:!0,children:n.jsx(Ie,{className:"h-4 w-4 animate-spin"})}):r.length===0?null:n.jsxs(Nd,{children:[n.jsx(_d,{asChild:!0,children:n.jsxs(Y,{variant:"outline",size:"sm",disabled:s,children:[n.jsx(bs,{className:"mr-2 h-4 w-4"}),"Templates (",r.length,")"]})}),n.jsxs(Al,{className:"w-80 max-h-96 overflow-y-auto",children:[n.jsx(rm,{children:"Selecionar Template"}),n.jsx(Zo,{}),r.map(c=>n.jsxs(jr,{onClick:()=>t(c.content),className:"cursor-pointer flex-col items-start",children:[n.jsx("div",{className:"font-medium text-sm",children:c.title}),n.jsxs("div",{className:"text-xs text-slate-500 line-clamp-2 mt-1",children:[c.content.substring(0,100),"..."]})]},c.id))]})]})},nX=({ticketId:e,onUploadComplete:t,disabled:s})=>{const{toast:r}=Pt(),[a,o]=f.useState(!1),i=Vt.useRef(null),l=async c=>{var u;const d=(u=c.target.files)==null?void 0:u[0];if(d){if(d.size>5242880){r({variant:"destructive",title:"Arquivo muito grande",description:"O arquivo deve ter no mximo 5MB"});return}o(!0);try{const m=d.name.split(".").pop(),h=`${e}/${Date.now()}.${m}`,{data:p,error:x}=await R.storage.from("ticket-attachments").upload(h,d);if(x)throw x;const{error:g}=await R.from("ticket_attachments").insert({ticket_id:e,file_name:d.name,file_path:p.path,file_size:d.size,file_type:d.type,uploaded_by:(await R.auth.getUser()).data.user.id});if(g)throw g;r({title:"Arquivo anexado!",description:"O arquivo foi enviado com sucesso"}),t==null||t()}catch(m){console.error("Upload error:",m),r({variant:"destructive",title:"Erro ao enviar arquivo",description:m.message})}finally{o(!1),i.current&&(i.current.value="")}}};return n.jsxs(n.Fragment,{children:[n.jsx("input",{ref:i,type:"file",onChange:l,accept:"image/*,.pdf,.doc,.docx",className:"hidden",disabled:s||a}),n.jsx(Y,{variant:"outline",size:"sm",onClick:()=>{var c;return(c=i.current)==null?void 0:c.click()},disabled:s||a,children:a?n.jsxs(n.Fragment,{children:[n.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"})," Enviando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Z3,{className:"mr-2 h-4 w-4"})," Anexar"]})})]})},aX=({ticketId:e,canDelete:t})=>{const{toast:s}=Pt(),[r,a]=f.useState([]),[o,i]=f.useState(!0);f.useEffect(()=>{l();const m=()=>l();return window.addEventListener("reloadAttachments",m),()=>window.removeEventListener("reloadAttachments",m)},[e]);const l=async()=>{const{data:m,error:h}=await R.from("ticket_attachments").select(`
                *,
                uploader:profiles!uploaded_by(full_name)
            `).eq("ticket_id",e).order("created_at",{ascending:!0});h||a(m||[]),i(!1)},c=async m=>{try{const{data:h,error:p}=await R.storage.from("ticket-attachments").download(m.file_path);if(p)throw p;const x=URL.createObjectURL(h),g=document.createElement("a");g.href=x,g.download=m.file_name,g.click(),URL.revokeObjectURL(x)}catch(h){s({variant:"destructive",title:"Erro ao baixar arquivo",description:h.message})}},d=async(m,h)=>{if(window.confirm("Deseja remover este anexo?"))try{const{error:p}=await R.from("ticket_attachments").delete().eq("id",m);if(p)throw p;await R.storage.from("ticket-attachments").remove([h]),s({title:"Anexo removido"}),l()}catch(p){s({variant:"destructive",title:"Erro ao remover anexo",description:p.message})}},u=m=>m!=null&&m.startsWith("image/")?n.jsx(H3,{className:"h-4 w-4 text-blue-600"}):m==="application/pdf"?n.jsx(bs,{className:"h-4 w-4 text-red-600"}):n.jsx(cx,{className:"h-4 w-4 text-slate-600"});return o?n.jsx("div",{className:"text-sm text-slate-500",children:"Carregando anexos..."}):r.length===0?null:n.jsxs("div",{className:"space-y-2 mt-4",children:[n.jsxs(Pe,{className:"text-xs text-slate-500",children:["Anexos (",r.length,")"]}),n.jsx("div",{className:"space-y-2",children:r.map(m=>{var h;return n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-50 rounded border hover:bg-slate-100 transition-colors",children:[u(m.file_type),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium truncate",children:m.file_name}),n.jsxs("p",{className:"text-xs text-slate-500",children:[(m.file_size/1024).toFixed(1)," KB  ",(h=m.uploader)==null?void 0:h.full_name]})]}),n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>c(m),className:"h-8 w-8 p-0",children:n.jsx(lx,{className:"h-4 w-4"})}),t&&n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>d(m.id,m.file_path),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",children:n.jsx(oi,{className:"h-4 w-4"})})]},m.id)})})]})},oX=({isOpen:e,onClose:t,onCreated:s,professorId:r,isSuperadmin:a,allProfiles:o})=>{const{toast:i}=Pt(),[l,c,d]=Si("create_ticket_form",{type:"",priority:"medium",initialMessage:"",selectedProfessor:r||""}),[u,m]=f.useState([]),{type:h,priority:p,initialMessage:x,selectedProfessor:g}=l,y=(_,S)=>c(O=>({...O,[_]:S})),[b,v]=f.useState(!1),[w,j]=f.useState([]);f.useEffect(()=>{a&&e&&N()},[a,e]),f.useEffect(()=>{e&&!a&&y("selectedProfessor",r)},[e,a,r]);const N=async()=>{if(o&&o.length>0){const D=o.filter(z=>z.role&&z.role.toLowerCase()==="professor");D.length===0?j(o.map(z=>({...z,full_name:`${z.full_name} [${z.role||"Sem role"}]`}))):j(D);return}const{data:_,error:S}=await R.from("profiles").select("id, full_name, email, role").order("full_name");if(S){console.error("Error loading professors:",S),i({variant:"destructive",title:"Erro ao carregar lista",description:"No foi possvel carregar a lista de professores. Verifique suas permisses."});return}let O=(_||[]).filter(D=>D.role&&D.role.toLowerCase()==="professor");O.length===0&&_&&_.length>0&&(O=_.map(D=>({...D,full_name:`${D.full_name} [${D.role||"Sem role"}]`}))),j(O)},C=async()=>{if(!h){i({variant:"destructive",title:"Campos obrigatrios",description:"Selecione um tipo de solicitao"});return}if(!x.trim()){i({variant:"destructive",title:"Campos obrigatrios",description:"Escreva uma mensagem"});return}if(a&&!g){i({variant:"destructive",title:"Professor obrigatrio",description:"Selecione o professor para criar o ticket"});return}v(!0);try{const{data:_,error:S}=await R.from("service_tickets").insert({requester_id:g||r,type:h,priority:p,status:"pending"}).select().single();if(S)throw S;const{error:O}=await R.from("service_ticket_messages").insert({ticket_id:_.id,user_id:g||r,message:x});if(O)throw O;if(u.length>0){const D=u.map(async z=>{const M=z.name.split(".").pop(),U=`${_.id}/${Date.now()}-${Math.random().toString(36).substring(7)}.${M}`,{data:$,error:E}=await R.storage.from("ticket-attachments").upload(U,z);if(E)throw E;return R.from("ticket_attachments").insert({ticket_id:_.id,file_name:z.name,file_path:$.path,file_size:z.size,file_type:z.type,uploaded_by:g||r})});await Promise.all(D)}i({title:"Ticket criado!",description:`Seu ticket ${_.ticket_number} foi criado com sucesso`}),d(),m([]),s(),t()}catch(_){console.error("Error creating ticket:",_),i({variant:"destructive",title:"Erro ao criar ticket",description:_.message})}finally{v(!1)}};return n.jsx(Wt,{open:e,onOpenChange:t,children:n.jsxs(zt,{className:"sm:max-w-[550px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsx(Ut,{children:"Novo Ticket de Servio"}),n.jsx(rs,{children:a?"Criar uma solicitao de servio para um professor":"Descreva sua solicitao e nossa equipe entrar em contato"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[a&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{children:"Professor *"}),n.jsxs(Mt,{value:g,onValueChange:_=>y("selectedProfessor",_),children:[n.jsx(kt,{children:n.jsx(Rt,{placeholder:"Selecione o professor"})}),n.jsx(Tt,{children:w.map(_=>n.jsxs(ye,{value:_.id,children:[_.full_name," (",_.email,")"]},_.id))})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Pe,{children:"Tipo de Solicitao *"}),n.jsxs(Mt,{value:h,onValueChange:_=>y("type",_),children:[n.jsx(kt,{className:"mt-1",children:n.jsx(Rt,{placeholder:"Selecionar tipo..."})}),n.jsx(Tt,{children:lm.map(_=>n.jsx(ye,{value:_.value,children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{children:_.icon}),n.jsx("span",{children:_.label})]})},_.value))})]})]}),n.jsxs("div",{children:[n.jsx(Pe,{children:"Prioridade *"}),n.jsxs(Mt,{value:p,onValueChange:_=>y("priority",_),children:[n.jsx(kt,{className:"mt-1",children:n.jsx(Rt,{})}),n.jsx(Tt,{children:Object.entries(Ol).map(([_,S])=>n.jsxs(ye,{value:_,children:[S.icon," ",S.label]},_))})]}),n.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Tempo esperado: ",Ol[p].hours,"h"]})]})]}),n.jsxs("div",{children:[n.jsx(Pe,{children:"Mensagem *"}),n.jsx(Jn,{placeholder:"Descreva detalhadamente sua solicitao...",value:x,onChange:_=>y("initialMessage",_.target.value),rows:6,className:"mt-1"}),n.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[x.length,"/500 caracteres"]})]}),n.jsxs("div",{children:[n.jsx(Pe,{children:"Anexos"}),n.jsxs("div",{className:"space-y-2 mt-1",children:[n.jsx(et,{type:"file",multiple:!0,onChange:_=>{_.target.files&&m(S=>[...S,...Array.from(_.target.files)])},className:"cursor-pointer"}),u.length>0&&n.jsx("div",{className:"space-y-1",children:u.map((_,S)=>n.jsxs("div",{className:"flex items-center justify-between text-sm bg-slate-50 p-2 rounded",children:[n.jsx("span",{className:"truncate max-w-[200px]",children:_.name}),n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>m(u.filter((O,D)=>D!==S)),className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",children:n.jsx(rn,{className:"h-4 w-4"})})]},S))})]})]})]}),n.jsxs(Ts,{children:[n.jsx(Y,{variant:"outline",onClick:t,disabled:b,children:"Cancelar"}),n.jsx(Y,{onClick:C,disabled:b||!h||!x.trim(),className:"bg-purple-600 hover:bg-purple-700",children:b?n.jsxs(n.Fragment,{children:[n.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"})," Criando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(no,{className:"mr-2 h-4 w-4"})," Criar Ticket"]})})]})]})})},iX=({ticket:e,isOpen:t,onClose:s,onUpdated:r,isSuperadmin:a,currentUserId:o})=>{var S,O,D,z;const{toast:i}=Pt(),[l,c]=f.useState([]),[d,u]=f.useState(""),[m,h]=f.useState((e==null?void 0:e.status)||"pending"),[p,x]=f.useState((e==null?void 0:e.priority)||"medium"),[g,y]=f.useState(!1),[b,v]=f.useState(!0);f.useEffect(()=>{e&&t&&(w(),h(e.status),x(e.priority||"medium"))},[e,t]);const w=async()=>{if(!e)return;v(!0);const{data:M,error:U}=await R.from("service_ticket_messages").select(`
                *,
                user:profiles(full_name, avatar_url, role)
            `).eq("ticket_id",e.id).order("created_at",{ascending:!0});U||c(M||[]),v(!1)},j=async()=>{if(d.trim()){y(!0);try{const{error:M}=await R.from("service_ticket_messages").insert({ticket_id:e.id,user_id:o,message:d.trim()});if(M)throw M;u(""),w(),i({title:"Mensagem enviada!",description:"Sua mensagem foi adicionada ao ticket"})}catch(M){i({variant:"destructive",title:"Erro ao enviar mensagem",description:M.message})}finally{y(!1)}}},N=async()=>{if(!(m===e.status&&p===e.priority))try{const M={status:m,closed_at:m==="closed"?new Date().toISOString():null};p!==e.priority&&(M.priority=p);const{error:U}=await R.from("service_tickets").update(M).eq("id",e.id);if(U)throw U;i({title:"Ticket atualizado!",description:`Status: ${cm[m].label}`}),r()}catch(M){i({variant:"destructive",title:"Erro ao atualizar ticket",description:M.message})}};if(!e)return null;const C=lm.find(M=>M.value===e.type),_=e.status==="closed";return n.jsx(Wt,{open:t,onOpenChange:s,children:n.jsxs(zt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Bt,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(tr,{className:"h-10 w-10",children:[n.jsx(Br,{src:(S=e.requester)==null?void 0:S.avatar_url}),n.jsx(sr,{className:"bg-purple-100 text-purple-600",children:((D=(O=e.requester)==null?void 0:O.full_name)==null?void 0:D[0])||"U"})]}),n.jsxs("div",{children:[n.jsx(Ut,{children:(z=e.requester)==null?void 0:z.full_name}),n.jsx("p",{className:"text-sm text-slate-500 font-mono",children:e.ticket_number})]})]}),n.jsx(NA,{status:e.status})]})}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 py-4 border-t border-b bg-slate-50 px-4 rounded-lg",children:[n.jsxs("div",{children:[n.jsx(Pe,{className:"text-xs text-slate-500",children:"Tipo de Solicitao"}),n.jsxs("p",{className:"font-medium flex items-center gap-2 mt-1",children:[n.jsx("span",{children:C==null?void 0:C.icon}),n.jsx("span",{children:(C==null?void 0:C.label)||e.type})]})]}),n.jsxs("div",{children:[n.jsx(Pe,{className:"text-xs text-slate-500",children:"Prioridade"}),n.jsx("div",{className:"mt-1",children:n.jsx(_A,{priority:e.priority||"medium"})})]}),n.jsxs("div",{children:[n.jsx(Pe,{className:"text-xs text-slate-500",children:"Data de Criao"}),n.jsx("p",{className:"font-medium mt-1",children:ae(Be(e.created_at),"dd/MM/yyyy 's' HH:mm",{locale:nt})})]})]}),!_&&n.jsx("div",{className:"px-4",children:n.jsx(SA,{ticket:e})}),n.jsxs("div",{className:"px-4",children:[n.jsx(aX,{ticketId:e.id,canDelete:a}),!_&&n.jsx("div",{className:"mt-2",children:n.jsx(nX,{ticketId:e.id,onUploadComplete:()=>{const M=new CustomEvent("reloadAttachments");window.dispatchEvent(M)},disabled:g})})]}),a&&!_&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg space-y-3",children:[n.jsx(Pe,{className:"font-semibold text-blue-900",children:"Gerenciar Ticket"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(Pe,{className:"text-xs text-slate-600",children:"Status"}),n.jsxs(Mt,{value:m,onValueChange:h,children:[n.jsx(kt,{className:"bg-white mt-1",children:n.jsx(Rt,{})}),n.jsxs(Tt,{children:[n.jsx(ye,{value:"pending",children:" Pendente"}),n.jsx(ye,{value:"open",children:" Aberta"}),n.jsx(ye,{value:"awaiting_user",children:" Aguardando Solicitante"}),n.jsx(ye,{value:"closed",children:" Encerrada"})]})]})]}),n.jsxs("div",{children:[n.jsx(Pe,{className:"text-xs text-slate-600",children:"Prioridade"}),n.jsxs(Mt,{value:p,onValueChange:x,children:[n.jsx(kt,{className:"bg-white mt-1",children:n.jsx(Rt,{})}),n.jsx(Tt,{children:Object.entries(Ol).map(([M,U])=>n.jsxs(ye,{value:M,children:[U.icon," ",U.label]},M))})]})]})]}),n.jsx(Y,{onClick:N,disabled:m===e.status&&p===e.priority,className:"bg-blue-600 hover:bg-blue-700 w-full",children:"Atualizar Ticket"})]}),n.jsxs("div",{className:"space-y-4 mt-4",children:[n.jsxs("h4",{className:"font-semibold text-slate-700 flex items-center gap-2",children:[n.jsx(ud,{className:"h-4 w-4"}),"Histrico de Comunicao"]}),b?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx(Ie,{className:"h-6 w-6 animate-spin text-purple-600"})}):l.length===0?n.jsx("div",{className:"text-center py-8 text-slate-500",children:n.jsx("p",{children:"Nenhuma mensagem ainda"})}):n.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:l.map(M=>{var E,T,F,k,P;const U=((E=M.user)==null?void 0:E.role)==="superadmin",$=M.user_id===o;return n.jsxs("div",{className:`flex gap-3 ${$?"flex-row-reverse":""}`,children:[n.jsxs(tr,{className:"h-8 w-8 flex-shrink-0",children:[n.jsx(Br,{src:(T=M.user)==null?void 0:T.avatar_url}),n.jsx(sr,{className:U?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600",children:((k=(F=M.user)==null?void 0:F.full_name)==null?void 0:k[0])||"U"})]}),n.jsx("div",{className:`flex-1 max-w-[80%] ${$?"items-end":""}`,children:n.jsxs("div",{className:`${$?"bg-purple-100":"bg-slate-100"} p-3 rounded-lg`,children:[n.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[n.jsxs("span",{className:"font-medium text-sm",children:[U?" ":"",(P=M.user)==null?void 0:P.full_name]}),n.jsx("span",{className:"text-xs text-slate-500",children:ae(Be(M.created_at),"dd/MM HH:mm")})]}),n.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:M.message})]})})]},M.id)})})]}),_?n.jsxs("div",{className:"bg-green-50 border border-green-200 p-4 rounded-lg text-center",children:[n.jsx("p",{className:"text-sm text-green-800 font-medium",children:" Este ticket est encerrado"}),n.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Para reabrir, entre em contato com a administrao"})]}):n.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[a&&n.jsx("div",{className:"flex justify-end",children:n.jsx(rX,{ticketType:e.type,onSelect:M=>u(M),disabled:g})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Jn,{placeholder:"Digite sua mensagem...",value:d,onChange:M=>u(M.target.value),rows:3,className:"flex-1",onKeyDown:M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),j())}}),n.jsx(Y,{onClick:j,disabled:!d.trim()||g,className:"bg-purple-600 hover:bg-purple-700 self-end",children:g?n.jsx(Ie,{className:"h-4 w-4 animate-spin"}):n.jsx(Bl,{className:"h-4 w-4"})})]})]})]})})},YN=({dashboardData:e})=>{var z;const{toast:t}=Pt(),[s,r]=f.useState([]),[a,o]=f.useState([]),[i,l]=f.useState(null),[c,d]=f.useState(!1),[u,m]=f.useState(!1),[h,p]=f.useState(!0),[x,g]=f.useState(""),[y,b]=f.useState("all"),[v,w]=f.useState(!1),j=(e==null?void 0:e.isSuperadmin)||!1,N=e==null?void 0:e.professorId;f.useEffect(()=>{C()},[N,j]),f.useEffect(()=>{_()},[s,x,y]),f.useEffect(()=>{if(!N)return;const M=R.channel("service_tickets_changes").on("postgres_changes",{event:"*",schema:"public",table:"service_tickets",filter:j?void 0:`requester_id=eq.${N}`},$=>{var E;if(C(),$.eventType==="INSERT"&&j&&$.new.requester_id!==N&&t({title:" Novo Ticket",description:`Ticket ${$.new.ticket_number} foi criado`}),$.eventType==="UPDATE"&&$.old.status!==$.new.status&&!j){const T=(E=cm[$.new.status])==null?void 0:E.label;t({title:" Ticket Atualizado",description:`Ticket ${$.new.ticket_number} est agora: ${T}`})}}).subscribe(),U=R.channel("ticket_messages_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"service_ticket_messages"},$=>{if($.new.user_id!==N){const E=s.find(T=>T.id===$.new.ticket_id);E&&t({title:" Nova Mensagem",description:`Voc recebeu uma resposta no ticket ${E.ticket_number}`})}}).subscribe();return()=>{M.unsubscribe(),U.unsubscribe()}},[N,j,s,t]);const C=f.useCallback(async()=>{if(N){p(!0);try{let M=R.from("service_tickets").select(`
                    *,
                    requester:profiles!requester_id(full_name, avatar_url, student_code),
                    assigned:profiles!assigned_to(full_name)
                `).order("created_at",{ascending:!1});j||(M=M.eq("requester_id",N));const{data:U,error:$}=await M;if($)throw $;r(U||[])}catch(M){console.error("Error fetching tickets:",M),t({variant:"destructive",title:"Erro ao carregar tickets",description:M.message})}finally{p(!1)}}},[N,j,t]),_=()=>{let M=s;x&&(M=M.filter(U=>{var E,T,F;const $=((E=lm.find(k=>k.value===U.type))==null?void 0:E.label)||"";return U.ticket_number.toLowerCase().includes(x.toLowerCase())||$.toLowerCase().includes(x.toLowerCase())||((F=(T=U.requester)==null?void 0:T.full_name)==null?void 0:F.toLowerCase().includes(x.toLowerCase()))})),y!=="all"&&(M=M.filter(U=>U.status===y)),o(M)},S=async M=>{l(M),m(!0)},O=()=>{if(C(),i){const M=s.find(U=>U.id===i.id);M&&l(M)}},D={all:s.length,pending:s.filter(M=>M.status==="pending").length,open:s.filter(M=>M.status==="open").length,awaiting_user:s.filter(M=>M.status==="awaiting_user").length,closed:s.filter(M=>M.status==="closed").length};return n.jsx("div",{className:"w-full px-4 lg:px-8",children:n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Servios"}),n.jsx("p",{className:"text-sm text-slate-500",children:j?"Gerenciar tickets de solicitao de todos os professores":"Sistema de solicitaes e suporte para professores"})]}),!j&&n.jsxs(Y,{onClick:()=>d(!0),className:"bg-purple-600 hover:bg-purple-700",children:[n.jsx(no,{className:"mr-2 h-4 w-4"}),"Novo Ticket"]}),j&&n.jsxs(Y,{onClick:()=>d(!0),className:"bg-purple-600 hover:bg-purple-700",children:[n.jsx(no,{className:"mr-2 h-4 w-4"}),"Criar Ticket para Professor"]}),j&&n.jsx(Y,{onClick:()=>w(!v),variant:v?"default":"outline",children:v?"Ver Tickets":" Ver Relatrios"})]})}),v&&j?n.jsx(sX,{}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[n.jsxs(me,{variant:y==="all"?"default":"outline",className:"cursor-pointer",onClick:()=>b("all"),children:["Todos: ",D.all]}),n.jsxs(me,{variant:y==="pending"?"default":"outline",className:"cursor-pointer bg-yellow-100 text-yellow-800 border-yellow-300",onClick:()=>b("pending"),children:["Pendentes: ",D.pending]}),n.jsxs(me,{variant:y==="open"?"default":"outline",className:"cursor-pointer bg-blue-100 text-blue-800 border-blue-300",onClick:()=>b("open"),children:["Abertas: ",D.open]}),n.jsxs(me,{variant:y==="awaiting_user"?"default":"outline",className:"cursor-pointer bg-orange-100 text-orange-800 border-orange-300",onClick:()=>b("awaiting_user"),children:["Aguardando: ",D.awaiting_user]}),n.jsxs(me,{variant:y==="closed"?"default":"outline",className:"cursor-pointer bg-green-100 text-green-800 border-green-300",onClick:()=>b("closed"),children:["Encerradas: ",D.closed]})]}),n.jsxs("div",{className:"mb-4 relative",children:[n.jsx(_o,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),n.jsx(et,{placeholder:"Buscar por nmero, tipo ou solicitante...",value:x,onChange:M=>g(M.target.value),className:"pl-10 pr-10"}),x&&n.jsx("button",{onClick:()=>g(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:n.jsx(rn,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs(Sn,{children:[n.jsx(Cn,{className:"bg-slate-50",children:n.jsxs(pt,{children:[n.jsx(Me,{children:"Nmero"}),j&&n.jsx(Me,{children:"Solicitante"}),n.jsx(Me,{children:"Tipo"}),n.jsx(Me,{children:"Data de Criao"}),n.jsx(Me,{children:"Status"}),n.jsx(Me,{className:"text-right",children:"Aes"})]})}),n.jsx(En,{children:h?n.jsx(pt,{children:n.jsx(we,{colSpan:j?6:5,className:"text-center py-8",children:n.jsx(Ie,{className:"h-6 w-6 animate-spin mx-auto"})})}):a.length>0?a.map(M=>{var $,E,T,F,k;const U=lm.find(P=>P.value===M.type);return n.jsxs(pt,{className:"hover:bg-slate-50",children:[n.jsx(we,{className:"font-mono text-sm font-medium text-purple-600",children:M.ticket_number}),j&&n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(tr,{className:"h-7 w-7",children:[n.jsx(Br,{src:($=M.requester)==null?void 0:$.avatar_url}),n.jsx(sr,{className:"text-xs",children:(T=(E=M.requester)==null?void 0:E.full_name)==null?void 0:T[0]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:(F=M.requester)==null?void 0:F.full_name}),n.jsx("p",{className:"text-xs text-slate-500",children:(k=M.requester)==null?void 0:k.student_code})]})]})}),n.jsx(we,{children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{children:U==null?void 0:U.icon}),n.jsx("span",{className:"text-sm",children:(U==null?void 0:U.label)||M.type})]})}),n.jsx(we,{className:"text-sm text-slate-600",children:ae(Be(M.created_at),"dd/MM/yyyy HH:mm")}),n.jsx(we,{children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(NA,{status:M.status}),n.jsx(_A,{priority:M.priority||"medium"})]}),n.jsx(SA,{ticket:M})]})}),n.jsx(we,{className:"text-right",children:n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>S(M),className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",children:"Ver detalhes"})})]},M.id)}):n.jsx(pt,{children:n.jsx(we,{colSpan:j?6:5,className:"text-center py-12",children:n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx(ud,{className:"h-12 w-12 text-slate-300"}),n.jsx("p",{className:"text-slate-500 font-medium",children:x||y!=="all"?"Nenhum ticket encontrado com os filtros aplicados":"Nenhum ticket criado ainda"}),!j&&!x&&y==="all"&&n.jsxs(Y,{onClick:()=>d(!0),variant:"outline",className:"mt-2",children:[n.jsx(no,{className:"mr-2 h-4 w-4"}),"Criar primeiro ticket"]})]})})})})]})}),n.jsx(oX,{isOpen:c,onClose:()=>d(!1),onCreated:C,professorId:N,isSuperadmin:j,allProfiles:(z=e==null?void 0:e.data)==null?void 0:z.professors}),n.jsx(iX,{ticket:i,isOpen:u,onClose:()=>m(!1),onUpdated:O,isSuperadmin:j,currentUserId:N})]})]})})},KN=({dashboardData:e})=>{var o;const t=((o=e==null?void 0:e.data)==null?void 0:o.appointments)||[],s=6.11,r=f.useMemo(()=>{const i=t.filter(h=>h.status==="completed"),l=i.reduce((h,p)=>h+(p.duration_minutes||30),0),c=l/30,d=c*s,u={};i.forEach(h=>{var y;const p=h.student_id,x=((y=h.student)==null?void 0:y.full_name)||"Aluno N/A",g=h.duration_minutes||30;u[p]||(u[p]={name:x,typicalDuration:g,totalMinutes:0,units:0,earnings:0,sessions:0}),u[p].totalMinutes+=g,u[p].sessions+=1});const m=Object.values(u).map(h=>{const p=h.totalMinutes/30;return{...h,units:p,earnings:p*s}});return{totalEarnings:d,totalMinutes:l,totalUnits:c,groupedList:m,completedCount:i.length}},[t]),a=i=>{const l=Math.floor(i/60),c=i%60;return`${l}h ${String(c).padStart(2,"0")}m`};return n.jsxs("div",{className:"px-4 lg:px-8 space-y-8 py-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-emerald-100 rounded-xl text-emerald-600",children:n.jsx(dd,{className:"h-8 w-8"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-slate-800 uppercase tracking-tight",children:"My Earnings"}),n.jsx("p",{className:"text-slate-500 font-medium",children:"Controle de rendimentos e produtividade"})]})]}),n.jsxs(me,{variant:"outline",className:"text-sm py-1.5 px-4 bg-white border-slate-200 text-slate-600 shadow-sm self-start md:self-center",children:["Taxa Base: R$ ",s.toFixed(2)," / 30 min"]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[n.jsxs(Ct,{className:"border-none shadow-md bg-gradient-to-br from-emerald-500 to-emerald-600 text-white",children:[n.jsx(Os,{className:"pb-2",children:n.jsx(Ds,{className:"text-sm font-medium opacity-90 uppercase",children:"Total de Ganhos"})}),n.jsxs(Et,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-3xl font-bold",children:["R$ ",r.totalEarnings.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),n.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:n.jsx(l0,{className:"h-6 w-6"})})]}),n.jsx("p",{className:"text-xs mt-2 opacity-80",children:"Ganhos estimados acumulados"})]})]}),n.jsxs(Ct,{className:"border-none shadow-md bg-white border-l-4 border-l-sky-500",children:[n.jsx(Os,{className:"pb-2",children:n.jsx(Ds,{className:"text-sm font-medium text-slate-500 uppercase",children:"Tempo em Aula"})}),n.jsxs(Et,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-3xl font-bold text-slate-800",children:a(r.totalMinutes)}),n.jsx("div",{className:"p-2 bg-sky-50 rounded-lg text-sky-600",children:n.jsx(Bs,{className:"h-6 w-6"})})]}),n.jsx("p",{className:"text-xs mt-2 text-slate-400",children:"Total de minutos em aulas concludas"})]})]}),n.jsxs(Ct,{className:"border-none shadow-md bg-white border-l-4 border-l-purple-500",children:[n.jsx(Os,{className:"pb-2",children:n.jsx(Ds,{className:"text-sm font-medium text-slate-500 uppercase",children:"Quantidade de Aulas"})}),n.jsxs(Et,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-3xl font-bold text-slate-800",children:r.totalUnits.toFixed(1)}),n.jsx("div",{className:"p-2 bg-purple-50 rounded-lg text-purple-600",children:n.jsx(mo,{className:"h-6 w-6"})})]}),n.jsx("p",{className:"text-xs mt-2 text-slate-400",children:"Total de unidades (30 min cada)"})]})]})]}),n.jsxs(Ct,{className:"border-none shadow-md overflow-hidden",children:[n.jsxs(Os,{className:"bg-slate-50/50 border-b",children:[n.jsx(Ds,{className:"text-lg font-bold text-slate-800",children:"Histrico por Aluno"}),n.jsx(tn,{children:"Detalhamento de rendimentos por cada aluno atendido"})]}),n.jsx(Et,{className:"p-0",children:n.jsxs(Sn,{children:[n.jsx(Cn,{className:"bg-slate-50",children:n.jsxs(pt,{children:[n.jsx(Me,{className:"font-bold",children:"Aluno"}),n.jsx(Me,{className:"font-bold",children:"Durao Aula"}),n.jsx(Me,{className:"font-bold",children:"Tempo Total"}),n.jsx(Me,{className:"font-bold",children:"Qtd. Total (30m)"}),n.jsx(Me,{className:"font-bold",children:"Valor Unitrio"}),n.jsx(Me,{className:"font-bold text-right",children:"Valor Estimado"})]})}),n.jsx(En,{children:r.groupedList.length>0?r.groupedList.map((i,l)=>n.jsxs(pt,{className:"hover:bg-slate-50 transition-colors",children:[n.jsx(we,{className:"font-medium text-slate-700",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-slate-100 rounded-lg",children:n.jsx(ul,{className:"w-4 h-4 text-slate-500"})}),i.name]})}),n.jsxs(we,{children:[i.typicalDuration," min"]}),n.jsx(we,{children:a(i.totalMinutes)}),n.jsx(we,{children:n.jsx(me,{variant:"secondary",className:"bg-slate-100 text-slate-700",children:i.units.toFixed(1)})}),n.jsxs(we,{className:"text-slate-500 text-sm",children:["R$ ",s.toFixed(2)]}),n.jsxs(we,{className:"text-right font-bold text-emerald-600",children:["R$ ",i.earnings.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]},l)):n.jsx(pt,{children:n.jsx(we,{colSpan:6,className:"text-center py-12 text-slate-400",children:"Nenhuma aula concluda encontrada para calcular rendimentos."})})})]})})]})]})},lX=({dashboardData:e})=>{var P,A,B,L,H;const{toast:t}=Pt(),[s,r]=f.useState([]),[a,o]=f.useState(!0),[i,l]=f.useState(null),[c,d]=f.useState(""),[u,m]=f.useState(""),[h,p]=f.useState("all"),[x,g]=f.useState("all"),[y,b]=f.useState("all"),[v,w]=f.useState(""),[j,N]=f.useState(""),[C,_]=f.useState("");e==null||e.onUpdate,(P=e==null?void 0:e.data)!=null&&P.students;const S=((A=e==null?void 0:e.data)==null?void 0:A.allProfiles)||[],O=f.useCallback(I=>{if(!I)return null;const G=S.find(K=>K.id===I);return(G==null?void 0:G.full_name)||null},[S]),D=I=>({appointments:"Aulas",profiles:"Perfis",billing:"Faturas",packages:"Pacotes",class_slots:"Horrios",solicitudes_clase:"Solicitaes",chats:"Conversas",mensajes:"Mensagens",class_feedback:"Feedbacks",notifications:"Notificaes",assigned_packages_log:"Atribuies de Pacotes",audit_logs:"Auditoria",professor_announcements:"Avisos",financial_titles:"Ttulos Financeiros",student_messages:"Mensagens de Alunos"})[I]||I,z=I=>({class_datetime:"Data/Hora da Aula",status:"Status",student_id:"Aluno",professor_id:"Professor",full_name:"Nome Completo",email:"Email",phone:"Telefone",spanish_level:"Nvel de Espanhol",reschedule_reason:"Motivo do Reagendamento",observation:"Observao",start_time:"Horrio de Incio",end_time:"Horrio de Trmino",day_of_week:"Dia da Semana",package_id:"Pacote",assigned_classes:"Aulas Atribudas",purchase_date:"Data da Compra",expiration_date:"Data de Expirao"})[I]||I,M=I=>{try{const G=I.table_name,K=I.action,q=I.new_data||{},X=I.old_data||{};if(G==="class_slots"){const te=q.day_of_week!==void 0?q.day_of_week:X.day_of_week,ie=["Domingo","Segunda-feira","Tera-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sbado"],Ne=te!=null?ie[te]:"(Dia desconhecido)",Re=q.start_time||X.start_time||"(Sem horrio)";if(K==="INSERT")return`Novo horrio disponvel: ${Ne} s ${Re}`;if(K==="UPDATE")return q.is_available!==void 0&&q.is_available!==X.is_available?`Horrio de ${Ne} s ${Re} marcado como ${q.is_available?"Disponvel":"Indisponvel"}`:q.start_time&&q.start_time!==X.start_time?`Horrio de ${Ne} alterado de ${X.start_time} para ${q.start_time}`:`Atualizao no horrio de ${Ne} s ${Re}`;if(K==="DELETE")return`Remoo do horrio: ${Ne} s ${Re}`}if(G==="appointments"){const te=q.class_datetime||X.class_datetime;let ie="";if(te)try{const Ne=new Date(te);isNaN(Ne.getTime())||(ie=ae(Ne,"dd/MM 's' HH:mm",{locale:nt}))}catch{ie=""}if(K==="INSERT")return`Aula agendada para ${ie}`;if(K==="UPDATE"){const Ne=X.status,Re=q.status;return Re&&Re!==Ne?`Status da aula de ${ie} alterado para: ${{scheduled:"Agendada",rescheduled:"Reagendada",completed:"Realizada",cancelled:"Cancelada",no_show:"Falta"}[Re]||Re}`:q.meeting_link&&q.meeting_link!==X.meeting_link?`Link da reunio atualizado para a aula de ${ie}`:`Atualizao na aula de ${ie}`}if(K==="DELETE")return`Aula de ${ie} excluda`}if(G==="profiles"){const te=q.full_name||X.full_name||"Usurio";if(K==="INSERT")return`Novo usurio cadastrado: ${te}`;if(K==="UPDATE")return q.full_name!==X.full_name?`Nome alterado de "${X.full_name}" para "${q.full_name}"`:q.role!==X.role?`Funo de ${te} alterada para ${q.role}`:`Dados de ${te} atualizados`;if(K==="DELETE")return`Usurio removido: ${te}`}if(G==="billing"||G==="financial_titles"){const te=q.amount||X.amount,ie=te?`R$ ${te}`:"",Ne=q.title_number||X.title_number||"";if(K==="INSERT")return`Novo ttulo financeiro gerado ${Ne?`#${Ne} `:""}${ie?`(${ie})`:""}`;if(K==="UPDATE")return q.status&&q.status!==X.status?`Status do ttulo ${Ne} alterado para ${{pending:"Pendente",effective:"Efetivado",paid:"Pago",cancelled:"Cancelado",overdue:"Vencido",closed:"Encerrado"}[q.status]||q.status}`:`Atualizao no ttulo ${Ne} ${ie?`(${ie})`:""}`;if(K==="DELETE")return"Ttulo financeiro removido"}if(G==="packages"){const te=q.name||X.name||"Pacote";if(K==="INSERT")return`Novo pacote criado: ${te}`;if(K==="UPDATE")return`Alterao no pacote: ${te}`;if(K==="DELETE")return`Pacote removido: ${te}`}if(G==="assigned_packages_log"){if(K==="INSERT")return"Pacote atribudo a um aluno";if(K==="DELETE")return"Atribuio de pacote removida"}if(["chats","mensajes","messages","student_messages","class_feedback"].includes(G)){if(G==="class_feedback"){if(K==="INSERT")return"Novo feedback de aula enviado";if(K==="UPDATE")return"Feedback de aula alterado"}if(K==="INSERT")return"Nova mensagem enviada";if(K==="UPDATE")return"Status da mensagem atualizado";if(K==="DELETE")return"Mensagem excluda"}if(G==="notifications"){if(K==="INSERT")return"Nova notificao do sistema";if(K==="UPDATE")return"Notificao marcada como lida/alterada"}if(G==="professor_announcements"){const te=q.title||X.title||"Comunicado";if(K==="INSERT")return`Novo comunicado: "${te}"`;if(K==="UPDATE")return`Comunicado "${te}" atualizado`;if(K==="DELETE")return`Comunicado "${te}" removido`}if(K==="UPDATE"){const te=Object.keys(q).filter(ie=>q[ie]!==X[ie]&&!["id","updated_at","created_at"].includes(ie));if(te.length>0){const ie=te.slice(0,2).map(z).join(", ");return`Alterao em ${D(G)}: ${ie}${te.length>2?"...":""}`}}return`${K==="INSERT"?"Incluso em":K==="UPDATE"?"Alterao em":K==="DELETE"?"Excluso em":"Registro em"} ${D(G)}`}catch{return I.history||"Registro de auditoria"}},U=(I,G)=>{if(G==null)return"(vazio)";if(I.includes("datetime")||I.includes("date")||I.includes("_at"))try{return ae(new Date(G),"dd/MM/yyyy HH:mm",{locale:nt})}catch{return G}if(I==="status")return{scheduled:"Agendado",rescheduled:"Reagendado",completed:"Realizada",cancelled:"Cancelada",no_show:"Falta"}[G]||G;if(I.includes("_id")&&typeof G=="string"&&G.includes("-")){const K=O(G);if(K)return K}return String(G)},$=f.useCallback(async()=>{o(!0);try{let I=R.from("audit_logs").select(`
                    *,
                    profiles:changed_by(full_name, avatar_url)
                `).order("created_at",{ascending:!1}).limit(200);const{data:G,error:K}=await I;if(K)throw K;r(G||[])}catch(I){console.error("Erro ao buscar logs:",I),t({variant:"destructive",title:"Erro ao carregar logs",description:I.message})}finally{o(!1)}},[t]);f.useEffect(()=>{$()},[$]);const E=f.useMemo(()=>s.filter(I=>{var Je,V;const G=c===""||I.log_code.toString().includes(c),K=h==="all"||I.changed_by===h,q=x==="all"||I.table_name===x,X=y==="all"||I.action===y,le=((Je=I.old_data)==null?void 0:Je.class_code)||((V=I.new_data)==null?void 0:V.class_code)||"",te=u===""||le.toLowerCase().includes(u.toLowerCase()),ie=v===""||(M(I)||"").toLowerCase().includes(v.toLowerCase())||(I.table_name||"").toLowerCase().includes(v.toLowerCase())||le.toLowerCase().includes(v.toLowerCase()),Ne=j===""||new Date(I.created_at)>=new Date(j),Re=C===""||new Date(I.created_at)<=new Date(C);return G&&K&&q&&X&&ie&&Ne&&Re&&te}).sort((I,G)=>new Date(G.created_at)-new Date(I.created_at)),[s,c,u,h,x,y,v,j,C]),T=f.useMemo(()=>{const I=[],G=new Set;return s.forEach(K=>{var q;K.changed_by&&!G.has(K.changed_by)&&(G.add(K.changed_by),I.push({id:K.changed_by,name:((q=K.profiles)==null?void 0:q.full_name)||"Desconhecido"}))}),I},[s]),F=f.useMemo(()=>[...new Set(s.map(I=>I.table_name))],[s]),k=()=>{d(""),m(""),p("all"),g("all"),b("all"),w(""),N(""),_("")};return n.jsxs("div",{className:"w-full px-4 lg:px-8 space-y-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[n.jsx(ro,{className:"h-6 w-6 text-sky-600"}),"Log's de Auditoria"]}),n.jsx("p",{className:"text-slate-500 text-sm",children:"Acompanhe todas as inseres e alteraes realizadas na base de dados."})]}),n.jsxs(Y,{variant:"outline",size:"sm",onClick:$,disabled:a,children:[a?n.jsx(Ie,{className:"h-4 w-4 animate-spin mr-2"}):n.jsx(md,{className:"h-4 w-4 mr-2"}),"Atualizar Logs"]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-100 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(_o,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),n.jsx(et,{placeholder:"Buscar no histrico...",value:v,onChange:I=>w(I.target.value),className:"pl-9 h-9"})]}),n.jsx(et,{placeholder:"Cdigo (#)",type:"number",value:c,onChange:I=>d(I.target.value),className:"h-9 w-[100px]"}),n.jsx(et,{placeholder:"Cd. Aula (AULA-...)",value:u,onChange:I=>m(I.target.value),className:"h-9"}),n.jsxs(Mt,{value:h,onValueChange:p,children:[n.jsx(kt,{className:"h-9",children:n.jsx(Rt,{placeholder:"Usurio"})}),n.jsxs(Tt,{children:[n.jsx(ye,{value:"all",children:"Todos os usurios"}),T.map(I=>n.jsx(ye,{value:I.id,children:I.name},I.id))]})]}),n.jsxs(Mt,{value:x,onValueChange:g,children:[n.jsx(kt,{className:"h-9",children:n.jsx(Rt,{placeholder:"Tabela"})}),n.jsxs(Tt,{children:[n.jsx(ye,{value:"all",children:"Todas as tabelas"}),F.map(I=>n.jsx(ye,{value:I,children:I},I))]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Mt,{value:y,onValueChange:b,children:[n.jsx(kt,{className:"h-9 flex-1",children:n.jsx(Rt,{placeholder:"Ao"})}),n.jsxs(Tt,{children:[n.jsx(ye,{value:"all",children:"Todas as aes"}),n.jsx(ye,{value:"INITIAL",children:"Carga Inicial"}),n.jsx(ye,{value:"INSERT",children:"Incluses"}),n.jsx(ye,{value:"UPDATE",children:"Alteraes"}),n.jsx(ye,{value:"DELETE",children:"Excluses"})]})]}),n.jsx(Y,{variant:"ghost",size:"icon",onClick:k,title:"Limpar filtros",children:n.jsx(V3,{className:"h-4 w-4 text-slate-500"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Data incio"}),n.jsx(et,{type:"date",value:j,onChange:I=>N(I.target.value),className:"h-9"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Data fim"}),n.jsx(et,{type:"date",value:C,onChange:I=>_(I.target.value),className:"h-9"})]})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:n.jsxs(Sn,{children:[n.jsx(Cn,{className:"bg-slate-50",children:n.jsxs(pt,{children:[n.jsx(Me,{className:"w-[100px]",children:"Cdigo"}),n.jsx(Me,{className:"w-[180px]",children:"Data e Hora"}),n.jsx(Me,{children:"Histrico e Movimentao"}),n.jsx(Me,{className:"w-[180px]",children:"Usurio"}),n.jsx(Me,{className:"text-right w-[120px]",children:"Aes"})]})}),n.jsx(En,{children:a?n.jsx(pt,{children:n.jsxs(we,{colSpan:5,className:"text-center py-20",children:[n.jsx(Ie,{className:"h-10 w-10 animate-spin mx-auto text-sky-500"}),n.jsx("p",{className:"mt-2 text-slate-500",children:"Buscando auditoria..."})]})}):E.length>0?E.map(I=>{var G,K,q,X,le,te,ie,Ne,Re;return n.jsxs(pt,{className:"hover:bg-slate-50/50",children:[n.jsxs(we,{className:"font-mono font-bold text-sky-700",children:["#",I.log_code]}),n.jsx(we,{className:"text-slate-600 text-sm",children:ae(new Date(I.created_at),"dd/MM/yyyy HH:mm",{locale:nt})}),n.jsx(we,{children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(me,{variant:I.action==="INITIAL"?"outline":I.action==="INSERT"?"success":I.action==="UPDATE"?"warning":"destructive",className:"text-[10px] uppercase font-bold py-0 h-4",children:I.action==="INITIAL"?"CARGA INICIAL":I.action==="INSERT"?"INCLUSO":I.action==="UPDATE"?"ALTERAO":"EXCLUSO"}),I.table_name==="appointments"&&(((G=I.old_data)==null?void 0:G.class_code)||((K=I.new_data)==null?void 0:K.class_code))&&n.jsx("span",{className:"font-mono text-xs text-sky-700 bg-sky-50 px-2 py-0.5 rounded border border-sky-200",children:((q=I.old_data)==null?void 0:q.class_code)||((X=I.new_data)==null?void 0:X.class_code)}),n.jsx("span",{className:"font-medium text-slate-800",children:M(I)})]}),n.jsxs("span",{className:"text-[10px] text-slate-400 font-mono",children:["ID: ",((le=I.record_id)==null?void 0:le.split("-")[0])||"N/A","... | Tabela: ",D(I.table_name)]})]})}),n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-6 w-6 rounded-full bg-slate-200 flex items-center justify-center text-[10px] uppercase font-bold text-slate-500 overflow-hidden",children:(te=I.profiles)!=null&&te.avatar_url?n.jsx("img",{src:I.profiles.avatar_url,alt:"Profile",className:"h-full w-full object-cover"}):((Ne=(ie=I.profiles)==null?void 0:ie.full_name)==null?void 0:Ne[0])||"S"}),n.jsx("span",{className:"text-sm text-slate-700",children:((Re=I.profiles)==null?void 0:Re.full_name)||"Sistema"})]})}),n.jsx(we,{className:"text-right",children:n.jsxs(Y,{variant:"ghost",size:"sm",className:"h-8 text-sky-600 hover:text-sky-700 hover:bg-sky-50",onClick:()=>l(I),title:"Ver detalhes",children:[n.jsx(bi,{className:"h-3.5 w-3.5 mr-1"}),"Detalhes"]})})]},I.id)}):n.jsx(pt,{children:n.jsxs(we,{colSpan:5,className:"text-center py-20 text-slate-500",children:[n.jsx(fC,{className:"h-10 w-10 mx-auto mb-2 opacity-20"}),"Nenhum log encontrado com os filtros aplicados."]})})})]})}),n.jsx(Wt,{open:!!i,onOpenChange:()=>l(null),children:n.jsxs(zt,{className:"sm:max-w-[600px] max-h-[85vh] overflow-hidden flex flex-col",children:[n.jsxs(Bt,{children:[n.jsxs(Ut,{className:"flex items-center gap-2",children:[n.jsx(ro,{className:"h-5 w-5 text-sky-600"}),"Detalhes do Log #",i==null?void 0:i.log_code]}),n.jsx(rs,{children:"Informaes completas da movimentao registrada."})]}),i&&n.jsx(Mn,{className:"flex-1 pr-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[n.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[n.jsx("p",{className:"text-slate-500 text-xs font-medium",children:"Data/Hora"}),(()=>{try{return ae(new Date(i.created_at),"dd/MM/yyyy 's' HH:mm:ss",{locale:nt})}catch{return i.created_at}})()]}),n.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[n.jsx("p",{className:"text-slate-500 text-xs font-medium",children:"Tipo de Ao"}),n.jsx(me,{variant:i.action==="INSERT"?"success":i.action==="UPDATE"?"warning":i.action==="DELETE"?"destructive":"outline",className:"mt-1",children:i.action==="INSERT"?"Incluso":i.action==="UPDATE"?"Alterao":i.action==="DELETE"?"Excluso":"Carga Inicial"})]}),n.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[n.jsx("p",{className:"text-slate-500 text-xs font-medium",children:"Rotina/Tabela"}),n.jsx("p",{className:"font-semibold text-slate-800",children:D(i.table_name)}),n.jsx("p",{className:"text-xs text-slate-400 font-mono",children:i.table_name})]}),n.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[n.jsx("p",{className:"text-slate-500 text-xs font-medium",children:"Usurio Responsvel"}),n.jsx("p",{className:"font-semibold text-slate-800",children:((B=i.profiles)==null?void 0:B.full_name)||"Sistema"})]})]}),n.jsxs("div",{className:"bg-sky-50 p-3 rounded-lg border border-sky-200",children:[n.jsx("p",{className:"text-sky-700 text-xs font-medium mb-1",children:"Descrio da Movimentao"}),n.jsx("p",{className:"text-sky-900 font-medium",children:M(i)})]}),((L=i.old_data)==null?void 0:L.student_id)&&n.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg border border-purple-200",children:[n.jsx("p",{className:"text-purple-700 text-xs font-medium mb-1",children:"Aluno Relacionado"}),n.jsx("p",{className:"text-purple-900 font-semibold",children:O(i.old_data.student_id)||i.old_data.student_id})]}),i.action==="UPDATE"&&i.old_data&&i.new_data&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("h4",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[n.jsx(_l,{className:"h-4 w-4"}),"Alteraes Realizadas"]}),n.jsx("div",{className:"bg-white border rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-slate-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left p-2 font-medium text-slate-700",children:"Campo"}),n.jsx("th",{className:"text-left p-2 font-medium text-slate-700",children:"Antes"}),n.jsx("th",{className:"text-center p-2 w-8"}),n.jsx("th",{className:"text-left p-2 font-medium text-slate-700",children:"Depois"})]})}),n.jsx("tbody",{children:Object.keys(i.new_data).filter(I=>{var q;const G=(q=i.old_data)==null?void 0:q[I],K=i.new_data[I];return JSON.stringify(G)!==JSON.stringify(K)&&!["id","created_at","updated_at","last_log_code"].includes(I)}).map(I=>{var G;return n.jsxs("tr",{className:"border-t",children:[n.jsx("td",{className:"p-2 font-medium text-slate-600",children:z(I)}),n.jsx("td",{className:"p-2 text-red-600 bg-red-50",children:U(I,(G=i.old_data)==null?void 0:G[I])}),n.jsx("td",{className:"p-2 text-center",children:n.jsx(oC,{className:"h-4 w-4 text-slate-400 inline"})}),n.jsx("td",{className:"p-2 text-green-600 bg-green-50",children:U(I,i.new_data[I])})]},I)})})]})})]}),(i.action==="INSERT"||i.action==="DELETE"||i.action==="INITIAL")&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("h4",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[n.jsx(_l,{className:"h-4 w-4"}),"Dados do Registro"]}),n.jsx("div",{className:"bg-slate-50 p-3 rounded-lg border max-h-64 overflow-y-auto",children:n.jsx("dl",{className:"grid grid-cols-1 gap-2 text-sm",children:Object.entries(i.action==="INSERT"?i.new_data||{}:i.old_data||{}).filter(([I])=>!["id","created_at","updated_at","last_log_code"].includes(I)).map(([I,G])=>n.jsxs("div",{className:"flex justify-between py-1 border-b border-slate-200 last:border-0",children:[n.jsx("dt",{className:"text-slate-500",children:z(I)}),n.jsx("dd",{className:"font-medium text-slate-800",children:U(I,G)})]},I))})})]}),((H=i.history)==null?void 0:H.includes("[REVERTIDO"))&&n.jsx("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-200",children:n.jsxs("p",{className:"text-orange-700 font-medium flex items-center gap-2",children:[n.jsx(md,{className:"h-4 w-4"}),"Este log j foi revertido"]})})]})}),n.jsx(Ts,{className:"mt-4",children:n.jsx(Y,{variant:"outline",onClick:()=>l(null),children:"Fechar"})})]})})]})},CA=[{value:"Manuteno",label:"Manuteno",color:"bg-rose-50 text-rose-700 border-rose-200"},{value:"Pedaggico",label:"Pedaggico",color:"bg-blue-50 text-blue-700 border-blue-200"},{value:"Geral",label:"Geral",color:"bg-slate-50 text-slate-700 border-slate-200"},{value:"Financeiro",label:"Financeiro",color:"bg-green-50 text-green-700 border-green-200"},{value:"Importante",label:"Importante",color:"bg-amber-50 text-amber-700 border-amber-200"}],cX=({isOpen:e,onClose:t,onCreated:s,professorName:r})=>{const{toast:a}=Pt(),[o,i]=f.useState(!1),[l,c]=f.useState({title:"",content:"",type:"Geral"}),d=async()=>{if(!l.title.trim()||!l.content.trim()){a({variant:"destructive",title:"Campos obrigatrios",description:"Preencha o ttulo e o contedo do aviso."});return}i(!0);try{const{error:u}=await R.from("professor_announcements").insert({title:l.title,content:l.content,type:l.type,author:r||"Administrao",is_active:!0});if(u)throw u;a({title:"Aviso publicado com sucesso!"}),s(),t(),c({title:"",content:"",type:"Geral"})}catch(u){console.error("Erro ao criar aviso:",u),a({variant:"destructive",title:"Erro ao publicar",description:u.message})}finally{i(!1)}};return n.jsx(Wt,{open:e,onOpenChange:t,children:n.jsxs(zt,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsx(Ut,{children:"Novo Comunicado"}),n.jsx(rs,{children:"Crie um novo aviso para todos os professores."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{children:"Ttulo"}),n.jsx(et,{placeholder:"Ex: Atualizao do Sistema",value:l.title,onChange:u=>c(m=>({...m,title:u.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{children:"Tipo"}),n.jsxs(Mt,{value:l.type,onValueChange:u=>c(m=>({...m,type:u})),children:[n.jsx(kt,{children:n.jsx(Rt,{})}),n.jsx(Tt,{children:CA.map(u=>n.jsx(ye,{value:u.value,children:u.label},u.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{children:"Contedo"}),n.jsx(Jn,{placeholder:"Digite o contedo do aviso...",rows:5,value:l.content,onChange:u=>c(m=>({...m,content:u.target.value}))})]})]}),n.jsxs(Ts,{children:[n.jsx(Y,{variant:"outline",onClick:t,children:"Cancelar"}),n.jsxs(Y,{onClick:d,disabled:o,children:[o?n.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Publicar"]})]})]})})},XN=({dashboardData:e})=>{const{toast:t}=Pt(),[s,r]=f.useState([]),[a,o]=f.useState(!0),[i,l]=f.useState(!1),c=(e==null?void 0:e.isSuperadmin)||!1,d=async()=>{o(!0);try{const{data:h,error:p}=await R.from("professor_announcements").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(p)throw p;r(h||[])}catch(h){console.error("Erro ao buscar avisos:",h)}finally{o(!1)}};f.useEffect(()=>{d();const h=R.channel("public:professor_announcements").on("postgres_changes",{event:"*",schema:"public",table:"professor_announcements"},()=>{d()}).subscribe();return()=>{R.removeChannel(h)}},[]);const u=async h=>{if(window.confirm("Tem certeza que deseja remover este aviso?"))try{const{error:p}=await R.from("professor_announcements").update({is_active:!1}).eq("id",h);if(p)throw p;t({title:"Aviso removido"}),d()}catch(p){t({variant:"destructive",title:"Erro ao remover",description:p.message})}},m=h=>{const p=CA.find(x=>x.value===h);return p?p.color:"bg-slate-50 text-slate-700 border-slate-200"};return n.jsxs("div",{className:"container mx-auto px-4 py-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-rose-100 rounded-xl",children:n.jsx(fd,{className:"w-8 h-8 text-rose-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Avisos e Comunicados"}),n.jsx("p",{className:"text-slate-500 text-lg",children:"Central de notcias para professores"})]})]}),c&&n.jsxs(Y,{onClick:()=>l(!0),className:"bg-rose-600 hover:bg-rose-700 text-white",children:[n.jsx(no,{className:"mr-2 h-4 w-4"}),"Novo Comunicado"]})]}),a?n.jsx("div",{className:"flex justify-center py-12",children:n.jsx(Ie,{className:"h-8 w-8 animate-spin text-slate-300"})}):n.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.length>0?s.map(h=>n.jsxs(Ct,{className:"border-l-4 border-l-rose-500 shadow-sm hover:shadow-md transition-shadow relative group",children:[n.jsxs(Os,{className:"pb-2",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(me,{variant:"outline",className:`mb-2 ${m(h.type)}`,children:h.type}),n.jsx(Ds,{className:"text-xl font-bold text-slate-800",children:h.title})]}),n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-sm text-slate-500 flex items-center gap-1 justify-end",children:[n.jsx(ts,{className:"w-3.5 h-3.5"}),ae(Be(h.created_at),"d 'de' MMMM, yyyy",{locale:nt})]})})]}),c&&n.jsx(Y,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity text-slate-400 hover:text-red-600",onClick:()=>u(h.id),children:n.jsx(oi,{className:"h-4 w-4"})})]}),n.jsxs(Et,{children:[n.jsx("p",{className:"text-slate-600 leading-relaxed mb-4 whitespace-pre-wrap",children:h.content}),n.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t text-sm text-slate-500",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ul,{className:"w-4 h-4"}),n.jsx("span",{className:"font-medium",children:h.author||"Administrao"})]}),n.jsx("span",{children:""}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Bs,{className:"w-4 h-4"}),n.jsx("span",{children:ae(Be(h.created_at),"HH:mm")})]})]})]})]},h.id)):n.jsxs("div",{className:"text-center py-20 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200",children:[n.jsx(fd,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-slate-600",children:"Nenhum aviso no momento"}),n.jsx("p",{className:"text-slate-500 text-sm mt-1",children:c?'Clique em "Novo Comunicado" para criar o primeiro aviso.':"Fique atento para futuras atualizaes aqui."})]})}),n.jsx(cX,{isOpen:i,onClose:()=>l(!1),onCreated:d,professorName:e==null?void 0:e.professorName})]})},dX=async(e,t=!1)=>{var B;const s=Qe().toISOString(),{data:r,error:a}=await R.from("profiles").select("full_name, role, can_manage_classes, can_manage_students, avatar_url").eq("id",e).maybeSingle();if(a)throw a;let o=null;try{const{data:L,error:H}=await R.from("profiles").select("meeting_link").eq("id",e).maybeSingle();H||(o=L==null?void 0:L.meeting_link)}catch{console.warn("Campo meeting_link ainda no existe na tabela profiles")}let i=R.from("solicitudes_clase").select("*, profile:profiles!alumno_id(*), profesor:profiles!profesor_id(full_name)").eq("status","Pendiente").order("solicitud_id",{ascending:!0});t||(i=i.eq("profesor_id",e));const{data:l,error:c}=await i;if(c)throw c;let d=R.from("appointments").select("*, student:profiles!student_id(full_name, spanish_level), professor:profiles!professor_id(full_name)").in("status",["scheduled","rescheduled"]).gte("class_datetime",s).order("class_datetime",{ascending:!0});t||(d=d.eq("professor_id",e));const{data:u,error:m}=await d;if(m&&m.code!=="PGRST116")throw m;const{data:h,error:p}=await R.from("profiles").select("*, created_at, phone, cpf, birth_date, registration_status, address_street, address_city, address_state, address_zip_code, is_online, last_seen_at").order("role",{ascending:!0}).order("full_name",{ascending:!0});if(p)throw p;const x=h.filter(L=>L.role==="student"),g=h.filter(L=>L.role==="professor"),{data:y,error:b}=await R.from("packages").select("*");if(b)throw b;let v=R.from("class_slots").select("*");t||(v=v.eq("professor_id",e));const{data:w,error:j}=await v;if(j)throw j;let N=R.from("appointments").select("*, student:profiles!student_id(full_name, spanish_level, student_code, avatar_url), professor:profiles!professor_id(full_name)").order("class_datetime",{ascending:!1});t||(N=N.eq("professor_id",e));const{data:C,error:_}=await N;_&&console.error("Erro no fetch de appointments:",_);const{data:S,error:O}=await R.from("billing").select("*, packages(name)").order("purchase_date",{ascending:!1});if(O)throw O;const{data:D,error:z}=await R.from("assigned_packages_log").select("*");if(z)throw z;let M=[];const{data:U,error:$}=await R.rpc("get_chat_list_v2",{p_prof_id:t?null:e});if($){if(console.error("Erro ao buscar lista de chats:",$),$.code==="PGRST202"){const{data:L}=await R.rpc("get_professor_chat_list",{p_id:e});M=L||[]}}else M=U||[];const{data:E,error:T}=await R.from("role_settings").select("*");T&&T.code!=="PGRST116"&&console.error("Erro ao buscar role_settings:",T);const F=E==null?void 0:E.find(L=>L.role===(r==null?void 0:r.role)),k=((B=F==null?void 0:F.permissions)==null?void 0:B.actions)||{},P=k.can_manage_classes??!0,A=k.can_manage_students??!0;return{professorId:e,professorName:(r==null?void 0:r.full_name)||(t?"Administrador":"Professor(a)"),userRole:(r==null?void 0:r.role)||"professor",isSuperadmin:t,scheduleRequests:l||[],upcomingClasses:u||[],students:x||[],professors:g||[],allProfiles:h||[],packages:y||[],classSlots:w||[],appointments:C||[],allBillings:S||[],assignedLogs:D||[],chatList:M,roleSettings:E||[],can_manage_classes:P,can_manage_students:A,meeting_link:o,avatar_url:(r==null?void 0:r.avatar_url)||null}},uX=()=>n.jsxs(ai,{to:"/",className:"flex items-baseline gap-1 hover:opacity-80 transition-opacity",children:[n.jsx("span",{className:"text-xl sm:text-2xl font-bold text-sky-500",children:"Conexin"}),n.jsx("span",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:"Amrica"})]}),fX=()=>{var le,te,ie,Ne,Re,Je;const{user:e,profile:t,signOut:s}=pr(),{toast:r}=Pt(),a=Ea();fT(!0);const[o,i]=f.useState("home"),[l,c]=f.useState(!1),[d,u]=f.useState(null),[m,h]=f.useState(!0),[p,x]=f.useState(!1),[g,y]=f.useState(!1),[b,v]=f.useState("all"),[w,j]=f.useState(!1),[N,C]=f.useState(""),[_,S]=f.useState(!1),[O,D]=f.useState(null),[z,M]=f.useState(null),[U,$]=f.useState(null),[E,T]=f.useState(!1);f.useEffect(()=>{d!=null&&d.meeting_link&&C(d.meeting_link),d!=null&&d.avatar_url&&D(d.avatar_url)},[d==null?void 0:d.meeting_link,d==null?void 0:d.avatar_url]);const F=V=>{var oe;const _e=(oe=V.target.files)==null?void 0:oe[0];if(_e){if(_e.size>2*1024*1024){r({title:"Arquivo muito grande",description:"O arquivo deve ter no mximo 2MB.",variant:"destructive"});return}M(_e);const be=URL.createObjectURL(_e);$(be)}},k=async()=>{if(e!=null&&e.id){S(!0);try{let V=O;if(z){T(!0);const oe=z.name.split(".").pop(),Ce=`avatars/${`${e.id}-${Date.now()}.${oe}`}`,{error:at}=await R.storage.from("avatars").upload(Ce,z,{upsert:!0});if(at)throw at;const{data:Gt}=R.storage.from("avatars").getPublicUrl(Ce);V=Gt.publicUrl,T(!1)}const{error:_e}=await R.from("profiles").update({meeting_link:N,avatar_url:V}).eq("id",e.id);if(_e)throw _e;r({title:"Configuraes salvas",description:"Suas configuraes foram atualizadas com sucesso."}),j(!1),M(null),$(null),D(V),u(oe=>({...oe,meeting_link:N,avatar_url:V}))}catch(V){console.error("Erro ao salvar configuraes:",V),r({title:"Erro ao salvar",description:V.message,variant:"destructive"})}finally{S(!1),T(!1)}}},P=async()=>{await s(),a("/professor-login")},A=f.useCallback(async(V=!1)=>{const _e=e==null?void 0:e.id;if(!_e){V||h(!0);return}V||h(!0),x(!1);try{const{data:oe}=await R.from("profiles").select("role").eq("id",_e).maybeSingle(),be=(oe==null?void 0:oe.role)==="superadmin"||(oe==null?void 0:oe.role)==="admin",Ce=await dX(_e,be);u(at=>({data:{...Ce,can_manage_classes:Ce.can_manage_classes,can_manage_students:Ce.can_manage_students},professorId:Ce.professorId,professorName:Ce.professorName,userRole:Ce.userRole,isSuperadmin:Ce.isSuperadmin,meeting_link:Ce.meeting_link,avatar_url:Ce.avatar_url,loading:!1,onUpdate:()=>A(!0)}))}catch(oe){console.error("Erro ao carregar dados do dashboard:",oe);const be=oe.message||"Erro desconhecido ao conectar ao Supabase.";V||(x(!0),u(null)),r({variant:"destructive",title:"Erro de Conexo",description:`No foi possvel carregar os dados do dashboard. Detalhes: ${be}`})}finally{V||h(!1)}},[e==null?void 0:e.id,r]);f.useEffect(()=>{e!=null&&e.id?A():e===null&&!t&&!m&&a("/professor-login")},[e,a,A]),f.useEffect(()=>{if(!(e!=null&&e.id))return;const V=R.channel("appointments-changes").on("postgres_changes",{event:"*",schema:"public",table:"appointments"},()=>{}).subscribe(),_e=R.channel("requests-changes").on("postgres_changes",{event:"*",schema:"public",table:"solicitudes_clase"},()=>{}).subscribe(),oe=R.channel("profiles-changes").on("postgres_changes",{event:"*",schema:"public",table:"profiles"},()=>{}).subscribe();return()=>{R.removeChannel(V),R.removeChannel(_e),R.removeChannel(oe)}},[e==null?void 0:e.id,A]),f.useEffect(()=>{const V=()=>{window.innerWidth>=1024&&c(!1)};return window.addEventListener("resize",V),()=>window.removeEventListener("resize",V)},[]),f.useEffect(()=>{const V=async()=>{if(e!=null&&e.id)try{let oe=R.from("chats").select("chat_id");const{data:be}=await R.from("profiles").select("role").eq("id",e.id).maybeSingle();(be==null?void 0:be.role)==="superadmin"||(be==null?void 0:be.role)==="admin"||(oe=oe.eq("profesor_id",e.id));const{data:at,error:Gt}=await oe;if(Gt)throw Gt;if(!at||at.length===0){y(!1);return}const st=at.map(mt=>mt.chat_id),{count:bt,error:wt}=await R.from("mensajes").select("mensaje_id",{count:"exact",head:!0}).in("chat_id",st).neq("remitente_id",e.id).eq("leido",!1);if(wt)throw wt;y(bt>0)}catch(oe){console.error("Erro ao verificar mensagens no lidas:",oe)}};V();const _e=R.channel("messages-changes").on("postgres_changes",{event:"*",schema:"public",table:"mensajes"},()=>{V()}).subscribe();return()=>{R.removeChannel(_e)}},[e==null?void 0:e.id]),f.useEffect(()=>{if(o==="conversas"&&g&&(e!=null&&e.id)){const V=setTimeout(async()=>{try{const{data:_e}=await R.from("chats").select("chat_id").eq("profesor_id",e.id);if(_e&&_e.length>0){const oe=_e.map(be=>be.chat_id);await R.from("mensajes").update({leido:!0}).in("chat_id",oe).neq("remitente_id",e.id).eq("leido",!1)}y(!1)}catch(_e){console.error("Erro ao marcar mensagens como lidas:",_e)}},1e3);return()=>clearTimeout(V)}},[o,g,e==null?void 0:e.id]);const B=(d==null?void 0:d.isSuperadmin)||!1,L=(t==null?void 0:t.role)||(d==null?void 0:d.userRole),H=(te=(le=d==null?void 0:d.data)==null?void 0:le.roleSettings)==null?void 0:te.find(V=>V.role===L),I=((ie=H==null?void 0:H.permissions)==null?void 0:ie.tabs)||[],K=(B?[{id:"painel",icon:q3,label:"Painel",component:zp,permission:"painel",isPainelTab:!0},{id:"home",icon:dx,label:"Incio",component:zp,permission:"inicio"},{id:"agenda",icon:ts,label:"Agenda",component:LN,permission:"agenda"},{id:"conversas",icon:kr,label:"Conversas",component:FN,permission:"conversas"},{id:"alunos",icon:fl,label:"Alunos",component:$N,permission:"alunos"},{id:"aulas",icon:mo,label:"Aulas",component:IN,permission:"aulas"},{id:"servicos",icon:ud,label:"Servios",component:YN,permission:"servicos"},{id:"financeiro",icon:dd,label:"Financeiro",component:KN,permission:"financeiro"},{id:"administracao",icon:Ju,label:"Administrao",component:qK,permission:"admtab"},{id:"avisos",icon:fd,label:"Avisos",component:XN,permission:"inicio"},{id:"logs",icon:ro,label:"Log's",component:lX,permission:"logs"}]:[{id:"home",icon:dx,label:"Incio",component:zp,permission:"inicio"},{id:"agenda",icon:ts,label:"Agenda",component:LN,permission:"agenda"},{id:"conversas",icon:kr,label:"Conversas",component:FN,permission:"conversas"},{id:"alunos",icon:fl,label:"Alunos",component:$N,permission:"alunos"},{id:"aulas",icon:mo,label:"Aulas",component:IN,permission:"aulas"},{id:"servicos",icon:ud,label:"Servios",component:YN,permission:"servicos"},{id:"financeiro",icon:dd,label:"Financeiro",component:KN,permission:"financeiro"},{id:"avisos",icon:fd,label:"Avisos",component:XN,permission:"inicio"},{id:"preferencias",icon:If,label:"Preferncias",component:qx,permission:"preferencias"}]).filter(V=>B||!H?!0:I.includes(V.permission)),q=f.useMemo(()=>{var _e,oe,be,Ce,at,Gt;return d?B?b==="all"?{...d,globalProfessorFilter:"all"}:{...d,data:{...d.data,appointments:(((_e=d.data)==null?void 0:_e.appointments)||[]).filter(st=>st.professor_id===b),students:(((oe=d.data)==null?void 0:oe.students)||[]).filter(st=>st.assigned_professor_id===b),scheduleRequests:(((be=d.data)==null?void 0:be.scheduleRequests)||[]).filter(st=>st.profesor_id===b),classSlots:(((Ce=d.data)==null?void 0:Ce.classSlots)||[]).filter(st=>st.professor_id===b),chatList:(((at=d.data)==null?void 0:at.chatList)||[]).filter(st=>st.profesor_id===b),allClassSlots:((Gt=d.data)==null?void 0:Gt.classSlots)||[]},filteredProfessorId:b,globalProfessorFilter:b}:{...d,globalProfessorFilter:"all"}:null},[d,B,b]),X=()=>n.jsxs(Ke.div,{initial:{x:"-100%"},animate:{x:l?"0%":"-100%"},transition:{duration:.3},className:"fixed inset-y-0 left-0 z-40 w-64 bg-gray-900 text-white p-6 shadow-2xl lg:hidden",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8 lg:hidden",children:[n.jsx("h2",{className:"text-2xl font-bold text-blue-400",children:"Dashboard"}),n.jsx(Y,{variant:"ghost",className:"text-white hover:bg-gray-700",onClick:()=>c(!1),children:n.jsx(Dw,{className:"h-6 w-6"})})]}),n.jsx(Jo,{value:o,onOpenChange:i,orientation:"vertical",className:"h-full",children:n.jsx(ci,{className:"flex flex-col h-full bg-transparent space-y-2",children:K.map(V=>n.jsxs(dr,{value:V.id,onClick:()=>{i(V.id),c(!1)},className:`w-full justify-start text-lg px-4 py-3 rounded-xl transition-all duration-200 ${o===V.id?"bg-blue-600 text-white shadow-lg":V.id==="conversas"&&g?"text-blue-800 font-bold hover:bg-gray-800":"text-gray-300 hover:bg-gray-800"}`,disabled:m,children:[n.jsx(V.icon,{className:"h-5 w-5 mr-3"}),V.label,V.id==="conversas"&&g&&n.jsx("span",{className:"ml-auto bg-blue-600 text-white text-xs px-2 py-1 rounded-full",children:"Nova"})]},V.id))})}),n.jsxs(Y,{onClick:P,className:"w-full justify-start text-lg px-4 py-3 rounded-xl mt-auto bg-transparent border border-red-500 text-red-400 hover:bg-red-900 hover:text-white",children:[n.jsx(Df,{className:"h-5 w-5 mr-3"}),"Sair"]})]});return m||!d&&!p?n.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-50 via-white to-sky-50",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"relative overflow-hidden mb-8",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("span",{className:"text-5xl sm:text-6xl font-bold text-sky-500 tracking-tight",children:"Conexin"}),n.jsx("span",{className:"text-5xl sm:text-6xl font-bold text-slate-800 tracking-tight",children:"Amrica"})]}),n.jsx("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_2s_infinite]",style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.6), transparent)"}})]}),n.jsxs("div",{className:"flex items-center gap-3 text-slate-500",children:[n.jsxs("div",{className:"flex gap-1",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-sky-400 animate-bounce",style:{animationDelay:"0ms"}}),n.jsx("span",{className:"w-2 h-2 rounded-full bg-sky-500 animate-bounce",style:{animationDelay:"150ms"}}),n.jsx("span",{className:"w-2 h-2 rounded-full bg-sky-600 animate-bounce",style:{animationDelay:"300ms"}})]}),n.jsx("span",{className:"text-sm font-medium",children:"Preparando seu painel..."})]})]}),n.jsx("style",{children:`
                    @keyframes shimmer {
                        0% { transform: translateX(-100%); }
                        100% { transform: translateX(200%); }
                    }
                `})]}):p||!d?n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:n.jsxs("div",{className:"flex flex-col items-center p-8 bg-white rounded-lg shadow-xl",children:[n.jsx(ao,{className:"h-12 w-12 text-red-500 mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Erro ao Carregar Dados"}),n.jsx("p",{className:"mt-2 text-slate-600 text-center",children:"No foi possvel carregar a informao do dashboard. Verifique sua conexo ou tente novamente."}),n.jsx(Y,{onClick:A,className:"mt-4 bg-sky-500 hover:bg-sky-600",children:"Tentar Novamente"})]})}):n.jsxs("div",{className:"flex min-h-screen bg-background",children:[n.jsx(X,{}),l&&n.jsx("div",{className:"fixed inset-0 z-30 bg-black opacity-50 lg:hidden",onClick:()=>c(!1)}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsxs("header",{className:"flex flex-col bg-white shadow-md",children:[n.jsx("div",{className:"w-full flex justify-center items-center h-16 bg-white border-b border-slate-200",children:n.jsxs("div",{className:"w-full px-4 lg:px-8 flex justify-between items-center",children:[n.jsx(uX,{}),n.jsxs(Nd,{children:[n.jsx(_d,{asChild:!0,children:n.jsxs(Y,{variant:"ghost",className:"relative h-10 w-auto pr-3 rounded-full text-slate-800 hover:bg-slate-100",children:[n.jsxs("div",{className:"flex flex-col items-end mr-3",children:[n.jsx("p",{className:"text-sm font-medium leading-none",children:d.professorName||"Professor"}),n.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:(e==null?void 0:e.email)||"email@escola.com"})]}),O?n.jsx("img",{src:O,alt:"Avatar",className:"h-10 w-10 rounded-full object-cover border-2 border-sky-200 shadow-sm"}):n.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-200 flex items-center justify-center text-xl font-bold text-sky-600 shadow-sm",children:(((Ne=e==null?void 0:e.email)==null?void 0:Ne[0])||"P").toUpperCase()})]})}),n.jsxs(Al,{className:"w-56",align:"end",forceMount:!0,children:[n.jsx(rm,{className:"font-normal",children:n.jsxs("div",{className:"flex flex-col space-y-1",children:[n.jsx("p",{className:"text-sm font-medium leading-none text-slate-800",children:d.professorName||"Professor"}),n.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:(e==null?void 0:e.email)||"email@escola.com"})]})}),n.jsx(Zo,{}),n.jsxs(jr,{onClick:()=>j(!0),children:[n.jsx(If,{className:"mr-2 h-4 w-4"}),"Configuraes"]}),n.jsx(Zo,{}),n.jsxs(jr,{onClick:P,className:"text-red-600 focus:text-red-700",children:[n.jsx(Df,{className:"mr-2 h-4 w-4"}),"Sair"]})]})]})]})}),n.jsx("div",{className:"hidden lg:block bg-white border-b border-slate-200",children:n.jsxs("div",{className:"w-full px-4 lg:px-8 flex items-center justify-between",children:[n.jsx(Jo,{value:o,onOpenChange:i,className:"h-full",children:n.jsx(ci,{className:"justify-start h-auto p-0 bg-transparent rounded-none",children:K.map(V=>n.jsxs(dr,{value:V.id,onClick:()=>i(V.id),className:`relative flex items-center text-base px-4 py-3 mr-2 rounded-none transition-all duration-200 border-b-2 border-transparent 
                                                ${o===V.id?"text-sky-600 border-sky-600 font-semibold":V.id==="conversas"&&g?"text-blue-800 font-bold hover:text-blue-900":"text-gray-600 hover:text-gray-800"}`,children:[n.jsx(V.icon,{className:"h-5 w-5 mr-2"}),V.label,V.id==="conversas"&&g&&n.jsx("span",{className:"ml-2 bg-blue-600 text-white text-xs px-2 py-0.5 rounded-full",children:"Nova"})]},V.id))})}),B&&o!=="painel"&&n.jsxs("div",{className:"flex items-center gap-2 py-2",children:[n.jsx(Im,{className:"h-4 w-4 text-slate-500"}),n.jsxs(Mt,{value:b,onValueChange:v,children:[n.jsx(kt,{className:"w-[220px] h-9",children:n.jsx(Rt,{placeholder:"Filtrar por professor"})}),n.jsxs(Tt,{children:[n.jsx(ye,{value:"all",children:"Todos os professores"}),(((Re=d==null?void 0:d.data)==null?void 0:Re.professors)||[]).map(V=>n.jsx(ye,{value:V.id,children:V.full_name},V.id))]})]})]})]})}),n.jsxs("header",{className:"flex items-center justify-between px-4 py-3 bg-white shadow-md lg:hidden",children:[n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>c(!0),className:"hover:bg-slate-100",children:n.jsx(Dw,{className:"h-6 w-6 text-slate-800"})}),n.jsx("h1",{className:"text-lg font-bold text-slate-800",children:"Painel do Professor"}),n.jsxs(Nd,{children:[n.jsx(_d,{asChild:!0,children:n.jsx(Y,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:n.jsx(fl,{className:"h-5 w-5"})})}),n.jsxs(Al,{className:"w-56",align:"end",forceMount:!0,children:[n.jsx(rm,{className:"font-normal",children:n.jsxs("div",{className:"flex flex-col space-y-1",children:[n.jsx("p",{className:"text-sm font-medium leading-none text-slate-800",children:d.professorName||"Professor"}),n.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:(e==null?void 0:e.email)||"email@escola.com"})]})}),n.jsx(Zo,{}),n.jsx(jr,{onClick:()=>j(!0),children:"Configuraes"}),n.jsx(jr,{onClick:()=>i("preferencias"),children:"Preferncias"}),n.jsx(jr,{onClick:P,children:"Sair"})]})]})]})]}),n.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto w-full",children:n.jsx("div",{className:"w-full py-4 lg:py-8",children:n.jsx(Jo,{value:o,onValueChange:i,className:"h-full",children:K.map(V=>n.jsx(hs,{value:V.id,className:"mt-0",style:{display:o===V.id?"block":"none"},forceMount:!0,children:n.jsx(V.component,{setActiveTab:i,dashboardData:{...q,meeting_link:d.meeting_link,showPainelView:V.isPainelTab===!0,showHomeView:V.id==="home"&&!V.isPainelTab}})},V.id))})})}),n.jsx(Wt,{open:w,onOpenChange:j,children:n.jsxs(zt,{className:"sm:max-w-[425px]",children:[n.jsxs(Bt,{children:[n.jsx(Ut,{children:"Configuraes do Perfil"}),n.jsx(rs,{children:"Personalize suas informaes. O link de aula ser compartilhado com seus alunos."})]}),n.jsxs("div",{className:"grid gap-6 py-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx("label",{className:"text-sm font-medium leading-none",children:"Foto de Perfil"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"relative",children:[U||O?n.jsx("img",{src:U||O,alt:"Preview",className:"h-20 w-20 rounded-full object-cover border-2 border-sky-200"}):n.jsx("div",{className:"h-20 w-20 rounded-full bg-slate-100 flex items-center justify-center text-3xl font-bold text-sky-600 border-2 border-dashed border-slate-300",children:(((Je=e==null?void 0:e.email)==null?void 0:Je[0])||"P").toUpperCase()}),E&&n.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center",children:n.jsx(Ie,{className:"h-6 w-6 text-white animate-spin"})})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("label",{htmlFor:"avatar-upload",className:"cursor-pointer",children:[n.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-sky-50 text-sky-700 rounded-md border border-sky-200 hover:bg-sky-100 transition-colors",children:[n.jsx(cC,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Escolher foto"})]}),n.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:F,className:"hidden"})]}),n.jsx("p",{className:"text-[10px] text-slate-500",children:"JPG, PNG ou GIF. Mximo 2MB."})]})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx("label",{htmlFor:"meeting_link",className:"text-sm font-medium leading-none",children:"Link do Google Meet / Zoom"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 bg-slate-100 rounded border",children:n.jsx(Om,{className:"h-4 w-4 text-slate-500"})}),n.jsx("input",{id:"meeting_link",className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",placeholder:"https://meet.google.com/xxx-xxxx-xxx",value:N,onChange:V=>C(V.target.value)})]}),n.jsx("p",{className:"text-[10px] text-slate-500",children:'Este  el link que seus alunos vero ao clicar em "Iniciar Aula".'})]})]}),n.jsxs(Ts,{children:[n.jsx(Y,{variant:"outline",onClick:()=>j(!1),children:"Cancelar"}),n.jsxs(Y,{onClick:k,disabled:_,children:[_?n.jsx(Ie,{className:"h-4 w-4 animate-spin mr-2"}):null,"Salvar alteraes"]})]})]})})]})]})},Ii={grammar:{articles:{definite:{el:"masculino singular",la:"femenino singular",los:"masculino plural",las:"femenino plural"},indefinite:{un:"masculino singular",una:"femenino singular",unos:"masculino plural",unas:"femenino plural"}},pronouns:{subject:["yo","t","l/ella/usted","nosotros/nosotras","vosotros/vosotras","ellos/ellas/ustedes"],object:["me","te","lo/la/le","nos","os","los/las/les"]},verbTenses:{present:"Presente",preterite:"Pretrito",imperfect:"Imperfecto",future:"Futuro",conditional:"Condicional"}},vocabulary:{greetings:{hola:"ol","buenos das":"bom dia","buenas tardes":"boa tarde","buenas noches":"boa noite",adis:"adeus","hasta luego":"at logo"},numbers:{uno:"1",dos:"2",tres:"3",cuatro:"4",cinco:"5",seis:"6",siete:"7",ocho:"8",nueve:"9",diez:"10"},colors:{rojo:"vermelho",azul:"azul",verde:"verde",amarillo:"amarelo",negro:"preto",blanco:"branco",gris:"cinza"},family:{padre:"pai",madre:"me",hijo:"filho",hija:"filha",hermano:"irmo",hermana:"irm",abuelo:"av",abuela:"av"}},verbs:{ser:{present:{yo:"soy",t:"eres",l:"es",nosotros:"somos",vosotros:"sois",ellos:"son"},preterite:{yo:"fui",t:"fuiste",l:"fue",nosotros:"fuimos",vosotros:"fuisteis",ellos:"fueron"}},estar:{present:{yo:"estoy",t:"ests",l:"est",nosotros:"estamos",vosotros:"estis",ellos:"estn"}},hablar:{present:{yo:"hablo",t:"hablas",l:"habla",nosotros:"hablamos",vosotros:"hablis",ellos:"hablan"}},tener:{present:{yo:"tengo",t:"tienes",l:"tiene",nosotros:"tenemos",vosotros:"tenis",ellos:"tienen"}}},phrases:{"cmo ests?":"como voc est?","qu tal?":"como vai?","me llamo":"meu nome ","cmo te llamas?":"como voc se chama?","mucho gusto":"muito prazer","por favor":"por favor",gracias:"obrigado/obrigada","de nada":"de nada","lo siento":"desculpe","no entiendo":"no entendo"},rules:{gender:"En espaol, los sustantivos tienen gnero (masculino o femenino). Generalmente, palabras que terminan en -o son masculinas y las que terminan en -a son femeninas.",serVsEstar:"SER se usa para caractersticas permanentes (soy brasileo). ESTAR se usa para estados temporales (estoy cansado).",accentuation:"Las tildes en espaol indican dnde recae el acento de la palabra y pueden cambiar el significado."}},mX={greeting:/\b(hola|oi|ol|buenos das|bom dia|hey)\b/i,farewell:/\b(adis|adeus|tchau|at logo|hasta luego)\b/i,howToSay:/\b(cmo se dice|como se diz|como fala|traduz|traduo)\b/i,conjugation:/\b(conjug|verbo|tiempo verbal)\b/i,grammar:/\b(gramtica|regra|por que|porque|diferena)\b/i,practice:/\b(praticar|exerccio|treinar|aprender)\b/i,help:/\b(ajuda|help|socorro|no entendo)\b/i,level:/\b(nvel|nivel|bsico|intermedirio|avanado)\b/i};class hX{constructor(){this.context=[],this.userLevel="bsico"}processMessage(t){const s=t.toLowerCase().trim(),r=this.detectIntent(s),a=this.generateResponse(r,s);return this.context.push({user:t,ai:a,intent:r}),this.context.length>10&&this.context.shift(),a}detectIntent(t){for(const[s,r]of Object.entries(mX))if(r.test(t))return s;return this.isAskingTranslation(t)?"translation":this.isAskingConjugation(t)?"conjugation":this.isAskingGrammar(t)?"grammar":"general"}generateResponse(t,s){switch(t){case"greeting":return this.handleGreeting();case"farewell":return this.handleFarewell();case"howToSay":case"translation":return this.handleTranslation(s);case"conjugation":return this.handleConjugation(s);case"grammar":return this.handleGrammar(s);case"practice":return this.handlePractice();case"help":return this.handleHelp();case"level":return this.handleLevel(s);default:return this.handleGeneral(s)}}handleGreeting(){const t=["Hola! Soy tu asistente de espaol. En qu puedo ayudarte hoy?","Buenos das! Estoy aqu para ayudarte a aprender espaol. Qu te gustara practicar?","Hola! Listo para practicar espaol? Pregntame lo que quieras."];return t[Math.floor(Math.random()*t.length)]}handleFarewell(){const t=["Hasta luego! Sigue practicando tu espaol. ","Adis! Nos vemos pronto. Buen estudio! ","Hasta la prxima! Recuerda practicar todos los das. "];return t[Math.floor(Math.random()*t.length)]}handleTranslation(t){const s=t.toLowerCase().trim();for(const r of Vx)if(s.includes(r.word.toLowerCase())||s.includes(r.translation.toLowerCase())){let o=` **${r.word}** (${r.pronunciation})

`;return o+=` Traduo: **${r.translation}**

`,o+=` Exemplo: "${r.example}"

`,o+=` Tipo: ${r.type} | Categoria: ${r.category}`,o}for(const[r,a]of Object.entries(Ii.vocabulary))for(const[o,i]of Object.entries(a))if(t.includes(o.toLowerCase())||t.includes(i.toLowerCase()))return` "${o}" en espaol significa "${i}" en portugus.

 Ejemplo: "El cielo es ${o}" = "O cu  ${i}"`;for(const[r,a]of Object.entries(Ii.phrases))if(t.includes(r.toLowerCase()))return` "${r}" se traduce como "${a}".

 Es una frase muy til!`;return` No encontr esa palabra en mi base de datos. Podras ser ms especfico? Por ejemplo: "Cmo se dice casa?" o "Traduce rojo"

 Tengo ms de 300 palabras en mi vocabulario, incluyendo verbos, sustantivos y adjetivos.`}handleConjugation(t){const s=Object.keys(Ii.verbs);for(const r of s)if(t.includes(r)){const a=Ii.verbs[r];let o=` Conjugacin del verbo "${r.toUpperCase()}":

`;if(a.present){o+=`**Presente:**
`;for(const[i,l]of Object.entries(a.present))o+=` ${i}: ${l}
`}if(a.preterite){o+=`
**Pretrito:**
`;for(const[i,l]of Object.entries(a.preterite))o+=` ${i}: ${l}
`}return o}return" Puedo ayudarte con los verbos: ser, estar, hablar, tener. Cul te gustara conjugar?"}handleGrammar(t){return t.includes("ser")||t.includes("estar")?` **Diferencia entre SER y ESTAR:**

${Ii.rules.serVsEstar}

**Ejemplos:**
 Soy profesor (permanente)
 Estoy cansado (temporal)`:t.includes("gnero")||t.includes("masculino")||t.includes("femenino")?` **Gnero en Espaol:**

${Ii.rules.gender}

**Ejemplos:**
 el libro (masculino)
 la mesa (femenino)`:` Puedo explicarte sobre:
 Diferencia entre SER y ESTAR
 Gnero de sustantivos
 Artculos (el, la, los, las)
 Pronombres

Qu te gustara aprender?`}handlePractice(){const t=[` **Ejercicio:** Traduce al espaol:
1. Bom dia
2. Como voc est?
3. Meu nome  Joo

Intenta responder!`,` **Prctica:** Completa con SER o ESTAR:
1. Yo ___ brasileo
2. Ella ___ cansada
3. Nosotros ___ en casa`,` **Desafo:** Conjuga el verbo HABLAR en presente:
Yo ___
T ___
l/Ella ___`];return t[Math.floor(Math.random()*t.length)]}handleHelp(){return` **Cmo puedo ayudarte?**

Puedo ayudarte con:

 **Traduccin:** "Cmo se dice casa?"
 **Conjugacin:** "Conjuga el verbo ser"
 **Gramtica:** "Diferencia entre ser y estar"
 **Prctica:** "Quiero practicar"
 **Nivel:** "Cambiar a nivel intermedio"

Pregntame lo que necesites!`}handleLevel(t){return t.includes("bsico")?(this.userLevel="bsico"," Nivel cambiado a BSICO. Empezaremos con lo fundamental."):t.includes("intermedirio")||t.includes("intermedio")?(this.userLevel="intermedirio"," Nivel cambiado a INTERMEDIRIO. Vamos a profundizar ms!"):t.includes("avanado")||t.includes("avanzado")?(this.userLevel="avanado"," Nivel cambiado a AVANADO. Preparado para el desafo!"):` Tu nivel actual es: ${this.userLevel.toUpperCase()}

Puedes cambiarlo diciendo:
 "Cambiar a bsico"
 "Cambiar a intermedirio"
 "Cambiar a avanado"`}handleGeneral(t){const s=[" Interesante pregunta. Podras ser ms especfico? Puedo ayudarte con traduccin, gramtica, conjugacin o prctica."," No estoy seguro de entender. Quieres que te ayude con vocabulario, gramtica o ejercicios?"," Buena pregunta! Intenta preguntar sobre: traduccin de palabras, conjugacin de verbos, o reglas gramaticales."];return s[Math.floor(Math.random()*s.length)]}isAskingTranslation(t){return t.includes("traduz")||t.includes("significa")||t.includes("como se dice")||t.includes("como fala")}isAskingConjugation(t){return t.includes("conjug")||t.includes("verbo")||t.includes("tiempo")}isAskingGrammar(t){return t.includes("gramtica")||t.includes("regra")||t.includes("diferena")||t.includes("por que")}getSuggestions(){const t=['Cmo se dice "casa"?',"Conjuga el verbo ser","Diferencia entre ser y estar","Quiero practicar","Nmeros en espaol","Colores en espaol"],s=Vx.sort(()=>.5-Math.random()).slice(0,3).map(a=>`Cmo se dice "${a.translation}"?`);return[...t,...s].sort(()=>.5-Math.random()).slice(0,3)}}const qp=new hX,pX=({className:e})=>{const[t,s]=f.useState([{role:"assistant",content:`Hola!  Soy tu asistente de espaol. Puedo ayudarte con:

 Traduccin de palabras
 Conjugacin de verbos
 Reglas gramaticales
 Ejercicios de prctica

En qu puedo ayudarte hoy?`,timestamp:new Date}]),[r,a]=f.useState(""),[o,i]=f.useState(!1),[l,c]=f.useState(qp.getSuggestions()),d=f.useRef(null);f.useEffect(()=>{d.current&&(d.current.scrollTop=d.current.scrollHeight)},[t]);const u=async(p=r)=>{if(!p.trim())return;const x={role:"user",content:p,timestamp:new Date};s(b=>[...b,x]),a(""),i(!0),await new Promise(b=>setTimeout(b,500));const y={role:"assistant",content:qp.processMessage(p),timestamp:new Date};s(b=>[...b,y]),i(!1),c(qp.getSuggestions())},m=p=>{u(p)},h=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),u())};return n.jsxs(Ct,{className:ee("w-full max-w-4xl mx-auto",e),children:[n.jsx(Os,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:n.jsx(Xo,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx(Ds,{className:"text-xl",children:"Asistente de Espaol"}),n.jsx(tn,{className:"text-blue-100",children:"IA especializada en enseanza de espaol"})]})]})}),n.jsxs(Et,{className:"p-0",children:[n.jsx("div",{ref:d,className:"h-[500px] p-4 overflow-y-auto bg-slate-50",children:n.jsxs("div",{className:"space-y-4",children:[t.map((p,x)=>n.jsxs("div",{className:ee("flex gap-3",p.role==="user"?"justify-end":"justify-start"),children:[p.role==="assistant"&&n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-purple-500 p-2 rounded-full",children:n.jsx(Xo,{className:"h-5 w-5 text-white"})})}),n.jsxs("div",{className:ee("max-w-[80%] rounded-lg px-4 py-3",p.role==="user"?"bg-blue-600 text-white":"bg-slate-100 text-slate-900"),children:[n.jsx("div",{className:"whitespace-pre-wrap text-sm",children:p.content}),n.jsx("div",{className:ee("text-xs mt-2",p.role==="user"?"text-blue-100":"text-slate-500"),children:p.timestamp.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),p.role==="user"&&n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"bg-blue-600 p-2 rounded-full",children:n.jsx(ul,{className:"h-5 w-5 text-white"})})})]},x)),o&&n.jsxs("div",{className:"flex gap-3 justify-start",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-purple-500 p-2 rounded-full",children:n.jsx(Xo,{className:"h-5 w-5 text-white"})})}),n.jsx("div",{className:"bg-slate-100 rounded-lg px-4 py-3",children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),n.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),n.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]})]})}),l.length>0&&n.jsxs("div",{className:"px-4 py-2 border-t bg-slate-50",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Qo,{className:"h-4 w-4 text-purple-600"}),n.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Sugestes:"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((p,x)=>n.jsx(me,{variant:"outline",className:"cursor-pointer hover:bg-blue-50 hover:border-blue-300 transition-colors",onClick:()=>m(p),children:p},x))})]}),n.jsxs("div",{className:"p-4 border-t bg-white",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(et,{value:r,onChange:p=>a(p.target.value),onKeyPress:h,placeholder:"Digite sua pergunta em portugus ou espaol...",className:"flex-1",disabled:o}),n.jsx(Y,{onClick:()=>u(),disabled:!r.trim()||o,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:n.jsx(Bl,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-slate-500",children:[n.jsx(mo,{className:"h-3 w-3"}),n.jsx("span",{children:"Pressione Enter para enviar  Shift+Enter para nova linha"})]})]})]})]})},gX=()=>{const e=Ea();return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[n.jsx("div",{className:"bg-white border-b shadow-sm",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>e(-1),children:n.jsx(i0,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Asistente de Espaol IA"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Modelo local de inteligencia artificial"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs font-medium",children:" Gratis"}),n.jsx("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-medium",children:" Local"})]})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsxs("h2",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[n.jsx(Qo,{className:"h-5 w-5 text-purple-600"}),"Caractersticas"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:n.jsx(A3,{className:"h-4 w-4 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:"IA Local"}),n.jsx("p",{className:"text-xs text-slate-600",children:"Funciona sin internet, 100% gratis"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:n.jsx(kr,{className:"h-4 w-4 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:"Chat Inteligente"}),n.jsx("p",{className:"text-xs text-slate-600",children:"Respuestas contextuales y personalizadas"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"bg-pink-100 p-2 rounded-lg",children:n.jsx(mo,{className:"h-4 w-4 text-pink-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:"Base de Conocimiento"}),n.jsx("p",{className:"text-xs text-slate-600",children:"Gramtica, vocabulario y conjugaciones"})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"font-bold text-lg mb-4",children:"Ejemplos de Uso"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[n.jsx("p",{className:"font-medium text-blue-600",children:"Traduccin:"}),n.jsx("p",{className:"text-slate-600",children:'"Cmo se dice casa?"'})]}),n.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[n.jsx("p",{className:"font-medium text-purple-600",children:"Conjugacin:"}),n.jsx("p",{className:"text-slate-600",children:'"Conjuga el verbo ser"'})]}),n.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[n.jsx("p",{className:"font-medium text-pink-600",children:"Gramtica:"}),n.jsx("p",{className:"text-slate-600",children:'"Diferencia entre ser y estar"'})]}),n.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[n.jsx("p",{className:"font-medium text-green-600",children:"Prctica:"}),n.jsx("p",{className:"text-slate-600",children:'"Quiero practicar"'})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg shadow-sm p-6 text-white",children:[n.jsx("h2",{className:"font-bold text-lg mb-4",children:"Capacidades"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{children:"Vocabulario"}),n.jsx("span",{children:"50+ palabras"})]}),n.jsx("div",{className:"bg-white/20 rounded-full h-2",children:n.jsx("div",{className:"bg-white rounded-full h-2 w-3/4"})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{children:"Verbos"}),n.jsx("span",{children:"4 verbos"})]}),n.jsx("div",{className:"bg-white/20 rounded-full h-2",children:n.jsx("div",{className:"bg-white rounded-full h-2 w-1/2"})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{children:"Reglas"}),n.jsx("span",{children:"3 reglas"})]}),n.jsx("div",{className:"bg-white/20 rounded-full h-2",children:n.jsx("div",{className:"bg-white rounded-full h-2 w-2/3"})})]})]}),n.jsx("p",{className:"text-xs mt-4 text-blue-100",children:" Este es un modelo de prueba. Puede expandirse con ms conocimiento."})]})]}),n.jsx("div",{className:"lg:col-span-2",children:n.jsx(pX,{})})]})})]})},EA={animales:[{es:"perro",pt:"cachorro"},{es:"gato",pt:"gato"},{es:"pjaro",pt:"pssaro"},{es:"caballo",pt:"cavalo"},{es:"vaca",pt:"vaca"},{es:"cerdo",pt:"porco"},{es:"oveja",pt:"ovelha"},{es:"gallina",pt:"galinha"},{es:"pez",pt:"peixe"},{es:"mariposa",pt:"borboleta"},{es:"abeja",pt:"abelha"},{es:"hormiga",pt:"formiga"},{es:"len",pt:"leo"},{es:"tigre",pt:"tigre"},{es:"elefante",pt:"elefante"},{es:"jirafa",pt:"girafa"},{es:"mono",pt:"macaco"},{es:"serpiente",pt:"cobra"},{es:"cocodrilo",pt:"crocodilo"},{es:"oso",pt:"urso"},{es:"lobo",pt:"lobo"},{es:"zorro",pt:"raposa"},{es:"conejo",pt:"coelho"},{es:"ratn",pt:"rato"},{es:"ballena",pt:"baleia"},{es:"delfn",pt:"golfinho"},{es:"tiburn",pt:"tubaro"},{es:"pulpo",pt:"polvo"},{es:"cangrejo",pt:"caranguejo"},{es:"tortuga",pt:"tartaruga"},{es:"guila",pt:"guia"},{es:"bho",pt:"coruja"},{es:"loro",pt:"papagaio"},{es:"pato",pt:"pato"},{es:"ganso",pt:"ganso"},{es:"cisne",pt:"cisne"},{es:"ciervo",pt:"veado"},{es:"jabal",pt:"javali"},{es:"ardilla",pt:"esquilo"},{es:"murcilago",pt:"morcego"},{es:"araa",pt:"aranha"},{es:"mosca",pt:"mosca"},{es:"mosquito",pt:"mosquito"},{es:"cucaracha",pt:"barata"},{es:"grillo",pt:"grilo"},{es:"caracol",pt:"caracol"},{es:"gusano",pt:"verme"},{es:"lombriz",pt:"minhoca"}],comida:[{es:"pan",pt:"po"},{es:"agua",pt:"gua"},{es:"leche",pt:"leite"},{es:"carne",pt:"carne"},{es:"pollo",pt:"frango"},{es:"pescado",pt:"peixe"},{es:"arroz",pt:"arroz"},{es:"frijoles",pt:"feijo"},{es:"huevo",pt:"ovo"},{es:"queso",pt:"queijo"},{es:"mantequilla",pt:"manteiga"},{es:"sal",pt:"sal"},{es:"azcar",pt:"acar"},{es:"caf",pt:"caf"},{es:"t",pt:"ch"},{es:"manzana",pt:"ma"},{es:"naranja",pt:"laranja"},{es:"pltano",pt:"banana"},{es:"uva",pt:"uva"},{es:"fresa",pt:"morango"},{es:"limn",pt:"limo"},{es:"sanda",pt:"melancia"},{es:"meln",pt:"melo"},{es:"pia",pt:"abacaxi"},{es:"mango",pt:"manga"},{es:"pera",pt:"pera"},{es:"durazno",pt:"pssego"},{es:"cereza",pt:"cereja"},{es:"coco",pt:"coco"},{es:"aguacate",pt:"abacate"},{es:"tomate",pt:"tomate"},{es:"lechuga",pt:"alface"},{es:"cebolla",pt:"cebola"},{es:"ajo",pt:"alho"},{es:"zanahoria",pt:"cenoura"},{es:"papa",pt:"batata"},{es:"calabaza",pt:"abbora"},{es:"pepino",pt:"pepino"},{es:"pimiento",pt:"pimento"},{es:"brcoli",pt:"brcolis"},{es:"espinaca",pt:"espinafre"},{es:"maz",pt:"milho"},{es:"pasta",pt:"macarro"},{es:"sopa",pt:"sopa"},{es:"ensalada",pt:"salada"},{es:"helado",pt:"sorvete"},{es:"pastel",pt:"bolo"},{es:"galleta",pt:"biscoito"},{es:"chocolate",pt:"chocolate"},{es:"caramelo",pt:"doce"},{es:"miel",pt:"mel"},{es:"aceite",pt:"azeite"},{es:"vinagre",pt:"vinagre"},{es:"pimienta",pt:"pimenta"},{es:"salsa",pt:"molho"},{es:"mostaza",pt:"mostarda"},{es:"mayonesa",pt:"maionese"},{es:"ketchup",pt:"ketchup"},{es:"jamn",pt:"presunto"},{es:"tocino",pt:"bacon"},{es:"salchicha",pt:"salsicha"},{es:"hamburguesa",pt:"hambrguer"},{es:"pizza",pt:"pizza"},{es:"sndwich",pt:"sanduche"},{es:"taco",pt:"taco"},{es:"burrito",pt:"burrito"},{es:"vino",pt:"vinho"},{es:"cerveza",pt:"cerveja"},{es:"jugo",pt:"suco"},{es:"refresco",pt:"refrigerante"},{es:"yogur",pt:"iogurte"},{es:"cereal",pt:"cereal"}],familia:[{es:"madre",pt:"me"},{es:"padre",pt:"pai"},{es:"hijo",pt:"filho"},{es:"hija",pt:"filha"},{es:"hermano",pt:"irmo"},{es:"hermana",pt:"irm"},{es:"abuelo",pt:"av"},{es:"abuela",pt:"av"},{es:"to",pt:"tio"},{es:"ta",pt:"tia"},{es:"primo",pt:"primo"},{es:"prima",pt:"prima"},{es:"sobrino",pt:"sobrinho"},{es:"sobrina",pt:"sobrinha"},{es:"nieto",pt:"neto"},{es:"nieta",pt:"neta"},{es:"esposo",pt:"esposo"},{es:"esposa",pt:"esposa"},{es:"novio",pt:"namorado"},{es:"novia",pt:"namorada"},{es:"suegro",pt:"sogro"},{es:"suegra",pt:"sogra"},{es:"yerno",pt:"genro"},{es:"nuera",pt:"nora"},{es:"cuado",pt:"cunhado"},{es:"cuada",pt:"cunhada"},{es:"padrino",pt:"padrinho"},{es:"madrina",pt:"madrinha"},{es:"ahijado",pt:"afilhado"},{es:"gemelo",pt:"gmeo"}],cuerpo:[{es:"cabeza",pt:"cabea"},{es:"ojo",pt:"olho"},{es:"nariz",pt:"nariz"},{es:"boca",pt:"boca"},{es:"oreja",pt:"orelha"},{es:"mano",pt:"mo"},{es:"pie",pt:"p"},{es:"brazo",pt:"brao"},{es:"pierna",pt:"perna"},{es:"corazn",pt:"corao"},{es:"estmago",pt:"estmago"},{es:"dedo",pt:"dedo"},{es:"cabello",pt:"cabelo"},{es:"ceja",pt:"sobrancelha"},{es:"pestaa",pt:"clio"},{es:"frente",pt:"testa"},{es:"mejilla",pt:"bochecha"},{es:"barbilla",pt:"queixo"},{es:"cuello",pt:"pescoo"},{es:"hombro",pt:"ombro"},{es:"pecho",pt:"peito"},{es:"espalda",pt:"costas"},{es:"cintura",pt:"cintura"},{es:"cadera",pt:"quadril"},{es:"rodilla",pt:"joelho"},{es:"tobillo",pt:"tornozelo"},{es:"codo",pt:"cotovelo"},{es:"mueca",pt:"pulso"},{es:"ua",pt:"unha"},{es:"pulmn",pt:"pulmo"},{es:"hgado",pt:"fgado"},{es:"rin",pt:"rim"},{es:"cerebro",pt:"crebro"},{es:"diente",pt:"dente"},{es:"lengua",pt:"lngua"},{es:"labio",pt:"lbio"},{es:"garganta",pt:"garganta"},{es:"sangre",pt:"sangue"},{es:"hueso",pt:"osso"},{es:"msculo",pt:"msculo"},{es:"piel",pt:"pele"}],colores:[{es:"rojo",pt:"vermelho"},{es:"azul",pt:"azul"},{es:"verde",pt:"verde"},{es:"amarillo",pt:"amarelo"},{es:"negro",pt:"preto"},{es:"blanco",pt:"branco"},{es:"naranja",pt:"laranja"},{es:"rosa",pt:"rosa"},{es:"morado",pt:"roxo"},{es:"marrn",pt:"marrom"},{es:"gris",pt:"cinza"},{es:"dorado",pt:"dourado"},{es:"plateado",pt:"prateado"},{es:"celeste",pt:"azul claro"},{es:"turquesa",pt:"turquesa"},{es:"violeta",pt:"violeta"},{es:"beige",pt:"bege"},{es:"crema",pt:"creme"}],numeros:[{es:"uno",pt:"um"},{es:"dos",pt:"dois"},{es:"tres",pt:"trs"},{es:"cuatro",pt:"quatro"},{es:"cinco",pt:"cinco"},{es:"seis",pt:"seis"},{es:"siete",pt:"sete"},{es:"ocho",pt:"oito"},{es:"nueve",pt:"nove"},{es:"diez",pt:"dez"},{es:"once",pt:"onze"},{es:"doce",pt:"doze"},{es:"trece",pt:"treze"},{es:"catorce",pt:"catorze"},{es:"quince",pt:"quinze"},{es:"veinte",pt:"vinte"},{es:"treinta",pt:"trinta"},{es:"cuarenta",pt:"quarenta"},{es:"cincuenta",pt:"cinquenta"},{es:"sesenta",pt:"sessenta"},{es:"setenta",pt:"setenta"},{es:"ochenta",pt:"oitenta"},{es:"noventa",pt:"noventa"},{es:"cien",pt:"cem"},{es:"mil",pt:"mil"},{es:"milln",pt:"milho"},{es:"primero",pt:"primeiro"},{es:"segundo",pt:"segundo"},{es:"tercero",pt:"terceiro"},{es:"ltimo",pt:"ltimo"}],casa:[{es:"casa",pt:"casa"},{es:"puerta",pt:"porta"},{es:"ventana",pt:"janela"},{es:"cocina",pt:"cozinha"},{es:"bao",pt:"banheiro"},{es:"habitacin",pt:"quarto"},{es:"sala",pt:"sala"},{es:"comedor",pt:"sala de jantar"},{es:"jardn",pt:"jardim"},{es:"garaje",pt:"garagem"},{es:"stano",pt:"poro"},{es:"tico",pt:"sto"},{es:"silla",pt:"cadeira"},{es:"mesa",pt:"mesa"},{es:"cama",pt:"cama"},{es:"sof",pt:"sof"},{es:"espejo",pt:"espelho"},{es:"lmpara",pt:"lmpada"},{es:"armario",pt:"armrio"},{es:"estante",pt:"estante"},{es:"cajn",pt:"gaveta"},{es:"escalera",pt:"escada"},{es:"piso",pt:"piso"},{es:"techo",pt:"teto"},{es:"pared",pt:"parede"},{es:"alfombra",pt:"tapete"},{es:"cortina",pt:"cortina"},{es:"almohada",pt:"travesseiro"},{es:"sbana",pt:"lenol"},{es:"manta",pt:"cobertor"},{es:"toalla",pt:"toalha"},{es:"jabn",pt:"sabonete"},{es:"champ",pt:"shampoo"},{es:"cepillo",pt:"escova"},{es:"peine",pt:"pente"},{es:"secador",pt:"secador"},{es:"refrigerador",pt:"geladeira"},{es:"estufa",pt:"fogo"},{es:"horno",pt:"forno"},{es:"microondas",pt:"micro-ondas"},{es:"lavadora",pt:"mquina de lavar"},{es:"plancha",pt:"ferro"},{es:"aspiradora",pt:"aspirador"},{es:"sartn",pt:"frigideira"},{es:"olla",pt:"panela"},{es:"plato",pt:"prato"},{es:"vaso",pt:"copo"},{es:"taza",pt:"xcara"},{es:"cuchara",pt:"colher"},{es:"tenedor",pt:"garfo"},{es:"cuchillo",pt:"faca"},{es:"servilleta",pt:"guardanapo"}],ropa:[{es:"camisa",pt:"camisa"},{es:"pantaln",pt:"cala"},{es:"zapato",pt:"sapato"},{es:"vestido",pt:"vestido"},{es:"falda",pt:"saia"},{es:"chaqueta",pt:"jaqueta"},{es:"abrigo",pt:"casaco"},{es:"suter",pt:"suter"},{es:"camiseta",pt:"camiseta"},{es:"sombrero",pt:"chapu"},{es:"gorra",pt:"bon"},{es:"bufanda",pt:"cachecol"},{es:"guantes",pt:"luvas"},{es:"calcetines",pt:"meias"},{es:"corbata",pt:"gravata"},{es:"cinturn",pt:"cinto"},{es:"bolsa",pt:"bolsa"},{es:"cartera",pt:"carteira"},{es:"anillo",pt:"anel"},{es:"collar",pt:"colar"},{es:"pulsera",pt:"pulseira"},{es:"pendientes",pt:"brincos"},{es:"reloj",pt:"relgio"},{es:"gafas",pt:"culos"},{es:"paraguas",pt:"guarda-chuva"},{es:"bota",pt:"bota"},{es:"sandalia",pt:"sandlia"},{es:"zapatilla",pt:"tnis"},{es:"traje",pt:"terno"},{es:"pijama",pt:"pijama"},{es:"ropa interior",pt:"roupa ntima"},{es:"sostn",pt:"suti"},{es:"shorts",pt:"shorts"},{es:"bermuda",pt:"bermuda"},{es:"bikini",pt:"biquni"},{es:"traje de bao",pt:"mai"}],tiempo:[{es:"da",pt:"dia"},{es:"noche",pt:"noite"},{es:"maana",pt:"manh"},{es:"tarde",pt:"tarde"},{es:"semana",pt:"semana"},{es:"mes",pt:"ms"},{es:"ao",pt:"ano"},{es:"hora",pt:"hora"},{es:"minuto",pt:"minuto"},{es:"segundo",pt:"segundo"},{es:"hoy",pt:"hoje"},{es:"ayer",pt:"ontem"},{es:"maana",pt:"amanh"},{es:"lunes",pt:"segunda-feira"},{es:"martes",pt:"tera-feira"},{es:"mircoles",pt:"quarta-feira"},{es:"jueves",pt:"quinta-feira"},{es:"viernes",pt:"sexta-feira"},{es:"sbado",pt:"sbado"},{es:"domingo",pt:"domingo"},{es:"enero",pt:"janeiro"},{es:"febrero",pt:"fevereiro"},{es:"marzo",pt:"maro"},{es:"abril",pt:"abril"},{es:"mayo",pt:"maio"},{es:"junio",pt:"junho"},{es:"julio",pt:"julho"},{es:"agosto",pt:"agosto"},{es:"septiembre",pt:"setembro"},{es:"octubre",pt:"outubro"},{es:"noviembre",pt:"novembro"},{es:"diciembre",pt:"dezembro"},{es:"sol",pt:"sol"},{es:"lluvia",pt:"chuva"},{es:"nieve",pt:"neve"},{es:"viento",pt:"vento"},{es:"nube",pt:"nuvem"},{es:"tormenta",pt:"tempestade"},{es:"calor",pt:"calor"},{es:"fro",pt:"frio"}]},kA={profesiones:[{es:"mdico",pt:"mdico"},{es:"enfermero",pt:"enfermeiro"},{es:"abogado",pt:"advogado"},{es:"ingeniero",pt:"engenheiro"},{es:"arquitecto",pt:"arquiteto"},{es:"profesor",pt:"professor"},{es:"contador",pt:"contador"},{es:"periodista",pt:"jornalista"},{es:"fotgrafo",pt:"fotgrafo"},{es:"chef",pt:"chef"},{es:"polica",pt:"policial"},{es:"bombero",pt:"bombeiro"},{es:"piloto",pt:"piloto"},{es:"dentista",pt:"dentista"},{es:"veterinario",pt:"veterinrio"},{es:"psiclogo",pt:"psiclogo"},{es:"farmacutico",pt:"farmacutico"},{es:"cientfico",pt:"cientista"},{es:"programador",pt:"programador"},{es:"diseador",pt:"designer"},{es:"electricista",pt:"eletricista"},{es:"plomero",pt:"encanador"},{es:"carpintero",pt:"carpinteiro"},{es:"mecnico",pt:"mecnico"},{es:"pintor",pt:"pintor"},{es:"msico",pt:"msico"},{es:"actor",pt:"ator"},{es:"cantante",pt:"cantor"},{es:"bailarn",pt:"bailarino"},{es:"escritor",pt:"escritor"},{es:"traductor",pt:"tradutor"},{es:"secretario",pt:"secretrio"},{es:"recepcionista",pt:"recepcionista"},{es:"vendedor",pt:"vendedor"},{es:"cajero",pt:"caixa"},{es:"gerente",pt:"gerente"},{es:"director",pt:"diretor"},{es:"empresario",pt:"empresrio"},{es:"economista",pt:"economista"},{es:"juez",pt:"juiz"},{es:"poltico",pt:"poltico"},{es:"soldado",pt:"soldado"},{es:"cartero",pt:"carteiro"},{es:"taxista",pt:"taxista"},{es:"conductor",pt:"motorista"}],lugares:[{es:"ciudad",pt:"cidade"},{es:"pueblo",pt:"vila"},{es:"pas",pt:"pas"},{es:"calle",pt:"rua"},{es:"avenida",pt:"avenida"},{es:"plaza",pt:"praa"},{es:"parque",pt:"parque"},{es:"hospital",pt:"hospital"},{es:"escuela",pt:"escola"},{es:"universidad",pt:"universidade"},{es:"biblioteca",pt:"biblioteca"},{es:"museo",pt:"museu"},{es:"teatro",pt:"teatro"},{es:"cine",pt:"cinema"},{es:"estadio",pt:"estdio"},{es:"gimnasio",pt:"academia"},{es:"piscina",pt:"piscina"},{es:"banco",pt:"banco"},{es:"oficina",pt:"escritrio"},{es:"fbrica",pt:"fbrica"},{es:"tienda",pt:"loja"},{es:"supermercado",pt:"supermercado"},{es:"farmacia",pt:"farmcia"},{es:"panadera",pt:"padaria"},{es:"carnicera",pt:"aougue"},{es:"peluquera",pt:"salo de beleza"},{es:"restaurante",pt:"restaurante"},{es:"cafetera",pt:"cafeteria"},{es:"bar",pt:"bar"},{es:"discoteca",pt:"balada"},{es:"hotel",pt:"hotel"},{es:"aeropuerto",pt:"aeroporto"},{es:"estacin",pt:"estao"},{es:"puerto",pt:"porto"},{es:"iglesia",pt:"igreja"},{es:"templo",pt:"templo"},{es:"cementerio",pt:"cemitrio"},{es:"playa",pt:"praia"},{es:"montaa",pt:"montanha"},{es:"ro",pt:"rio"},{es:"lago",pt:"lago"},{es:"mar",pt:"mar"},{es:"bosque",pt:"floresta"},{es:"desierto",pt:"deserto"},{es:"isla",pt:"ilha"},{es:"frontera",pt:"fronteira"},{es:"embajada",pt:"embaixada"},{es:"consulado",pt:"consulado"}],emociones:[{es:"feliz",pt:"feliz"},{es:"triste",pt:"triste"},{es:"enojado",pt:"bravo"},{es:"asustado",pt:"assustado"},{es:"sorprendido",pt:"surpreso"},{es:"emocionado",pt:"emocionado"},{es:"preocupado",pt:"preocupado"},{es:"ansioso",pt:"ansioso"},{es:"nervioso",pt:"nervoso"},{es:"tranquilo",pt:"tranquilo"},{es:"cansado",pt:"cansado"},{es:"aburrido",pt:"entediado"},{es:"confundido",pt:"confuso"},{es:"frustrado",pt:"frustrado"},{es:"orgulloso",pt:"orgulhoso"},{es:"avergonzado",pt:"envergonhado"},{es:"celoso",pt:"ciumento"},{es:"enamorado",pt:"apaixonado"},{es:"solitario",pt:"solitrio"},{es:"nostlgico",pt:"nostlgico"},{es:"esperanzado",pt:"esperanoso"},{es:"agradecido",pt:"grato"},{es:"satisfecho",pt:"satisfeito"},{es:"decepcionado",pt:"decepcionado"},{es:"entusiasmado",pt:"entusiasmado"},{es:"relajado",pt:"relaxado"},{es:"estresado",pt:"estressado"},{es:"motivado",pt:"motivado"},{es:"desanimado",pt:"desanimado"},{es:"aliviado",pt:"aliviado"},{es:"amor",pt:"amor"},{es:"odio",pt:"dio"},{es:"miedo",pt:"medo"},{es:"alegra",pt:"alegria"},{es:"tristeza",pt:"tristeza"},{es:"rabia",pt:"raiva"}],tecnologia:[{es:"computadora",pt:"computador"},{es:"telfono",pt:"telefone"},{es:"celular",pt:"celular"},{es:"tableta",pt:"tablet"},{es:"teclado",pt:"teclado"},{es:"ratn",pt:"mouse"},{es:"pantalla",pt:"tela"},{es:"impresora",pt:"impressora"},{es:"escner",pt:"scanner"},{es:"cmara",pt:"cmera"},{es:"micrfono",pt:"microfone"},{es:"auriculares",pt:"fones de ouvido"},{es:"internet",pt:"internet"},{es:"wifi",pt:"wifi"},{es:"red",pt:"rede"},{es:"sitio web",pt:"site"},{es:"aplicacin",pt:"aplicativo"},{es:"programa",pt:"programa"},{es:"archivo",pt:"arquivo"},{es:"carpeta",pt:"pasta"},{es:"contrasea",pt:"senha"},{es:"correo electrnico",pt:"e-mail"},{es:"mensaje",pt:"mensagem"},{es:"video",pt:"vdeo"},{es:"foto",pt:"foto"},{es:"descarga",pt:"download"},{es:"subir",pt:"upload"},{es:"batera",pt:"bateria"},{es:"cargador",pt:"carregador"},{es:"cable",pt:"cabo"},{es:"enchufe",pt:"tomada"},{es:"televisin",pt:"televiso"},{es:"control remoto",pt:"controle remoto"},{es:"robot",pt:"rob"},{es:"inteligencia artificial",pt:"inteligncia artificial"}]},TA={negocios:[{es:"empresa",pt:"empresa"},{es:"negocio",pt:"negcio"},{es:"cliente",pt:"cliente"},{es:"proveedor",pt:"fornecedor"},{es:"empleado",pt:"funcionrio"},{es:"jefe",pt:"chefe"},{es:"reunin",pt:"reunio"},{es:"contrato",pt:"contrato"},{es:"factura",pt:"fatura"},{es:"presupuesto",pt:"oramento"},{es:"inversin",pt:"investimento"},{es:"ganancia",pt:"lucro"},{es:"prdida",pt:"prejuzo"},{es:"deuda",pt:"dvida"},{es:"prstamo",pt:"emprstimo"},{es:"impuesto",pt:"imposto"},{es:"salario",pt:"salrio"},{es:"comisin",pt:"comisso"},{es:"descuento",pt:"desconto"},{es:"precio",pt:"preo"},{es:"costo",pt:"custo"},{es:"venta",pt:"venda"},{es:"compra",pt:"compra"},{es:"mercado",pt:"mercado"},{es:"competencia",pt:"concorrncia"},{es:"estrategia",pt:"estratgia"},{es:"objetivo",pt:"objetivo"},{es:"proyecto",pt:"projeto"},{es:"plazo",pt:"prazo"},{es:"entrega",pt:"entrega"},{es:"calidad",pt:"qualidade"},{es:"garanta",pt:"garantia"},{es:"devolucin",pt:"devoluo"},{es:"reclamacin",pt:"reclamao"},{es:"solucin",pt:"soluo"},{es:"problema",pt:"problema"},{es:"xito",pt:"sucesso"},{es:"fracaso",pt:"fracasso"},{es:"crecimiento",pt:"crescimento"},{es:"desarrollo",pt:"desenvolvimento"},{es:"innovacin",pt:"inovao"},{es:"tecnologa",pt:"tecnologia"}],educacion:[{es:"estudiante",pt:"estudante"},{es:"alumno",pt:"aluno"},{es:"maestro",pt:"mestre"},{es:"clase",pt:"aula"},{es:"curso",pt:"curso"},{es:"asignatura",pt:"disciplina"},{es:"examen",pt:"exame"},{es:"prueba",pt:"prova"},{es:"calificacin",pt:"nota"},{es:"tarea",pt:"tarefa"},{es:"trabajo",pt:"trabalho"},{es:"investigacin",pt:"pesquisa"},{es:"tesis",pt:"tese"},{es:"diploma",pt:"diploma"},{es:"ttulo",pt:"ttulo"},{es:"graduacin",pt:"formatura"},{es:"beca",pt:"bolsa de estudos"},{es:"matrcula",pt:"matrcula"},{es:"semestre",pt:"semestre"},{es:"vacaciones",pt:"frias"},{es:"horario",pt:"horrio"},{es:"libro",pt:"livro"},{es:"cuaderno",pt:"caderno"},{es:"bolgrafo",pt:"caneta"},{es:"lpiz",pt:"lpis"},{es:"borrador",pt:"borracha"},{es:"regla",pt:"rgua"},{es:"pizarra",pt:"quadro"},{es:"proyector",pt:"projetor"},{es:"laboratorio",pt:"laboratrio"}],salud:[{es:"doctor",pt:"doutor"},{es:"paciente",pt:"paciente"},{es:"enfermedad",pt:"doena"},{es:"sntoma",pt:"sintoma"},{es:"dolor",pt:"dor"},{es:"fiebre",pt:"febre"},{es:"tos",pt:"tosse"},{es:"gripe",pt:"gripe"},{es:"resfriado",pt:"resfriado"},{es:"alergia",pt:"alergia"},{es:"infeccin",pt:"infeco"},{es:"virus",pt:"vrus"},{es:"bacteria",pt:"bactria"},{es:"vacuna",pt:"vacina"},{es:"medicamento",pt:"medicamento"},{es:"pastilla",pt:"comprimido"},{es:"jarabe",pt:"xarope"},{es:"inyeccin",pt:"injeo"},{es:"receta",pt:"receita"},{es:"tratamiento",pt:"tratamento"},{es:"ciruga",pt:"cirurgia"},{es:"operacin",pt:"operao"},{es:"urgencia",pt:"urgncia"},{es:"emergencia",pt:"emergncia"},{es:"ambulancia",pt:"ambulncia"},{es:"seguro mdico",pt:"plano de sade"},{es:"consultorio",pt:"consultrio"},{es:"clnica",pt:"clnica"},{es:"anlisis",pt:"exame"},{es:"radiografa",pt:"raio-x"},{es:"diagnstico",pt:"diagnstico"}]},Fn={regulares_ar:[{infinitive:"hablar",pt:"falar",presente:{yo:"hablo",t:"hablas",l:"habla",nosotros:"hablamos",vosotros:"hablis",ellos:"hablan"},pasado:{yo:"habl",t:"hablaste",l:"habl",nosotros:"hablamos",ellos:"hablaron"}},{infinitive:"trabajar",pt:"trabalhar",presente:{yo:"trabajo",t:"trabajas",l:"trabaja",nosotros:"trabajamos",vosotros:"trabajis",ellos:"trabajan"},pasado:{yo:"trabaj",t:"trabajaste",l:"trabaj",nosotros:"trabajamos",ellos:"trabajaron"}},{infinitive:"estudiar",pt:"estudar",presente:{yo:"estudio",t:"estudias",l:"estudia",nosotros:"estudiamos",vosotros:"estudiis",ellos:"estudian"},pasado:{yo:"estudi",t:"estudiaste",l:"estudi",nosotros:"estudiamos",ellos:"estudiaron"}},{infinitive:"comprar",pt:"comprar",presente:{yo:"compro",t:"compras",l:"compra",nosotros:"compramos",vosotros:"compris",ellos:"compran"},pasado:{yo:"compr",t:"compraste",l:"compr",nosotros:"compramos",ellos:"compraron"}},{infinitive:"caminar",pt:"andar",presente:{yo:"camino",t:"caminas",l:"camina",nosotros:"caminamos",vosotros:"caminis",ellos:"caminan"},pasado:{yo:"camin",t:"caminaste",l:"camin",nosotros:"caminamos",ellos:"caminaron"}},{infinitive:"bailar",pt:"danar",presente:{yo:"bailo",t:"bailas",l:"baila",nosotros:"bailamos",vosotros:"bailis",ellos:"bailan"},pasado:{yo:"bail",t:"bailaste",l:"bail",nosotros:"bailamos",ellos:"bailaron"}},{infinitive:"cantar",pt:"cantar",presente:{yo:"canto",t:"cantas",l:"canta",nosotros:"cantamos",vosotros:"cantis",ellos:"cantan"},pasado:{yo:"cant",t:"cantaste",l:"cant",nosotros:"cantamos",ellos:"cantaron"}},{infinitive:"cocinar",pt:"cozinhar",presente:{yo:"cocino",t:"cocinas",l:"cocina",nosotros:"cocinamos",vosotros:"cocinis",ellos:"cocinan"},pasado:{yo:"cocin",t:"cocinaste",l:"cocin",nosotros:"cocinamos",ellos:"cocinaron"}},{infinitive:"descansar",pt:"descansar",presente:{yo:"descanso",t:"descansas",l:"descansa",nosotros:"descansamos",vosotros:"descansis",ellos:"descansan"},pasado:{yo:"descans",t:"descansaste",l:"descans",nosotros:"descansamos",ellos:"descansaron"}},{infinitive:"escuchar",pt:"escutar",presente:{yo:"escucho",t:"escuchas",l:"escucha",nosotros:"escuchamos",vosotros:"escuchis",ellos:"escuchan"},pasado:{yo:"escuch",t:"escuchaste",l:"escuch",nosotros:"escuchamos",ellos:"escucharon"}},{infinitive:"llamar",pt:"chamar",presente:{yo:"llamo",t:"llamas",l:"llama",nosotros:"llamamos",vosotros:"llamis",ellos:"llaman"},pasado:{yo:"llam",t:"llamaste",l:"llam",nosotros:"llamamos",ellos:"llamaron"}},{infinitive:"llevar",pt:"levar",presente:{yo:"llevo",t:"llevas",l:"lleva",nosotros:"llevamos",vosotros:"llevis",ellos:"llevan"},pasado:{yo:"llev",t:"llevaste",l:"llev",nosotros:"llevamos",ellos:"llevaron"}},{infinitive:"mirar",pt:"olhar",presente:{yo:"miro",t:"miras",l:"mira",nosotros:"miramos",vosotros:"miris",ellos:"miran"},pasado:{yo:"mir",t:"miraste",l:"mir",nosotros:"miramos",ellos:"miraron"}},{infinitive:"pagar",pt:"pagar",presente:{yo:"pago",t:"pagas",l:"paga",nosotros:"pagamos",vosotros:"pagis",ellos:"pagan"},pasado:{yo:"pagu",t:"pagaste",l:"pag",nosotros:"pagamos",ellos:"pagaron"}},{infinitive:"pasar",pt:"passar",presente:{yo:"paso",t:"pasas",l:"pasa",nosotros:"pasamos",vosotros:"pasis",ellos:"pasan"},pasado:{yo:"pas",t:"pasaste",l:"pas",nosotros:"pasamos",ellos:"pasaron"}},{infinitive:"preguntar",pt:"perguntar",presente:{yo:"pregunto",t:"preguntas",l:"pregunta",nosotros:"preguntamos",vosotros:"preguntis",ellos:"preguntan"},pasado:{yo:"pregunt",t:"preguntaste",l:"pregunt",nosotros:"preguntamos",ellos:"preguntaron"}},{infinitive:"terminar",pt:"terminar",presente:{yo:"termino",t:"terminas",l:"termina",nosotros:"terminamos",vosotros:"terminis",ellos:"terminan"},pasado:{yo:"termin",t:"terminaste",l:"termin",nosotros:"terminamos",ellos:"terminaron"}},{infinitive:"tomar",pt:"tomar",presente:{yo:"tomo",t:"tomas",l:"toma",nosotros:"tomamos",vosotros:"tomis",ellos:"toman"},pasado:{yo:"tom",t:"tomaste",l:"tom",nosotros:"tomamos",ellos:"tomaron"}},{infinitive:"usar",pt:"usar",presente:{yo:"uso",t:"usas",l:"usa",nosotros:"usamos",vosotros:"usis",ellos:"usan"},pasado:{yo:"us",t:"usaste",l:"us",nosotros:"usamos",ellos:"usaron"}},{infinitive:"viajar",pt:"viajar",presente:{yo:"viajo",t:"viajas",l:"viaja",nosotros:"viajamos",vosotros:"viajis",ellos:"viajan"},pasado:{yo:"viaj",t:"viajaste",l:"viaj",nosotros:"viajamos",ellos:"viajaron"}}],regulares_er:[{infinitive:"comer",pt:"comer",presente:{yo:"como",t:"comes",l:"come",nosotros:"comemos",vosotros:"comis",ellos:"comen"},pasado:{yo:"com",t:"comiste",l:"comi",nosotros:"comimos",ellos:"comieron"}},{infinitive:"beber",pt:"beber",presente:{yo:"bebo",t:"bebes",l:"bebe",nosotros:"bebemos",vosotros:"bebis",ellos:"beben"},pasado:{yo:"beb",t:"bebiste",l:"bebi",nosotros:"bebimos",ellos:"bebieron"}},{infinitive:"leer",pt:"ler",presente:{yo:"leo",t:"lees",l:"lee",nosotros:"leemos",vosotros:"leis",ellos:"leen"},pasado:{yo:"le",t:"leste",l:"ley",nosotros:"lemos",ellos:"leyeron"}},{infinitive:"correr",pt:"correr",presente:{yo:"corro",t:"corres",l:"corre",nosotros:"corremos",vosotros:"corris",ellos:"corren"},pasado:{yo:"corr",t:"corriste",l:"corri",nosotros:"corrimos",ellos:"corrieron"}},{infinitive:"aprender",pt:"aprender",presente:{yo:"aprendo",t:"aprendes",l:"aprende",nosotros:"aprendemos",vosotros:"aprendis",ellos:"aprenden"},pasado:{yo:"aprend",t:"aprendiste",l:"aprendi",nosotros:"aprendimos",ellos:"aprendieron"}},{infinitive:"comprender",pt:"compreender",presente:{yo:"comprendo",t:"comprendes",l:"comprende",nosotros:"comprendemos",vosotros:"comprendis",ellos:"comprenden"},pasado:{yo:"comprend",t:"comprendiste",l:"comprendi",nosotros:"comprendimos",ellos:"comprendieron"}},{infinitive:"vender",pt:"vender",presente:{yo:"vendo",t:"vendes",l:"vende",nosotros:"vendemos",vosotros:"vendis",ellos:"venden"},pasado:{yo:"vend",t:"vendiste",l:"vendi",nosotros:"vendimos",ellos:"vendieron"}},{infinitive:"responder",pt:"responder",presente:{yo:"respondo",t:"respondes",l:"responde",nosotros:"respondemos",vosotros:"respondis",ellos:"responden"},pasado:{yo:"respond",t:"respondiste",l:"respondi",nosotros:"respondimos",ellos:"respondieron"}},{infinitive:"creer",pt:"crer",presente:{yo:"creo",t:"crees",l:"cree",nosotros:"creemos",vosotros:"creis",ellos:"creen"},pasado:{yo:"cre",t:"creste",l:"crey",nosotros:"cremos",ellos:"creyeron"}},{infinitive:"deber",pt:"dever",presente:{yo:"debo",t:"debes",l:"debe",nosotros:"debemos",vosotros:"debis",ellos:"deben"},pasado:{yo:"deb",t:"debiste",l:"debi",nosotros:"debimos",ellos:"debieron"}}],regulares_ir:[{infinitive:"vivir",pt:"viver",presente:{yo:"vivo",t:"vives",l:"vive",nosotros:"vivimos",vosotros:"vivs",ellos:"viven"},pasado:{yo:"viv",t:"viviste",l:"vivi",nosotros:"vivimos",ellos:"vivieron"}},{infinitive:"escribir",pt:"escrever",presente:{yo:"escribo",t:"escribes",l:"escribe",nosotros:"escribimos",vosotros:"escribs",ellos:"escriben"},pasado:{yo:"escrib",t:"escribiste",l:"escribi",nosotros:"escribimos",ellos:"escribieron"}},{infinitive:"abrir",pt:"abrir",presente:{yo:"abro",t:"abres",l:"abre",nosotros:"abrimos",vosotros:"abrs",ellos:"abren"},pasado:{yo:"abr",t:"abriste",l:"abri",nosotros:"abrimos",ellos:"abrieron"}},{infinitive:"recibir",pt:"receber",presente:{yo:"recibo",t:"recibes",l:"recibe",nosotros:"recibimos",vosotros:"recibs",ellos:"reciben"},pasado:{yo:"recib",t:"recibiste",l:"recibi",nosotros:"recibimos",ellos:"recibieron"}},{infinitive:"subir",pt:"subir",presente:{yo:"subo",t:"subes",l:"sube",nosotros:"subimos",vosotros:"subs",ellos:"suben"},pasado:{yo:"sub",t:"subiste",l:"subi",nosotros:"subimos",ellos:"subieron"}},{infinitive:"decidir",pt:"decidir",presente:{yo:"decido",t:"decides",l:"decide",nosotros:"decidimos",vosotros:"decids",ellos:"deciden"},pasado:{yo:"decid",t:"decidiste",l:"decidi",nosotros:"decidimos",ellos:"decidieron"}},{infinitive:"partir",pt:"partir",presente:{yo:"parto",t:"partes",l:"parte",nosotros:"partimos",vosotros:"parts",ellos:"parten"},pasado:{yo:"part",t:"partiste",l:"parti",nosotros:"partimos",ellos:"partieron"}},{infinitive:"asistir",pt:"assistir",presente:{yo:"asisto",t:"asistes",l:"asiste",nosotros:"asistimos",vosotros:"asists",ellos:"asisten"},pasado:{yo:"asist",t:"asististe",l:"asisti",nosotros:"asistimos",ellos:"asistieron"}},{infinitive:"permitir",pt:"permitir",presente:{yo:"permito",t:"permites",l:"permite",nosotros:"permitimos",vosotros:"permits",ellos:"permiten"},pasado:{yo:"permit",t:"permitiste",l:"permiti",nosotros:"permitimos",ellos:"permitieron"}},{infinitive:"compartir",pt:"compartilhar",presente:{yo:"comparto",t:"compartes",l:"comparte",nosotros:"compartimos",vosotros:"comparts",ellos:"comparten"},pasado:{yo:"compart",t:"compartiste",l:"comparti",nosotros:"compartimos",ellos:"compartieron"}}],irregulares:[{infinitive:"ser",pt:"ser",presente:{yo:"soy",t:"eres",l:"es",nosotros:"somos",vosotros:"sois",ellos:"son"},pasado:{yo:"fui",t:"fuiste",l:"fue",nosotros:"fuimos",ellos:"fueron"}},{infinitive:"estar",pt:"estar",presente:{yo:"estoy",t:"ests",l:"est",nosotros:"estamos",vosotros:"estis",ellos:"estn"},pasado:{yo:"estuve",t:"estuviste",l:"estuvo",nosotros:"estuvimos",ellos:"estuvieron"}},{infinitive:"tener",pt:"ter",presente:{yo:"tengo",t:"tienes",l:"tiene",nosotros:"tenemos",vosotros:"tenis",ellos:"tienen"},pasado:{yo:"tuve",t:"tuviste",l:"tuvo",nosotros:"tuvimos",ellos:"tuvieron"}},{infinitive:"hacer",pt:"fazer",presente:{yo:"hago",t:"haces",l:"hace",nosotros:"hacemos",vosotros:"hacis",ellos:"hacen"},pasado:{yo:"hice",t:"hiciste",l:"hizo",nosotros:"hicimos",ellos:"hicieron"}},{infinitive:"ir",pt:"ir",presente:{yo:"voy",t:"vas",l:"va",nosotros:"vamos",vosotros:"vais",ellos:"van"},pasado:{yo:"fui",t:"fuiste",l:"fue",nosotros:"fuimos",ellos:"fueron"}},{infinitive:"poder",pt:"poder",presente:{yo:"puedo",t:"puedes",l:"puede",nosotros:"podemos",vosotros:"podis",ellos:"pueden"},pasado:{yo:"pude",t:"pudiste",l:"pudo",nosotros:"pudimos",ellos:"pudieron"}},{infinitive:"querer",pt:"querer",presente:{yo:"quiero",t:"quieres",l:"quiere",nosotros:"queremos",vosotros:"queris",ellos:"quieren"},pasado:{yo:"quise",t:"quisiste",l:"quiso",nosotros:"quisimos",ellos:"quisieron"}},{infinitive:"saber",pt:"saber",presente:{yo:"s",t:"sabes",l:"sabe",nosotros:"sabemos",vosotros:"sabis",ellos:"saben"},pasado:{yo:"supe",t:"supiste",l:"supo",nosotros:"supimos",ellos:"supieron"}},{infinitive:"decir",pt:"dizer",presente:{yo:"digo",t:"dices",l:"dice",nosotros:"decimos",vosotros:"decs",ellos:"dicen"},pasado:{yo:"dije",t:"dijiste",l:"dijo",nosotros:"dijimos",ellos:"dijeron"}},{infinitive:"venir",pt:"vir",presente:{yo:"vengo",t:"vienes",l:"viene",nosotros:"venimos",vosotros:"vens",ellos:"vienen"},pasado:{yo:"vine",t:"viniste",l:"vino",nosotros:"vinimos",ellos:"vinieron"}},{infinitive:"ver",pt:"ver",presente:{yo:"veo",t:"ves",l:"ve",nosotros:"vemos",vosotros:"veis",ellos:"ven"},pasado:{yo:"vi",t:"viste",l:"vio",nosotros:"vimos",ellos:"vieron"}},{infinitive:"dar",pt:"dar",presente:{yo:"doy",t:"das",l:"da",nosotros:"damos",vosotros:"dais",ellos:"dan"},pasado:{yo:"di",t:"diste",l:"dio",nosotros:"dimos",ellos:"dieron"}},{infinitive:"poner",pt:"colocar",presente:{yo:"pongo",t:"pones",l:"pone",nosotros:"ponemos",vosotros:"ponis",ellos:"ponen"},pasado:{yo:"puse",t:"pusiste",l:"puso",nosotros:"pusimos",ellos:"pusieron"}},{infinitive:"salir",pt:"sair",presente:{yo:"salgo",t:"sales",l:"sale",nosotros:"salimos",vosotros:"sals",ellos:"salen"},pasado:{yo:"sal",t:"saliste",l:"sali",nosotros:"salimos",ellos:"salieron"}},{infinitive:"conocer",pt:"conhecer",presente:{yo:"conozco",t:"conoces",l:"conoce",nosotros:"conocemos",vosotros:"conocis",ellos:"conocen"},pasado:{yo:"conoc",t:"conociste",l:"conoci",nosotros:"conocimos",ellos:"conocieron"}},{infinitive:"pensar",pt:"pensar",presente:{yo:"pienso",t:"piensas",l:"piensa",nosotros:"pensamos",vosotros:"pensis",ellos:"piensan"},pasado:{yo:"pens",t:"pensaste",l:"pens",nosotros:"pensamos",ellos:"pensaron"}},{infinitive:"dormir",pt:"dormir",presente:{yo:"duermo",t:"duermes",l:"duerme",nosotros:"dormimos",vosotros:"dorms",ellos:"duermen"},pasado:{yo:"dorm",t:"dormiste",l:"durmi",nosotros:"dormimos",ellos:"durmieron"}},{infinitive:"pedir",pt:"pedir",presente:{yo:"pido",t:"pides",l:"pide",nosotros:"pedimos",vosotros:"peds",ellos:"piden"},pasado:{yo:"ped",t:"pediste",l:"pidi",nosotros:"pedimos",ellos:"pidieron"}},{infinitive:"sentir",pt:"sentir",presente:{yo:"siento",t:"sientes",l:"siente",nosotros:"sentimos",vosotros:"sents",ellos:"sienten"},pasado:{yo:"sent",t:"sentiste",l:"sinti",nosotros:"sentimos",ellos:"sintieron"}},{infinitive:"traer",pt:"trazer",presente:{yo:"traigo",t:"traes",l:"trae",nosotros:"traemos",vosotros:"trais",ellos:"traen"},pasado:{yo:"traje",t:"trajiste",l:"trajo",nosotros:"trajimos",ellos:"trajeron"}},{infinitive:"or",pt:"ouvir",presente:{yo:"oigo",t:"oyes",l:"oye",nosotros:"omos",vosotros:"os",ellos:"oyen"},pasado:{yo:"o",t:"oste",l:"oy",nosotros:"omos",ellos:"oyeron"}},{infinitive:"seguir",pt:"seguir",presente:{yo:"sigo",t:"sigues",l:"sigue",nosotros:"seguimos",vosotros:"segus",ellos:"siguen"},pasado:{yo:"segu",t:"seguiste",l:"sigui",nosotros:"seguimos",ellos:"siguieron"}},{infinitive:"encontrar",pt:"encontrar",presente:{yo:"encuentro",t:"encuentras",l:"encuentra",nosotros:"encontramos",vosotros:"encontris",ellos:"encuentran"},pasado:{yo:"encontr",t:"encontraste",l:"encontr",nosotros:"encontramos",ellos:"encontraron"}},{infinitive:"empezar",pt:"comear",presente:{yo:"empiezo",t:"empiezas",l:"empieza",nosotros:"empezamos",vosotros:"empezis",ellos:"empiezan"},pasado:{yo:"empec",t:"empezaste",l:"empez",nosotros:"empezamos",ellos:"empezaron"}},{infinitive:"cerrar",pt:"fechar",presente:{yo:"cierro",t:"cierras",l:"cierra",nosotros:"cerramos",vosotros:"cerris",ellos:"cierran"},pasado:{yo:"cerr",t:"cerraste",l:"cerr",nosotros:"cerramos",ellos:"cerraron"}},{infinitive:"perder",pt:"perder",presente:{yo:"pierdo",t:"pierdes",l:"pierde",nosotros:"perdemos",vosotros:"perdis",ellos:"pierden"},pasado:{yo:"perd",t:"perdiste",l:"perdi",nosotros:"perdimos",ellos:"perdieron"}},{infinitive:"jugar",pt:"jogar",presente:{yo:"juego",t:"juegas",l:"juega",nosotros:"jugamos",vosotros:"jugis",ellos:"juegan"},pasado:{yo:"jugu",t:"jugaste",l:"jug",nosotros:"jugamos",ellos:"jugaron"}},{infinitive:"construir",pt:"construir",presente:{yo:"construyo",t:"construyes",l:"construye",nosotros:"construimos",vosotros:"construs",ellos:"construyen"},pasado:{yo:"constru",t:"construiste",l:"construy",nosotros:"construimos",ellos:"construyeron"}},{infinitive:"morir",pt:"morrer",presente:{yo:"muero",t:"mueres",l:"muere",nosotros:"morimos",vosotros:"mors",ellos:"mueren"},pasado:{yo:"mor",t:"moriste",l:"muri",nosotros:"morimos",ellos:"murieron"}}]},xX=()=>[...Fn.regulares_ar,...Fn.regulares_er,...Fn.regulares_ir,...Fn.irregulares],vX=e=>e<=2?[...Fn.regulares_ar.slice(0,10),...Fn.irregulares.slice(0,5)]:e<=4?[...Fn.regulares_ar,...Fn.regulares_er,...Fn.irregulares.slice(0,15)]:xX(),Da={saludos:[{es:"Hola! Cmo ests?",pt:"Ol! Como voc est?"},{es:"Buenos das, cmo amaneciste?",pt:"Bom dia, como voc acordou?"},{es:"Buenas tardes, mucho gusto en conocerte.",pt:"Boa tarde, prazer em conhec-lo."},{es:"Buenas noches, que descanses bien.",pt:"Boa noite, descanse bem."},{es:"Hasta luego, nos vemos maana.",pt:"At logo, nos vemos amanh."},{es:"Hasta pronto, cudate mucho.",pt:"At breve, cuide-se muito."},{es:"Adis, fue un placer conocerte.",pt:"Adeus, foi um prazer conhec-lo."},{es:"Encantado de conocerte.",pt:"Prazer em conhec-lo."},{es:"El gusto es mo.",pt:"O prazer  meu."},{es:"Cmo te llamas?",pt:"Como voc se chama?"},{es:"Me llamo Carlos, y t?",pt:"Meu nome  Carlos, e voc?"},{es:"De dnde eres?",pt:"De onde voc ?"},{es:"Soy de Brasil, y t?",pt:"Sou do Brasil, e voc?"},{es:"Cuntos aos tienes?",pt:"Quantos anos voc tem?"},{es:"Tengo veinticinco aos.",pt:"Tenho vinte e cinco anos."},{es:"Que tengas un buen da.",pt:"Tenha um bom dia."},{es:"Que te vaya muy bien.",pt:"Que te v muito bem."},{es:"Nos vemos la prxima semana.",pt:"Nos vemos na prxima semana."},{es:"Cudate mucho, nos hablamos.",pt:"Cuide-se muito, nos falamos."},{es:"Un abrazo, hasta pronto.",pt:"Um abrao, at breve."}],restaurante:[{es:"Mesa para dos personas, por favor.",pt:"Mesa para duas pessoas, por favor."},{es:"Cul es el men del da?",pt:"Qual  o cardpio do dia?"},{es:"Qu me recomienda?",pt:"O que voc me recomenda?"},{es:"Quisiera un vaso de agua, por favor.",pt:"Gostaria de um copo de gua, por favor."},{es:"Tienen opciones vegetarianas?",pt:"Vocs tm opes vegetarianas?"},{es:"La cuenta, por favor.",pt:"A conta, por favor."},{es:"Aceptan tarjeta de crdito?",pt:"Vocs aceitam carto de crdito?"},{es:"La comida estuvo deliciosa.",pt:"A comida estava deliciosa."},{es:"Puedo ver la carta de vinos?",pt:"Posso ver a carta de vinhos?"},{es:"Quisiera ordenar el plato principal.",pt:"Gostaria de pedir o prato principal."},{es:"Cunto tiempo tarda en estar listo?",pt:"Quanto tempo demora para ficar pronto?"},{es:"Me gustara un postre, por favor.",pt:"Gostaria de uma sobremesa, por favor."},{es:"El servicio fue excelente.",pt:"O servio foi excelente."},{es:"Tienen algn plato especial hoy?",pt:"Vocs tm algum prato especial hoje?"},{es:"Prefiero la carne bien cocida.",pt:"Prefiro a carne bem passada."},{es:"El plato viene con guarnicin?",pt:"O prato vem com acompanhamento?"},{es:"Quisiera reservar una mesa para maana.",pt:"Gostaria de reservar uma mesa para amanh."},{es:"La propina est incluida?",pt:"A gorjeta est includa?"},{es:"Necesito el men en ingls.",pt:"Preciso do cardpio em ingls."},{es:"Puedo llevar las sobras?",pt:"Posso levar as sobras?"}],viajes:[{es:"Dnde est la estacin de tren?",pt:"Onde fica a estao de trem?"},{es:"Necesito un boleto de ida y vuelta.",pt:"Preciso de uma passagem de ida e volta."},{es:"A qu hora sale el prximo vuelo?",pt:"A que horas sai o prximo voo?"},{es:"Cunto cuesta la habitacin por noche?",pt:"Quanto custa o quarto por noite?"},{es:"Tengo una reservacin a nombre de Garca.",pt:"Tenho uma reserva em nome de Garca."},{es:"Dnde puedo cambiar dinero?",pt:"Onde posso trocar dinheiro?"},{es:"Me puede llevar al aeropuerto?",pt:"Voc pode me levar ao aeroporto?"},{es:"Cunto tiempo dura el viaje?",pt:"Quanto tempo dura a viagem?"},{es:"Necesito un mapa de la ciudad.",pt:"Preciso de um mapa da cidade."},{es:"Cules son los lugares tursticos?",pt:"Quais so os lugares tursticos?"},{es:"A qu hora es el check-in?",pt:"A que horas  o check-in?"},{es:"Mi vuelo tiene retraso.",pt:"Meu voo est atrasado."},{es:"Perd mi equipaje.",pt:"Perdi minha bagagem."},{es:"Dnde est la oficina de turismo?",pt:"Onde fica o escritrio de turismo?"},{es:"Este autobs va al centro?",pt:"Este nibus vai ao centro?"},{es:"Quisiera alquilar un coche.",pt:"Gostaria de alugar um carro."},{es:"Hay wifi gratuito en el hotel?",pt:"Tem wifi gratuito no hotel?"},{es:"A qu hora sirven el desayuno?",pt:"A que horas servem o caf da manh?"},{es:"La habitacin necesita limpieza.",pt:"O quarto precisa de limpeza."},{es:"Tienen servicio de habitacin?",pt:"Vocs tm servio de quarto?"},{es:"Cul es la contrasea del wifi?",pt:"Qual  a senha do wifi?"},{es:"Necesito una toalla extra.",pt:"Preciso de uma toalha extra."},{es:"Puedo dejar mis maletas aqu?",pt:"Posso deixar minhas malas aqui?"},{es:"A qu hora es el check-out?",pt:"A que horas  o check-out?"},{es:"Me gustara extender mi estada.",pt:"Gostaria de estender minha estadia."}],compras:[{es:"Cunto cuesta esto?",pt:"Quanto custa isso?"},{es:"Tienen este producto en otro color?",pt:"Vocs tm este produto em outra cor?"},{es:"Puedo probrmelo?",pt:"Posso experimentar?"},{es:"Dnde est el probador?",pt:"Onde fica o provador?"},{es:"Es muy caro. Hay descuento?",pt:" muito caro. Tem desconto?"},{es:"Aceptan efectivo?",pt:"Vocs aceitam dinheiro?"},{es:"Me queda grande, tienen una talla menor?",pt:"Est grande, vocs tm um tamanho menor?"},{es:"Me lo llevo.",pt:"Vou levar."},{es:"Puedo pagar en cuotas?",pt:"Posso pagar em parcelas?"},{es:"Tienen garanta?",pt:"Vocs tm garantia?"},{es:"Cul es la poltica de devolucin?",pt:"Qual  a poltica de devoluo?"},{es:"Tienen bolsa de regalo?",pt:"Vocs tm sacola de presente?"},{es:"A qu hora cierran?",pt:"A que horas vocs fecham?"},{es:"Dnde pago?",pt:"Onde eu pago?"},{es:"Estn en oferta?",pt:"Esto em promoo?"},{es:"Solo estoy mirando, gracias.",pt:"S estou olhando, obrigado."},{es:"Tienen este en stock?",pt:"Vocs tm isso em estoque?"},{es:"Puedo ver el catlogo?",pt:"Posso ver o catlogo?"},{es:"Necesito una factura.",pt:"Preciso de uma nota fiscal."},{es:"Hacen envo a domicilio?",pt:"Vocs fazem entrega em domiclio?"}],trabajo:[{es:"Tengo una reunin a las tres.",pt:"Tenho uma reunio s trs."},{es:"Cundo es la fecha lmite?",pt:"Quando  a data limite?"},{es:"Necesito terminar este informe.",pt:"Preciso terminar este relatrio."},{es:"Puedo trabajar desde casa maana?",pt:"Posso trabalhar de casa amanh?"},{es:"El jefe quiere hablar contigo.",pt:"O chefe quer falar com voc."},{es:"A qu hora terminas hoy?",pt:"A que horas voc termina hoje?"},{es:"Tengo muchos correos pendientes.",pt:"Tenho muitos e-mails pendentes."},{es:"Puedes enviarme el archivo?",pt:"Voc pode me enviar o arquivo?"},{es:"La reunin fue muy productiva.",pt:"A reunio foi muito produtiva."},{es:"Necesito tu firma en este documento.",pt:"Preciso da sua assinatura neste documento."},{es:"Cul es tu opinin sobre el proyecto?",pt:"Qual  a sua opinio sobre o projeto?"},{es:"Vamos a discutir los resultados.",pt:"Vamos discutir os resultados."},{es:"Tienes disponible la sala de reuniones?",pt:"Voc tem disponvel a sala de reunies?"},{es:"El cliente est muy satisfecho.",pt:"O cliente est muito satisfeito."},{es:"Necesitamos aumentar las ventas.",pt:"Precisamos aumentar as vendas."},{es:"Cundo es la prxima presentacin?",pt:"Quando  a prxima apresentao?"},{es:"Estoy trabajando horas extras.",pt:"Estou fazendo hora extra."},{es:"Puedes cubrir mi turno maana?",pt:"Voc pode cobrir meu turno amanh?"},{es:"El presupuesto fue aprobado.",pt:"O oramento foi aprovado."},{es:"Tenemos que cumplir con el plazo.",pt:"Temos que cumprir o prazo."}],salud:[{es:"Me duele la cabeza.",pt:"Minha cabea est doendo."},{es:"Tengo fiebre desde ayer.",pt:"Estou com febre desde ontem."},{es:"Necesito hacer una cita con el doctor.",pt:"Preciso marcar uma consulta com o mdico."},{es:"Cules son los sntomas?",pt:"Quais so os sintomas?"},{es:"Soy alrgico a la penicilina.",pt:"Sou alrgico  penicilina."},{es:"Dnde est la farmacia ms cercana?",pt:"Onde fica a farmcia mais prxima?"},{es:"Necesito esta receta mdica.",pt:"Preciso desta receita mdica."},{es:"Cada cuntas horas debo tomar el medicamento?",pt:"De quantas em quantas horas devo tomar o medicamento?"},{es:"Me siento mareado.",pt:"Estou me sentindo tonto."},{es:"Tengo dolor de estmago.",pt:"Estou com dor de estmago."},{es:"Tiene alguna alergia?",pt:"Voc tem alguma alergia?"},{es:"Necesito hacerme un anlisis de sangre.",pt:"Preciso fazer um exame de sangue."},{es:"Es grave?",pt:" grave?"},{es:"Tome este medicamento despus de las comidas.",pt:"Tome este remdio depois das refeies."},{es:"Cunto cuesta la consulta?",pt:"Quanto custa a consulta?"},{es:"Tengo seguro mdico.",pt:"Tenho plano de sade."},{es:"Me torc el tobillo.",pt:"Torci o tornozelo."},{es:"Necesito una radiografa.",pt:"Preciso de um raio-x."},{es:"Cundo estarn los resultados?",pt:"Quando estaro os resultados?"},{es:"El tratamiento dura dos semanas.",pt:"O tratamento dura duas semanas."}],cotidiano:[{es:"Qu hora es?",pt:"Que horas so?"},{es:"Son las tres y media.",pt:"So trs e meia."},{es:"Qu da es hoy?",pt:"Que dia  hoje?"},{es:"Hoy es lunes.",pt:"Hoje  segunda-feira."},{es:"Cmo est el clima?",pt:"Como est o tempo?"},{es:"Hace mucho calor hoy.",pt:"Est muito calor hoje."},{es:"Creo que va a llover.",pt:"Acho que vai chover."},{es:"Tienes planes para el fin de semana?",pt:"Voc tem planos para o fim de semana?"},{es:"Voy a visitar a mi familia.",pt:"Vou visitar minha famlia."},{es:"Quieres ir al cine conmigo?",pt:"Voc quer ir ao cinema comigo?"},{es:"Lo siento, no puedo hoy.",pt:"Desculpe, no posso hoje."},{es:"A qu te dedicas?",pt:"O que voc faz?"},{es:"Trabajo como ingeniero.",pt:"Trabalho como engenheiro."},{es:"Dnde vives?",pt:"Onde voc mora?"},{es:"Vivo en el centro de la ciudad.",pt:"Moro no centro da cidade."},{es:"Tienes hermanos?",pt:"Voc tem irmos?"},{es:"Tengo dos hermanos mayores.",pt:"Tenho dois irmos mais velhos."},{es:"Cul es tu comida favorita?",pt:"Qual  sua comida favorita?"},{es:"Me encanta la comida mexicana.",pt:"Adoro comida mexicana."},{es:"Practicas algn deporte?",pt:"Voc pratica algum esporte?"},{es:"Juego ftbol los domingos.",pt:"Jogo futebol aos domingos."},{es:"Te gusta leer?",pt:"Voc gosta de ler?"},{es:"Prefiero las pelculas.",pt:"Prefiro os filmes."},{es:"Cunto tiempo llevas estudiando espaol?",pt:"H quanto tempo voc estuda espanhol?"},{es:"Llevo seis meses estudiando.",pt:"H seis meses estou estudando."},{es:"Puedes repetir, por favor?",pt:"Pode repetir, por favor?"},{es:"No entend muy bien.",pt:"No entendi muito bem."},{es:"Habla ms despacio, por favor.",pt:"Fale mais devagar, por favor."},{es:"Cmo se dice esto en espaol?",pt:"Como se diz isso em espanhol?"},{es:"Qu significa esta palabra?",pt:"O que significa esta palavra?"}]},yX=e=>e<=2?[...Da.saludos,...Da.cotidiano.slice(0,15)]:e<=4?[...Da.saludos,...Da.cotidiano,...Da.restaurante,...Da.compras]:Object.values(Da).flat(),Sd=[{id:1,name:"Bsico 1",key:"basico1",requiredXp:0,icon:"",exerciseCount:100},{id:2,name:"Bsico 2",key:"basico2",requiredXp:500,icon:"",exerciseCount:100},{id:3,name:"Bsico 3",key:"basico3",requiredXp:1e3,icon:"",exerciseCount:100},{id:4,name:"Intermedirio 1",key:"inter1",requiredXp:1800,icon:"",exerciseCount:100},{id:5,name:"Intermedirio 2",key:"inter2",requiredXp:2800,icon:"",exerciseCount:100},{id:6,name:"Intermedirio 3",key:"inter3",requiredXp:4e3,icon:"",exerciseCount:100},{id:7,name:"Avanado 1",key:"avancado1",requiredXp:5500,icon:"",exerciseCount:100},{id:8,name:"Avanado 2",key:"avancado2",requiredXp:7500,icon:"",exerciseCount:100},{id:9,name:"Avanado 3",key:"avancado3",requiredXp:1e4,icon:"",exerciseCount:100},{id:10,name:"Fluente",key:"fluente",requiredXp:15e3,icon:"",exerciseCount:100}],QN=[{name:"Bronze",icon:"",minXp:0,color:"from-amber-600 to-amber-700"},{name:"Prata",icon:"",minXp:500,color:"from-slate-400 to-slate-500"},{name:"Ouro",icon:"",minXp:1500,color:"from-yellow-400 to-amber-500"},{name:"Platina",icon:"",minXp:3e3,color:"from-cyan-400 to-blue-500"},{name:"Diamante",icon:"",minXp:5e3,color:"from-blue-500 to-indigo-600"},{name:"Mestre",icon:"",minXp:8e3,color:"from-purple-500 to-pink-500"},{name:"Lenda",icon:"",minXp:12e3,color:"from-amber-400 to-red-500"}],bX=e=>{const t=Object.values(EA).flat(),s=Object.values(kA).flat(),r=Object.values(TA).flat();return e<=3?t:e<=6?[...t,...s]:[...t,...s,...r]},Wx=(e,t)=>{const s=e[Math.floor(Math.random()*e.length)],a=[...e.filter(o=>o.pt!==s.pt).sort(()=>Math.random()-.5).slice(0,3).map(o=>o.pt),s.pt].sort(()=>Math.random()-.5);return{type:"vocabulary",category:" Vocabulrio",question:`O que significa "${s.es}" em portugus?`,options:a,correct:a.indexOf(s.pt),difficulty:t,hint:`Dica: A palavra comea com "${s.pt.charAt(0).toUpperCase()}"`}},wX=(e,t)=>{const s=e[Math.floor(Math.random()*e.length)],a=[...e.filter(o=>o.es!==s.es).sort(()=>Math.random()-.5).slice(0,3).map(o=>o.es),s.es].sort(()=>Math.random()-.5);return{type:"vocabulary",category:" Vocabulrio",question:`Como se diz "${s.pt}" em espanhol?`,options:a,correct:a.indexOf(s.es),difficulty:t,hint:`Dica: A palavra comea com "${s.es.charAt(0).toUpperCase()}"`}},jX=(e,t)=>{const s=e[Math.floor(Math.random()*e.length)];if(Math.random()>.5){const o=[...e.filter(i=>i.es!==s.es).sort(()=>Math.random()-.5).slice(0,3).map(i=>i.es),s.es].sort(()=>Math.random()-.5);return{type:"translation",category:" Traduo",question:`Como se diz "${s.pt}" em espanhol?`,options:o,correct:o.indexOf(s.es),difficulty:t}}else{const o=[...e.filter(i=>i.pt!==s.pt).sort(()=>Math.random()-.5).slice(0,3).map(i=>i.pt),s.pt].sort(()=>Math.random()-.5);return{type:"translation",category:" Traduo",question:`Traduza: "${s.es}"`,options:o,correct:o.indexOf(s.pt),difficulty:t}}},NX=(e,t)=>{const s=e[Math.floor(Math.random()*e.length)],r=["presente","pasado"],a=r[Math.floor(Math.random()*Math.min(t,r.length))],o=s[a]||s.presente,i=Object.keys(o),l=i[Math.floor(Math.random()*i.length)],c=o[l],u=[...new Set(Object.values(o))].filter(p=>p!==c);if(u.length<3){const p=e[Math.floor(Math.random()*e.length)],x=Object.values(p[a]||p.presente);u.push(...x.filter(g=>g!==c&&!u.includes(g)))}const m=[...u.slice(0,3),c].sort(()=>Math.random()-.5),h=a==="presente"?"presente":"pretrito";return{type:"conjugation",category:" Conjugao",question:`Conjugue "${s.infinitive.toUpperCase()}" para "${l}" (${h}):`,options:m,correct:m.indexOf(c),difficulty:t,verbTranslation:s.pt}},_X=(e,t)=>{const s=e[Math.floor(Math.random()*e.length)];return{type:"listening",category:" Escutar",question:"Escute e escreva o que ouviu em espanhol:",audioText:s.es,answer:s.es.toLowerCase().replace(/[?!.,]/g,"").trim(),translation:s.pt,difficulty:t}},SX=(e,t)=>{const s=e[Math.floor(Math.random()*e.length)];return{type:"speaking",category:" Falar",question:"Pronuncie a frase abaixo em espanhol:",textToSpeak:s.es,translation:s.pt,difficulty:t}},CX=(e,t,s)=>{const r=e[Math.floor(Math.random()*e.length)],a=r.es.split(" ").filter(u=>u.length>2);if(a.length<2)return Wx(t,s);const o=Math.floor(Math.random()*a.length),i=a[o].replace(/[?!.,]/g,""),l=r.es.replace(i,"___"),d=[...t.map(u=>u.es).filter(u=>u.toLowerCase()!==i.toLowerCase()).sort(()=>Math.random()-.5).slice(0,3),i].sort(()=>Math.random()-.5);return{type:"complete",category:" Completar",question:`Complete a frase: "${l}"`,options:d,correct:d.indexOf(i),fullPhrase:r.es,translation:r.pt,difficulty:s}},JN=(e,t=10)=>{const r=(Sd.find(u=>u.key===e)||Sd[0]).id,a=bX(r),o=vX(r),i=yX(r),l=[],c={vocabulary:r<=3?25:15,reverseVocab:r<=3?20:15,translation:20,conjugation:r>=2?15:5,listening:r>=2?10:5,speaking:r>=3?10:5,complete:10},d=[];Object.entries(c).forEach(([u,m])=>{for(let h=0;h<m;h++)d.push(u)});for(let u=0;u<t;u++){const m=d[Math.floor(Math.random()*d.length)],h=Math.min(Math.ceil(r/3),3);let p;switch(m){case"vocabulary":p=Wx(a,h);break;case"reverseVocab":p=wX(a,h);break;case"translation":p=jX(i,h);break;case"conjugation":p=NX(o,h);break;case"listening":p=_X(i,h);break;case"speaking":p=SX(i,h);break;case"complete":p=CX(i,a,h);break;default:p=Wx(a,h)}l.push(p)}return l};Object.values(EA).flat().length+Object.values(kA).flat().length+Object.values(TA).flat().length,Object.values(Fn).flat().length,Object.values(Da).flat().length,Sd.length;const EX=4,kX=EX*60*60*1e3,TX={1:"https://www.mercadopago.com.br/checkout/v1/payment/redirect/f3c6eaa5-b6df-49fa-9b56-57d35a5e4d10/payment-option-form/?source=link&preference-id=46454273-62ba8de1-a362-4b9a-9d2c-f6bd3cd45e3b&router-request-id=066b9b6b-b805-4661-842c-b61059937551&journey-id=51906597e61455698bf6fd1a7c61ec72&p=9966f0b5bace859e38fb16499917d57f",3:"https://www.mercadopago.com.br/checkout/v1/payment/redirect/b1d0ad8a-97ec-4c76-8038-ecbbdb3fb033/payment-option-form/?source=link&preference-id=46454273-12632856-ac9e-41d7-9604-8e8f89a02cda&router-request-id=d0ec8cc4-d947-481d-bf99-a1b842b5977c&journey-id=246a4deb23a21d7de63c16769fbcbd81&p=9966f0b5bace859e38fb16499917d57f",5:"https://www.mercadopago.com.br/checkout/v1/payment/redirect/7f1e1720-6e84-45bc-8023-cb921cffaf59/payment-option-form/?source=link&preference-id=46454273-697b4b3d-0e97-4de0-8a3e-004e0b106467&router-request-id=55ae5c3c-ce25-4846-a10f-d6c139a32bcb&journey-id=a5be44cb50d1405c1c14885eecdc40a9&p=9966f0b5bace859e38fb16499917d57f"},ys=(e,t)=>`quiz_${e}_${t}`,PX=()=>{const{user:e}=pr(),t=(e==null?void 0:e.id)||"anonymous",[s,r]=f.useState([]),[a,o]=f.useState(0),[i,l]=f.useState(null),[c,d]=f.useState(!1),[u,m]=f.useState({correct:0,incorrect:0,xp:0}),[h,p]=f.useState(3),[x,g]=f.useState(0),[y,b]=f.useState(0),[v,w]=f.useState(0),[j,N]=f.useState("basico1"),[C,_]=f.useState(!1),[S,O]=f.useState(0),[D,z]=f.useState(!1),[M,U]=f.useState(!1),[$,E]=f.useState({current:30,target:50}),[T,F]=f.useState(!1),[k,P]=f.useState(!1),[A,B]=f.useState(null),[L,H]=f.useState(""),[I,G]=f.useState(!1),[K,q]=f.useState(0),[X,le]=f.useState(""),[te,ie]=f.useState(!1),[Ne,Re]=f.useState(!1),[Je,V]=f.useState(null),_e=f.useRef(null);f.useEffect(()=>{if(!t||t==="anonymous")return;const Z=localStorage.getItem(ys(t,"lives"));Z&&p(parseInt(Z));const ce=localStorage.getItem(ys(t,"extraLives"));ce&&g(parseInt(ce));const ke=localStorage.getItem(ys(t,"totalXp"));ke&&w(parseInt(ke));const J=localStorage.getItem(ys(t,"level"));J&&N(J);const Se=localStorage.getItem(ys(t,"perfectLevels"));Se&&O(parseInt(Se));const Xe=localStorage.getItem(ys(t,"blockEndTime"));Xe&&B(parseInt(Xe)),F(!0)},[t]);const oe=QN.reduce((Z,ce)=>v>=ce.minXp?ce:Z,QN[0]),be=Sd.find(Z=>Z.id===parseInt(j.replace(/\D/g,""))||1)||Sd[0];f.useEffect(()=>{!t||t==="anonymous"||!T||(localStorage.setItem(ys(t,"lives"),h.toString()),localStorage.setItem(ys(t,"extraLives"),x.toString()))},[h,x,t,T]),f.useEffect(()=>{if(!t||t==="anonymous")return;const Z=localStorage.getItem(ys(t,"pendingPayment"));if(Z)try{const{qty:ce,timestamp:ke}=JSON.parse(Z);Date.now()-ke<30*60*1e3?(q(ce),G(!0)):localStorage.removeItem(ys(t,"pendingPayment"))}catch{localStorage.removeItem(ys(t,"pendingPayment"))}},[t]),f.useEffect(()=>{const Z=()=>{if(A&&Date.now()<A){P(!0);const ke=A-Date.now(),J=Math.floor(ke/(1e3*60*60)),Se=Math.floor(ke%(1e3*60*60)/(1e3*60)),Xe=Math.floor(ke%(1e3*60)/1e3);H(`${J}h ${Se}m ${Xe}s`)}else A&&Date.now()>=A&&(P(!1),B(null),t&&t!=="anonymous"&&localStorage.removeItem(ys(t,"blockEndTime")),p(3),g(0))};Z();const ce=setInterval(Z,1e3);return()=>clearInterval(ce)},[A,t]),f.useEffect(()=>{!t||t==="anonymous"||!T||(localStorage.setItem(ys(t,"totalXp"),v.toString()),localStorage.setItem(ys(t,"level"),j),localStorage.setItem(ys(t,"perfectLevels"),S.toString()))},[v,j,S,t,T]),f.useEffect(()=>{if(k||r(JN(j,10)),"webkitSpeechRecognition"in window||"SpeechRecognition"in window){const Z=window.SpeechRecognition||window.webkitSpeechRecognition;_e.current=new Z,_e.current.lang="es-ES",_e.current.continuous=!1}},[j,k]);const Ce=s[a],at=a/s.length*100,Gt=h+x,st=Z=>{if("speechSynthesis"in window){Re(!0);const ce=new SpeechSynthesisUtterance(Z);ce.lang="es-ES",ce.rate=.8,ce.onend=()=>Re(!1),window.speechSynthesis.speak(ce)}},bt=()=>{_e.current&&(ie(!0),V(null),_e.current.start(),_e.current.onresult=Z=>{const ce=Z.results[0][0].transcript.toLowerCase(),ke=Ce.textToSpeak.toLowerCase().replace(/[?!]/g,""),J=wt(ce,ke);V({transcript:ce,similarity:J,isCorrect:J>.7}),ie(!1),d(!0),J>.7?(m(Se=>({...Se,correct:Se.correct+1,xp:Se.xp+15})),b(Se=>Se+1)):(m(Se=>({...Se,incorrect:Se.incorrect+1})),mt())},_e.current.onerror=()=>ie(!1))},wt=(Z,ce)=>{const ke=Z.toLowerCase().replace(/[^a-z\s]/g,"").split(" "),J=ce.toLowerCase().replace(/[^a-z\s]/g,"").split(" ");let Se=0;return ke.forEach(Xe=>{J.includes(Xe)&&Se++}),Se/Math.max(ke.length,J.length)},mt=()=>{x>0?g(Z=>Z-1):p(Z=>Z-1),b(0)},lt=()=>{const Z=Ce.answer,ce=X.toLowerCase().replace(/[?!]/g,"").trim(),ke=wt(ce,Z)>.8;d(!0),ke?(m(J=>({...J,correct:J.correct+1,xp:J.xp+15})),b(J=>J+1)):(m(J=>({...J,incorrect:J.incorrect+1})),mt())},Mr=Z=>{if(!c)if(l(Z),d(!0),Z===Ce.correct){const ce=10+(y>=3?5:0)+Ce.difficulty*2;m(ke=>({...ke,correct:ke.correct+1,xp:ke.xp+ce})),b(ke=>ke+1),E(ke=>({...ke,current:Math.min(ke.current+ce,ke.target)}))}else m(ce=>({...ce,incorrect:ce.incorrect+1})),mt()},Ps=()=>{a<s.length-1?(o(Z=>Z+1),l(null),d(!1),le(""),V(null)):(w(Z=>Z+u.xp),u.incorrect===0?O(Z=>{const ce=Z+1;return ce>=5&&U(!0),ce}):O(0),_(!0))},Ks=()=>{const Z=Date.now()+kX;B(Z),t&&t!=="anonymous"&&localStorage.setItem(ys(t,"blockEndTime"),Z.toString()),P(!0)},ea=Z=>{t&&t!=="anonymous"&&localStorage.setItem(ys(t,"pendingPayment"),JSON.stringify({qty:Z,timestamp:Date.now()}));const ce=TX[Z];window.location.href=ce},jt=()=>{if(!t||t==="anonymous")return;const Z=localStorage.getItem(ys(t,"pendingPayment"));if(Z){const{qty:ce}=JSON.parse(Z);g(ke=>ke+ce),P(!1),B(null),localStorage.removeItem(ys(t,"blockEndTime")),localStorage.removeItem(ys(t,"pendingPayment")),G(!1),p(ke=>ke===0?3:ke)}},ar=()=>{t&&t!=="anonymous"&&localStorage.removeItem(ys(t,"pendingPayment")),G(!1)},Xs=()=>{h+x<=0||(r(JN(j,10)),o(0),l(null),d(!1),m({correct:0,incorrect:0,xp:0}),b(0),_(!1),le(""),V(null))},ue=()=>n.jsx(Wt,{open:D,onOpenChange:z,children:n.jsxs(zt,{className:"sm:max-w-md",children:[n.jsxs(Bt,{children:[n.jsxs(Ut,{className:"text-center text-2xl font-black flex items-center justify-center gap-2",children:[n.jsx(Pi,{className:"h-6 w-6 text-red-500 fill-red-500"})," Comprar Vidas"]}),n.jsx(rs,{className:"text-center",children:"Pagamento seguro via Pix ou Carto - MercadoPago"})]}),n.jsx("div",{className:"space-y-3 py-4",children:[{qty:1,price:.69},{qty:3,price:1.99,popular:!0},{qty:5,price:2.99}].map(Z=>n.jsxs(Ke.button,{whileHover:{scale:1.02},onClick:()=>ea(Z.qty),className:`w-full p-4 rounded-xl border-2 flex items-center justify-between ${Z.popular?"border-violet-500 bg-violet-50":"border-slate-200"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[[...Array(Z.qty)].map((ce,ke)=>n.jsx(Pi,{className:"h-5 w-5 text-red-500 fill-red-500 -ml-1 first:ml-0"},ke)),n.jsxs("span",{className:"font-bold",children:[Z.qty," ",Z.qty===1?"Vida":"Vidas"]}),Z.popular&&n.jsx(me,{className:"bg-violet-500 text-white",children:"Popular"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($3,{className:"h-4 w-4 text-slate-400"}),n.jsxs("span",{className:"bg-emerald-500 text-white px-3 py-1.5 rounded-lg font-bold",children:["R$ ",Z.price.toFixed(2)]})]})]},Z.qty))}),n.jsx("p",{className:"text-xs text-center text-slate-500",children:"Voc ser redirecionado para o MercadoPago"})]})}),ge=()=>n.jsx(Wt,{open:I,onOpenChange:G,children:n.jsxs(zt,{className:"sm:max-w-md",children:[n.jsxs(Bt,{children:[n.jsxs(Ut,{className:"text-center text-2xl font-black flex items-center justify-center gap-2",children:[n.jsx(dl,{className:"h-6 w-6 text-emerald-500"})," Confirmar Pagamento"]}),n.jsxs(rs,{className:"text-center",children:["Voc realizou o pagamento de ",K," ",K===1?"vida":"vidas","?"]})]}),n.jsxs("div",{className:"py-4 text-center",children:[n.jsx("div",{className:"flex justify-center mb-4",children:[...Array(K)].map((Z,ce)=>n.jsx(Pi,{className:"h-10 w-10 text-red-500 fill-red-500 -ml-2 first:ml-0"},ce))}),n.jsx("p",{className:"text-slate-600 mb-6",children:'Se voc completou o pagamento no MercadoPago, clique em "Sim, paguei!" para adicionar suas vidas.'}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(Y,{onClick:jt,className:"w-full bg-gradient-to-r from-emerald-500 to-teal-600 py-6",children:[n.jsx(dl,{className:"h-5 w-5 mr-2"})," Sim, paguei!"]}),n.jsx(Y,{variant:"outline",onClick:ar,className:"w-full",children:"No, ainda no paguei"})]})]})]})}),$e=()=>n.jsx(Wt,{open:M,onOpenChange:U,children:n.jsxs(zt,{className:"sm:max-w-md text-center",children:[n.jsx(Ke.div,{initial:{scale:0},animate:{scale:1},className:"text-7xl mx-auto",children:""}),n.jsxs(Bt,{children:[n.jsx(Ut,{className:"text-2xl font-black text-center",children:"5 Nveis Perfeitos!"}),n.jsx(rs,{className:"text-center text-lg",children:"Voc ganhou uma aula grtis!"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-amber-400 to-orange-500 rounded-xl p-6 text-white my-4",children:[n.jsx(z3,{className:"h-12 w-12 mx-auto mb-3"}),n.jsx("p",{className:"text-3xl font-black",children:"1 Aula Grtis"}),n.jsx("p",{className:"text-amber-100 text-sm",children:"30 min com professor nativo"})]}),n.jsx(Y,{onClick:()=>{U(!1),O(0)},className:"w-full bg-gradient-to-r from-violet-500 to-purple-600",children:"Receber Recompensa!"})]})});if(!T&&t&&t!=="anonymous")return n.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-8 text-center",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"text-4xl mb-4",children:""}),n.jsx("p",{className:"text-slate-600",children:"Carregando seu progresso..."})]})});if(k)return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx(ge,{}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-8 text-center",children:[n.jsx(Ke.div,{initial:{scale:0},animate:{scale:1},className:"text-6xl mb-4",children:n.jsx(G3,{className:"h-16 w-16 mx-auto text-slate-400"})}),n.jsx("h2",{className:"text-2xl font-black mb-2",children:"Quiz Bloqueado"}),n.jsx("p",{className:"text-slate-500 mb-4",children:"Voc escolheu esperar para recarregar suas vidas"}),n.jsxs("div",{className:"bg-slate-100 rounded-xl p-6 mb-6",children:[n.jsx(Bs,{className:"h-8 w-8 mx-auto text-violet-500 mb-2"}),n.jsx("p",{className:"text-3xl font-black text-violet-600",children:L}),n.jsx("p",{className:"text-sm text-slate-500",children:"para suas vidas recarregarem"})]}),n.jsx("p",{className:"text-slate-600 mb-4",children:"Ou compre vidas para continuar agora:"}),n.jsxs(Y,{onClick:()=>z(!0),className:"w-full bg-gradient-to-r from-red-500 to-pink-600 py-6",children:[n.jsx(Pi,{className:"h-5 w-5 mr-2 fill-white"})," Comprar Vidas - A partir de R$ 0,69"]})]})]});if(Gt<=0&&!k)return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx(ge,{}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-8 text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h2",{className:"text-2xl font-black mb-2",children:"Acabaram as vidas!"}),n.jsx("p",{className:"text-slate-500 mb-6",children:"Escolha uma opo para continuar"}),n.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-black text-emerald-600",children:u.correct}),n.jsx("p",{className:"text-sm",children:"Acertos"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-black text-amber-600",children:u.xp}),n.jsx("p",{className:"text-sm",children:"XP"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(Y,{onClick:()=>z(!0),className:"w-full bg-gradient-to-r from-red-500 to-pink-600 py-6",children:[n.jsx(Pi,{className:"h-5 w-5 mr-2 fill-white"})," Comprar Vidas - A partir de R$ 0,69"]}),n.jsxs(Y,{variant:"outline",onClick:Ks,className:"w-full py-6",children:[n.jsx(Bs,{className:"h-5 w-5 mr-2"})," Esperar 4 horas (Vidas grtis)"]})]})]})]});if(C){const Z=Math.round(u.correct/s.length*100);return n.jsxs(n.Fragment,{children:[n.jsx($e,{}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-8 text-center",children:[n.jsx("div",{className:"text-7xl mb-4",children:Z>=80?"":Z>=60?"":""}),n.jsx("h2",{className:"text-2xl font-black mb-2",children:Z>=80?"Excelente!":Z>=60?"Muito bem!":"Continue praticando!"}),u.incorrect===0&&n.jsxs("div",{className:"bg-amber-100 rounded-xl p-4 mb-4 border border-amber-200",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[n.jsx(F3,{className:"h-5 w-5 text-amber-600"}),n.jsx("span",{className:"font-bold text-amber-800",children:"Nvel Perfeito!"})]}),n.jsx("div",{className:"flex justify-center gap-1",children:[...Array(5)].map((ce,ke)=>n.jsx("div",{className:`w-10 h-2 rounded-full ${ke<S?"bg-amber-500":"bg-amber-200"}`},ke))}),n.jsxs("p",{className:"text-xs text-amber-600 mt-2",children:[S,"/5 para aula grtis"]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4",children:[n.jsx("p",{className:"text-3xl font-black text-emerald-600",children:u.correct}),n.jsx("p",{className:"text-sm",children:"Acertos"})]}),n.jsxs("div",{className:"bg-red-50 rounded-xl p-4",children:[n.jsx("p",{className:"text-3xl font-black text-red-500",children:u.incorrect}),n.jsx("p",{className:"text-sm",children:"Erros"})]}),n.jsxs("div",{className:"bg-amber-50 rounded-xl p-4",children:[n.jsxs("p",{className:"text-3xl font-black text-amber-600",children:["+",u.xp]}),n.jsx("p",{className:"text-sm",children:"XP"})]})]}),n.jsxs("div",{className:`bg-gradient-to-r ${oe.color} rounded-xl p-4 text-white mb-4`,children:[n.jsx("span",{className:"text-3xl mr-2",children:oe.icon}),n.jsxs("span",{className:"font-bold",children:["Liga ",oe.name,"  ",v," XP Total"]})]}),n.jsxs(Y,{onClick:Xs,className:"w-full bg-gradient-to-r from-violet-500 to-purple-600",children:[n.jsx(md,{className:"h-4 w-4 mr-2"})," Nova Lio"]})]})]})}if(!Ce)return n.jsx("div",{className:"text-center p-8",children:"Carregando..."});const Ye=()=>Ce.type==="listening"?n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx(Y,{onClick:()=>st(Ce.audioText),disabled:Ne,className:`rounded-full h-24 w-24 ${Ne?"bg-violet-400":"bg-gradient-to-br from-violet-500 to-purple-600"}`,children:n.jsx(Iw,{className:`h-12 w-12 ${Ne?"animate-pulse":""}`})})}),n.jsx("p",{className:"text-center text-slate-500",children:"Clique para ouvir e escreva"}),n.jsx("input",{type:"text",value:X,onChange:Z=>le(Z.target.value),disabled:c,placeholder:"Digite aqui...",className:"w-full px-4 py-3 rounded-xl border-2 text-center text-lg"}),!c&&n.jsx(Y,{onClick:lt,disabled:!X,className:"w-full bg-gradient-to-r from-violet-500 to-purple-600",children:"Verificar"}),c&&n.jsxs("div",{className:`p-4 rounded-xl ${wt(X.toLowerCase(),Ce.answer)>.8?"bg-emerald-100":"bg-red-100"}`,children:[n.jsx("p",{className:"font-bold",children:wt(X.toLowerCase(),Ce.answer)>.8?" Certo!":" Errado"}),n.jsxs("p",{className:"text-sm",children:["Resposta: ",n.jsx("strong",{children:Ce.audioText})]})]})]}):Ce.type==="speaking"?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-violet-50 rounded-xl p-6 text-center border border-violet-200",children:[n.jsxs("p",{className:"text-2xl font-bold text-slate-800 mb-2",children:['"',Ce.textToSpeak,'"']}),n.jsxs(Y,{variant:"ghost",onClick:()=>st(Ce.textToSpeak),className:"text-violet-600",children:[n.jsx(Iw,{className:"h-5 w-5 mr-2"})," Ouvir pronncia"]})]}),n.jsx("div",{className:"flex justify-center",children:n.jsx(Y,{onClick:bt,disabled:te||c,className:`rounded-full h-24 w-24 ${te?"bg-red-500 animate-pulse":"bg-gradient-to-br from-rose-500 to-red-600"}`,children:te?n.jsx(K3,{className:"h-12 w-12"}):n.jsx(X3,{className:"h-12 w-12"})})}),n.jsx("p",{className:"text-center text-slate-500",children:te?"Ouvindo... Fale!":"Clique e fale"}),Je&&n.jsxs("div",{className:`p-4 rounded-xl ${Je.isCorrect?"bg-emerald-100":"bg-red-100"}`,children:[n.jsx("p",{className:"font-bold",children:Je.isCorrect?" tima pronncia!":" Tente novamente"}),n.jsxs("p",{className:"text-sm",children:['Voc disse: "',Je.transcript,'"  Preciso: ',Math.round(Je.similarity*100),"%"]})]})]}):n.jsx("div",{className:"grid gap-3",children:Ce.options.map((Z,ce)=>{let ke="w-full text-left p-4 rounded-xl border-2 transition-all flex items-center gap-3";return c?ce===Ce.correct?ke+=" border-emerald-500 bg-emerald-50":ce===i?ke+=" border-red-500 bg-red-50":ke+=" border-slate-200 opacity-50":ke+=" border-slate-200 hover:border-violet-400 cursor-pointer",n.jsxs(Ke.button,{whileHover:c?{}:{scale:1.01},onClick:()=>Mr(ce),className:ke,disabled:c,children:[n.jsx("span",{className:`w-10 h-10 rounded-full font-bold flex items-center justify-center ${c&&ce===Ce.correct?"bg-emerald-500 text-white":c&&ce===i?"bg-red-500 text-white":"bg-violet-100 text-violet-600"}`,children:c&&ce===Ce.correct?n.jsx(dl,{className:"h-5 w-5"}):c&&ce===i?n.jsx(dC,{className:"h-5 w-5"}):String.fromCharCode(65+ce)}),n.jsx("span",{className:"font-medium",children:Z})]},ce)})});return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx(ge,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-gradient-to-r from-amber-400 via-orange-500 to-red-500 rounded-2xl p-4 text-white shadow-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(B3,{className:"h-6 w-6"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-sm",children:" PRMIO: 1 Aula Grtis!"}),n.jsx("p",{className:"text-xs text-amber-100",children:"5 nveis perfeitos"})]})]}),n.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((Z,ce)=>n.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-sm ${ce<S?"bg-white text-amber-500":"bg-white/30"}`,children:ce<S?"":ce+1},ce))})]})}),n.jsxs("div",{className:"bg-gradient-to-r from-violet-500 to-purple-600 rounded-xl p-3 text-white text-center",children:[n.jsx("span",{className:"text-2xl mr-2",children:(be==null?void 0:be.icon)||""}),n.jsx("span",{className:"font-bold",children:j.replace(/(\d+)/," $1").replace("basico","Bsico").replace("intermediario","Intermedirio")})]}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm border p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(3)].map((Z,ce)=>n.jsx(Pi,{className:`h-6 w-6 ${ce<h?"text-red-500 fill-red-500":"text-slate-200"}`},ce)),x>0&&n.jsxs(me,{className:"bg-red-100 text-red-600 ml-1",children:["+",x]}),n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>z(!0),className:"ml-1 h-6 w-6 p-0",children:n.jsx(eL,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(me,{className:"bg-gradient-to-r from-amber-400 to-orange-500 text-white border-0",children:[" ",y]}),n.jsxs(me,{className:`bg-gradient-to-r ${oe.color} text-white border-0`,children:[oe.icon," ",oe.name]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Qo,{className:"h-5 w-5 text-amber-500"}),n.jsxs("span",{className:"font-bold text-amber-600",children:["+",u.xp]})]})]}),n.jsxs("div",{className:"bg-slate-50 rounded-lg p-2 mb-3",children:[n.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[n.jsxs("span",{children:[n.jsx(tL,{className:"h-3 w-3 inline mr-1"}),"Meta Diria"]}),n.jsxs("span",{className:"font-bold text-emerald-600",children:[$.current,"/",$.target," XP"]})]}),n.jsx("div",{className:"bg-slate-200 rounded-full h-2",children:n.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full h-2",style:{width:`${$.current/$.target*100}%`}})})]}),n.jsx("div",{className:"bg-slate-200 rounded-full h-3",children:n.jsx(Ke.div,{initial:{width:0},animate:{width:`${at}%`},className:"bg-gradient-to-r from-violet-500 to-purple-600 rounded-full h-3"})}),n.jsxs("p",{className:"text-xs text-slate-500 mt-1 text-center",children:["Exerccio ",a+1," de ",s.length]})]}),n.jsx(ty,{mode:"wait",children:n.jsxs(Ke.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-violet-500 to-purple-600 px-6 py-3 flex items-center justify-between",children:[n.jsx("span",{className:"text-white font-medium",children:Ce.category}),n.jsx("div",{className:"flex gap-1",children:[...Array(Ce.difficulty)].map((Z,ce)=>n.jsx(aL,{className:"h-4 w-4 text-yellow-300 fill-yellow-300"},ce))})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6",children:Ce.question}),Ye(),c&&Ce.type!=="listening"&&Ce.type!=="speaking"&&n.jsxs("div",{className:`mt-6 p-4 rounded-xl ${i===Ce.correct?"bg-emerald-100":"bg-red-100"}`,children:[n.jsx("p",{className:"font-bold",children:i===Ce.correct?" Certo! ":" Errado"}),i!==Ce.correct&&n.jsxs("p",{className:"text-sm",children:["Resposta: ",n.jsx("strong",{children:Ce.options[Ce.correct]})]})]}),c&&n.jsx(Y,{onClick:Ps,className:"w-full mt-6 py-6 text-lg font-bold bg-gradient-to-r from-emerald-500 to-teal-600",children:a<s.length-1?n.jsxs(n.Fragment,{children:["Continuar ",n.jsx(oC,{className:"h-5 w-5 ml-2"})]}):n.jsxs(n.Fragment,{children:["Ver Resultados ",n.jsx(rL,{className:"h-5 w-5 ml-2"})]})})]})]},a)})]})]})},AX=()=>{const e=Ea();return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-violet-50 via-purple-50 to-indigo-50",children:[n.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-slate-100 sticky top-0 z-10",children:n.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-3 flex items-center justify-between",children:[n.jsxs(Y,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"text-slate-600 hover:text-slate-800",children:[n.jsx(i0,{className:"h-4 w-4 mr-2"}),"Voltar"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-2xl",children:""}),n.jsx("span",{className:"font-bold text-slate-800",children:"Practica Espaol"})]}),n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"text-slate-600 hover:text-slate-800",children:n.jsx(dx,{className:"h-4 w-4"})})]})}),n.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:n.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:n.jsx(PX,{})})})]})},MX=()=>{const{user:e}=pr(),{toast:t}=Pt(),[s,r]=f.useState(!1),[a,o]=f.useState(""),[i,l]=f.useState([]),[c,d]=f.useState(!1),u=f.useRef(null),[m,h]=f.useState(null),[p,x]=f.useState(null),[g,y]=f.useState(!0),b=()=>{var N;(N=u.current)==null||N.scrollIntoView({behavior:"smooth"})},v=f.useCallback(async N=>{if(!e||!N)return null;let{data:C,error:_}=await R.from("chats").select("chat_id").eq("alumno_id",e.id).eq("profesor_id",N).maybeSingle();if(_&&_.code!=="PGRST116")return console.error("Error fetching chat:",_),t({variant:"destructive",title:"Erro no Chat",description:"No foi possvel carregar a conversa."}),null;if(C)return C.chat_id;{const{data:S,error:O}=await R.from("chats").insert({alumno_id:e.id,profesor_id:N}).select("chat_id").single();return O?(console.error("Error creating chat:",O),t({variant:"destructive",title:"Erro no Chat",description:"No foi possvel iniciar uma nova conversa."}),null):S.chat_id}},[e,t]),w=f.useCallback(async()=>{if(!e||!s)return;y(!0);const{data:N,error:C}=await R.from("profiles").select("id").eq("role","professor").limit(1).maybeSingle();if(C||!N){t({variant:"destructive",title:"Erro no Chat",description:"Professor no cadastrado. No  possvel iniciar o chat."}),y(!1);return}const _=N.id;h(_);const S=await v(_);if(!S){y(!1);return}x(S);const{data:O,error:D}=await R.from("mensajes").select("*").eq("chat_id",S).order("enviado_en",{ascending:!0});D?(console.error("Error fetching messages:",D),t({variant:"destructive",title:"Erro no Chat",description:"No foi possvel carregar as mensagens."})):l(O||[]),y(!1)},[e,s,v,t]);f.useEffect(()=>{s?w():(l([]),x(null),h(null))},[s,w]),f.useEffect(()=>{if(!p)return;const N=R.channel(`chat-room-${p}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"mensajes",filter:`chat_id=eq.${p}`},C=>{C.new.remitente_id!==e.id&&l(_=>[..._,C.new])}).subscribe();return()=>{R.removeChannel(N)}},[p,e.id]),f.useEffect(b,[i]);const j=async N=>{if(N.preventDefault(),!a.trim()||!e||!p)return;d(!0);const C=a;o("");const _={mensaje_id:`temp-${Date.now()}`,chat_id:p,remitente_id:e.id,contenido:C,enviado_en:Qe().toISOString(),leido:!1};l(O=>[...O,_]);const{error:S}=await R.from("mensajes").insert({chat_id:p,remitente_id:e.id,contenido:C});S&&(t({variant:"destructive",title:"Erro ao enviar",description:S.message}),o(C),l(O=>O.filter(D=>D.mensaje_id!==_.mensaje_id))),d(!1)};return n.jsxs(Ba,{open:s,onOpenChange:r,children:[n.jsx(Ua,{asChild:!0,children:n.jsx(Ke.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:n.jsx(Y,{size:"icon",className:"rounded-full w-16 h-16 bg-sky-600 hover:bg-sky-700 shadow-lg",children:s?n.jsx(rn,{className:"h-8 w-8"}):n.jsx(kr,{className:"h-8 w-8"})})})}),n.jsx(da,{side:"top",align:"end",className:"w-80 md:w-96 p-0 border-0 rounded-2xl shadow-2xl mr-4 mb-2",sideOffset:10,children:n.jsx(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},children:n.jsxs("div",{className:"flex flex-col h-[28rem]",children:[n.jsxs("header",{className:"p-4 bg-sky-600 text-white rounded-t-2xl flex items-center gap-3",children:[n.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:n.jsx(Xo,{className:"h-6 w-6"})}),n.jsx("h3",{className:"font-bold text-lg",children:"Fale com o Professor"})]}),n.jsxs("main",{className:"flex-1 p-4 bg-slate-50 overflow-y-auto space-y-4",children:[g?n.jsx("div",{className:"flex justify-center items-center h-full",children:n.jsx(Ie,{className:"w-8 h-8 animate-spin text-sky-600"})}):i.map(N=>{const C=N.remitente_id===e.id;return n.jsx("div",{className:ee("flex",C?"justify-end":"justify-start"),children:n.jsx("div",{className:ee("rounded-lg px-4 py-2 max-w-[80%]",C?"bg-sky-600 text-white":"bg-slate-200 text-slate-800"),children:n.jsx("p",{className:"text-sm",children:N.contenido})})},N.mensaje_id)}),n.jsx("div",{ref:u}),i.length===0&&!g&&n.jsx("div",{className:"text-center text-sm text-slate-400 pt-16",children:"O histrico de mensagens aparecer aqui. Envie a primeira!"})]}),n.jsx("footer",{className:"p-4 bg-white border-t rounded-b-2xl",children:n.jsxs("form",{onSubmit:j,className:"flex items-center gap-2",children:[n.jsx(et,{type:"text",placeholder:"Digite sua mensagem...",value:a,onChange:N=>o(N.target.value),disabled:c||g||!p}),n.jsx(Y,{type:"submit",size:"icon",disabled:c||g||!a.trim()||!p,children:n.jsx(Bl,{className:"h-4 w-4"})})]})})]})})})]})},RX=()=>{const{user:e,fetchProfile:t}=pr(),[s,r]=f.useState(""),[a,o]=f.useState(""),[i,l]=f.useState(!1),{toast:c}=Pt(),d=async u=>{if(u.preventDefault(),!s||!a){c({variant:"destructive",title:"Campos obrigatrios",description:"Por favor, preencha todos os campos."});return}l(!0);const{error:m}=await R.from("profiles").update({age:parseInt(s,10),spanish_level:a}).eq("id",e.id);m?c({variant:"destructive",title:"Erro ao salvar",description:m.message}):(c({variant:"info",title:"Informaes salvas!",description:"Obrigado por completar seu perfil."}),await t(e.id)),l(!1)};return n.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:n.jsxs(Ke.div,{className:"bg-white p-8 rounded-xl shadow-2xl w-full max-w-md",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[n.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:"Quase l!"}),n.jsx("p",{className:"text-slate-500 text-center mb-6",children:"Precisamos de mais algumas informaes para personalizar sua experincia."}),n.jsxs("form",{onSubmit:d,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"age",children:"Qual  a sua idade?"}),n.jsx(et,{id:"age",type:"number",placeholder:"Ex: 25",value:s,onChange:u=>r(u.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pe,{htmlFor:"spanishLevel",children:"Qual seu nvel de espanhol?"}),n.jsxs(Mt,{onValueChange:o,value:a,children:[n.jsx(kt,{id:"spanishLevel",children:n.jsx(Rt,{placeholder:"Selecione seu nvel"})}),n.jsxs(Tt,{children:[n.jsx(ye,{value:"Iniciante",children:"Iniciante (A1/A2)"}),n.jsx(ye,{value:"Intermedirio",children:"Intermedirio (B1/B2)"}),n.jsx(ye,{value:"Avanado",children:"Avanado (C1/C2)"}),n.jsx(ye,{value:"Nenhum",children:"No tenho conhecimento"})]})]})]}),n.jsx(Y,{type:"submit",className:"w-full bg-sky-600 hover:bg-sky-700",disabled:i,children:i?"Salvando...":"Salvar e Continuar"})]})]})})},OX=()=>n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:n.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-2xl shadow-2xl border-l-4 border-red-500 animate-in fade-in zoom-in duration-300",children:[n.jsxs(Kn,{variant:"destructive",children:[n.jsx(Sa,{className:"text-xl font-bold",children:"Acesso Bloqueado"}),n.jsxs(Xn,{className:"mt-2 text-slate-700",children:["Sua conta foi marcada como ",n.jsx("strong",{children:"inativa"}),". Para reativ-la e continuar suas aulas, por favor, entre em contato com o suporte da escola."]})]}),n.jsx("a",{href:"https://wa.me/555198541835",target:"_blank",rel:"noopener noreferrer",className:"block",children:n.jsxs(Y,{className:"w-full bg-green-500 hover:bg-green-600 text-white shadow-lg text-base py-6",children:[n.jsx(kr,{className:"mr-2 h-5 w-5"}),"Falar com o Suporte (WhatsApp)"]})}),n.jsx("p",{className:"text-xs text-center text-slate-500",children:"Esta mensagem permanecer visvel at que voc entre em contato com o suporte."})]})});function DX(){const{user:e,loading:t,professorSession:s,profile:r}=pr(),a=vi();if(t)return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:n.jsx("div",{className:"text-xl font-semibold text-slate-700",children:"Carregando..."})});Vt.useEffect(()=>{if(!e||!r)return;const d=R.channel("online-users",{config:{presence:{key:e.id}}});return d.on("presence",{event:"sync"},()=>{}),d.subscribe(async u=>{u==="SUBSCRIBED"&&await d.track({user_id:e.id,full_name:r.full_name,role:r.role,avatar_url:r.avatar_url,online_at:new Date().toISOString()})}),()=>{R.removeChannel(d)}},[e,r]);const o=!["/professor-login","/professor-dashboard"].includes(a.pathname),i=e&&r&&!r.age,l=e&&(r==null?void 0:r.role)==="student";return l&&r&&r.is_active===!1?n.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[o&&n.jsx(hj,{}),n.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:n.jsx(OX,{})}),o&&n.jsx(pj,{})]}):n.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[n.jsxs(Wg,{children:[n.jsx("title",{children:"Conexin Amrica"}),n.jsx("meta",{name:"description",content:"Portal de Conexin Amrica."}),n.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),n.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"true"}),n.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap",rel:"stylesheet"})]}),o&&n.jsx(hj,{}),i&&n.jsx(RX,{}),n.jsx("main",{className:`flex-grow ${o?"container mx-auto px-4 py-8":""} ${i?"blur-sm pointer-events-none":""}`,children:n.jsx(ty,{mode:"wait",children:n.jsxs(wD,{location:a,children:[n.jsx(Kr,{path:"/",element:e?n.jsx(TN,{}):n.jsx(ta,{to:"/login"})}),n.jsx(Kr,{path:"/login",element:e?n.jsx(ta,{to:"/"}):n.jsx(WW,{})}),n.jsx(Kr,{path:"/register",element:e?n.jsx(ta,{to:"/"}):n.jsx(GW,{})}),n.jsx(Kr,{path:"/update-password",element:n.jsx(YW,{})}),n.jsx(Kr,{path:"/professor-login",element:s?n.jsx(ta,{to:"/professor-dashboard"}):n.jsx(XW,{})}),n.jsx(Kr,{path:"/professor-dashboard",element:s?n.jsx(fX,{}):n.jsx(ta,{to:"/professor-login"})}),n.jsx(Kr,{path:"/spanish-assistant",element:n.jsx(gX,{})}),n.jsx(Kr,{path:"/quiz",element:e?n.jsx(AX,{}):n.jsx(ta,{to:"/login"})}),n.jsx(Kr,{path:"/professor",element:n.jsx(ta,{to:"/professor-login"})}),n.jsx(Kr,{path:"/dashboard",element:e?n.jsx(TN,{}):n.jsx(ta,{to:"/login"})}),n.jsx(Kr,{path:"*",element:n.jsx(ta,{to:e?"/":"/login"})})]},a.pathname)})}),l&&!i&&n.jsx("div",{className:"fixed bottom-6 right-6 z-50 flex items-end gap-3",children:n.jsx(MX,{})}),o&&!i&&n.jsx(pj,{})]})}var Ly="ToastProvider",[$y,IX,LX]=ih("Toast"),[PA,kQ]=qr("Toast",[LX]),[$X,Nh]=PA(Ly),AA=e=>{const{__scopeToast:t,label:s="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=e,[l,c]=f.useState(null),[d,u]=f.useState(0),m=f.useRef(!1),h=f.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ly}\`. Expected non-empty \`string\`.`),n.jsx($y.Provider,{scope:t,children:n.jsx($X,{scope:t,label:s,duration:r,swipeDirection:a,swipeThreshold:o,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>u(p=>p+1),[]),onToastRemove:f.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:h,children:i})})};AA.displayName=Ly;var MA="ToastViewport",FX=["F8"],Gx="toast.viewportPause",Yx="toast.viewportResume",RA=f.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:r=FX,label:a="Notifications ({hotkey})",...o}=e,i=Nh(MA,s),l=IX(s),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null),m=f.useRef(null),h=it(t,m,i.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=i.toastCount>0;f.useEffect(()=>{const y=b=>{var w;r.length!==0&&r.every(j=>b[j]||b.code===j)&&((w=m.current)==null||w.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),f.useEffect(()=>{const y=c.current,b=m.current;if(x&&y&&b){const v=()=>{if(!i.isClosePausedRef.current){const C=new CustomEvent(Gx);b.dispatchEvent(C),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const C=new CustomEvent(Yx);b.dispatchEvent(C),i.isClosePausedRef.current=!1}},j=C=>{!y.contains(C.relatedTarget)&&w()},N=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",v),y.addEventListener("focusout",j),y.addEventListener("pointermove",v),y.addEventListener("pointerleave",N),window.addEventListener("blur",v),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",v),y.removeEventListener("focusout",j),y.removeEventListener("pointermove",v),y.removeEventListener("pointerleave",N),window.removeEventListener("blur",v),window.removeEventListener("focus",w)}}},[x,i.isClosePausedRef]);const g=f.useCallback(({tabbingDirection:y})=>{const v=l().map(w=>{const j=w.ref.current,N=[j,...JX(j)];return y==="forwards"?N:N.reverse()});return(y==="forwards"?v.reverse():v).flat()},[l]);return f.useEffect(()=>{const y=m.current;if(y){const b=v=>{var N,C,_;const w=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!w){const S=document.activeElement,O=v.shiftKey;if(v.target===y&&O){(N=d.current)==null||N.focus();return}const M=g({tabbingDirection:O?"backwards":"forwards"}),U=M.findIndex($=>$===S);Wp(M.slice(U+1))?v.preventDefault():O?(C=d.current)==null||C.focus():(_=u.current)==null||_.focus()}};return y.addEventListener("keydown",b),()=>y.removeEventListener("keydown",b)}},[l,g]),n.jsxs(NL,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&n.jsx(Kx,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});Wp(y)}}),n.jsx($y.Slot,{scope:s,children:n.jsx(ze.ol,{tabIndex:-1,...o,ref:h})}),x&&n.jsx(Kx,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});Wp(y)}})]})});RA.displayName=MA;var OA="ToastFocusProxy",Kx=f.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:r,...a}=e,o=Nh(OA,s);return n.jsx(dy,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var d;const l=i.relatedTarget;!((d=o.viewport)!=null&&d.contains(l))&&r()}})});Kx.displayName=OA;var Xd="Toast",VX="toast.swipeStart",zX="toast.swipeMove",BX="toast.swipeCancel",UX="toast.swipeEnd",DA=f.forwardRef((e,t)=>{const{forceMount:s,open:r,defaultOpen:a,onOpenChange:o,...i}=e,[l,c]=Gn({prop:r,defaultProp:a??!0,onChange:o,caller:Xd});return n.jsx(Ys,{present:s||l,children:n.jsx(WX,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:ps(e.onPause),onResume:ps(e.onResume),onSwipeStart:je(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:je(e.onSwipeMove,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:je(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:je(e.onSwipeEnd,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});DA.displayName=Xd;var[HX,qX]=PA(Xd,{onClose(){}}),WX=f.forwardRef((e,t)=>{const{__scopeToast:s,type:r="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:h,onSwipeEnd:p,...x}=e,g=Nh(Xd,s),[y,b]=f.useState(null),v=it(t,$=>b($)),w=f.useRef(null),j=f.useRef(null),N=a||g.duration,C=f.useRef(0),_=f.useRef(N),S=f.useRef(0),{onToastAdd:O,onToastRemove:D}=g,z=ps(()=>{var E;(y==null?void 0:y.contains(document.activeElement))&&((E=g.viewport)==null||E.focus()),i()}),M=f.useCallback($=>{!$||$===1/0||(window.clearTimeout(S.current),C.current=new Date().getTime(),S.current=window.setTimeout(z,$))},[z]);f.useEffect(()=>{const $=g.viewport;if($){const E=()=>{M(_.current),d==null||d()},T=()=>{const F=new Date().getTime()-C.current;_.current=_.current-F,window.clearTimeout(S.current),c==null||c()};return $.addEventListener(Gx,T),$.addEventListener(Yx,E),()=>{$.removeEventListener(Gx,T),$.removeEventListener(Yx,E)}}},[g.viewport,N,c,d,M]),f.useEffect(()=>{o&&!g.isClosePausedRef.current&&M(N)},[o,N,g.isClosePausedRef,M]),f.useEffect(()=>(O(),()=>D()),[O,D]);const U=f.useMemo(()=>y?BA(y):null,[y]);return g.viewport?n.jsxs(n.Fragment,{children:[U&&n.jsx(GX,{__scopeToast:s,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:U}),n.jsx(HX,{scope:s,onClose:z,children:xi.createPortal(n.jsx($y.ItemSlot,{scope:s,children:n.jsx(jL,{asChild:!0,onEscapeKeyDown:je(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||z(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(ze.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:je(e.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:je(e.onPointerDown,$=>{$.button===0&&(w.current={x:$.clientX,y:$.clientY})}),onPointerMove:je(e.onPointerMove,$=>{if(!w.current)return;const E=$.clientX-w.current.x,T=$.clientY-w.current.y,F=!!j.current,k=["left","right"].includes(g.swipeDirection),P=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,A=k?P(0,E):0,B=k?0:P(0,T),L=$.pointerType==="touch"?10:2,H={x:A,y:B},I={originalEvent:$,delta:H};F?(j.current=H,Du(zX,m,I,{discrete:!1})):ZN(H,g.swipeDirection,L)?(j.current=H,Du(VX,u,I,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(E)>L||Math.abs(T)>L)&&(w.current=null)}),onPointerUp:je(e.onPointerUp,$=>{const E=j.current,T=$.target;if(T.hasPointerCapture($.pointerId)&&T.releasePointerCapture($.pointerId),j.current=null,w.current=null,E){const F=$.currentTarget,k={originalEvent:$,delta:E};ZN(E,g.swipeDirection,g.swipeThreshold)?Du(UX,p,k,{discrete:!0}):Du(BX,h,k,{discrete:!0}),F.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),GX=e=>{const{__scopeToast:t,children:s,...r}=e,a=Nh(Xd,t),[o,i]=f.useState(!1),[l,c]=f.useState(!1);return XX(()=>i(!0)),f.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(Gl,{asChild:!0,children:n.jsx(dy,{...r,children:o&&n.jsxs(n.Fragment,{children:[a.label," ",s]})})})},YX="ToastTitle",IA=f.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(ze.div,{...r,ref:t})});IA.displayName=YX;var KX="ToastDescription",LA=f.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(ze.div,{...r,ref:t})});LA.displayName=KX;var $A="ToastAction",FA=f.forwardRef((e,t)=>{const{altText:s,...r}=e;return s.trim()?n.jsx(zA,{altText:s,asChild:!0,children:n.jsx(Fy,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${$A}\`. Expected non-empty \`string\`.`),null)});FA.displayName=$A;var VA="ToastClose",Fy=f.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e,a=qX(VA,s);return n.jsx(zA,{asChild:!0,children:n.jsx(ze.button,{type:"button",...r,ref:t,onClick:je(e.onClick,a.onClose)})})});Fy.displayName=VA;var zA=f.forwardRef((e,t)=>{const{__scopeToast:s,altText:r,...a}=e;return n.jsx(ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function BA(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),QX(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...BA(r))}}),t}function Du(e,t,s,{discrete:r}){const a=s.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),r?c0(a,o):a.dispatchEvent(o)}var ZN=(e,t,s=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),o=r>a;return t==="left"||t==="right"?o&&r>s:!o&&a>s};function XX(e=()=>{}){const t=ps(e);Ss(()=>{let s=0,r=0;return s=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(r)}},[t])}function QX(e){return e.nodeType===e.ELEMENT_NODE}function JX(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Wp(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var ZX=AA,UA=RA,HA=DA,qA=IA,WA=LA,GA=FA,YA=Fy;const eQ=ZX,KA=Vt.forwardRef(({className:e,...t},s)=>n.jsx(UA,{ref:s,className:ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));KA.displayName=UA.displayName;const tQ=Rd("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground",info:"group info border-sky-200 bg-sky-100 text-sky-800"}},defaultVariants:{variant:"default"}}),XA=Vt.forwardRef(({className:e,variant:t,...s},r)=>n.jsx(HA,{ref:r,className:ee(tQ({variant:t}),e),...s}));XA.displayName=HA.displayName;const sQ=Vt.forwardRef(({className:e,...t},s)=>n.jsx(GA,{ref:s,className:ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));sQ.displayName=GA.displayName;const QA=Vt.forwardRef(({className:e,...t},s)=>n.jsx(YA,{ref:s,className:ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 group-[.info]:text-sky-600 group-[.info]:hover:text-sky-800",e),"toast-close":"",...t,children:n.jsx(rn,{className:"h-4 w-4"})}));QA.displayName=YA.displayName;const JA=Vt.forwardRef(({className:e,...t},s)=>n.jsx(qA,{ref:s,className:ee("text-sm font-semibold",e),...t}));JA.displayName=qA.displayName;const ZA=Vt.forwardRef(({className:e,...t},s)=>n.jsx(WA,{ref:s,className:ee("text-sm opacity-90",e),...t}));ZA.displayName=WA.displayName;function rQ(){const{toasts:e}=Pt();return n.jsxs(eQ,{children:[e.map(({id:t,title:s,description:r,action:a,...o})=>n.jsxs(XA,{...o,children:[n.jsxs("div",{className:"grid gap-1",children:[s&&n.jsx(JA,{children:s}),r&&n.jsx(ZA,{children:r})]}),a,n.jsx(QA,{})]},t)),n.jsx(KA,{})]})}Gp.createRoot(document.getElementById("root")).render(n.jsx(n.Fragment,{children:n.jsx(kD,{children:n.jsxs(HI,{children:[n.jsx(DX,{}),n.jsx(rQ,{})]})})}));
