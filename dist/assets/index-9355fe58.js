var VA=Object.defineProperty;var BA=(e,t,s)=>t in e?VA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Ee=(e,t,s)=>(BA(e,typeof t!="symbol"?t+"":t,s),s);function V1(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();var Ks=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ti(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zA(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(s,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),s}var B1={exports:{}},rh={},z1={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gd=Symbol.for("react.element"),UA=Symbol.for("react.portal"),HA=Symbol.for("react.fragment"),WA=Symbol.for("react.strict_mode"),qA=Symbol.for("react.profiler"),GA=Symbol.for("react.provider"),YA=Symbol.for("react.context"),KA=Symbol.for("react.forward_ref"),XA=Symbol.for("react.suspense"),QA=Symbol.for("react.memo"),JA=Symbol.for("react.lazy"),Ay=Symbol.iterator;function ZA(e){return e===null||typeof e!="object"?null:(e=Ay&&e[Ay]||e["@@iterator"],typeof e=="function"?e:null)}var U1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H1=Object.assign,W1={};function _l(e,t,s){this.props=e,this.context=t,this.refs=W1,this.updater=s||U1}_l.prototype.isReactComponent={};_l.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_l.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function q1(){}q1.prototype=_l.prototype;function Bx(e,t,s){this.props=e,this.context=t,this.refs=W1,this.updater=s||U1}var zx=Bx.prototype=new q1;zx.constructor=Bx;H1(zx,_l.prototype);zx.isPureReactComponent=!0;var My=Array.isArray,G1=Object.prototype.hasOwnProperty,Ux={current:null},Y1={key:!0,ref:!0,__self:!0,__source:!0};function K1(e,t,s){var r,a={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)G1.call(t,r)&&!Y1.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:gd,type:e,key:o,ref:i,props:a,_owner:Ux.current}}function eM(e,t){return{$$typeof:gd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hx(e){return typeof e=="object"&&e!==null&&e.$$typeof===gd}function tM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Ry=/\/+/g;function wm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tM(""+e.key):t.toString(36)}function Cu(e,t,s,r,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case gd:case UA:i=!0}}if(i)return i=e,a=a(i),e=r===""?"."+wm(i,0):r,My(a)?(s="",e!=null&&(s=e.replace(Ry,"$&/")+"/"),Cu(a,t,s,"",function(d){return d})):a!=null&&(Hx(a)&&(a=eM(a,s+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Ry,"$&/")+"/")+e)),t.push(a)),1;if(i=0,r=r===""?".":r+":",My(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+wm(o,l);i+=Cu(o,t,s,c,a)}else if(c=ZA(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+wm(o,l++),i+=Cu(o,t,s,c,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ud(e,t,s){if(e==null)return e;var r=[],a=0;return Cu(e,r,"","",function(o){return t.call(s,o,a++)}),r}function sM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var or={current:null},ku={transition:null},rM={ReactCurrentDispatcher:or,ReactCurrentBatchConfig:ku,ReactCurrentOwner:Ux};function X1(){throw Error("act(...) is not supported in production builds of React.")}it.Children={map:Ud,forEach:function(e,t,s){Ud(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Ud(e,function(){t++}),t},toArray:function(e){return Ud(e,function(t){return t})||[]},only:function(e){if(!Hx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};it.Component=_l;it.Fragment=HA;it.Profiler=qA;it.PureComponent=Bx;it.StrictMode=WA;it.Suspense=XA;it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rM;it.act=X1;it.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=H1({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Ux.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)G1.call(t,c)&&!Y1.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:gd,type:e.type,key:a,ref:o,props:r,_owner:i}};it.createContext=function(e){return e={$$typeof:YA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:GA,_context:e},e.Consumer=e};it.createElement=K1;it.createFactory=function(e){var t=K1.bind(null,e);return t.type=e,t};it.createRef=function(){return{current:null}};it.forwardRef=function(e){return{$$typeof:KA,render:e}};it.isValidElement=Hx;it.lazy=function(e){return{$$typeof:JA,_payload:{_status:-1,_result:e},_init:sM}};it.memo=function(e,t){return{$$typeof:QA,type:e,compare:t===void 0?null:t}};it.startTransition=function(e){var t=ku.transition;ku.transition={};try{e()}finally{ku.transition=t}};it.unstable_act=X1;it.useCallback=function(e,t){return or.current.useCallback(e,t)};it.useContext=function(e){return or.current.useContext(e)};it.useDebugValue=function(){};it.useDeferredValue=function(e){return or.current.useDeferredValue(e)};it.useEffect=function(e,t){return or.current.useEffect(e,t)};it.useId=function(){return or.current.useId()};it.useImperativeHandle=function(e,t,s){return or.current.useImperativeHandle(e,t,s)};it.useInsertionEffect=function(e,t){return or.current.useInsertionEffect(e,t)};it.useLayoutEffect=function(e,t){return or.current.useLayoutEffect(e,t)};it.useMemo=function(e,t){return or.current.useMemo(e,t)};it.useReducer=function(e,t,s){return or.current.useReducer(e,t,s)};it.useRef=function(e){return or.current.useRef(e)};it.useState=function(e){return or.current.useState(e)};it.useSyncExternalStore=function(e,t,s){return or.current.useSyncExternalStore(e,t,s)};it.useTransition=function(){return or.current.useTransition()};it.version="18.3.1";z1.exports=it;var f=z1.exports;const Kt=ti(f),nh=V1({__proto__:null,default:Kt},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nM=f,aM=Symbol.for("react.element"),oM=Symbol.for("react.fragment"),iM=Object.prototype.hasOwnProperty,lM=nM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cM={key:!0,ref:!0,__self:!0,__source:!0};function Q1(e,t,s){var r,a={},o=null,i=null;s!==void 0&&(o=""+s),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)iM.call(t,r)&&!cM.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:aM,type:e,key:o,ref:i,props:a,_owner:lM.current}}rh.Fragment=oM;rh.jsx=Q1;rh.jsxs=Q1;B1.exports=rh;var n=B1.exports,Vp={},J1={exports:{}},Mr={},Z1={exports:{}},eN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,E){var T=k.length;k.push(E);e:for(;0<T;){var z=T-1>>>1,O=k[z];if(0<a(O,E))k[z]=E,k[T]=O,T=z;else break e}}function s(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var E=k[0],T=k.pop();if(T!==E){k[0]=T;e:for(var z=0,O=k.length,q=O>>>1;z<q;){var L=2*(z+1)-1,G=k[L],B=L+1,H=k[B];if(0>a(G,T))B<O&&0>a(H,G)?(k[z]=H,k[B]=T,z=B):(k[z]=G,k[L]=T,z=L);else if(B<O&&0>a(H,T))k[z]=H,k[B]=T,z=B;else break e}}return E}function a(k,E){var T=k.sortIndex-E.sortIndex;return T!==0?T:k.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,h=null,m=3,p=!1,x=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(k){for(var E=s(d);E!==null;){if(E.callback===null)r(d);else if(E.startTime<=k)r(d),E.sortIndex=E.expirationTime,t(c,E);else break;E=s(d)}}function j(k){if(g=!1,y(k),!x)if(s(c)!==null)x=!0,A(_);else{var E=s(d);E!==null&&V(j,E.startTime-k)}}function _(k,E){x=!1,g&&(g=!1,b(S),S=-1),p=!0;var T=m;try{for(y(E),h=s(c);h!==null&&(!(h.expirationTime>E)||k&&!W());){var z=h.callback;if(typeof z=="function"){h.callback=null,m=h.priorityLevel;var O=z(h.expirationTime<=E);E=e.unstable_now(),typeof O=="function"?h.callback=O:h===s(c)&&r(c),y(E)}else r(c);h=s(c)}if(h!==null)var q=!0;else{var L=s(d);L!==null&&V(j,L.startTime-E),q=!1}return q}finally{h=null,m=T,p=!1}}var C=!1,N=null,S=-1,M=5,$=-1;function W(){return!(e.unstable_now()-$<M)}function R(){if(N!==null){var k=e.unstable_now();$=k;var E=!0;try{E=N(!0,k)}finally{E?Y():(C=!1,N=null)}}else C=!1}var Y;if(typeof v=="function")Y=function(){v(R)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,P=D.port2;D.port1.onmessage=R,Y=function(){P.postMessage(null)}}else Y=function(){w(R,0)};function A(k){N=k,C||(C=!0,Y())}function V(k,E){S=w(function(){k(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,A(_))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(k){switch(m){case 1:case 2:case 3:var E=3;break;default:E=m}var T=m;m=E;try{return k()}finally{m=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,E){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var T=m;m=k;try{return E()}finally{m=T}},e.unstable_scheduleCallback=function(k,E,T){var z=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?z+T:z):T=z,k){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=T+O,k={id:u++,callback:E,priorityLevel:k,startTime:T,expirationTime:O,sortIndex:-1},T>z?(k.sortIndex=T,t(d,k),s(c)===null&&k===s(d)&&(g?(b(S),S=-1):g=!0,V(j,T-z))):(k.sortIndex=O,t(c,k),x||p||(x=!0,A(_))),k},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(k){var E=m;return function(){var T=m;m=E;try{return k.apply(this,arguments)}finally{m=T}}}})(eN);Z1.exports=eN;var dM=Z1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uM=f,Tr=dM;function de(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tN=new Set,Rc={};function si(e,t){sl(e,t),sl(e+"Capture",t)}function sl(e,t){for(Rc[e]=t,e=0;e<t.length;e++)tN.add(t[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bp=Object.prototype.hasOwnProperty,fM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Oy={},Dy={};function hM(e){return Bp.call(Dy,e)?!0:Bp.call(Oy,e)?!1:fM.test(e)?Dy[e]=!0:(Oy[e]=!0,!1)}function mM(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pM(e,t,s,r){if(t===null||typeof t>"u"||mM(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ir(e,t,s,r,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var zs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){zs[e]=new ir(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];zs[t]=new ir(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){zs[e]=new ir(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){zs[e]=new ir(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){zs[e]=new ir(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){zs[e]=new ir(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){zs[e]=new ir(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){zs[e]=new ir(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){zs[e]=new ir(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wx=/[\-:]([a-z])/g;function qx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wx,qx);zs[t]=new ir(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wx,qx);zs[t]=new ir(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wx,qx);zs[t]=new ir(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){zs[e]=new ir(e,1,!1,e.toLowerCase(),null,!1,!1)});zs.xlinkHref=new ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){zs[e]=new ir(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gx(e,t,s,r){var a=zs.hasOwnProperty(t)?zs[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pM(t,s,a,r)&&(s=null),r||a===null?hM(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,r=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var ga=uM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hd=Symbol.for("react.element"),ki=Symbol.for("react.portal"),Ei=Symbol.for("react.fragment"),Yx=Symbol.for("react.strict_mode"),zp=Symbol.for("react.profiler"),sN=Symbol.for("react.provider"),rN=Symbol.for("react.context"),Kx=Symbol.for("react.forward_ref"),Up=Symbol.for("react.suspense"),Hp=Symbol.for("react.suspense_list"),Xx=Symbol.for("react.memo"),ka=Symbol.for("react.lazy"),nN=Symbol.for("react.offscreen"),Iy=Symbol.iterator;function Bl(e){return e===null||typeof e!="object"?null:(e=Iy&&e[Iy]||e["@@iterator"],typeof e=="function"?e:null)}var rs=Object.assign,bm;function ic(e){if(bm===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);bm=t&&t[1]||""}return`
`+bm+e}var jm=!1;function Nm(e,t){if(!e||jm)return"";jm=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),o=r.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{jm=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?ic(e):""}function gM(e){switch(e.tag){case 5:return ic(e.type);case 16:return ic("Lazy");case 13:return ic("Suspense");case 19:return ic("SuspenseList");case 0:case 2:case 15:return e=Nm(e.type,!1),e;case 11:return e=Nm(e.type.render,!1),e;case 1:return e=Nm(e.type,!0),e;default:return""}}function Wp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ei:return"Fragment";case ki:return"Portal";case zp:return"Profiler";case Yx:return"StrictMode";case Up:return"Suspense";case Hp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rN:return(e.displayName||"Context")+".Consumer";case sN:return(e._context.displayName||"Context")+".Provider";case Kx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xx:return t=e.displayName||null,t!==null?t:Wp(e.type)||"Memo";case ka:t=e._payload,e=e._init;try{return Wp(e(t))}catch{}}return null}function xM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wp(t);case 8:return t===Yx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function to(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function aN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vM(e){var t=aN(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,o=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wd(e){e._valueTracker||(e._valueTracker=vM(e))}function oN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=aN(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function Qu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qp(e,t){var s=t.checked;return rs({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Ly(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=to(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iN(e,t){t=t.checked,t!=null&&Gx(e,"checked",t,!1)}function Gp(e,t){iN(e,t);var s=to(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Yp(e,t.type,s):t.hasOwnProperty("defaultValue")&&Yp(e,t.type,to(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $y(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Yp(e,t,s){(t!=="number"||Qu(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var lc=Array.isArray;function Wi(e,t,s,r){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&r&&(e[s].defaultSelected=!0)}else{for(s=""+to(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Kp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(de(91));return rs({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fy(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(de(92));if(lc(s)){if(1<s.length)throw Error(de(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:to(s)}}function lN(e,t){var s=to(t.value),r=to(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function Vy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qd,dN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qd=qd||document.createElement("div"),qd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Oc(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var pc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yM=["Webkit","ms","Moz","O"];Object.keys(pc).forEach(function(e){yM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pc[t]=pc[e]})});function uN(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||pc.hasOwnProperty(e)&&pc[e]?(""+t).trim():t+"px"}function fN(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,a=uN(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,a):e[s]=a}}var wM=rs({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qp(e,t){if(t){if(wM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(de(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(de(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(de(61))}if(t.style!=null&&typeof t.style!="object")throw Error(de(62))}}function Jp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zp=null;function Qx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var eg=null,qi=null,Gi=null;function By(e){if(e=yd(e)){if(typeof eg!="function")throw Error(de(280));var t=e.stateNode;t&&(t=ch(t),eg(e.stateNode,e.type,t))}}function hN(e){qi?Gi?Gi.push(e):Gi=[e]:qi=e}function mN(){if(qi){var e=qi,t=Gi;if(Gi=qi=null,By(e),t)for(e=0;e<t.length;e++)By(t[e])}}function pN(e,t){return e(t)}function gN(){}var _m=!1;function xN(e,t,s){if(_m)return e(t,s);_m=!0;try{return pN(e,t,s)}finally{_m=!1,(qi!==null||Gi!==null)&&(gN(),mN())}}function Dc(e,t){var s=e.stateNode;if(s===null)return null;var r=ch(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(de(231,t,typeof s));return s}var tg=!1;if(ia)try{var zl={};Object.defineProperty(zl,"passive",{get:function(){tg=!0}}),window.addEventListener("test",zl,zl),window.removeEventListener("test",zl,zl)}catch{tg=!1}function bM(e,t,s,r,a,o,i,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(u){this.onError(u)}}var gc=!1,Ju=null,Zu=!1,sg=null,jM={onError:function(e){gc=!0,Ju=e}};function NM(e,t,s,r,a,o,i,l,c){gc=!1,Ju=null,bM.apply(jM,arguments)}function _M(e,t,s,r,a,o,i,l,c){if(NM.apply(this,arguments),gc){if(gc){var d=Ju;gc=!1,Ju=null}else throw Error(de(198));Zu||(Zu=!0,sg=d)}}function ri(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function vN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zy(e){if(ri(e)!==e)throw Error(de(188))}function SM(e){var t=e.alternate;if(!t){if(t=ri(e),t===null)throw Error(de(188));return t!==e?null:e}for(var s=e,r=t;;){var a=s.return;if(a===null)break;var o=a.alternate;if(o===null){if(r=a.return,r!==null){s=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===s)return zy(a),e;if(o===r)return zy(a),t;o=o.sibling}throw Error(de(188))}if(s.return!==r.return)s=a,r=o;else{for(var i=!1,l=a.child;l;){if(l===s){i=!0,s=a,r=o;break}if(l===r){i=!0,r=a,s=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===s){i=!0,s=o,r=a;break}if(l===r){i=!0,r=o,s=a;break}l=l.sibling}if(!i)throw Error(de(189))}}if(s.alternate!==r)throw Error(de(190))}if(s.tag!==3)throw Error(de(188));return s.stateNode.current===s?e:t}function yN(e){return e=SM(e),e!==null?wN(e):null}function wN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wN(e);if(t!==null)return t;e=e.sibling}return null}var bN=Tr.unstable_scheduleCallback,Uy=Tr.unstable_cancelCallback,CM=Tr.unstable_shouldYield,kM=Tr.unstable_requestPaint,gs=Tr.unstable_now,EM=Tr.unstable_getCurrentPriorityLevel,Jx=Tr.unstable_ImmediatePriority,jN=Tr.unstable_UserBlockingPriority,ef=Tr.unstable_NormalPriority,PM=Tr.unstable_LowPriority,NN=Tr.unstable_IdlePriority,ah=null,Rn=null;function TM(e){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(ah,e,void 0,(e.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:RM,AM=Math.log,MM=Math.LN2;function RM(e){return e>>>=0,e===0?32:31-(AM(e)/MM|0)|0}var Gd=64,Yd=4194304;function cc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tf(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=s&268435455;if(i!==0){var l=i&~a;l!==0?r=cc(l):(o&=i,o!==0&&(r=cc(o)))}else i=s&~a,i!==0?r=cc(i):o!==0&&(r=cc(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-fn(t),a=1<<s,r|=e[s],t&=~a;return r}function OM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DM(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-fn(o),l=1<<i,c=a[i];c===-1?(!(l&s)||l&r)&&(a[i]=OM(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function rg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _N(){var e=Gd;return Gd<<=1,!(Gd&4194240)&&(Gd=64),e}function Sm(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function xd(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fn(t),e[t]=s}function IM(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-fn(s),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,s&=~o}}function Zx(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-fn(s),a=1<<r;a&t|e[r]&t&&(e[r]|=t),s&=~a}}var St=0;function SN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var CN,ev,kN,EN,PN,ng=!1,Kd=[],Va=null,Ba=null,za=null,Ic=new Map,Lc=new Map,Aa=[],LM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hy(e,t){switch(e){case"focusin":case"focusout":Va=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":Ic.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lc.delete(t.pointerId)}}function Ul(e,t,s,r,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},t!==null&&(t=yd(t),t!==null&&ev(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function $M(e,t,s,r,a){switch(t){case"focusin":return Va=Ul(Va,e,t,s,r,a),!0;case"dragenter":return Ba=Ul(Ba,e,t,s,r,a),!0;case"mouseover":return za=Ul(za,e,t,s,r,a),!0;case"pointerover":var o=a.pointerId;return Ic.set(o,Ul(Ic.get(o)||null,e,t,s,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Lc.set(o,Ul(Lc.get(o)||null,e,t,s,r,a)),!0}return!1}function TN(e){var t=Ro(e.target);if(t!==null){var s=ri(t);if(s!==null){if(t=s.tag,t===13){if(t=vN(s),t!==null){e.blockedOn=t,PN(e.priority,function(){kN(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Eu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=ag(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);Zp=r,s.target.dispatchEvent(r),Zp=null}else return t=yd(s),t!==null&&ev(t),e.blockedOn=s,!1;t.shift()}return!0}function Wy(e,t,s){Eu(e)&&s.delete(t)}function FM(){ng=!1,Va!==null&&Eu(Va)&&(Va=null),Ba!==null&&Eu(Ba)&&(Ba=null),za!==null&&Eu(za)&&(za=null),Ic.forEach(Wy),Lc.forEach(Wy)}function Hl(e,t){e.blockedOn===t&&(e.blockedOn=null,ng||(ng=!0,Tr.unstable_scheduleCallback(Tr.unstable_NormalPriority,FM)))}function $c(e){function t(a){return Hl(a,e)}if(0<Kd.length){Hl(Kd[0],e);for(var s=1;s<Kd.length;s++){var r=Kd[s];r.blockedOn===e&&(r.blockedOn=null)}}for(Va!==null&&Hl(Va,e),Ba!==null&&Hl(Ba,e),za!==null&&Hl(za,e),Ic.forEach(t),Lc.forEach(t),s=0;s<Aa.length;s++)r=Aa[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<Aa.length&&(s=Aa[0],s.blockedOn===null);)TN(s),s.blockedOn===null&&Aa.shift()}var Yi=ga.ReactCurrentBatchConfig,sf=!0;function VM(e,t,s,r){var a=St,o=Yi.transition;Yi.transition=null;try{St=1,tv(e,t,s,r)}finally{St=a,Yi.transition=o}}function BM(e,t,s,r){var a=St,o=Yi.transition;Yi.transition=null;try{St=4,tv(e,t,s,r)}finally{St=a,Yi.transition=o}}function tv(e,t,s,r){if(sf){var a=ag(e,t,s,r);if(a===null)Dm(e,t,r,rf,s),Hy(e,r);else if($M(a,e,t,s,r))r.stopPropagation();else if(Hy(e,r),t&4&&-1<LM.indexOf(e)){for(;a!==null;){var o=yd(a);if(o!==null&&CN(o),o=ag(e,t,s,r),o===null&&Dm(e,t,r,rf,s),o===a)break;a=o}a!==null&&r.stopPropagation()}else Dm(e,t,r,null,s)}}var rf=null;function ag(e,t,s,r){if(rf=null,e=Qx(r),e=Ro(e),e!==null)if(t=ri(e),t===null)e=null;else if(s=t.tag,s===13){if(e=vN(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rf=e,null}function AN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EM()){case Jx:return 1;case jN:return 4;case ef:case PM:return 16;case NN:return 536870912;default:return 16}default:return 16}}var Ia=null,sv=null,Pu=null;function MN(){if(Pu)return Pu;var e,t=sv,s=t.length,r,a="value"in Ia?Ia.value:Ia.textContent,o=a.length;for(e=0;e<s&&t[e]===a[e];e++);var i=s-e;for(r=1;r<=i&&t[s-r]===a[o-r];r++);return Pu=a.slice(e,1<r?1-r:void 0)}function Tu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xd(){return!0}function qy(){return!1}function Rr(e){function t(s,r,a,o,i){this._reactName=s,this._targetInst=a,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Xd:qy,this.isPropagationStopped=qy,this}return rs(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Xd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Xd)},persist:function(){},isPersistent:Xd}),t}var Sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rv=Rr(Sl),vd=rs({},Sl,{view:0,detail:0}),zM=Rr(vd),Cm,km,Wl,oh=rs({},vd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wl&&(Wl&&e.type==="mousemove"?(Cm=e.screenX-Wl.screenX,km=e.screenY-Wl.screenY):km=Cm=0,Wl=e),Cm)},movementY:function(e){return"movementY"in e?e.movementY:km}}),Gy=Rr(oh),UM=rs({},oh,{dataTransfer:0}),HM=Rr(UM),WM=rs({},vd,{relatedTarget:0}),Em=Rr(WM),qM=rs({},Sl,{animationName:0,elapsedTime:0,pseudoElement:0}),GM=Rr(qM),YM=rs({},Sl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),KM=Rr(YM),XM=rs({},Sl,{data:0}),Yy=Rr(XM),QM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ZM[e])?!!t[e]:!1}function nv(){return eR}var tR=rs({},vd,{key:function(e){if(e.key){var t=QM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?JM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nv,charCode:function(e){return e.type==="keypress"?Tu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sR=Rr(tR),rR=rs({},oh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ky=Rr(rR),nR=rs({},vd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nv}),aR=Rr(nR),oR=rs({},Sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),iR=Rr(oR),lR=rs({},oh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cR=Rr(lR),dR=[9,13,27,32],av=ia&&"CompositionEvent"in window,xc=null;ia&&"documentMode"in document&&(xc=document.documentMode);var uR=ia&&"TextEvent"in window&&!xc,RN=ia&&(!av||xc&&8<xc&&11>=xc),Xy=String.fromCharCode(32),Qy=!1;function ON(e,t){switch(e){case"keyup":return dR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pi=!1;function fR(e,t){switch(e){case"compositionend":return DN(t);case"keypress":return t.which!==32?null:(Qy=!0,Xy);case"textInput":return e=t.data,e===Xy&&Qy?null:e;default:return null}}function hR(e,t){if(Pi)return e==="compositionend"||!av&&ON(e,t)?(e=MN(),Pu=sv=Ia=null,Pi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return RN&&t.locale!=="ko"?null:t.data;default:return null}}var mR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mR[e.type]:t==="textarea"}function IN(e,t,s,r){hN(r),t=nf(t,"onChange"),0<t.length&&(s=new rv("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var vc=null,Fc=null;function pR(e){GN(e,0)}function ih(e){var t=Mi(e);if(oN(t))return e}function gR(e,t){if(e==="change")return t}var LN=!1;if(ia){var Pm;if(ia){var Tm="oninput"in document;if(!Tm){var Zy=document.createElement("div");Zy.setAttribute("oninput","return;"),Tm=typeof Zy.oninput=="function"}Pm=Tm}else Pm=!1;LN=Pm&&(!document.documentMode||9<document.documentMode)}function ew(){vc&&(vc.detachEvent("onpropertychange",$N),Fc=vc=null)}function $N(e){if(e.propertyName==="value"&&ih(Fc)){var t=[];IN(t,Fc,e,Qx(e)),xN(pR,t)}}function xR(e,t,s){e==="focusin"?(ew(),vc=t,Fc=s,vc.attachEvent("onpropertychange",$N)):e==="focusout"&&ew()}function vR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ih(Fc)}function yR(e,t){if(e==="click")return ih(t)}function wR(e,t){if(e==="input"||e==="change")return ih(t)}function bR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mn=typeof Object.is=="function"?Object.is:bR;function Vc(e,t){if(mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var a=s[r];if(!Bp.call(t,a)||!mn(e[a],t[a]))return!1}return!0}function tw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sw(e,t){var s=tw(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=tw(s)}}function FN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?FN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function VN(){for(var e=window,t=Qu();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Qu(e.document)}return t}function ov(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function jR(e){var t=VN(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&FN(s.ownerDocument.documentElement,s)){if(r!==null&&ov(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,o=Math.min(r.start,a);r=r.end===void 0?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=sw(s,o);var i=sw(s,r);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var NR=ia&&"documentMode"in document&&11>=document.documentMode,Ti=null,og=null,yc=null,ig=!1;function rw(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ig||Ti==null||Ti!==Qu(r)||(r=Ti,"selectionStart"in r&&ov(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yc&&Vc(yc,r)||(yc=r,r=nf(og,"onSelect"),0<r.length&&(t=new rv("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=Ti)))}function Qd(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Ai={animationend:Qd("Animation","AnimationEnd"),animationiteration:Qd("Animation","AnimationIteration"),animationstart:Qd("Animation","AnimationStart"),transitionend:Qd("Transition","TransitionEnd")},Am={},BN={};ia&&(BN=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);function lh(e){if(Am[e])return Am[e];if(!Ai[e])return e;var t=Ai[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in BN)return Am[e]=t[s];return e}var zN=lh("animationend"),UN=lh("animationiteration"),HN=lh("animationstart"),WN=lh("transitionend"),qN=new Map,nw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function co(e,t){qN.set(e,t),si(t,[e])}for(var Mm=0;Mm<nw.length;Mm++){var Rm=nw[Mm],_R=Rm.toLowerCase(),SR=Rm[0].toUpperCase()+Rm.slice(1);co(_R,"on"+SR)}co(zN,"onAnimationEnd");co(UN,"onAnimationIteration");co(HN,"onAnimationStart");co("dblclick","onDoubleClick");co("focusin","onFocus");co("focusout","onBlur");co(WN,"onTransitionEnd");sl("onMouseEnter",["mouseout","mouseover"]);sl("onMouseLeave",["mouseout","mouseover"]);sl("onPointerEnter",["pointerout","pointerover"]);sl("onPointerLeave",["pointerout","pointerover"]);si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));si("onBeforeInput",["compositionend","keypress","textInput","paste"]);si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CR=new Set("cancel close invalid load scroll toggle".split(" ").concat(dc));function aw(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,_M(r,t,void 0,e),e.currentTarget=null}function GN(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==o&&a.isPropagationStopped())break e;aw(a,l,d),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==o&&a.isPropagationStopped())break e;aw(a,l,d),o=c}}}if(Zu)throw e=sg,Zu=!1,sg=null,e}function $t(e,t){var s=t[fg];s===void 0&&(s=t[fg]=new Set);var r=e+"__bubble";s.has(r)||(YN(t,e,2,!1),s.add(r))}function Om(e,t,s){var r=0;t&&(r|=4),YN(s,e,r,t)}var Jd="_reactListening"+Math.random().toString(36).slice(2);function Bc(e){if(!e[Jd]){e[Jd]=!0,tN.forEach(function(s){s!=="selectionchange"&&(CR.has(s)||Om(s,!1,e),Om(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jd]||(t[Jd]=!0,Om("selectionchange",!1,t))}}function YN(e,t,s,r){switch(AN(t)){case 1:var a=VM;break;case 4:a=BM;break;default:a=tv}s=a.bind(null,t,s,e),a=void 0,!tg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function Dm(e,t,s,r,a){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=Ro(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}xN(function(){var d=o,u=Qx(s),h=[];e:{var m=qN.get(e);if(m!==void 0){var p=rv,x=e;switch(e){case"keypress":if(Tu(s)===0)break e;case"keydown":case"keyup":p=sR;break;case"focusin":x="focus",p=Em;break;case"focusout":x="blur",p=Em;break;case"beforeblur":case"afterblur":p=Em;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Gy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=HM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=aR;break;case zN:case UN:case HN:p=GM;break;case WN:p=iR;break;case"scroll":p=zM;break;case"wheel":p=cR;break;case"copy":case"cut":case"paste":p=KM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ky}var g=(t&4)!==0,w=!g&&e==="scroll",b=g?m!==null?m+"Capture":null:m;g=[];for(var v=d,y;v!==null;){y=v;var j=y.stateNode;if(y.tag===5&&j!==null&&(y=j,b!==null&&(j=Dc(v,b),j!=null&&g.push(zc(v,j,y)))),w)break;v=v.return}0<g.length&&(m=new p(m,x,null,s,u),h.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&s!==Zp&&(x=s.relatedTarget||s.fromElement)&&(Ro(x)||x[la]))break e;if((p||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,p?(x=s.relatedTarget||s.toElement,p=d,x=x?Ro(x):null,x!==null&&(w=ri(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=d),p!==x)){if(g=Gy,j="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=Ky,j="onPointerLeave",b="onPointerEnter",v="pointer"),w=p==null?m:Mi(p),y=x==null?m:Mi(x),m=new g(j,v+"leave",p,s,u),m.target=w,m.relatedTarget=y,j=null,Ro(u)===d&&(g=new g(b,v+"enter",x,s,u),g.target=y,g.relatedTarget=w,j=g),w=j,p&&x)t:{for(g=p,b=x,v=0,y=g;y;y=mi(y))v++;for(y=0,j=b;j;j=mi(j))y++;for(;0<v-y;)g=mi(g),v--;for(;0<y-v;)b=mi(b),y--;for(;v--;){if(g===b||b!==null&&g===b.alternate)break t;g=mi(g),b=mi(b)}g=null}else g=null;p!==null&&ow(h,m,p,g,!1),x!==null&&w!==null&&ow(h,w,x,g,!0)}}e:{if(m=d?Mi(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var _=gR;else if(Jy(m))if(LN)_=wR;else{_=vR;var C=xR}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=yR);if(_&&(_=_(e,d))){IN(h,_,s,u);break e}C&&C(e,m,d),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&Yp(m,"number",m.value)}switch(C=d?Mi(d):window,e){case"focusin":(Jy(C)||C.contentEditable==="true")&&(Ti=C,og=d,yc=null);break;case"focusout":yc=og=Ti=null;break;case"mousedown":ig=!0;break;case"contextmenu":case"mouseup":case"dragend":ig=!1,rw(h,s,u);break;case"selectionchange":if(NR)break;case"keydown":case"keyup":rw(h,s,u)}var N;if(av)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Pi?ON(e,s)&&(S="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(S="onCompositionStart");S&&(RN&&s.locale!=="ko"&&(Pi||S!=="onCompositionStart"?S==="onCompositionEnd"&&Pi&&(N=MN()):(Ia=u,sv="value"in Ia?Ia.value:Ia.textContent,Pi=!0)),C=nf(d,S),0<C.length&&(S=new Yy(S,e,null,s,u),h.push({event:S,listeners:C}),N?S.data=N:(N=DN(s),N!==null&&(S.data=N)))),(N=uR?fR(e,s):hR(e,s))&&(d=nf(d,"onBeforeInput"),0<d.length&&(u=new Yy("onBeforeInput","beforeinput",null,s,u),h.push({event:u,listeners:d}),u.data=N))}GN(h,t)})}function zc(e,t,s){return{instance:e,listener:t,currentTarget:s}}function nf(e,t){for(var s=t+"Capture",r=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Dc(e,s),o!=null&&r.unshift(zc(e,o,a)),o=Dc(e,t),o!=null&&r.push(zc(e,o,a))),e=e.return}return r}function mi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ow(e,t,s,r,a){for(var o=t._reactName,i=[];s!==null&&s!==r;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,a?(c=Dc(s,o),c!=null&&i.unshift(zc(s,c,l))):a||(c=Dc(s,o),c!=null&&i.push(zc(s,c,l)))),s=s.return}i.length!==0&&e.push({event:t,listeners:i})}var kR=/\r\n?/g,ER=/\u0000|\uFFFD/g;function iw(e){return(typeof e=="string"?e:""+e).replace(kR,`
`).replace(ER,"")}function Zd(e,t,s){if(t=iw(t),iw(e)!==t&&s)throw Error(de(425))}function af(){}var lg=null,cg=null;function dg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ug=typeof setTimeout=="function"?setTimeout:void 0,PR=typeof clearTimeout=="function"?clearTimeout:void 0,lw=typeof Promise=="function"?Promise:void 0,TR=typeof queueMicrotask=="function"?queueMicrotask:typeof lw<"u"?function(e){return lw.resolve(null).then(e).catch(AR)}:ug;function AR(e){setTimeout(function(){throw e})}function Im(e,t){var s=t,r=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(r===0){e.removeChild(a),$c(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=a}while(s);$c(t)}function Ua(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Cl=Math.random().toString(36).slice(2),Sn="__reactFiber$"+Cl,Uc="__reactProps$"+Cl,la="__reactContainer$"+Cl,fg="__reactEvents$"+Cl,MR="__reactListeners$"+Cl,RR="__reactHandles$"+Cl;function Ro(e){var t=e[Sn];if(t)return t;for(var s=e.parentNode;s;){if(t=s[la]||s[Sn]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=cw(e);e!==null;){if(s=e[Sn])return s;e=cw(e)}return t}e=s,s=e.parentNode}return null}function yd(e){return e=e[Sn]||e[la],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(de(33))}function ch(e){return e[Uc]||null}var hg=[],Ri=-1;function uo(e){return{current:e}}function Ft(e){0>Ri||(e.current=hg[Ri],hg[Ri]=null,Ri--)}function Pt(e,t){Ri++,hg[Ri]=e.current,e.current=t}var so={},Xs=uo(so),gr=uo(!1),Ho=so;function rl(e,t){var s=e.type.contextTypes;if(!s)return so;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in s)a[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function xr(e){return e=e.childContextTypes,e!=null}function of(){Ft(gr),Ft(Xs)}function dw(e,t,s){if(Xs.current!==so)throw Error(de(168));Pt(Xs,t),Pt(gr,s)}function KN(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(de(108,xM(e)||"Unknown",a));return rs({},s,r)}function lf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||so,Ho=Xs.current,Pt(Xs,e),Pt(gr,gr.current),!0}function uw(e,t,s){var r=e.stateNode;if(!r)throw Error(de(169));s?(e=KN(e,t,Ho),r.__reactInternalMemoizedMergedChildContext=e,Ft(gr),Ft(Xs),Pt(Xs,e)):Ft(gr),Pt(gr,s)}var Jn=null,dh=!1,Lm=!1;function XN(e){Jn===null?Jn=[e]:Jn.push(e)}function OR(e){dh=!0,XN(e)}function fo(){if(!Lm&&Jn!==null){Lm=!0;var e=0,t=St;try{var s=Jn;for(St=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}Jn=null,dh=!1}catch(a){throw Jn!==null&&(Jn=Jn.slice(e+1)),bN(Jx,fo),a}finally{St=t,Lm=!1}}return null}var Oi=[],Di=0,cf=null,df=0,Vr=[],Br=0,Wo=null,ta=1,sa="";function _o(e,t){Oi[Di++]=df,Oi[Di++]=cf,cf=e,df=t}function QN(e,t,s){Vr[Br++]=ta,Vr[Br++]=sa,Vr[Br++]=Wo,Wo=e;var r=ta;e=sa;var a=32-fn(r)-1;r&=~(1<<a),s+=1;var o=32-fn(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,ta=1<<32-fn(t)+a|s<<a|r,sa=o+e}else ta=1<<o|s<<a|r,sa=e}function iv(e){e.return!==null&&(_o(e,1),QN(e,1,0))}function lv(e){for(;e===cf;)cf=Oi[--Di],Oi[Di]=null,df=Oi[--Di],Oi[Di]=null;for(;e===Wo;)Wo=Vr[--Br],Vr[Br]=null,sa=Vr[--Br],Vr[Br]=null,ta=Vr[--Br],Vr[Br]=null}var Er=null,kr=null,Xt=!1,cn=null;function JN(e,t){var s=Ur(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function fw(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Er=e,kr=Ua(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Er=e,kr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Wo!==null?{id:ta,overflow:sa}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Ur(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Er=e,kr=null,!0):!1;default:return!1}}function mg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pg(e){if(Xt){var t=kr;if(t){var s=t;if(!fw(e,t)){if(mg(e))throw Error(de(418));t=Ua(s.nextSibling);var r=Er;t&&fw(e,t)?JN(r,s):(e.flags=e.flags&-4097|2,Xt=!1,Er=e)}}else{if(mg(e))throw Error(de(418));e.flags=e.flags&-4097|2,Xt=!1,Er=e}}}function hw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Er=e}function eu(e){if(e!==Er)return!1;if(!Xt)return hw(e),Xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!dg(e.type,e.memoizedProps)),t&&(t=kr)){if(mg(e))throw ZN(),Error(de(418));for(;t;)JN(e,t),t=Ua(t.nextSibling)}if(hw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(de(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){kr=Ua(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}kr=null}}else kr=Er?Ua(e.stateNode.nextSibling):null;return!0}function ZN(){for(var e=kr;e;)e=Ua(e.nextSibling)}function nl(){kr=Er=null,Xt=!1}function cv(e){cn===null?cn=[e]:cn.push(e)}var DR=ga.ReactCurrentBatchConfig;function ql(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(de(309));var r=s.stateNode}if(!r)throw Error(de(147,e));var a=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(de(284));if(!s._owner)throw Error(de(290,e))}return e}function tu(e,t){throw e=Object.prototype.toString.call(t),Error(de(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mw(e){var t=e._init;return t(e._payload)}function e_(e){function t(b,v){if(e){var y=b.deletions;y===null?(b.deletions=[v],b.flags|=16):y.push(v)}}function s(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function r(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function a(b,v){return b=Ga(b,v),b.index=0,b.sibling=null,b}function o(b,v,y){return b.index=y,e?(y=b.alternate,y!==null?(y=y.index,y<v?(b.flags|=2,v):y):(b.flags|=2,v)):(b.flags|=1048576,v)}function i(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,v,y,j){return v===null||v.tag!==6?(v=Hm(y,b.mode,j),v.return=b,v):(v=a(v,y),v.return=b,v)}function c(b,v,y,j){var _=y.type;return _===Ei?u(b,v,y.props.children,j,y.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ka&&mw(_)===v.type)?(j=a(v,y.props),j.ref=ql(b,v,y),j.return=b,j):(j=Lu(y.type,y.key,y.props,null,b.mode,j),j.ref=ql(b,v,y),j.return=b,j)}function d(b,v,y,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=Wm(y,b.mode,j),v.return=b,v):(v=a(v,y.children||[]),v.return=b,v)}function u(b,v,y,j,_){return v===null||v.tag!==7?(v=Fo(y,b.mode,j,_),v.return=b,v):(v=a(v,y),v.return=b,v)}function h(b,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Hm(""+v,b.mode,y),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Hd:return y=Lu(v.type,v.key,v.props,null,b.mode,y),y.ref=ql(b,null,v),y.return=b,y;case ki:return v=Wm(v,b.mode,y),v.return=b,v;case ka:var j=v._init;return h(b,j(v._payload),y)}if(lc(v)||Bl(v))return v=Fo(v,b.mode,y,null),v.return=b,v;tu(b,v)}return null}function m(b,v,y,j){var _=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:l(b,v,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Hd:return y.key===_?c(b,v,y,j):null;case ki:return y.key===_?d(b,v,y,j):null;case ka:return _=y._init,m(b,v,_(y._payload),j)}if(lc(y)||Bl(y))return _!==null?null:u(b,v,y,j,null);tu(b,y)}return null}function p(b,v,y,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(y)||null,l(v,b,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Hd:return b=b.get(j.key===null?y:j.key)||null,c(v,b,j,_);case ki:return b=b.get(j.key===null?y:j.key)||null,d(v,b,j,_);case ka:var C=j._init;return p(b,v,y,C(j._payload),_)}if(lc(j)||Bl(j))return b=b.get(y)||null,u(v,b,j,_,null);tu(v,j)}return null}function x(b,v,y,j){for(var _=null,C=null,N=v,S=v=0,M=null;N!==null&&S<y.length;S++){N.index>S?(M=N,N=null):M=N.sibling;var $=m(b,N,y[S],j);if($===null){N===null&&(N=M);break}e&&N&&$.alternate===null&&t(b,N),v=o($,v,S),C===null?_=$:C.sibling=$,C=$,N=M}if(S===y.length)return s(b,N),Xt&&_o(b,S),_;if(N===null){for(;S<y.length;S++)N=h(b,y[S],j),N!==null&&(v=o(N,v,S),C===null?_=N:C.sibling=N,C=N);return Xt&&_o(b,S),_}for(N=r(b,N);S<y.length;S++)M=p(N,b,S,y[S],j),M!==null&&(e&&M.alternate!==null&&N.delete(M.key===null?S:M.key),v=o(M,v,S),C===null?_=M:C.sibling=M,C=M);return e&&N.forEach(function(W){return t(b,W)}),Xt&&_o(b,S),_}function g(b,v,y,j){var _=Bl(y);if(typeof _!="function")throw Error(de(150));if(y=_.call(y),y==null)throw Error(de(151));for(var C=_=null,N=v,S=v=0,M=null,$=y.next();N!==null&&!$.done;S++,$=y.next()){N.index>S?(M=N,N=null):M=N.sibling;var W=m(b,N,$.value,j);if(W===null){N===null&&(N=M);break}e&&N&&W.alternate===null&&t(b,N),v=o(W,v,S),C===null?_=W:C.sibling=W,C=W,N=M}if($.done)return s(b,N),Xt&&_o(b,S),_;if(N===null){for(;!$.done;S++,$=y.next())$=h(b,$.value,j),$!==null&&(v=o($,v,S),C===null?_=$:C.sibling=$,C=$);return Xt&&_o(b,S),_}for(N=r(b,N);!$.done;S++,$=y.next())$=p(N,b,S,$.value,j),$!==null&&(e&&$.alternate!==null&&N.delete($.key===null?S:$.key),v=o($,v,S),C===null?_=$:C.sibling=$,C=$);return e&&N.forEach(function(R){return t(b,R)}),Xt&&_o(b,S),_}function w(b,v,y,j){if(typeof y=="object"&&y!==null&&y.type===Ei&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Hd:e:{for(var _=y.key,C=v;C!==null;){if(C.key===_){if(_=y.type,_===Ei){if(C.tag===7){s(b,C.sibling),v=a(C,y.props.children),v.return=b,b=v;break e}}else if(C.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ka&&mw(_)===C.type){s(b,C.sibling),v=a(C,y.props),v.ref=ql(b,C,y),v.return=b,b=v;break e}s(b,C);break}else t(b,C);C=C.sibling}y.type===Ei?(v=Fo(y.props.children,b.mode,j,y.key),v.return=b,b=v):(j=Lu(y.type,y.key,y.props,null,b.mode,j),j.ref=ql(b,v,y),j.return=b,b=j)}return i(b);case ki:e:{for(C=y.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){s(b,v.sibling),v=a(v,y.children||[]),v.return=b,b=v;break e}else{s(b,v);break}else t(b,v);v=v.sibling}v=Wm(y,b.mode,j),v.return=b,b=v}return i(b);case ka:return C=y._init,w(b,v,C(y._payload),j)}if(lc(y))return x(b,v,y,j);if(Bl(y))return g(b,v,y,j);tu(b,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(s(b,v.sibling),v=a(v,y),v.return=b,b=v):(s(b,v),v=Hm(y,b.mode,j),v.return=b,b=v),i(b)):s(b,v)}return w}var al=e_(!0),t_=e_(!1),uf=uo(null),ff=null,Ii=null,dv=null;function uv(){dv=Ii=ff=null}function fv(e){var t=uf.current;Ft(uf),e._currentValue=t}function gg(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function Ki(e,t){ff=e,dv=Ii=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pr=!0),e.firstContext=null)}function Kr(e){var t=e._currentValue;if(dv!==e)if(e={context:e,memoizedValue:t,next:null},Ii===null){if(ff===null)throw Error(de(308));Ii=e,ff.dependencies={lanes:0,firstContext:e}}else Ii=Ii.next=e;return t}var Oo=null;function hv(e){Oo===null?Oo=[e]:Oo.push(e)}function s_(e,t,s,r){var a=t.interleaved;return a===null?(s.next=s,hv(t)):(s.next=a.next,a.next=s),t.interleaved=s,ca(e,r)}function ca(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Ea=!1;function mv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function na(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ha(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,mt&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,ca(e,s)}return a=r.interleaved,a===null?(t.next=t,hv(r)):(t.next=a.next,a.next=t),r.interleaved=t,ca(e,s)}function Au(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Zx(e,s)}}function pw(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var a=null,o=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};o===null?a=o=i:o=o.next=i,s=s.next}while(s!==null);o===null?a=o=t:o=o.next=t}else a=o=t;s={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function hf(e,t,s,r){var a=e.updateQueue;Ea=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?o=d:i.next=d,i=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==i&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(o!==null){var h=a.baseState;i=0,u=d=c=null,l=o;do{var m=l.lane,p=l.eventTime;if((r&m)===m){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(m=t,p=s,g.tag){case 1:if(x=g.payload,typeof x=="function"){h=x.call(p,h,m);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,m=typeof x=="function"?x.call(p,h,m):x,m==null)break e;h=rs({},h,m);break e;case 2:Ea=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,i|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(1);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Go|=i,e.lanes=i,e.memoizedState=h}}function gw(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=s,typeof a!="function")throw Error(de(191,a));a.call(r)}}}var wd={},On=uo(wd),Hc=uo(wd),Wc=uo(wd);function Do(e){if(e===wd)throw Error(de(174));return e}function pv(e,t){switch(Pt(Wc,t),Pt(Hc,e),Pt(On,wd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xp(t,e)}Ft(On),Pt(On,t)}function ol(){Ft(On),Ft(Hc),Ft(Wc)}function n_(e){Do(Wc.current);var t=Do(On.current),s=Xp(t,e.type);t!==s&&(Pt(Hc,e),Pt(On,s))}function gv(e){Hc.current===e&&(Ft(On),Ft(Hc))}var Zt=uo(0);function mf(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $m=[];function xv(){for(var e=0;e<$m.length;e++)$m[e]._workInProgressVersionPrimary=null;$m.length=0}var Mu=ga.ReactCurrentDispatcher,Fm=ga.ReactCurrentBatchConfig,qo=0,ss=null,Ss=null,As=null,pf=!1,wc=!1,qc=0,IR=0;function Ws(){throw Error(de(321))}function vv(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!mn(e[s],t[s]))return!1;return!0}function yv(e,t,s,r,a,o){if(qo=o,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mu.current=e===null||e.memoizedState===null?VR:BR,e=s(r,a),wc){o=0;do{if(wc=!1,qc=0,25<=o)throw Error(de(301));o+=1,As=Ss=null,t.updateQueue=null,Mu.current=zR,e=s(r,a)}while(wc)}if(Mu.current=gf,t=Ss!==null&&Ss.next!==null,qo=0,As=Ss=ss=null,pf=!1,t)throw Error(de(300));return e}function wv(){var e=qc!==0;return qc=0,e}function _n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return As===null?ss.memoizedState=As=e:As=As.next=e,As}function Xr(){if(Ss===null){var e=ss.alternate;e=e!==null?e.memoizedState:null}else e=Ss.next;var t=As===null?ss.memoizedState:As.next;if(t!==null)As=t,Ss=e;else{if(e===null)throw Error(de(310));Ss=e,e={memoizedState:Ss.memoizedState,baseState:Ss.baseState,baseQueue:Ss.baseQueue,queue:Ss.queue,next:null},As===null?ss.memoizedState=As=e:As=As.next=e}return As}function Gc(e,t){return typeof t=="function"?t(e):t}function Vm(e){var t=Xr(),s=t.queue;if(s===null)throw Error(de(311));s.lastRenderedReducer=e;var r=Ss,a=r.baseQueue,o=s.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}r.baseQueue=a=o,s.pending=null}if(a!==null){o=a.next,r=r.baseState;var l=i=null,c=null,d=o;do{var u=d.lane;if((qo&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,i=r):c=c.next=h,ss.lanes|=u,Go|=u}d=d.next}while(d!==null&&d!==o);c===null?i=r:c.next=l,mn(r,t.memoizedState)||(pr=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,s.lastRenderedState=r}if(e=s.interleaved,e!==null){a=e;do o=a.lane,ss.lanes|=o,Go|=o,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Bm(e){var t=Xr(),s=t.queue;if(s===null)throw Error(de(311));s.lastRenderedReducer=e;var r=s.dispatch,a=s.pending,o=t.memoizedState;if(a!==null){s.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);mn(o,t.memoizedState)||(pr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),s.lastRenderedState=o}return[o,r]}function a_(){}function o_(e,t){var s=ss,r=Xr(),a=t(),o=!mn(r.memoizedState,a);if(o&&(r.memoizedState=a,pr=!0),r=r.queue,bv(c_.bind(null,s,r,e),[e]),r.getSnapshot!==t||o||As!==null&&As.memoizedState.tag&1){if(s.flags|=2048,Yc(9,l_.bind(null,s,r,a,t),void 0,null),Os===null)throw Error(de(349));qo&30||i_(s,t,a)}return a}function i_(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=ss.updateQueue,t===null?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function l_(e,t,s,r){t.value=s,t.getSnapshot=r,d_(t)&&u_(e)}function c_(e,t,s){return s(function(){d_(t)&&u_(e)})}function d_(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!mn(e,s)}catch{return!0}}function u_(e){var t=ca(e,1);t!==null&&hn(t,e,1,-1)}function xw(e){var t=_n();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gc,lastRenderedState:e},t.queue=e,e=e.dispatch=FR.bind(null,ss,e),[t.memoizedState,e]}function Yc(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=ss.updateQueue,t===null?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function f_(){return Xr().memoizedState}function Ru(e,t,s,r){var a=_n();ss.flags|=e,a.memoizedState=Yc(1|t,s,void 0,r===void 0?null:r)}function uh(e,t,s,r){var a=Xr();r=r===void 0?null:r;var o=void 0;if(Ss!==null){var i=Ss.memoizedState;if(o=i.destroy,r!==null&&vv(r,i.deps)){a.memoizedState=Yc(t,s,o,r);return}}ss.flags|=e,a.memoizedState=Yc(1|t,s,o,r)}function vw(e,t){return Ru(8390656,8,e,t)}function bv(e,t){return uh(2048,8,e,t)}function h_(e,t){return uh(4,2,e,t)}function m_(e,t){return uh(4,4,e,t)}function p_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function g_(e,t,s){return s=s!=null?s.concat([e]):null,uh(4,4,p_.bind(null,t,e),s)}function jv(){}function x_(e,t){var s=Xr();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&vv(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function v_(e,t){var s=Xr();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&vv(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function y_(e,t,s){return qo&21?(mn(s,t)||(s=_N(),ss.lanes|=s,Go|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pr=!0),e.memoizedState=s)}function LR(e,t){var s=St;St=s!==0&&4>s?s:4,e(!0);var r=Fm.transition;Fm.transition={};try{e(!1),t()}finally{St=s,Fm.transition=r}}function w_(){return Xr().memoizedState}function $R(e,t,s){var r=qa(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},b_(e))j_(t,s);else if(s=s_(e,t,s,r),s!==null){var a=nr();hn(s,e,r,a),N_(s,t,r)}}function FR(e,t,s){var r=qa(e),a={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(b_(e))j_(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,s);if(a.hasEagerState=!0,a.eagerState=l,mn(l,i)){var c=t.interleaved;c===null?(a.next=a,hv(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}s=s_(e,t,a,r),s!==null&&(a=nr(),hn(s,e,r,a),N_(s,t,r))}}function b_(e){var t=e.alternate;return e===ss||t!==null&&t===ss}function j_(e,t){wc=pf=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function N_(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Zx(e,s)}}var gf={readContext:Kr,useCallback:Ws,useContext:Ws,useEffect:Ws,useImperativeHandle:Ws,useInsertionEffect:Ws,useLayoutEffect:Ws,useMemo:Ws,useReducer:Ws,useRef:Ws,useState:Ws,useDebugValue:Ws,useDeferredValue:Ws,useTransition:Ws,useMutableSource:Ws,useSyncExternalStore:Ws,useId:Ws,unstable_isNewReconciler:!1},VR={readContext:Kr,useCallback:function(e,t){return _n().memoizedState=[e,t===void 0?null:t],e},useContext:Kr,useEffect:vw,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Ru(4194308,4,p_.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ru(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ru(4,2,e,t)},useMemo:function(e,t){var s=_n();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=_n();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$R.bind(null,ss,e),[r.memoizedState,e]},useRef:function(e){var t=_n();return e={current:e},t.memoizedState=e},useState:xw,useDebugValue:jv,useDeferredValue:function(e){return _n().memoizedState=e},useTransition:function(){var e=xw(!1),t=e[0];return e=LR.bind(null,e[1]),_n().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=ss,a=_n();if(Xt){if(s===void 0)throw Error(de(407));s=s()}else{if(s=t(),Os===null)throw Error(de(349));qo&30||i_(r,t,s)}a.memoizedState=s;var o={value:s,getSnapshot:t};return a.queue=o,vw(c_.bind(null,r,o,e),[e]),r.flags|=2048,Yc(9,l_.bind(null,r,o,s,t),void 0,null),s},useId:function(){var e=_n(),t=Os.identifierPrefix;if(Xt){var s=sa,r=ta;s=(r&~(1<<32-fn(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=qc++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=IR++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},BR={readContext:Kr,useCallback:x_,useContext:Kr,useEffect:bv,useImperativeHandle:g_,useInsertionEffect:h_,useLayoutEffect:m_,useMemo:v_,useReducer:Vm,useRef:f_,useState:function(){return Vm(Gc)},useDebugValue:jv,useDeferredValue:function(e){var t=Xr();return y_(t,Ss.memoizedState,e)},useTransition:function(){var e=Vm(Gc)[0],t=Xr().memoizedState;return[e,t]},useMutableSource:a_,useSyncExternalStore:o_,useId:w_,unstable_isNewReconciler:!1},zR={readContext:Kr,useCallback:x_,useContext:Kr,useEffect:bv,useImperativeHandle:g_,useInsertionEffect:h_,useLayoutEffect:m_,useMemo:v_,useReducer:Bm,useRef:f_,useState:function(){return Bm(Gc)},useDebugValue:jv,useDeferredValue:function(e){var t=Xr();return Ss===null?t.memoizedState=e:y_(t,Ss.memoizedState,e)},useTransition:function(){var e=Bm(Gc)[0],t=Xr().memoizedState;return[e,t]},useMutableSource:a_,useSyncExternalStore:o_,useId:w_,unstable_isNewReconciler:!1};function nn(e,t){if(e&&e.defaultProps){t=rs({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function xg(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:rs({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var fh={isMounted:function(e){return(e=e._reactInternals)?ri(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=nr(),a=qa(e),o=na(r,a);o.payload=t,s!=null&&(o.callback=s),t=Ha(e,o,a),t!==null&&(hn(t,e,a,r),Au(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=nr(),a=qa(e),o=na(r,a);o.tag=1,o.payload=t,s!=null&&(o.callback=s),t=Ha(e,o,a),t!==null&&(hn(t,e,a,r),Au(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=nr(),r=qa(e),a=na(s,r);a.tag=2,t!=null&&(a.callback=t),t=Ha(e,a,r),t!==null&&(hn(t,e,r,s),Au(t,e,r))}};function yw(e,t,s,r,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Vc(s,r)||!Vc(a,o):!0}function __(e,t,s){var r=!1,a=so,o=t.contextType;return typeof o=="object"&&o!==null?o=Kr(o):(a=xr(t)?Ho:Xs.current,r=t.contextTypes,o=(r=r!=null)?rl(e,a):so),t=new t(s,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function ww(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&fh.enqueueReplaceState(t,t.state,null)}function vg(e,t,s,r){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},mv(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Kr(o):(o=xr(t)?Ho:Xs.current,a.context=rl(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(xg(e,t,o,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&fh.enqueueReplaceState(a,a.state,null),hf(e,s,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function il(e,t){try{var s="",r=t;do s+=gM(r),r=r.return;while(r);var a=s}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function zm(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function yg(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var UR=typeof WeakMap=="function"?WeakMap:Map;function S_(e,t,s){s=na(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){vf||(vf=!0,Pg=r),yg(e,t)},s}function C_(e,t,s){s=na(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;s.payload=function(){return r(a)},s.callback=function(){yg(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(s.callback=function(){yg(e,t),typeof r!="function"&&(Wa===null?Wa=new Set([this]):Wa.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),s}function bw(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new UR;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(s)||(a.add(s),e=rO.bind(null,e,t,s),t.then(e,e))}function jw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Nw(e,t,s,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=na(-1,1),t.tag=2,Ha(s,t,1))),s.lanes|=1),e)}var HR=ga.ReactCurrentOwner,pr=!1;function er(e,t,s,r){t.child=e===null?t_(t,null,s,r):al(t,e.child,s,r)}function _w(e,t,s,r,a){s=s.render;var o=t.ref;return Ki(t,a),r=yv(e,t,s,r,o,a),s=wv(),e!==null&&!pr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,da(e,t,a)):(Xt&&s&&iv(t),t.flags|=1,er(e,t,r,a),t.child)}function Sw(e,t,s,r,a){if(e===null){var o=s.type;return typeof o=="function"&&!Tv(o)&&o.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=o,k_(e,t,o,r,a)):(e=Lu(s.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(s=s.compare,s=s!==null?s:Vc,s(i,r)&&e.ref===t.ref)return da(e,t,a)}return t.flags|=1,e=Ga(o,r),e.ref=t.ref,e.return=t,t.child=e}function k_(e,t,s,r,a){if(e!==null){var o=e.memoizedProps;if(Vc(o,r)&&e.ref===t.ref)if(pr=!1,t.pendingProps=r=o,(e.lanes&a)!==0)e.flags&131072&&(pr=!0);else return t.lanes=e.lanes,da(e,t,a)}return wg(e,t,s,r,a)}function E_(e,t,s){var r=t.pendingProps,a=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt($i,Nr),Nr|=s;else{if(!(s&1073741824))return e=o!==null?o.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pt($i,Nr),Nr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:s,Pt($i,Nr),Nr|=r}else o!==null?(r=o.baseLanes|s,t.memoizedState=null):r=s,Pt($i,Nr),Nr|=r;return er(e,t,a,s),t.child}function P_(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function wg(e,t,s,r,a){var o=xr(s)?Ho:Xs.current;return o=rl(t,o),Ki(t,a),s=yv(e,t,s,r,o,a),r=wv(),e!==null&&!pr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,da(e,t,a)):(Xt&&r&&iv(t),t.flags|=1,er(e,t,s,a),t.child)}function Cw(e,t,s,r,a){if(xr(s)){var o=!0;lf(t)}else o=!1;if(Ki(t,a),t.stateNode===null)Ou(e,t),__(t,s,r),vg(t,s,r,a),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,d=s.contextType;typeof d=="object"&&d!==null?d=Kr(d):(d=xr(s)?Ho:Xs.current,d=rl(t,d));var u=s.getDerivedStateFromProps,h=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==d)&&ww(t,i,r,d),Ea=!1;var m=t.memoizedState;i.state=m,hf(t,r,i,a),c=t.memoizedState,l!==r||m!==c||gr.current||Ea?(typeof u=="function"&&(xg(t,s,u,r),c=t.memoizedState),(l=Ea||yw(t,s,l,r,m,c,d))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=d,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,r_(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:nn(t.type,l),i.props=d,h=t.pendingProps,m=i.context,c=s.contextType,typeof c=="object"&&c!==null?c=Kr(c):(c=xr(s)?Ho:Xs.current,c=rl(t,c));var p=s.getDerivedStateFromProps;(u=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==h||m!==c)&&ww(t,i,r,c),Ea=!1,m=t.memoizedState,i.state=m,hf(t,r,i,a);var x=t.memoizedState;l!==h||m!==x||gr.current||Ea?(typeof p=="function"&&(xg(t,s,p,r),x=t.memoizedState),(d=Ea||yw(t,s,d,r,m,x,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,x,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,x,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),i.props=r,i.state=x,i.context=c,r=d):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return bg(e,t,s,r,o,a)}function bg(e,t,s,r,a,o){P_(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return a&&uw(t,s,!1),da(e,t,o);r=t.stateNode,HR.current=t;var l=i&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=al(t,e.child,null,o),t.child=al(t,null,l,o)):er(e,t,l,o),t.memoizedState=r.state,a&&uw(t,s,!0),t.child}function T_(e){var t=e.stateNode;t.pendingContext?dw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dw(e,t.context,!1),pv(e,t.containerInfo)}function kw(e,t,s,r,a){return nl(),cv(a),t.flags|=256,er(e,t,s,r),t.child}var jg={dehydrated:null,treeContext:null,retryLane:0};function Ng(e){return{baseLanes:e,cachePool:null,transitions:null}}function A_(e,t,s){var r=t.pendingProps,a=Zt.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Pt(Zt,a&1),e===null)return pg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=ph(i,r,0,null),e=Fo(e,r,s,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ng(s),t.memoizedState=jg,e):Nv(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return WR(e,t,i,r,l,a,s);if(o){o=r.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ga(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=Ga(l,o):(o=Fo(o,i,s,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Ng(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~s,t.memoizedState=jg,r}return o=e.child,e=o.sibling,r=Ga(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function Nv(e,t){return t=ph({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function su(e,t,s,r){return r!==null&&cv(r),al(t,e.child,null,s),e=Nv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function WR(e,t,s,r,a,o,i){if(s)return t.flags&256?(t.flags&=-257,r=zm(Error(de(422))),su(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=ph({mode:"visible",children:r.children},a,0,null),o=Fo(o,a,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&al(t,e.child,null,i),t.child.memoizedState=Ng(i),t.memoizedState=jg,o);if(!(t.mode&1))return su(e,t,i,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(de(419)),r=zm(o,r,void 0),su(e,t,i,r)}if(l=(i&e.childLanes)!==0,pr||l){if(r=Os,r!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,ca(e,a),hn(r,e,a,-1))}return Pv(),r=zm(Error(de(421))),su(e,t,i,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=nO.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,kr=Ua(a.nextSibling),Er=t,Xt=!0,cn=null,e!==null&&(Vr[Br++]=ta,Vr[Br++]=sa,Vr[Br++]=Wo,ta=e.id,sa=e.overflow,Wo=t),t=Nv(t,r.children),t.flags|=4096,t)}function Ew(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),gg(e.return,t,s)}function Um(e,t,s,r,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=s,o.tailMode=a)}function M_(e,t,s){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(er(e,t,r.children,s),r=Zt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ew(e,s,t);else if(e.tag===19)Ew(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pt(Zt,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&mf(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),Um(t,!1,a,s,o);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&mf(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}Um(t,!0,s,null,o);break;case"together":Um(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ou(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function da(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Go|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(de(153));if(t.child!==null){for(e=t.child,s=Ga(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Ga(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function qR(e,t,s){switch(t.tag){case 3:T_(t),nl();break;case 5:n_(t);break;case 1:xr(t.type)&&lf(t);break;case 4:pv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Pt(uf,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Pt(Zt,Zt.current&1),t.flags|=128,null):s&t.child.childLanes?A_(e,t,s):(Pt(Zt,Zt.current&1),e=da(e,t,s),e!==null?e.sibling:null);Pt(Zt,Zt.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return M_(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Pt(Zt,Zt.current),r)break;return null;case 22:case 23:return t.lanes=0,E_(e,t,s)}return da(e,t,s)}var R_,_g,O_,D_;R_=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};_g=function(){};O_=function(e,t,s,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Do(On.current);var o=null;switch(s){case"input":a=qp(e,a),r=qp(e,r),o=[];break;case"select":a=rs({},a,{value:void 0}),r=rs({},r,{value:void 0}),o=[];break;case"textarea":a=Kp(e,a),r=Kp(e,r),o=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=af)}Qp(s,r);var i;s=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(i in l)l.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Rc.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var c=r[d];if(l=a!=null?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(s||(s={}),s[i]=c[i])}else s||(o||(o=[]),o.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Rc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&$t("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}s&&(o=o||[]).push("style",s);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};D_=function(e,t,s,r){s!==r&&(t.flags|=4)};function Gl(e,t){if(!Xt)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function GR(e,t,s){var r=t.pendingProps;switch(lv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:return xr(t.type)&&of(),qs(t),null;case 3:return r=t.stateNode,ol(),Ft(gr),Ft(Xs),xv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(eu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cn!==null&&(Mg(cn),cn=null))),_g(e,t),qs(t),null;case 5:gv(t);var a=Do(Wc.current);if(s=t.type,e!==null&&t.stateNode!=null)O_(e,t,s,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(de(166));return qs(t),null}if(e=Do(On.current),eu(t)){r=t.stateNode,s=t.type;var o=t.memoizedProps;switch(r[Sn]=t,r[Uc]=o,e=(t.mode&1)!==0,s){case"dialog":$t("cancel",r),$t("close",r);break;case"iframe":case"object":case"embed":$t("load",r);break;case"video":case"audio":for(a=0;a<dc.length;a++)$t(dc[a],r);break;case"source":$t("error",r);break;case"img":case"image":case"link":$t("error",r),$t("load",r);break;case"details":$t("toggle",r);break;case"input":Ly(r,o),$t("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},$t("invalid",r);break;case"textarea":Fy(r,o),$t("invalid",r)}Qp(s,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Zd(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Zd(r.textContent,l,e),a=["children",""+l]):Rc.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&$t("scroll",r)}switch(s){case"input":Wd(r),$y(r,o,!0);break;case"textarea":Wd(r),Vy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=af)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cN(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(s,{is:r.is}):(e=i.createElement(s),s==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,s),e[Sn]=t,e[Uc]=r,R_(e,t,!1,!1),t.stateNode=e;e:{switch(i=Jp(s,r),s){case"dialog":$t("cancel",e),$t("close",e),a=r;break;case"iframe":case"object":case"embed":$t("load",e),a=r;break;case"video":case"audio":for(a=0;a<dc.length;a++)$t(dc[a],e);a=r;break;case"source":$t("error",e),a=r;break;case"img":case"image":case"link":$t("error",e),$t("load",e),a=r;break;case"details":$t("toggle",e),a=r;break;case"input":Ly(e,r),a=qp(e,r),$t("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=rs({},r,{value:void 0}),$t("invalid",e);break;case"textarea":Fy(e,r),a=Kp(e,r),$t("invalid",e);break;default:a=r}Qp(s,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?fN(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&dN(e,c)):o==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Oc(e,c):typeof c=="number"&&Oc(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Rc.hasOwnProperty(o)?c!=null&&o==="onScroll"&&$t("scroll",e):c!=null&&Gx(e,o,c,i))}switch(s){case"input":Wd(e),$y(e,r,!1);break;case"textarea":Wd(e),Vy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+to(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Wi(e,!!r.multiple,o,!1):r.defaultValue!=null&&Wi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=af)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&t.stateNode!=null)D_(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(de(166));if(s=Do(Wc.current),Do(On.current),eu(t)){if(r=t.stateNode,s=t.memoizedProps,r[Sn]=t,(o=r.nodeValue!==s)&&(e=Er,e!==null))switch(e.tag){case 3:Zd(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zd(r.nodeValue,s,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[Sn]=t,t.stateNode=r}return qs(t),null;case 13:if(Ft(Zt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xt&&kr!==null&&t.mode&1&&!(t.flags&128))ZN(),nl(),t.flags|=98560,o=!1;else if(o=eu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(de(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(de(317));o[Sn]=t}else nl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qs(t),o=!1}else cn!==null&&(Mg(cn),cn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Zt.current&1?Es===0&&(Es=3):Pv())),t.updateQueue!==null&&(t.flags|=4),qs(t),null);case 4:return ol(),_g(e,t),e===null&&Bc(t.stateNode.containerInfo),qs(t),null;case 10:return fv(t.type._context),qs(t),null;case 17:return xr(t.type)&&of(),qs(t),null;case 19:if(Ft(Zt),o=t.memoizedState,o===null)return qs(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)Gl(o,!1);else{if(Es!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=mf(e),i!==null){for(t.flags|=128,Gl(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)o=s,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Pt(Zt,Zt.current&1|2),t.child}e=e.sibling}o.tail!==null&&gs()>ll&&(t.flags|=128,r=!0,Gl(o,!1),t.lanes=4194304)}else{if(!r)if(e=mf(i),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Gl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Xt)return qs(t),null}else 2*gs()-o.renderingStartTime>ll&&s!==1073741824&&(t.flags|=128,r=!0,Gl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(s=o.last,s!==null?s.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=gs(),t.sibling=null,s=Zt.current,Pt(Zt,r?s&1|2:s&1),t):(qs(t),null);case 22:case 23:return Ev(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Nr&1073741824&&(qs(t),t.subtreeFlags&6&&(t.flags|=8192)):qs(t),null;case 24:return null;case 25:return null}throw Error(de(156,t.tag))}function YR(e,t){switch(lv(t),t.tag){case 1:return xr(t.type)&&of(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ol(),Ft(gr),Ft(Xs),xv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gv(t),null;case 13:if(Ft(Zt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(de(340));nl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ft(Zt),null;case 4:return ol(),null;case 10:return fv(t.type._context),null;case 22:case 23:return Ev(),null;case 24:return null;default:return null}}var ru=!1,Ys=!1,KR=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Li(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){os(e,t,r)}else s.current=null}function Sg(e,t,s){try{s()}catch(r){os(e,t,r)}}var Pw=!1;function XR(e,t){if(lg=sf,e=VN(),ov(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{s.nodeType,o.nodeType}catch{s=null;break e}var i=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==s||a!==0&&h.nodeType!==3||(l=i+a),h!==o||r!==0&&h.nodeType!==3||(c=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===e)break t;if(m===s&&++d===a&&(l=i),m===o&&++u===r&&(c=i),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(cg={focusedElem:e,selectionRange:s},sf=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){t=Ae;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,w=x.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:nn(t.type,g),w);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(j){os(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}return x=Pw,Pw=!1,x}function bc(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&Sg(t,s,o)}a=a.next}while(a!==r)}}function hh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function Cg(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function I_(e){var t=e.alternate;t!==null&&(e.alternate=null,I_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Sn],delete t[Uc],delete t[fg],delete t[MR],delete t[RR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function L_(e){return e.tag===5||e.tag===3||e.tag===4}function Tw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||L_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kg(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=af));else if(r!==4&&(e=e.child,e!==null))for(kg(e,t,s),e=e.sibling;e!==null;)kg(e,t,s),e=e.sibling}function Eg(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Eg(e,t,s),e=e.sibling;e!==null;)Eg(e,t,s),e=e.sibling}var Ls=null,on=!1;function wa(e,t,s){for(s=s.child;s!==null;)$_(e,t,s),s=s.sibling}function $_(e,t,s){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(ah,s)}catch{}switch(s.tag){case 5:Ys||Li(s,t);case 6:var r=Ls,a=on;Ls=null,wa(e,t,s),Ls=r,on=a,Ls!==null&&(on?(e=Ls,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ls.removeChild(s.stateNode));break;case 18:Ls!==null&&(on?(e=Ls,s=s.stateNode,e.nodeType===8?Im(e.parentNode,s):e.nodeType===1&&Im(e,s),$c(e)):Im(Ls,s.stateNode));break;case 4:r=Ls,a=on,Ls=s.stateNode.containerInfo,on=!0,wa(e,t,s),Ls=r,on=a;break;case 0:case 11:case 14:case 15:if(!Ys&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Sg(s,t,i),a=a.next}while(a!==r)}wa(e,t,s);break;case 1:if(!Ys&&(Li(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(l){os(s,t,l)}wa(e,t,s);break;case 21:wa(e,t,s);break;case 22:s.mode&1?(Ys=(r=Ys)||s.memoizedState!==null,wa(e,t,s),Ys=r):wa(e,t,s);break;default:wa(e,t,s)}}function Aw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new KR),t.forEach(function(r){var a=aO.bind(null,e,r);s.has(r)||(s.add(r),r.then(a,a))})}}function tn(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var a=s[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ls=l.stateNode,on=!1;break e;case 3:Ls=l.stateNode.containerInfo,on=!0;break e;case 4:Ls=l.stateNode.containerInfo,on=!0;break e}l=l.return}if(Ls===null)throw Error(de(160));$_(o,i,a),Ls=null,on=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){os(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)F_(t,e),t=t.sibling}function F_(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tn(t,e),Nn(e),r&4){try{bc(3,e,e.return),hh(3,e)}catch(g){os(e,e.return,g)}try{bc(5,e,e.return)}catch(g){os(e,e.return,g)}}break;case 1:tn(t,e),Nn(e),r&512&&s!==null&&Li(s,s.return);break;case 5:if(tn(t,e),Nn(e),r&512&&s!==null&&Li(s,s.return),e.flags&32){var a=e.stateNode;try{Oc(a,"")}catch(g){os(e,e.return,g)}}if(r&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=s!==null?s.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&iN(a,o),Jp(l,i);var d=Jp(l,o);for(i=0;i<c.length;i+=2){var u=c[i],h=c[i+1];u==="style"?fN(a,h):u==="dangerouslySetInnerHTML"?dN(a,h):u==="children"?Oc(a,h):Gx(a,u,h,d)}switch(l){case"input":Gp(a,o);break;case"textarea":lN(a,o);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Wi(a,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?Wi(a,!!o.multiple,o.defaultValue,!0):Wi(a,!!o.multiple,o.multiple?[]:"",!1))}a[Uc]=o}catch(g){os(e,e.return,g)}}break;case 6:if(tn(t,e),Nn(e),r&4){if(e.stateNode===null)throw Error(de(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){os(e,e.return,g)}}break;case 3:if(tn(t,e),Nn(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{$c(t.containerInfo)}catch(g){os(e,e.return,g)}break;case 4:tn(t,e),Nn(e);break;case 13:tn(t,e),Nn(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(Cv=gs())),r&4&&Aw(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(Ys=(d=Ys)||u,tn(t,e),Ys=d):tn(t,e),Nn(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Ae=e,u=e.child;u!==null;){for(h=Ae=u;Ae!==null;){switch(m=Ae,p=m.child,m.tag){case 0:case 11:case 14:case 15:bc(4,m,m.return);break;case 1:Li(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,s=m.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){os(r,s,g)}}break;case 5:Li(m,m.return);break;case 22:if(m.memoizedState!==null){Rw(h);continue}}p!==null?(p.return=m,Ae=p):Rw(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=uN("display",i))}catch(g){os(e,e.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){os(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:tn(t,e),Nn(e),r&4&&Aw(e);break;case 21:break;default:tn(t,e),Nn(e)}}function Nn(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(L_(s)){var r=s;break e}s=s.return}throw Error(de(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Oc(a,""),r.flags&=-33);var o=Tw(e);Eg(e,o,a);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Tw(e);kg(e,l,i);break;default:throw Error(de(161))}}catch(c){os(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function QR(e,t,s){Ae=e,V_(e)}function V_(e,t,s){for(var r=(e.mode&1)!==0;Ae!==null;){var a=Ae,o=a.child;if(a.tag===22&&r){var i=a.memoizedState!==null||ru;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Ys;l=ru;var d=Ys;if(ru=i,(Ys=c)&&!d)for(Ae=a;Ae!==null;)i=Ae,c=i.child,i.tag===22&&i.memoizedState!==null?Ow(a):c!==null?(c.return=i,Ae=c):Ow(a);for(;o!==null;)Ae=o,V_(o),o=o.sibling;Ae=a,ru=l,Ys=d}Mw(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,Ae=o):Mw(e)}}function Mw(e){for(;Ae!==null;){var t=Ae;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ys||hh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ys)if(s===null)r.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:nn(t.type,s.memoizedProps);r.componentDidUpdate(a,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&gw(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}gw(t,i,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&$c(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}Ys||t.flags&512&&Cg(t)}catch(m){os(t,t.return,m)}}if(t===e){Ae=null;break}if(s=t.sibling,s!==null){s.return=t.return,Ae=s;break}Ae=t.return}}function Rw(e){for(;Ae!==null;){var t=Ae;if(t===e){Ae=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Ae=s;break}Ae=t.return}}function Ow(e){for(;Ae!==null;){var t=Ae;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{hh(4,t)}catch(c){os(t,s,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){os(t,a,c)}}var o=t.return;try{Cg(t)}catch(c){os(t,o,c)}break;case 5:var i=t.return;try{Cg(t)}catch(c){os(t,i,c)}}}catch(c){os(t,t.return,c)}if(t===e){Ae=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ae=l;break}Ae=t.return}}var JR=Math.ceil,xf=ga.ReactCurrentDispatcher,_v=ga.ReactCurrentOwner,qr=ga.ReactCurrentBatchConfig,mt=0,Os=null,Ns=null,Fs=0,Nr=0,$i=uo(0),Es=0,Kc=null,Go=0,mh=0,Sv=0,jc=null,fr=null,Cv=0,ll=1/0,Xn=null,vf=!1,Pg=null,Wa=null,nu=!1,La=null,yf=0,Nc=0,Tg=null,Du=-1,Iu=0;function nr(){return mt&6?gs():Du!==-1?Du:Du=gs()}function qa(e){return e.mode&1?mt&2&&Fs!==0?Fs&-Fs:DR.transition!==null?(Iu===0&&(Iu=_N()),Iu):(e=St,e!==0||(e=window.event,e=e===void 0?16:AN(e.type)),e):1}function hn(e,t,s,r){if(50<Nc)throw Nc=0,Tg=null,Error(de(185));xd(e,s,r),(!(mt&2)||e!==Os)&&(e===Os&&(!(mt&2)&&(mh|=s),Es===4&&Ma(e,Fs)),vr(e,r),s===1&&mt===0&&!(t.mode&1)&&(ll=gs()+500,dh&&fo()))}function vr(e,t){var s=e.callbackNode;DM(e,t);var r=tf(e,e===Os?Fs:0);if(r===0)s!==null&&Uy(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&Uy(s),t===1)e.tag===0?OR(Dw.bind(null,e)):XN(Dw.bind(null,e)),TR(function(){!(mt&6)&&fo()}),s=null;else{switch(SN(r)){case 1:s=Jx;break;case 4:s=jN;break;case 16:s=ef;break;case 536870912:s=NN;break;default:s=ef}s=Y_(s,B_.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function B_(e,t){if(Du=-1,Iu=0,mt&6)throw Error(de(327));var s=e.callbackNode;if(Xi()&&e.callbackNode!==s)return null;var r=tf(e,e===Os?Fs:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=wf(e,r);else{t=r;var a=mt;mt|=2;var o=U_();(Os!==e||Fs!==t)&&(Xn=null,ll=gs()+500,$o(e,t));do try{tO();break}catch(l){z_(e,l)}while(1);uv(),xf.current=o,mt=a,Ns!==null?t=0:(Os=null,Fs=0,t=Es)}if(t!==0){if(t===2&&(a=rg(e),a!==0&&(r=a,t=Ag(e,a))),t===1)throw s=Kc,$o(e,0),Ma(e,r),vr(e,gs()),s;if(t===6)Ma(e,r);else{if(a=e.current.alternate,!(r&30)&&!ZR(a)&&(t=wf(e,r),t===2&&(o=rg(e),o!==0&&(r=o,t=Ag(e,o))),t===1))throw s=Kc,$o(e,0),Ma(e,r),vr(e,gs()),s;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(de(345));case 2:So(e,fr,Xn);break;case 3:if(Ma(e,r),(r&130023424)===r&&(t=Cv+500-gs(),10<t)){if(tf(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){nr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ug(So.bind(null,e,fr,Xn),t);break}So(e,fr,Xn);break;case 4:if(Ma(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-fn(r);o=1<<i,i=t[i],i>a&&(a=i),r&=~o}if(r=a,r=gs()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*JR(r/1960))-r,10<r){e.timeoutHandle=ug(So.bind(null,e,fr,Xn),r);break}So(e,fr,Xn);break;case 5:So(e,fr,Xn);break;default:throw Error(de(329))}}}return vr(e,gs()),e.callbackNode===s?B_.bind(null,e):null}function Ag(e,t){var s=jc;return e.current.memoizedState.isDehydrated&&($o(e,t).flags|=256),e=wf(e,t),e!==2&&(t=fr,fr=s,t!==null&&Mg(t)),e}function Mg(e){fr===null?fr=e:fr.push.apply(fr,e)}function ZR(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var a=s[r],o=a.getSnapshot;a=a.value;try{if(!mn(o(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ma(e,t){for(t&=~Sv,t&=~mh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-fn(t),r=1<<s;e[s]=-1,t&=~r}}function Dw(e){if(mt&6)throw Error(de(327));Xi();var t=tf(e,0);if(!(t&1))return vr(e,gs()),null;var s=wf(e,t);if(e.tag!==0&&s===2){var r=rg(e);r!==0&&(t=r,s=Ag(e,r))}if(s===1)throw s=Kc,$o(e,0),Ma(e,t),vr(e,gs()),s;if(s===6)throw Error(de(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,So(e,fr,Xn),vr(e,gs()),null}function kv(e,t){var s=mt;mt|=1;try{return e(t)}finally{mt=s,mt===0&&(ll=gs()+500,dh&&fo())}}function Yo(e){La!==null&&La.tag===0&&!(mt&6)&&Xi();var t=mt;mt|=1;var s=qr.transition,r=St;try{if(qr.transition=null,St=1,e)return e()}finally{St=r,qr.transition=s,mt=t,!(mt&6)&&fo()}}function Ev(){Nr=$i.current,Ft($i)}function $o(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,PR(s)),Ns!==null)for(s=Ns.return;s!==null;){var r=s;switch(lv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&of();break;case 3:ol(),Ft(gr),Ft(Xs),xv();break;case 5:gv(r);break;case 4:ol();break;case 13:Ft(Zt);break;case 19:Ft(Zt);break;case 10:fv(r.type._context);break;case 22:case 23:Ev()}s=s.return}if(Os=e,Ns=e=Ga(e.current,null),Fs=Nr=t,Es=0,Kc=null,Sv=mh=Go=0,fr=jc=null,Oo!==null){for(t=0;t<Oo.length;t++)if(s=Oo[t],r=s.interleaved,r!==null){s.interleaved=null;var a=r.next,o=s.pending;if(o!==null){var i=o.next;o.next=a,r.next=i}s.pending=r}Oo=null}return e}function z_(e,t){do{var s=Ns;try{if(uv(),Mu.current=gf,pf){for(var r=ss.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}pf=!1}if(qo=0,As=Ss=ss=null,wc=!1,qc=0,_v.current=null,s===null||s.return===null){Es=1,Kc=t,Ns=null;break}e:{var o=e,i=s.return,l=s,c=t;if(t=Fs,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=jw(i);if(p!==null){p.flags&=-257,Nw(p,i,l,o,t),p.mode&1&&bw(o,d,t),t=p,c=d;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){bw(o,d,t),Pv();break e}c=Error(de(426))}}else if(Xt&&l.mode&1){var w=jw(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Nw(w,i,l,o,t),cv(il(c,l));break e}}o=c=il(c,l),Es!==4&&(Es=2),jc===null?jc=[o]:jc.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var b=S_(o,c,t);pw(o,b);break e;case 1:l=c;var v=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Wa===null||!Wa.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=C_(o,l,t);pw(o,j);break e}}o=o.return}while(o!==null)}W_(s)}catch(_){t=_,Ns===s&&s!==null&&(Ns=s=s.return);continue}break}while(1)}function U_(){var e=xf.current;return xf.current=gf,e===null?gf:e}function Pv(){(Es===0||Es===3||Es===2)&&(Es=4),Os===null||!(Go&268435455)&&!(mh&268435455)||Ma(Os,Fs)}function wf(e,t){var s=mt;mt|=2;var r=U_();(Os!==e||Fs!==t)&&(Xn=null,$o(e,t));do try{eO();break}catch(a){z_(e,a)}while(1);if(uv(),mt=s,xf.current=r,Ns!==null)throw Error(de(261));return Os=null,Fs=0,Es}function eO(){for(;Ns!==null;)H_(Ns)}function tO(){for(;Ns!==null&&!CM();)H_(Ns)}function H_(e){var t=G_(e.alternate,e,Nr);e.memoizedProps=e.pendingProps,t===null?W_(e):Ns=t,_v.current=null}function W_(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=YR(s,t),s!==null){s.flags&=32767,Ns=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Es=6,Ns=null;return}}else if(s=GR(s,t,Nr),s!==null){Ns=s;return}if(t=t.sibling,t!==null){Ns=t;return}Ns=t=e}while(t!==null);Es===0&&(Es=5)}function So(e,t,s){var r=St,a=qr.transition;try{qr.transition=null,St=1,sO(e,t,s,r)}finally{qr.transition=a,St=r}return null}function sO(e,t,s,r){do Xi();while(La!==null);if(mt&6)throw Error(de(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(de(177));e.callbackNode=null,e.callbackPriority=0;var o=s.lanes|s.childLanes;if(IM(e,o),e===Os&&(Ns=Os=null,Fs=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||nu||(nu=!0,Y_(ef,function(){return Xi(),null})),o=(s.flags&15990)!==0,s.subtreeFlags&15990||o){o=qr.transition,qr.transition=null;var i=St;St=1;var l=mt;mt|=4,_v.current=null,XR(e,s),F_(s,e),jR(cg),sf=!!lg,cg=lg=null,e.current=s,QR(s),kM(),mt=l,St=i,qr.transition=o}else e.current=s;if(nu&&(nu=!1,La=e,yf=a),o=e.pendingLanes,o===0&&(Wa=null),TM(s.stateNode),vr(e,gs()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],r(a.value,{componentStack:a.stack,digest:a.digest});if(vf)throw vf=!1,e=Pg,Pg=null,e;return yf&1&&e.tag!==0&&Xi(),o=e.pendingLanes,o&1?e===Tg?Nc++:(Nc=0,Tg=e):Nc=0,fo(),null}function Xi(){if(La!==null){var e=SN(yf),t=qr.transition,s=St;try{if(qr.transition=null,St=16>e?16:e,La===null)var r=!1;else{if(e=La,La=null,yf=0,mt&6)throw Error(de(331));var a=mt;for(mt|=4,Ae=e.current;Ae!==null;){var o=Ae,i=o.child;if(Ae.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Ae=d;Ae!==null;){var u=Ae;switch(u.tag){case 0:case 11:case 15:bc(8,u,o)}var h=u.child;if(h!==null)h.return=u,Ae=h;else for(;Ae!==null;){u=Ae;var m=u.sibling,p=u.return;if(I_(u),u===d){Ae=null;break}if(m!==null){m.return=p,Ae=m;break}Ae=p}}}var x=o.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}Ae=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Ae=i;else e:for(;Ae!==null;){if(o=Ae,o.flags&2048)switch(o.tag){case 0:case 11:case 15:bc(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,Ae=b;break e}Ae=o.return}}var v=e.current;for(Ae=v;Ae!==null;){i=Ae;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,Ae=y;else e:for(i=v;Ae!==null;){if(l=Ae,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:hh(9,l)}}catch(_){os(l,l.return,_)}if(l===i){Ae=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Ae=j;break e}Ae=l.return}}if(mt=a,fo(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(ah,e)}catch{}r=!0}return r}finally{St=s,qr.transition=t}}return!1}function Iw(e,t,s){t=il(s,t),t=S_(e,t,1),e=Ha(e,t,1),t=nr(),e!==null&&(xd(e,1,t),vr(e,t))}function os(e,t,s){if(e.tag===3)Iw(e,e,s);else for(;t!==null;){if(t.tag===3){Iw(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wa===null||!Wa.has(r))){e=il(s,e),e=C_(t,e,1),t=Ha(t,e,1),e=nr(),t!==null&&(xd(t,1,e),vr(t,e));break}}t=t.return}}function rO(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=nr(),e.pingedLanes|=e.suspendedLanes&s,Os===e&&(Fs&s)===s&&(Es===4||Es===3&&(Fs&130023424)===Fs&&500>gs()-Cv?$o(e,0):Sv|=s),vr(e,t)}function q_(e,t){t===0&&(e.mode&1?(t=Yd,Yd<<=1,!(Yd&130023424)&&(Yd=4194304)):t=1);var s=nr();e=ca(e,t),e!==null&&(xd(e,t,s),vr(e,s))}function nO(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),q_(e,s)}function aO(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(de(314))}r!==null&&r.delete(t),q_(e,s)}var G_;G_=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||gr.current)pr=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return pr=!1,qR(e,t,s);pr=!!(e.flags&131072)}else pr=!1,Xt&&t.flags&1048576&&QN(t,df,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ou(e,t),e=t.pendingProps;var a=rl(t,Xs.current);Ki(t,s),a=yv(null,t,r,e,a,s);var o=wv();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xr(r)?(o=!0,lf(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,mv(t),a.updater=fh,t.stateNode=a,a._reactInternals=t,vg(t,r,e,s),t=bg(null,t,r,!0,o,s)):(t.tag=0,Xt&&o&&iv(t),er(null,t,a,s),t=t.child),t;case 16:r=t.elementType;e:{switch(Ou(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=iO(r),e=nn(r,e),a){case 0:t=wg(null,t,r,e,s);break e;case 1:t=Cw(null,t,r,e,s);break e;case 11:t=_w(null,t,r,e,s);break e;case 14:t=Sw(null,t,r,nn(r.type,e),s);break e}throw Error(de(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:nn(r,a),wg(e,t,r,a,s);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:nn(r,a),Cw(e,t,r,a,s);case 3:e:{if(T_(t),e===null)throw Error(de(387));r=t.pendingProps,o=t.memoizedState,a=o.element,r_(e,t),hf(t,r,null,s);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=il(Error(de(423)),t),t=kw(e,t,r,s,a);break e}else if(r!==a){a=il(Error(de(424)),t),t=kw(e,t,r,s,a);break e}else for(kr=Ua(t.stateNode.containerInfo.firstChild),Er=t,Xt=!0,cn=null,s=t_(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(nl(),r===a){t=da(e,t,s);break e}er(e,t,r,s)}t=t.child}return t;case 5:return n_(t),e===null&&pg(t),r=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,dg(r,a)?i=null:o!==null&&dg(r,o)&&(t.flags|=32),P_(e,t),er(e,t,i,s),t.child;case 6:return e===null&&pg(t),null;case 13:return A_(e,t,s);case 4:return pv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=al(t,null,r,s):er(e,t,r,s),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:nn(r,a),_w(e,t,r,a,s);case 7:return er(e,t,t.pendingProps,s),t.child;case 8:return er(e,t,t.pendingProps.children,s),t.child;case 12:return er(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Pt(uf,r._currentValue),r._currentValue=i,o!==null)if(mn(o.value,i)){if(o.children===a.children&&!gr.current){t=da(e,t,s);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=na(-1,s&-s),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=s,c=o.alternate,c!==null&&(c.lanes|=s),gg(o.return,s,t),l.lanes|=s;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(de(341));i.lanes|=s,l=i.alternate,l!==null&&(l.lanes|=s),gg(i,s,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}er(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ki(t,s),a=Kr(a),r=r(a),t.flags|=1,er(e,t,r,s),t.child;case 14:return r=t.type,a=nn(r,t.pendingProps),a=nn(r.type,a),Sw(e,t,r,a,s);case 15:return k_(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:nn(r,a),Ou(e,t),t.tag=1,xr(r)?(e=!0,lf(t)):e=!1,Ki(t,s),__(t,r,a),vg(t,r,a,s),bg(null,t,r,!0,e,s);case 19:return M_(e,t,s);case 22:return E_(e,t,s)}throw Error(de(156,t.tag))};function Y_(e,t){return bN(e,t)}function oO(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(e,t,s,r){return new oO(e,t,s,r)}function Tv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function iO(e){if(typeof e=="function")return Tv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Kx)return 11;if(e===Xx)return 14}return 2}function Ga(e,t){var s=e.alternate;return s===null?(s=Ur(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Lu(e,t,s,r,a,o){var i=2;if(r=e,typeof e=="function")Tv(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ei:return Fo(s.children,a,o,t);case Yx:i=8,a|=8;break;case zp:return e=Ur(12,s,t,a|2),e.elementType=zp,e.lanes=o,e;case Up:return e=Ur(13,s,t,a),e.elementType=Up,e.lanes=o,e;case Hp:return e=Ur(19,s,t,a),e.elementType=Hp,e.lanes=o,e;case nN:return ph(s,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sN:i=10;break e;case rN:i=9;break e;case Kx:i=11;break e;case Xx:i=14;break e;case ka:i=16,r=null;break e}throw Error(de(130,e==null?e:typeof e,""))}return t=Ur(i,s,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function Fo(e,t,s,r){return e=Ur(7,e,r,t),e.lanes=s,e}function ph(e,t,s,r){return e=Ur(22,e,r,t),e.elementType=nN,e.lanes=s,e.stateNode={isHidden:!1},e}function Hm(e,t,s){return e=Ur(6,e,null,t),e.lanes=s,e}function Wm(e,t,s){return t=Ur(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lO(e,t,s,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sm(0),this.expirationTimes=Sm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sm(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Av(e,t,s,r,a,o,i,l,c){return e=new lO(e,t,s,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ur(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},mv(o),e}function cO(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ki,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function K_(e){if(!e)return so;e=e._reactInternals;e:{if(ri(e)!==e||e.tag!==1)throw Error(de(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(de(171))}if(e.tag===1){var s=e.type;if(xr(s))return KN(e,s,t)}return t}function X_(e,t,s,r,a,o,i,l,c){return e=Av(s,r,!0,e,a,o,i,l,c),e.context=K_(null),s=e.current,r=nr(),a=qa(s),o=na(r,a),o.callback=t??null,Ha(s,o,a),e.current.lanes=a,xd(e,a,r),vr(e,r),e}function gh(e,t,s,r){var a=t.current,o=nr(),i=qa(a);return s=K_(s),t.context===null?t.context=s:t.pendingContext=s,t=na(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ha(a,t,i),e!==null&&(hn(e,a,i,o),Au(e,a,i)),i}function bf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Lw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Mv(e,t){Lw(e,t),(e=e.alternate)&&Lw(e,t)}function dO(){return null}var Q_=typeof reportError=="function"?reportError:function(e){console.error(e)};function Rv(e){this._internalRoot=e}xh.prototype.render=Rv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(de(409));gh(e,t,null,null)};xh.prototype.unmount=Rv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yo(function(){gh(null,e,null,null)}),t[la]=null}};function xh(e){this._internalRoot=e}xh.prototype.unstable_scheduleHydration=function(e){if(e){var t=EN();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Aa.length&&t!==0&&t<Aa[s].priority;s++);Aa.splice(s,0,e),s===0&&TN(e)}};function Ov(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $w(){}function uO(e,t,s,r,a){if(a){if(typeof r=="function"){var o=r;r=function(){var d=bf(i);o.call(d)}}var i=X_(t,r,e,0,null,!1,!1,"",$w);return e._reactRootContainer=i,e[la]=i.current,Bc(e.nodeType===8?e.parentNode:e),Yo(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var d=bf(c);l.call(d)}}var c=Av(e,0,!1,null,null,!1,!1,"",$w);return e._reactRootContainer=c,e[la]=c.current,Bc(e.nodeType===8?e.parentNode:e),Yo(function(){gh(t,c,s,r)}),c}function yh(e,t,s,r,a){var o=s._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var c=bf(i);l.call(c)}}gh(t,i,e,a)}else i=uO(s,t,e,a,r);return bf(i)}CN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=cc(t.pendingLanes);s!==0&&(Zx(t,s|1),vr(t,gs()),!(mt&6)&&(ll=gs()+500,fo()))}break;case 13:Yo(function(){var r=ca(e,1);if(r!==null){var a=nr();hn(r,e,1,a)}}),Mv(e,1)}};ev=function(e){if(e.tag===13){var t=ca(e,134217728);if(t!==null){var s=nr();hn(t,e,134217728,s)}Mv(e,134217728)}};kN=function(e){if(e.tag===13){var t=qa(e),s=ca(e,t);if(s!==null){var r=nr();hn(s,e,t,r)}Mv(e,t)}};EN=function(){return St};PN=function(e,t){var s=St;try{return St=e,t()}finally{St=s}};eg=function(e,t,s){switch(t){case"input":if(Gp(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var a=ch(r);if(!a)throw Error(de(90));oN(r),Gp(r,a)}}}break;case"textarea":lN(e,s);break;case"select":t=s.value,t!=null&&Wi(e,!!s.multiple,t,!1)}};pN=kv;gN=Yo;var fO={usingClientEntryPoint:!1,Events:[yd,Mi,ch,hN,mN,kv]},Yl={findFiberByHostInstance:Ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hO={bundleType:Yl.bundleType,version:Yl.version,rendererPackageName:Yl.rendererPackageName,rendererConfig:Yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ga.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yN(e),e===null?null:e.stateNode},findFiberByHostInstance:Yl.findFiberByHostInstance||dO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{ah=au.inject(hO),Rn=au}catch{}}Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fO;Mr.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ov(t))throw Error(de(200));return cO(e,t,null,s)};Mr.createRoot=function(e,t){if(!Ov(e))throw Error(de(299));var s=!1,r="",a=Q_;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Av(e,1,!1,null,null,s,!1,r,a),e[la]=t.current,Bc(e.nodeType===8?e.parentNode:e),new Rv(t)};Mr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(de(188)):(e=Object.keys(e).join(","),Error(de(268,e)));return e=yN(t),e=e===null?null:e.stateNode,e};Mr.flushSync=function(e){return Yo(e)};Mr.hydrate=function(e,t,s){if(!vh(t))throw Error(de(200));return yh(null,e,t,!0,s)};Mr.hydrateRoot=function(e,t,s){if(!Ov(e))throw Error(de(405));var r=s!=null&&s.hydratedSources||null,a=!1,o="",i=Q_;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),t=X_(t,null,e,1,s??null,a,!1,o,i),e[la]=t.current,Bc(e),r)for(e=0;e<r.length;e++)s=r[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new xh(t)};Mr.render=function(e,t,s){if(!vh(t))throw Error(de(200));return yh(null,e,t,!1,s)};Mr.unmountComponentAtNode=function(e){if(!vh(e))throw Error(de(40));return e._reactRootContainer?(Yo(function(){yh(null,null,e,!1,function(){e._reactRootContainer=null,e[la]=null})}),!0):!1};Mr.unstable_batchedUpdates=kv;Mr.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!vh(s))throw Error(de(200));if(e==null||e._reactInternals===void 0)throw Error(de(38));return yh(e,t,s,!1,r)};Mr.version="18.3.1-next-f1338f8080-20240426";function J_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(J_)}catch(e){console.error(e)}}J_(),J1.exports=Mr;var ni=J1.exports;const mO=ti(ni);var Fw=ni;Vp.createRoot=Fw.createRoot,Vp.hydrateRoot=Fw.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xc(){return Xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Xc.apply(this,arguments)}var $a;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($a||($a={}));const Vw="popstate";function pO(e){e===void 0&&(e={});function t(r,a){let{pathname:o,search:i,hash:l}=r.location;return Rg("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(r,a){return typeof a=="string"?a:jf(a)}return xO(t,s,null,e)}function ys(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Dv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gO(){return Math.random().toString(36).substr(2,8)}function Bw(e,t){return{usr:e.state,key:e.key,idx:t}}function Rg(e,t,s,r){return s===void 0&&(s=null),Xc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?kl(t):t,{state:s,key:t&&t.key||r||gO()})}function jf(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function kl(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function xO(e,t,s,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:o=!1}=r,i=a.history,l=$a.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(Xc({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function h(){l=$a.Pop;let w=u(),b=w==null?null:w-d;d=w,c&&c({action:l,location:g.location,delta:b})}function m(w,b){l=$a.Push;let v=Rg(g.location,w,b);s&&s(v,w),d=u()+1;let y=Bw(v,d),j=g.createHref(v);try{i.pushState(y,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(j)}o&&c&&c({action:l,location:g.location,delta:1})}function p(w,b){l=$a.Replace;let v=Rg(g.location,w,b);s&&s(v,w),d=u();let y=Bw(v,d),j=g.createHref(v);i.replaceState(y,"",j),o&&c&&c({action:l,location:g.location,delta:0})}function x(w){let b=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof w=="string"?w:jf(w);return v=v.replace(/ $/,"%20"),ys(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let g={get action(){return l},get location(){return e(a,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Vw,h),c=w,()=>{a.removeEventListener(Vw,h),c=null}},createHref(w){return t(a,w)},createURL:x,encodeLocation(w){let b=x(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:p,go(w){return i.go(w)}};return g}var zw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(zw||(zw={}));function vO(e,t,s){return s===void 0&&(s="/"),yO(e,t,s,!1)}function yO(e,t,s,r){let a=typeof t=="string"?kl(t):t,o=Iv(a.pathname||"/",s);if(o==null)return null;let i=Z_(e);wO(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let d=AO(o);l=PO(i[c],d,r)}return l}function Z_(e,t,s,r){t===void 0&&(t=[]),s===void 0&&(s=[]),r===void 0&&(r="");let a=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(ys(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Ya([r,c.relativePath]),u=s.concat(c);o.children&&o.children.length>0&&(ys(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Z_(o.children,t,u,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:kO(d,o.index),routesMeta:u})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,i);else for(let c of eS(o.path))a(o,i,c)}),t}function eS(e){let t=e.split("/");if(t.length===0)return[];let[s,...r]=t,a=s.endsWith("?"),o=s.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let i=eS(r.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function wO(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:EO(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const bO=/^:[\w-]+$/,jO=3,NO=2,_O=1,SO=10,CO=-2,Uw=e=>e==="*";function kO(e,t){let s=e.split("/"),r=s.length;return s.some(Uw)&&(r+=CO),t&&(r+=NO),s.filter(a=>!Uw(a)).reduce((a,o)=>a+(bO.test(o)?jO:o===""?_O:SO),r)}function EO(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function PO(e,t,s){s===void 0&&(s=!1);let{routesMeta:r}=e,a={},o="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,u=o==="/"?t:t.slice(o.length)||"/",h=Hw({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h&&d&&s&&!r[r.length-1].route.index&&(h=Hw({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),i.push({params:a,pathname:Ya([o,h.pathname]),pathnameBase:IO(Ya([o,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(o=Ya([o,h.pathnameBase]))}return i}function Hw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=TO(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((d,u,h)=>{let{paramName:m,isOptional:p}=u;if(m==="*"){let g=l[h]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[h];return p&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:i,pattern:e}}function TO(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),Dv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function AO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Dv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Iv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}const MO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RO=e=>MO.test(e);function OO(e,t){t===void 0&&(t="/");let{pathname:s,search:r="",hash:a=""}=typeof e=="string"?kl(e):e,o;if(s)if(RO(s))o=s;else{if(s.includes("//")){let i=s;s=s.replace(/\/\/+/g,"/"),Dv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+s))}s.startsWith("/")?o=Ww(s.substring(1),"/"):o=Ww(s,t)}else o=t;return{pathname:o,search:LO(r),hash:$O(a)}}function Ww(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function qm(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DO(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Lv(e,t){let s=DO(e);return t?s.map((r,a)=>a===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function $v(e,t,s,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=kl(e):(a=Xc({},e),ys(!a.pathname||!a.pathname.includes("?"),qm("?","pathname","search",a)),ys(!a.pathname||!a.pathname.includes("#"),qm("#","pathname","hash",a)),ys(!a.search||!a.search.includes("#"),qm("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=s;else{let h=t.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),h-=1;a.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=OO(a,l),d=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Ya=e=>e.join("/").replace(/\/\/+/g,"/"),IO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),LO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$O=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function FO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const tS=["post","put","patch","delete"];new Set(tS);const VO=["get",...tS];new Set(VO);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qc(){return Qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Qc.apply(this,arguments)}const Fv=f.createContext(null),BO=f.createContext(null),ho=f.createContext(null),wh=f.createContext(null),mo=f.createContext({outlet:null,matches:[],isDataRoute:!1}),sS=f.createContext(null);function zO(e,t){let{relative:s}=t===void 0?{}:t;El()||ys(!1);let{basename:r,navigator:a}=f.useContext(ho),{hash:o,pathname:i,search:l}=nS(e,{relative:s}),c=i;return r!=="/"&&(c=i==="/"?r:Ya([r,i])),a.createHref({pathname:c,search:l,hash:o})}function El(){return f.useContext(wh)!=null}function ai(){return El()||ys(!1),f.useContext(wh).location}function rS(e){f.useContext(ho).static||f.useLayoutEffect(e)}function xa(){let{isDataRoute:e}=f.useContext(mo);return e?t4():UO()}function UO(){El()||ys(!1);let e=f.useContext(Fv),{basename:t,future:s,navigator:r}=f.useContext(ho),{matches:a}=f.useContext(mo),{pathname:o}=ai(),i=JSON.stringify(Lv(a,s.v7_relativeSplatPath)),l=f.useRef(!1);return rS(()=>{l.current=!0}),f.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let h=$v(d,JSON.parse(i),o,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ya([t,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[t,r,i,o,e])}function nS(e,t){let{relative:s}=t===void 0?{}:t,{future:r}=f.useContext(ho),{matches:a}=f.useContext(mo),{pathname:o}=ai(),i=JSON.stringify(Lv(a,r.v7_relativeSplatPath));return f.useMemo(()=>$v(e,JSON.parse(i),o,s==="path"),[e,i,o,s])}function HO(e,t){return WO(e,t)}function WO(e,t,s,r){El()||ys(!1);let{navigator:a}=f.useContext(ho),{matches:o}=f.useContext(mo),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=ai(),u;if(t){var h;let w=typeof t=="string"?kl(t):t;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||ys(!1),u=w}else u=d;let m=u.pathname||"/",p=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=vO(e,{pathname:p}),g=XO(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Ya([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Ya([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,s,r);return t&&g?f.createElement(wh.Provider,{value:{location:Qc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:$a.Pop}},g):g}function qO(){let e=e4(),t=FO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),s?f.createElement("pre",{style:a},s):null,o)}const GO=f.createElement(qO,null);class YO extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?f.createElement(mo.Provider,{value:this.props.routeContext},f.createElement(sS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KO(e){let{routeContext:t,match:s,children:r}=e,a=f.useContext(Fv);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),f.createElement(mo.Provider,{value:t},r)}function XO(e,t,s,r){var a;if(t===void 0&&(t=[]),s===void 0&&(s=null),r===void 0&&(r=null),e==null){var o;if(!s)return null;if(s.errors)e=s.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,l=(a=s)==null?void 0:a.errors;if(l!=null){let u=i.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||ys(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(s&&r&&r.v7_partialHydration)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:p}=s,x=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||x){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,h,m)=>{let p,x=!1,g=null,w=null;s&&(p=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||GO,c&&(d<0&&m===0?(s4("route-fallback",!1),x=!0,w=null):d===m&&(x=!0,w=h.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,m+1)),v=()=>{let y;return p?y=g:x?y=w:h.route.Component?y=f.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=u,f.createElement(KO,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:s!=null},children:y})};return s&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?f.createElement(YO,{location:s.location,revalidation:s.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var aS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(aS||{}),Nf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Nf||{});function QO(e){let t=f.useContext(Fv);return t||ys(!1),t}function JO(e){let t=f.useContext(BO);return t||ys(!1),t}function ZO(e){let t=f.useContext(mo);return t||ys(!1),t}function oS(e){let t=ZO(),s=t.matches[t.matches.length-1];return s.route.id||ys(!1),s.route.id}function e4(){var e;let t=f.useContext(sS),s=JO(Nf.UseRouteError),r=oS(Nf.UseRouteError);return t!==void 0?t:(e=s.errors)==null?void 0:e[r]}function t4(){let{router:e}=QO(aS.UseNavigateStable),t=oS(Nf.UseNavigateStable),s=f.useRef(!1);return rS(()=>{s.current=!0}),f.useCallback(function(a,o){o===void 0&&(o={}),s.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Qc({fromRouteId:t},o)))},[e,t])}const qw={};function s4(e,t,s){!t&&!qw[e]&&(qw[e]=!0)}function r4(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function pi(e){let{to:t,replace:s,state:r,relative:a}=e;El()||ys(!1);let{future:o,static:i}=f.useContext(ho),{matches:l}=f.useContext(mo),{pathname:c}=ai(),d=xa(),u=$v(t,Lv(l,o.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(u);return f.useEffect(()=>d(JSON.parse(h),{replace:s,state:r,relative:a}),[d,h,a,s,r]),null}function Yn(e){ys(!1)}function n4(e){let{basename:t="/",children:s=null,location:r,navigationType:a=$a.Pop,navigator:o,static:i=!1,future:l}=e;El()&&ys(!1);let c=t.replace(/^\/*/,"/"),d=f.useMemo(()=>({basename:c,navigator:o,static:i,future:Qc({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof r=="string"&&(r=kl(r));let{pathname:u="/",search:h="",hash:m="",state:p=null,key:x="default"}=r,g=f.useMemo(()=>{let w=Iv(u,c);return w==null?null:{location:{pathname:w,search:h,hash:m,state:p,key:x},navigationType:a}},[c,u,h,m,p,x,a]);return g==null?null:f.createElement(ho.Provider,{value:d},f.createElement(wh.Provider,{children:s,value:g}))}function a4(e){let{children:t,location:s}=e;return HO(Og(t),s)}new Promise(()=>{});function Og(e,t){t===void 0&&(t=[]);let s=[];return f.Children.forEach(e,(r,a)=>{if(!f.isValidElement(r))return;let o=[...t,a];if(r.type===f.Fragment){s.push.apply(s,Og(r.props.children,o));return}r.type!==Yn&&ys(!1),!r.props.index||!r.props.children||ys(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Og(r.props.children,o)),s.push(i)}),s}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Dg.apply(this,arguments)}function o4(e,t){if(e==null)return{};var s={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(s[a]=e[a]);return s}function i4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function l4(e,t){return e.button===0&&(!t||t==="_self")&&!i4(e)}const c4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],d4="6";try{window.__reactRouterVersion=d4}catch{}const u4="startTransition",Gw=nh[u4];function f4(e){let{basename:t,children:s,future:r,window:a}=e,o=f.useRef();o.current==null&&(o.current=pO({window:a,v5Compat:!0}));let i=o.current,[l,c]=f.useState({action:i.action,location:i.location}),{v7_startTransition:d}=r||{},u=f.useCallback(h=>{d&&Gw?Gw(()=>c(h)):c(h)},[c,d]);return f.useLayoutEffect(()=>i.listen(u),[i,u]),f.useEffect(()=>r4(r),[r]),f.createElement(n4,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:i,future:r})}const h4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ko=f.forwardRef(function(t,s){let{onClick:r,relative:a,reloadDocument:o,replace:i,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,m=o4(t,c4),{basename:p}=f.useContext(ho),x,g=!1;if(typeof d=="string"&&m4.test(d)&&(x=d,h4))try{let y=new URL(window.location.href),j=d.startsWith("//")?new URL(y.protocol+d):new URL(d),_=Iv(j.pathname,p);j.origin===y.origin&&_!=null?d=_+j.search+j.hash:g=!0}catch{}let w=zO(d,{relative:a}),b=p4(d,{replace:i,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function v(y){r&&r(y),y.defaultPrevented||b(y)}return f.createElement("a",Dg({},m,{href:x||w,onClick:g||o?r:v,ref:s,target:c}))});var Yw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Yw||(Yw={}));var Kw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Kw||(Kw={}));function p4(e,t){let{target:s,replace:r,state:a,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=xa(),d=ai(),u=nS(e,{relative:i});return f.useCallback(h=>{if(l4(h,s)){h.preventDefault();let m=r!==void 0?r:jf(d)===jf(u);c(e,{replace:m,state:a,preventScrollReset:o,relative:i,viewTransition:l})}},[d,c,u,r,a,s,e,o,i,l])}var iS={exports:{}},g4="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",x4=g4,v4=x4;function lS(){}function cS(){}cS.resetWarningCache=lS;var y4=function(){function e(r,a,o,i,l,c){if(c!==v4){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:cS,resetWarningCache:lS};return s.PropTypes=s,s};iS.exports=y4();var w4=iS.exports;const Gt=ti(w4);function b4(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var dS=f,j4=b4(dS);function Xw(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function N4(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var _4=!!(typeof window<"u"&&window.document&&window.document.createElement);function S4(e,t,s){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof s<"u"&&typeof s!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(a){return a.displayName||a.name||"Component"}return function(o){if(typeof o!="function")throw new Error("Expected WrappedComponent to be a React component.");var i=[],l;function c(){l=e(i.map(function(u){return u.props})),d.canUseDOM?t(l):s&&(l=s(l))}var d=function(u){N4(h,u);function h(){return u.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var x=l;return l=void 0,i=[],x};var m=h.prototype;return m.UNSAFE_componentWillMount=function(){i.push(this),c()},m.componentDidUpdate=function(){c()},m.componentWillUnmount=function(){var x=i.indexOf(this);i.splice(x,1),c()},m.render=function(){return j4.createElement(o,this.props)},h}(dS.PureComponent);return Xw(d,"displayName","SideEffect("+r(o)+")"),Xw(d,"canUseDOM",_4),d}}var C4=S4;const k4=ti(C4);var E4=typeof Element<"u",P4=typeof Map=="function",T4=typeof Set=="function",A4=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function $u(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var s,r,a;if(Array.isArray(e)){if(s=e.length,s!=t.length)return!1;for(r=s;r--!==0;)if(!$u(e[r],t[r]))return!1;return!0}var o;if(P4&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!$u(r.value[1],t.get(r.value[0])))return!1;return!0}if(T4&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(A4&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(s=e.length,s!=t.length)return!1;for(r=s;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),s=a.length,s!==Object.keys(t).length)return!1;for(r=s;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[r]))return!1;if(E4&&e instanceof Element)return!1;for(r=s;r--!==0;)if(!((a[r]==="_owner"||a[r]==="__v"||a[r]==="__o")&&e.$$typeof)&&!$u(e[a[r]],t[a[r]]))return!1;return!0}return e!==e&&t!==t}var M4=function(t,s){try{return $u(t,s)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const R4=ti(M4);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Qw=Object.getOwnPropertySymbols,O4=Object.prototype.hasOwnProperty,D4=Object.prototype.propertyIsEnumerable;function I4(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function L4(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},s=0;s<10;s++)t["_"+String.fromCharCode(s)]=s;var r=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(r.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(o){a[o]=o}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var $4=L4()?Object.assign:function(e,t){for(var s,r=I4(e),a,o=1;o<arguments.length;o++){s=Object(arguments[o]);for(var i in s)O4.call(s,i)&&(r[i]=s[i]);if(Qw){a=Qw(s);for(var l=0;l<a.length;l++)D4.call(s,a[l])&&(r[a[l]]=s[a[l]])}}return r};const F4=ti($4);var Vo={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},st={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(st).map(function(e){return st[e]});var Yt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},_f={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Jc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},V4=Object.keys(_f).reduce(function(e,t){return e[_f[t]]=t,e},{}),B4=[st.NOSCRIPT,st.SCRIPT,st.STYLE],dn="data-react-helmet",z4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U4=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},H4=function(){function e(t,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,s,r){return s&&e(t.prototype,s),r&&e(t,r),t}}(),ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},W4=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Jw=function(e,t){var s={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=e[r]);return s},q4=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},Ig=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return s===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},G4=function(t){var s=Qi(t,st.TITLE),r=Qi(t,Jc.TITLE_TEMPLATE);if(r&&s)return r.replace(/%s/g,function(){return Array.isArray(s)?s.join(""):s});var a=Qi(t,Jc.DEFAULT_TITLE);return s||a||void 0},Y4=function(t){return Qi(t,Jc.ON_CHANGE_CLIENT_STATE)||function(){}},Gm=function(t,s){return s.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,a){return ur({},r,a)},{})},K4=function(t,s){return s.filter(function(r){return typeof r[st.BASE]<"u"}).map(function(r){return r[st.BASE]}).reverse().reduce(function(r,a){if(!r.length)for(var o=Object.keys(a),i=0;i<o.length;i++){var l=o[i],c=l.toLowerCase();if(t.indexOf(c)!==-1&&a[c])return r.concat(a)}return r},[])},Kl=function(t,s,r){var a={};return r.filter(function(o){return Array.isArray(o[t])?!0:(typeof o[t]<"u"&&Z4("Helmet: "+t+' should be of type "Array". Instead found type "'+z4(o[t])+'"'),!1)}).map(function(o){return o[t]}).reverse().reduce(function(o,i){var l={};i.filter(function(m){for(var p=void 0,x=Object.keys(m),g=0;g<x.length;g++){var w=x[g],b=w.toLowerCase();s.indexOf(b)!==-1&&!(p===Yt.REL&&m[p].toLowerCase()==="canonical")&&!(b===Yt.REL&&m[b].toLowerCase()==="stylesheet")&&(p=b),s.indexOf(w)!==-1&&(w===Yt.INNER_HTML||w===Yt.CSS_TEXT||w===Yt.ITEM_PROP)&&(p=w)}if(!p||!m[p])return!1;var v=m[p].toLowerCase();return a[p]||(a[p]={}),l[p]||(l[p]={}),a[p][v]?!1:(l[p][v]=!0,!0)}).reverse().forEach(function(m){return o.push(m)});for(var c=Object.keys(l),d=0;d<c.length;d++){var u=c[d],h=F4({},a[u],l[u]);a[u]=h}return o},[]).reverse()},Qi=function(t,s){for(var r=t.length-1;r>=0;r--){var a=t[r];if(a.hasOwnProperty(s))return a[s]}return null},X4=function(t){return{baseTag:K4([Yt.HREF,Yt.TARGET],t),bodyAttributes:Gm(Vo.BODY,t),defer:Qi(t,Jc.DEFER),encode:Qi(t,Jc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Gm(Vo.HTML,t),linkTags:Kl(st.LINK,[Yt.REL,Yt.HREF],t),metaTags:Kl(st.META,[Yt.NAME,Yt.CHARSET,Yt.HTTPEQUIV,Yt.PROPERTY,Yt.ITEM_PROP],t),noscriptTags:Kl(st.NOSCRIPT,[Yt.INNER_HTML],t),onChangeClientState:Y4(t),scriptTags:Kl(st.SCRIPT,[Yt.SRC,Yt.INNER_HTML],t),styleTags:Kl(st.STYLE,[Yt.CSS_TEXT],t),title:G4(t),titleAttributes:Gm(Vo.TITLE,t)}},Lg=function(){var e=Date.now();return function(t){var s=Date.now();s-e>16?(e=s,t(s)):setTimeout(function(){Lg(t)},0)}}(),Zw=function(t){return clearTimeout(t)},Q4=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Lg:global.requestAnimationFrame||Lg,J4=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Zw:global.cancelAnimationFrame||Zw,Z4=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Xl=null,eD=function(t){Xl&&J4(Xl),t.defer?Xl=Q4(function(){eb(t,function(){Xl=null})}):(eb(t),Xl=null)},eb=function(t,s){var r=t.baseTag,a=t.bodyAttributes,o=t.htmlAttributes,i=t.linkTags,l=t.metaTags,c=t.noscriptTags,d=t.onChangeClientState,u=t.scriptTags,h=t.styleTags,m=t.title,p=t.titleAttributes;$g(st.BODY,a),$g(st.HTML,o),tD(m,p);var x={baseTag:gi(st.BASE,r),linkTags:gi(st.LINK,i),metaTags:gi(st.META,l),noscriptTags:gi(st.NOSCRIPT,c),scriptTags:gi(st.SCRIPT,u),styleTags:gi(st.STYLE,h)},g={},w={};Object.keys(x).forEach(function(b){var v=x[b],y=v.newTags,j=v.oldTags;y.length&&(g[b]=y),j.length&&(w[b]=x[b].oldTags)}),s&&s(),d(t,g,w)},uS=function(t){return Array.isArray(t)?t.join(""):t},tD=function(t,s){typeof t<"u"&&document.title!==t&&(document.title=uS(t)),$g(st.TITLE,s)},$g=function(t,s){var r=document.getElementsByTagName(t)[0];if(r){for(var a=r.getAttribute(dn),o=a?a.split(","):[],i=[].concat(o),l=Object.keys(s),c=0;c<l.length;c++){var d=l[c],u=s[d]||"";r.getAttribute(d)!==u&&r.setAttribute(d,u),o.indexOf(d)===-1&&o.push(d);var h=i.indexOf(d);h!==-1&&i.splice(h,1)}for(var m=i.length-1;m>=0;m--)r.removeAttribute(i[m]);o.length===i.length?r.removeAttribute(dn):r.getAttribute(dn)!==l.join(",")&&r.setAttribute(dn,l.join(","))}},gi=function(t,s){var r=document.head||document.querySelector(st.HEAD),a=r.querySelectorAll(t+"["+dn+"]"),o=Array.prototype.slice.call(a),i=[],l=void 0;return s&&s.length&&s.forEach(function(c){var d=document.createElement(t);for(var u in c)if(c.hasOwnProperty(u))if(u===Yt.INNER_HTML)d.innerHTML=c.innerHTML;else if(u===Yt.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=c.cssText:d.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[u]>"u"?"":c[u];d.setAttribute(u,h)}d.setAttribute(dn,"true"),o.some(function(m,p){return l=p,d.isEqualNode(m)})?o.splice(l,1):i.push(d)}),o.forEach(function(c){return c.parentNode.removeChild(c)}),i.forEach(function(c){return r.appendChild(c)}),{oldTags:o,newTags:i}},fS=function(t){return Object.keys(t).reduce(function(s,r){var a=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return s?s+" "+a:a},"")},sD=function(t,s,r,a){var o=fS(r),i=uS(s);return o?"<"+t+" "+dn+'="true" '+o+">"+Ig(i,a)+"</"+t+">":"<"+t+" "+dn+'="true">'+Ig(i,a)+"</"+t+">"},rD=function(t,s,r){return s.reduce(function(a,o){var i=Object.keys(o).filter(function(d){return!(d===Yt.INNER_HTML||d===Yt.CSS_TEXT)}).reduce(function(d,u){var h=typeof o[u]>"u"?u:u+'="'+Ig(o[u],r)+'"';return d?d+" "+h:h},""),l=o.innerHTML||o.cssText||"",c=B4.indexOf(t)===-1;return a+"<"+t+" "+dn+'="true" '+i+(c?"/>":">"+l+"</"+t+">")},"")},hS=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,a){return r[_f[a]||a]=t[a],r},s)},nD=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,a){return r[V4[a]||a]=t[a],r},s)},aD=function(t,s,r){var a,o=(a={key:s},a[dn]=!0,a),i=hS(r,o);return[Kt.createElement(st.TITLE,i,s)]},oD=function(t,s){return s.map(function(r,a){var o,i=(o={key:a},o[dn]=!0,o);return Object.keys(r).forEach(function(l){var c=_f[l]||l;if(c===Yt.INNER_HTML||c===Yt.CSS_TEXT){var d=r.innerHTML||r.cssText;i.dangerouslySetInnerHTML={__html:d}}else i[c]=r[l]}),Kt.createElement(t,i)})},Wn=function(t,s,r){switch(t){case st.TITLE:return{toComponent:function(){return aD(t,s.title,s.titleAttributes)},toString:function(){return sD(t,s.title,s.titleAttributes,r)}};case Vo.BODY:case Vo.HTML:return{toComponent:function(){return hS(s)},toString:function(){return fS(s)}};default:return{toComponent:function(){return oD(t,s)},toString:function(){return rD(t,s,r)}}}},mS=function(t){var s=t.baseTag,r=t.bodyAttributes,a=t.encode,o=t.htmlAttributes,i=t.linkTags,l=t.metaTags,c=t.noscriptTags,d=t.scriptTags,u=t.styleTags,h=t.title,m=h===void 0?"":h,p=t.titleAttributes;return{base:Wn(st.BASE,s,a),bodyAttributes:Wn(Vo.BODY,r,a),htmlAttributes:Wn(Vo.HTML,o,a),link:Wn(st.LINK,i,a),meta:Wn(st.META,l,a),noscript:Wn(st.NOSCRIPT,c,a),script:Wn(st.SCRIPT,d,a),style:Wn(st.STYLE,u,a),title:Wn(st.TITLE,{title:m,titleAttributes:p},a)}},iD=function(t){var s,r;return r=s=function(a){W4(o,a);function o(){return U4(this,o),q4(this,a.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(l){return!R4(this.props,l)},o.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case st.SCRIPT:case st.NOSCRIPT:return{innerHTML:c};case st.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(l){var c,d=l.child,u=l.arrayTypeChildren,h=l.newChildProps,m=l.nestedChildren;return ur({},u,(c={},c[d.type]=[].concat(u[d.type]||[],[ur({},h,this.mapNestedChildrenToProps(d,m))]),c))},o.prototype.mapObjectTypeChildren=function(l){var c,d,u=l.child,h=l.newProps,m=l.newChildProps,p=l.nestedChildren;switch(u.type){case st.TITLE:return ur({},h,(c={},c[u.type]=p,c.titleAttributes=ur({},m),c));case st.BODY:return ur({},h,{bodyAttributes:ur({},m)});case st.HTML:return ur({},h,{htmlAttributes:ur({},m)})}return ur({},h,(d={},d[u.type]=ur({},m),d))},o.prototype.mapArrayTypeChildrenToProps=function(l,c){var d=ur({},c);return Object.keys(l).forEach(function(u){var h;d=ur({},d,(h={},h[u]=l[u],h))}),d},o.prototype.warnOnInvalidChildren=function(l,c){return!0},o.prototype.mapChildrenToProps=function(l,c){var d=this,u={};return Kt.Children.forEach(l,function(h){if(!(!h||!h.props)){var m=h.props,p=m.children,x=Jw(m,["children"]),g=nD(x);switch(d.warnOnInvalidChildren(h,p),h.type){case st.LINK:case st.META:case st.NOSCRIPT:case st.SCRIPT:case st.STYLE:u=d.flattenArrayTypeChildren({child:h,arrayTypeChildren:u,newChildProps:g,nestedChildren:p});break;default:c=d.mapObjectTypeChildren({child:h,newProps:c,newChildProps:g,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(u,c),c},o.prototype.render=function(){var l=this.props,c=l.children,d=Jw(l,["children"]),u=ur({},d);return c&&(u=this.mapChildrenToProps(c,u)),Kt.createElement(t,u)},H4(o,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),o}(Kt.Component),s.propTypes={base:Gt.object,bodyAttributes:Gt.object,children:Gt.oneOfType([Gt.arrayOf(Gt.node),Gt.node]),defaultTitle:Gt.string,defer:Gt.bool,encodeSpecialCharacters:Gt.bool,htmlAttributes:Gt.object,link:Gt.arrayOf(Gt.object),meta:Gt.arrayOf(Gt.object),noscript:Gt.arrayOf(Gt.object),onChangeClientState:Gt.func,script:Gt.arrayOf(Gt.object),style:Gt.arrayOf(Gt.object),title:Gt.string,titleAttributes:Gt.object,titleTemplate:Gt.string},s.defaultProps={defer:!0,encodeSpecialCharacters:!0},s.peek=t.peek,s.rewind=function(){var a=t.rewind();return a||(a=mS({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),a},r},lD=function(){return null},cD=k4(X4,eD,mS)(lD),Fg=iD(cD);Fg.renderStatic=Fg.rewind;var Cn=function(){return Cn=Object.assign||function(t){for(var s,r=1,a=arguments.length;r<a;r++){s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},Cn.apply(this,arguments)};function pS(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]]);return s}function Be(e,t,s,r){function a(o){return o instanceof s?o:new s(function(i){i(o)})}return new(s||(s=Promise))(function(o,i){function l(u){try{d(r.next(u))}catch(h){i(h)}}function c(u){try{d(r.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})}function dD(e,t,s){if(s||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}const uD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Vv extends Error{constructor(t,s="FunctionsError",r){super(t),this.name=s,this.context=r}}class fD extends Vv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class tb extends Vv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class sb extends Vv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Vg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Vg||(Vg={}));class hD{constructor(t,{headers:s={},customFetch:r,region:a=Vg.Any}={}){this.url=t,this.headers=s,this.region=a,this.fetch=uD(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Be(this,arguments,void 0,function*(s,r={}){var a;let o,i;try{const{headers:l,method:c,body:d,signal:u,timeout:h}=r;let m={},{region:p}=r;p||(p=this.region);const x=new URL(`${this.url}/${s}`);p&&p!=="any"&&(m["x-region"]=p,x.searchParams.set("forceFunctionRegion",p));let g;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",g=d):typeof d=="string"?(m["Content-Type"]="text/plain",g=d):typeof FormData<"u"&&d instanceof FormData?g=d:(m["Content-Type"]="application/json",g=JSON.stringify(d)):g=d;let w=u;h&&(i=new AbortController,o=setTimeout(()=>i.abort(),h),u?(w=i.signal,u.addEventListener("abort",()=>i.abort())):w=i.signal);const b=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:g,signal:w}).catch(_=>{throw new fD(_)}),v=b.headers.get("x-relay-error");if(v&&v==="true")throw new tb(b);if(!b.ok)throw new sb(b);let y=((a=b.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),j;return y==="application/json"?j=yield b.json():y==="application/octet-stream"||y==="application/pdf"?j=yield b.blob():y==="text/event-stream"?j=b:y==="multipart/form-data"?j=yield b.formData():j=yield b.text(),{data:j,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof sb||l instanceof tb?l.context:void 0}}finally{o&&clearTimeout(o)}})}}var hr={},Bv={},bh={},bd={},jh={},Nh={},mD=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},cl=mD();const pD=cl.fetch,gD=cl.fetch.bind(cl),xD=cl.Headers,vD=cl.Request,yD=cl.Response,wD=Object.freeze(Object.defineProperty({__proto__:null,Headers:xD,Request:vD,Response:yD,default:gD,fetch:pD},Symbol.toStringTag,{value:"Module"})),bD=zA(wD);var _h={};Object.defineProperty(_h,"__esModule",{value:!0});let jD=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};_h.default=jD;var gS=Ks&&Ks.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nh,"__esModule",{value:!0});const ND=gS(bD),_D=gS(_h);let SD=class{constructor(t){var s,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(s=t.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=ND.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,s){return this.headers=new Headers(this.headers),this.headers.set(t,s),this}then(t,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let a=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c,d;let u=null,h=null,m=null,p=o.status,x=o.statusText;if(o.ok){if(this.method!=="HEAD"){const v=await o.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?h=v:h=JSON.parse(v))}const w=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),b=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&b&&b.length>1&&(m=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,p=406,x="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const w=await o.text();try{u=JSON.parse(w),Array.isArray(u)&&o.status===404&&(h=[],u=null,p=200,x="OK")}catch{o.status===404&&w===""?(p=204,x="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,p=200,x="OK"),u&&this.shouldThrowOnError)throw new _D.default(u)}return{error:u,data:h,count:m,status:p,statusText:x}});return this.shouldThrowOnError||(a=a.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,s)}returns(){return this}overrideTypes(){return this}};Nh.default=SD;var CD=Ks&&Ks.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jh,"__esModule",{value:!0});const kD=CD(Nh);let ED=class extends kD.default{select(t){let s=!1;const r=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:s=!0,nullsFirst:r,foreignTable:a,referencedTable:o=a}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:s,referencedTable:r=s}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,s,{foreignTable:r,referencedTable:a=r}={}){const o=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${s-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:s=!1,settings:r=!1,buffers:a=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,s?"verbose":null,r?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${d}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};jh.default=ED;var PD=Ks&&Ks.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bd,"__esModule",{value:!0});const TD=PD(jh);let AD=class extends TD.default{eq(t,s){return this.url.searchParams.append(t,`eq.${s}`),this}neq(t,s){return this.url.searchParams.append(t,`neq.${s}`),this}gt(t,s){return this.url.searchParams.append(t,`gt.${s}`),this}gte(t,s){return this.url.searchParams.append(t,`gte.${s}`),this}lt(t,s){return this.url.searchParams.append(t,`lt.${s}`),this}lte(t,s){return this.url.searchParams.append(t,`lte.${s}`),this}like(t,s){return this.url.searchParams.append(t,`like.${s}`),this}likeAllOf(t,s){return this.url.searchParams.append(t,`like(all).{${s.join(",")}}`),this}likeAnyOf(t,s){return this.url.searchParams.append(t,`like(any).{${s.join(",")}}`),this}ilike(t,s){return this.url.searchParams.append(t,`ilike.${s}`),this}ilikeAllOf(t,s){return this.url.searchParams.append(t,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(t,s){return this.url.searchParams.append(t,`ilike(any).{${s.join(",")}}`),this}is(t,s){return this.url.searchParams.append(t,`is.${s}`),this}in(t,s){const r=Array.from(new Set(s)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cs.{${s.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(s)}`),this}containedBy(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cd.{${s.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(s)}`),this}rangeGt(t,s){return this.url.searchParams.append(t,`sr.${s}`),this}rangeGte(t,s){return this.url.searchParams.append(t,`nxl.${s}`),this}rangeLt(t,s){return this.url.searchParams.append(t,`sl.${s}`),this}rangeLte(t,s){return this.url.searchParams.append(t,`nxr.${s}`),this}rangeAdjacent(t,s){return this.url.searchParams.append(t,`adj.${s}`),this}overlaps(t,s){return typeof s=="string"?this.url.searchParams.append(t,`ov.${s}`):this.url.searchParams.append(t,`ov.{${s.join(",")}}`),this}textSearch(t,s,{config:r,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${s}`),this}match(t){return Object.entries(t).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(t,s,r){return this.url.searchParams.append(t,`not.${s}.${r}`),this}or(t,{foreignTable:s,referencedTable:r=s}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,s,r){return this.url.searchParams.append(t,`${s}.${r}`),this}};bd.default=AD;var MD=Ks&&Ks.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bh,"__esModule",{value:!0});const Ql=MD(bd);let RD=class{constructor(t,{headers:s={},schema:r,fetch:a}){this.url=t,this.headers=new Headers(s),this.schema=r,this.fetch=a}select(t,{head:s=!1,count:r}={}){const a=s?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),r&&this.headers.append("Prefer",`count=${r}`),new Ql.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:s,defaultToNull:r=!0}={}){var a;const o="POST";if(s&&this.headers.append("Prefer",`count=${s}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ql.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:s,ignoreDuplicates:r=!1,count:a,defaultToNull:o=!0}={}){var i;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Ql.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:s}={}){var r;const a="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new Ql.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var s;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Ql.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};bh.default=RD;var xS=Ks&&Ks.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bv,"__esModule",{value:!0});const OD=xS(bh),DD=xS(bd);let ID=class vS{constructor(t,{headers:s={},schema:r,fetch:a}={}){this.url=t,this.headers=new Headers(s),this.schemaName=r,this.fetch=a}from(t){const s=new URL(`${this.url}/${t}`);return new OD.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new vS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:r=!1,get:a=!1,count:o}={}){var i;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;r||a?(l=r?"HEAD":"GET",Object.entries(s).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{c.searchParams.append(h,m)})):(l="POST",d=s);const u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new DD.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};Bv.default=ID;var Pl=Ks&&Ks.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hr,"__esModule",{value:!0});hr.PostgrestError=hr.PostgrestBuilder=hr.PostgrestTransformBuilder=hr.PostgrestFilterBuilder=hr.PostgrestQueryBuilder=hr.PostgrestClient=void 0;const yS=Pl(Bv);hr.PostgrestClient=yS.default;const wS=Pl(bh);hr.PostgrestQueryBuilder=wS.default;const bS=Pl(bd);hr.PostgrestFilterBuilder=bS.default;const jS=Pl(jh);hr.PostgrestTransformBuilder=jS.default;const NS=Pl(Nh);hr.PostgrestBuilder=NS.default;const _S=Pl(_h);hr.PostgrestError=_S.default;var LD=hr.default={PostgrestClient:yS.default,PostgrestQueryBuilder:wS.default,PostgrestFilterBuilder:bS.default,PostgrestTransformBuilder:jS.default,PostgrestBuilder:NS.default,PostgrestError:_S.default};const{PostgrestClient:$D,PostgrestQueryBuilder:HX,PostgrestFilterBuilder:WX,PostgrestTransformBuilder:qX,PostgrestBuilder:GX,PostgrestError:YX}=LD;class FD{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const r=s.node,a=parseInt(r.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const r=this.getWebSocketConstructor();return new r(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const VD="2.84.0",BD=`realtime-js/${VD}`,SS="1.0.0",zD="2.0.0",rb=SS,Bg=1e4,UD=1e3,HD=100;var To;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(To||(To={}));var _s;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(_s||(_s={}));var ln;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ln||(ln={}));var zg;(function(e){e.websocket="websocket"})(zg||(zg={}));var Ao;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ao||(Ao={}));class WD{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,r,a,o;const i=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(r=t.join_ref)!==null&&r!==void 0?r:"",d=t.payload.event,u=(o=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+i.length+d.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let p=new DataView(m),x=0;p.setUint8(x++,this.KINDS.userBroadcastPush),p.setUint8(x++,c.length),p.setUint8(x++,l.length),p.setUint8(x++,i.length),p.setUint8(x++,d.length),p.setUint8(x++,this.BINARY_ENCODING),Array.from(c,w=>p.setUint8(x++,w.charCodeAt(0))),Array.from(l,w=>p.setUint8(x++,w.charCodeAt(0))),Array.from(i,w=>p.setUint8(x++,w.charCodeAt(0))),Array.from(d,w=>p.setUint8(x++,w.charCodeAt(0)));var g=new Uint8Array(m.byteLength+u.byteLength);return g.set(new Uint8Array(m),0),g.set(new Uint8Array(u),m.byteLength),g.buffer}_encodeJsonUserBroadcastPush(t){var s,r,a,o;const i=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(r=t.join_ref)!==null&&r!==void 0?r:"",d=t.payload.event,u=(o=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&o!==void 0?o:{},m=new TextEncoder().encode(JSON.stringify(u)).buffer,p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+i.length+d.length,x=new ArrayBuffer(this.HEADER_LENGTH+p);let g=new DataView(x),w=0;g.setUint8(w++,this.KINDS.userBroadcastPush),g.setUint8(w++,c.length),g.setUint8(w++,l.length),g.setUint8(w++,i.length),g.setUint8(w++,d.length),g.setUint8(w++,this.JSON_ENCODING),Array.from(c,v=>g.setUint8(w++,v.charCodeAt(0))),Array.from(l,v=>g.setUint8(w++,v.charCodeAt(0))),Array.from(i,v=>g.setUint8(w++,v.charCodeAt(0))),Array.from(d,v=>g.setUint8(w++,v.charCodeAt(0)));var b=new Uint8Array(x.byteLength+m.byteLength);return b.set(new Uint8Array(x),0),b.set(new Uint8Array(m),x.byteLength),b.buffer}decode(t,s){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return s(r)}if(typeof t=="string"){const r=JSON.parse(t),[a,o,i,l,c]=r;return s({join_ref:a,ref:o,topic:i,event:l,payload:c})}return s({})}_binaryDecode(t){const s=new DataView(t),r=s.getUint8(0),a=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,s,a)}}_decodeUserBroadcast(t,s,r){const a=s.getUint8(1),o=s.getUint8(2),i=s.getUint8(3),l=s.getUint8(4);let c=this.HEADER_LENGTH+4;const d=r.decode(t.slice(c,c+a));c=c+a;const u=r.decode(t.slice(c,c+o));c=c+o;const h=r.decode(t.slice(c,c+i));c=c+i;const m=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(r.decode(m)):m,x={type:this.BROADCAST_EVENT,event:u,payload:p};return i>0&&(x.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}}class CS{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Et;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Et||(Et={}));const nb=(e,t,s={})=>{var r;const a=(r=s.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,i)=>(o[i]=qD(i,e,t,a),o),{}):{}},qD=(e,t,s,r)=>{const a=t.find(l=>l.name===e),o=a==null?void 0:a.type,i=s[e];return o&&!r.includes(o)?kS(o,i):Ug(i)},kS=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return XD(t,s)}switch(e){case Et.bool:return GD(t);case Et.float4:case Et.float8:case Et.int2:case Et.int4:case Et.int8:case Et.numeric:case Et.oid:return YD(t);case Et.json:case Et.jsonb:return KD(t);case Et.timestamp:return QD(t);case Et.abstime:case Et.date:case Et.daterange:case Et.int4range:case Et.int8range:case Et.money:case Et.reltime:case Et.text:case Et.time:case Et.timestamptz:case Et.timetz:case Et.tsrange:case Et.tstzrange:return Ug(t);default:return Ug(t)}},Ug=e=>e,GD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},YD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},KD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},XD=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,r=e[s];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,s);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>kS(t,l))}return e},QD=e=>typeof e=="string"?e.replace(" ","T"):e,ES=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ym{constructor(t,s,r={},a=Bg){this.channel=t,this.event=s,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var r;return this._hasReceived(t)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ab;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ab||(ab={}));class _c{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_c.syncState(this.state,a,o,i),this.pendingDiffs.forEach(c=>{this.state=_c.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},a=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=_c.syncDiff(this.state,a,o,i),l())}),this.onJoin((a,o,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:i})}),this.onLeave((a,o,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,r,a){const o=this.cloneDeep(t),i=this.transformState(s),l={},c={};return this.map(o,(d,u)=>{i[d]||(c[d]=u)}),this.map(i,(d,u)=>{const h=o[d];if(h){const m=u.map(w=>w.presence_ref),p=h.map(w=>w.presence_ref),x=u.filter(w=>p.indexOf(w.presence_ref)<0),g=h.filter(w=>m.indexOf(w.presence_ref)<0);x.length>0&&(l[d]=x),g.length>0&&(c[d]=g)}else l[d]=u}),this.syncDiff(o,{joins:l,leaves:c},r,a)}static syncDiff(t,s,r,a){const{joins:o,leaves:i}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(o,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(p=>p.presence_ref),m=u.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...m)}r(l,u,c)}),this.map(i,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(r=>s(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,r)=>{const a=t[r];return"metas"in a?s[r]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):s[r]=a,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ob;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ob||(ob={}));var Sc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Sc||(Sc={}));var Qn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Qn||(Qn={}));class zv{constructor(t,s={config:{}},r){var a,o;if(this.topic=t,this.params=s,this.socket=r,this.bindings={},this.state=_s.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ym(this,ln.join,this.params,this.timeout),this.rejoinTimer=new CS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_s.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_s.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=_s.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_s.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=_s.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ln.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new _c(this),this.broadcastEndpointURL=ES(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var r,a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==_s.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,d=(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[Sc.PRESENCE]&&this.bindings[Sc.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},m={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Qn.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Qn.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket.setAuth(),p===void 0){t==null||t(Qn.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,w=(x=g==null?void 0:g.length)!==null&&x!==void 0?x:0,b=[];for(let v=0;v<w;v++){const y=g[v],{filter:{event:j,schema:_,table:C,filter:N}}=y,S=p&&p[v];if(S&&S.event===j&&S.schema===_&&S.table===C&&S.filter===N)b.push(Object.assign(Object.assign({},y),{id:S.id}));else{this.unsubscribe(),this.state=_s.errored,t==null||t(Qn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Qn.SUBSCRIBED);return}}).receive("error",p=>{this.state=_s.errored,t==null||t(Qn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Qn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,r){return this.state===_s.joined&&t===Sc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,s,r)}async httpSend(t,s,r={}){var a;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const d=await l.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,s={}){var r,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const d=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=_s.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ln.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new Ym(this,ln.leave,{},t),r.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_s.closed,this.bindings={}}async _fetchWithTimeout(t,s,r){const a=new AbortController,o=setTimeout(()=>a.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:a.signal}));return clearTimeout(o),i}_push(t,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Ym(this,t,s,r);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>HD){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,r){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,r){var a,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=ln;if(r&&[l,c,d,u].indexOf(i)>=0&&r!==this._joinRef())return;let m=this._onMessage(i,s,r);if(s&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var x,g,w;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(g=p.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(p=>p.callback(m,r)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var x,g,w,b,v,y;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const j=p.id,_=(x=p.filter)===null||x===void 0?void 0:x.event;return j&&((g=s.ids)===null||g===void 0?void 0:g.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=s.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(v=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((y=s==null?void 0:s.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:g,table:w,commit_timestamp:b,type:v,errors:y}=x;m=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:b,eventType:v,new:{},old:{},errors:y}),this._getPayloadRecords(x))}p.callback(m,r)})}_isClosed(){return this.state===_s.closed}_isJoined(){return this.state===_s.joined}_isJoining(){return this.state===_s.joining}_isLeaving(){return this.state===_s.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,r){const a=t.toLocaleLowerCase(),o={type:a,filter:s,callback:r};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(t,s){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&zv.isEqual(a.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ln.close,{},t)}_onError(t){this._on(ln.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_s.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=nb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=nb(t.columns,t.old_record)),s}}const Km=()=>{},ou={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},JD=[1e3,2e3,5e3,1e4],ZD=1e4,e5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class t5{constructor(t,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bg,this.transport=null,this.heartbeatIntervalMs=ou.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Km,this.ref=0,this.reconnectTimer=null,this.vsn=rb,this.logger=Km,this.conn=null,this.sendBuffer=[],this.serializer=new WD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...o)=>a(...o):(...o)=>fetch(...o),!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${zg.websocket}`,this.httpEndpoint=ES(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=FD.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,r){this.logger(t,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case To.connecting:return Ao.Connecting;case To.open:return Ao.Open;case To.closing:return Ao.Closing;default:return Ao.Closed}}isConnected(){return this.connectionState()===Ao.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const r=`realtime:${t}`,a=this.getChannels().find(o=>o.topic===r);if(a)return a;{const o=new zv(`realtime:${t}`,s,this);return this.channels.push(o),o}}push(t){const{topic:s,event:r,payload:a,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${s} ${r} (${o})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(UD,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},ou.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:a,payload:o,ref:i}=s,l=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${a} ${l}`.trim(),o),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(a,o,i)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===To.open||this.conn.readyState===To.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ln.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const r=t.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${t}${r}${a}`}_workerObjectUrl(t){let s;if(t)s=t;else{const r=new Blob([e5],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s;t?s=t:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const a={access_token:s,version:BD};s&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(ln.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(s)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new CS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ou.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,r,a,o,i,l,c,d,u,h,m,p;switch(this.transport=(s=t==null?void 0:t.transport)!==null&&s!==void 0?s:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Bg,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:ou.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Km,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:rb,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:x=>JD[x-1]||ZD,this.vsn){case SS:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(x,g)=>g(JSON.stringify(x)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(x,g)=>g(JSON.parse(x));break;case zD:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Uv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Jt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class s5 extends Uv{constructor(t,s,r){super(t),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Hg extends Uv{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}const Hv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),r5=()=>Response,Wg=e=>{if(Array.isArray(e))return e.map(s=>Wg(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,r])=>{const a=s.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[a]=Wg(r)}),t},n5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Xm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},a5=(e,t,s)=>Be(void 0,void 0,void 0,function*(){const r=yield r5();e instanceof r&&!(s!=null&&s.noResolveJson)?e.json().then(a=>{const o=e.status||500,i=(a==null?void 0:a.statusCode)||o+"";t(new s5(Xm(a),o,i))}).catch(a=>{t(new Hg(Xm(a),a))}):t(new Hg(Xm(e),e))}),o5=(e,t,s,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?a:(n5(r)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),s))};function jd(e,t,s,r,a,o){return Be(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(s,o5(t,r,a,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>a5(c,l,r))})})}function Zc(e,t,s,r){return Be(this,void 0,void 0,function*(){return jd(e,"GET",t,s,r)})}function an(e,t,s,r,a){return Be(this,void 0,void 0,function*(){return jd(e,"POST",t,r,a,s)})}function qg(e,t,s,r,a){return Be(this,void 0,void 0,function*(){return jd(e,"PUT",t,r,a,s)})}function i5(e,t,s,r){return Be(this,void 0,void 0,function*(){return jd(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Wv(e,t,s,r,a){return Be(this,void 0,void 0,function*(){return jd(e,"DELETE",t,r,a,s)})}class l5{constructor(t,s){this.downloadFn=t,this.shouldThrowOnError=s}then(t,s){return this.execute().then(t,s)}execute(){return Be(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jt(t))return{data:null,error:t};throw t}})}}var PS;class c5{constructor(t,s){this.downloadFn=t,this.shouldThrowOnError=s,this[PS]="BlobDownloadBuilder",this.promise=null}asStream(){return new l5(this.downloadFn,this.shouldThrowOnError)}then(t,s){return this.getPromise().then(t,s)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Be(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jt(t))return{data:null,error:t};throw t}})}}PS=Symbol.toStringTag;const d5=c5,u5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ib={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class f5{constructor(t,s={},r,a){this.shouldThrowOnError=!1,this.url=t,this.headers=s,this.bucketId=r,this.fetch=Hv(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,s,r,a){return Be(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},ib),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),c&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(c))):(o=r,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(s),u=this._getFinalPath(d),h=yield(t=="PUT"?qg:an)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Jt(o))return{data:null,error:o};throw o}})}upload(t,s,r){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,r)})}uploadToSignedUrl(t,s,r,a){return Be(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",s);try{let c;const d=Object.assign({upsert:ib.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield qg(this.fetch,l.toString(),c,{headers:u});return{data:{path:o,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Jt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,s){return Be(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const a=Object.assign({},this.headers);s!=null&&s.upsert&&(a["x-upsert"]="true");const o=yield an(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new Uv("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}update(t,s,r){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,r)})}move(t,s,r){return Be(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Jt(a))return{data:null,error:a};throw a}})}copy(t,s,r){return Be(this,void 0,void 0,function*(){try{return{data:{path:(yield an(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Jt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,s,r){return Be(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),o=yield an(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Jt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,s,r){return Be(this,void 0,void 0,function*(){try{const a=yield an(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Jt(a))return{data:null,error:a};throw a}})}download(t,s){const a=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),i=o?`?${o}`:"",l=this._getFinalPath(t),c=()=>Zc(this.fetch,`${this.url}/${a}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new d5(c,this.shouldThrowOnError)}info(t){return Be(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const r=yield Zc(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Wg(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}exists(t){return Be(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield i5(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r)&&r instanceof Hg){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,s){const r=this._getFinalPath(t),a=[],o=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";o!==""&&a.push(o);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(t){return Be(this,void 0,void 0,function*(){try{return{data:yield Wv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jt(s))return{data:null,error:s};throw s}})}list(t,s,r){return Be(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},u5),s),{prefix:t||""});return{data:yield an(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Jt(a))return{data:null,error:a};throw a}})}listV2(t,s){return Be(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield an(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const TS="2.84.0",AS={"X-Client-Info":`storage-js/${TS}`};class h5{constructor(t,s={},r,a){this.shouldThrowOnError=!1;const o=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},AS),s),this.fetch=Hv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Be(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(t);return{data:yield Zc(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jt(s))return{data:null,error:s};throw s}})}getBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield Zc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jt(s))return{data:null,error:s};throw s}})}createBucket(t){return Be(this,arguments,void 0,function*(s,r={public:!1}){try{return{data:yield an(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Jt(a))return{data:null,error:a};throw a}})}updateBucket(t,s){return Be(this,void 0,void 0,function*(){try{return{data:yield qg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jt(s))return{data:null,error:s};throw s}})}deleteBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield Wv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jt(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(t){const s={};return t&&("limit"in t&&(s.limit=String(t.limit)),"offset"in t&&(s.offset=String(t.offset)),t.search&&(s.search=t.search),t.sortColumn&&(s.sortColumn=t.sortColumn),t.sortOrder&&(s.sortOrder=t.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}class m5{constructor(t,s={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},AS),s),this.fetch=Hv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jt(s))return{data:null,error:s};throw s}})}listBuckets(t){return Be(this,void 0,void 0,function*(){try{const s=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&s.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&s.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&s.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&s.set("sortOrder",t.sortOrder),t!=null&&t.search&&s.set("search",t.search);const r=s.toString(),a=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Zc(this.fetch,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jt(s))return{data:null,error:s};throw s}})}deleteBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield Wv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jt(s))return{data:null,error:s};throw s}})}}const qv={"X-Client-Info":`storage-js/${TS}`,"Content-Type":"application/json"};class MS extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Sr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Qm extends MS{constructor(t,s,r){super(t),this.name="StorageVectorsApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class p5 extends MS{constructor(t,s){super(t),this.name="StorageVectorsUnknownError",this.originalError=s}}var lb;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(lb||(lb={}));const Gv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),g5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},cb=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),x5=(e,t,s)=>Be(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(s!=null&&s.noResolveJson)){const a=e.status||500,o=e;if(typeof o.json=="function")o.json().then(i=>{const l=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||a+"";t(new Qm(cb(i),a,l))}).catch(()=>{const i=a+"",l=o.statusText||`HTTP ${a} error`;t(new Qm(l,a,i))});else{const i=a+"",l=o.statusText||`HTTP ${a} error`;t(new Qm(l,a,i))}}else t(new p5(cb(e),e))}),v5=(e,t,s,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?a:(g5(r)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,Object.assign(Object.assign({},a),s))};function y5(e,t,s,r,a,o){return Be(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(s,v5(t,r,a,o)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>x5(c,l,r))})})}function Cr(e,t,s,r,a){return Be(this,void 0,void 0,function*(){return y5(e,"POST",t,r,a,s)})}class w5{constructor(t,s={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qv),s),this.fetch=Gv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Be(this,void 0,void 0,function*(){try{return{data:(yield Cr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Sr(s))return{data:null,error:s};throw s}})}getIndex(t,s){return Be(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:s},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}listIndexes(t){return Be(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Sr(s))return{data:null,error:s};throw s}})}deleteIndex(t,s){return Be(this,void 0,void 0,function*(){try{return{data:(yield Cr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:s},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}})}}class b5{constructor(t,s={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qv),s),this.fetch=Gv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Be(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Cr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Sr(s))return{data:null,error:s};throw s}})}getVectors(t){return Be(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Sr(s))return{data:null,error:s};throw s}})}listVectors(t){return Be(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Cr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Sr(s))return{data:null,error:s};throw s}})}queryVectors(t){return Be(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Sr(s))return{data:null,error:s};throw s}})}deleteVectors(t){return Be(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Cr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Sr(s))return{data:null,error:s};throw s}})}}class j5{constructor(t,s={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qv),s),this.fetch=Gv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:(yield Cr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Sr(s))return{data:null,error:s};throw s}})}getBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Sr(s))return{data:null,error:s};throw s}})}listBuckets(){return Be(this,arguments,void 0,function*(t={}){try{return{data:yield Cr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Sr(s))return{data:null,error:s};throw s}})}deleteBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:(yield Cr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Sr(s))return{data:null,error:s};throw s}})}}class N5 extends j5{constructor(t,s={}){super(t,s.headers||{},s.fetch)}from(t){return new _5(this.url,this.headers,t,this.fetch)}}class _5 extends w5{constructor(t,s,r,a){super(t,s,a),this.vectorBucketName=r}createIndex(t){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Be(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Be(this,arguments,void 0,function*(s={}){return t.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Be(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Be(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new S5(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class S5 extends b5{constructor(t,s,r,a,o){super(t,s,o),this.vectorBucketName=r,this.indexName=a}putVectors(t){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Be(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Be(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Be(this,arguments,void 0,function*(s={}){return t.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Be(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Be(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class C5 extends h5{constructor(t,s={},r,a){super(t,s,r,a)}from(t){return new f5(this.url,this.headers,t,this.fetch)}get vectors(){return new N5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new m5(this.url+"/iceberg",this.headers,this.fetch)}}const k5="2.30.0",E5={"X-Client-Info":`supabase-js/${k5}`};var Gg={exports:{}};(function(e,t){var s=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Ks<"u"&&Ks,r=function(){function o(){this.fetch=!1,this.DOMException=s.DOMException}return o.prototype=s,new o}();(function(o){(function(i){var l=typeof o<"u"&&o||typeof self<"u"&&self||typeof Ks<"u"&&Ks||{},c={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function d(P){return P&&DataView.prototype.isPrototypeOf(P)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(P){return P&&u.indexOf(Object.prototype.toString.call(P))>-1};function m(P){if(typeof P!="string"&&(P=String(P)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(P)||P==="")throw new TypeError('Invalid character in header field name: "'+P+'"');return P.toLowerCase()}function p(P){return typeof P!="string"&&(P=String(P)),P}function x(P){var A={next:function(){var V=P.shift();return{done:V===void 0,value:V}}};return c.iterable&&(A[Symbol.iterator]=function(){return A}),A}function g(P){this.map={},P instanceof g?P.forEach(function(A,V){this.append(V,A)},this):Array.isArray(P)?P.forEach(function(A){if(A.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+A.length);this.append(A[0],A[1])},this):P&&Object.getOwnPropertyNames(P).forEach(function(A){this.append(A,P[A])},this)}g.prototype.append=function(P,A){P=m(P),A=p(A);var V=this.map[P];this.map[P]=V?V+", "+A:A},g.prototype.delete=function(P){delete this.map[m(P)]},g.prototype.get=function(P){return P=m(P),this.has(P)?this.map[P]:null},g.prototype.has=function(P){return this.map.hasOwnProperty(m(P))},g.prototype.set=function(P,A){this.map[m(P)]=p(A)},g.prototype.forEach=function(P,A){for(var V in this.map)this.map.hasOwnProperty(V)&&P.call(A,this.map[V],V,this)},g.prototype.keys=function(){var P=[];return this.forEach(function(A,V){P.push(V)}),x(P)},g.prototype.values=function(){var P=[];return this.forEach(function(A){P.push(A)}),x(P)},g.prototype.entries=function(){var P=[];return this.forEach(function(A,V){P.push([V,A])}),x(P)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function w(P){if(!P._noBody){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}}function b(P){return new Promise(function(A,V){P.onload=function(){A(P.result)},P.onerror=function(){V(P.error)}})}function v(P){var A=new FileReader,V=b(A);return A.readAsArrayBuffer(P),V}function y(P){var A=new FileReader,V=b(A),k=/charset=([A-Za-z0-9_-]+)/.exec(P.type),E=k?k[1]:"utf-8";return A.readAsText(P,E),V}function j(P){for(var A=new Uint8Array(P),V=new Array(A.length),k=0;k<A.length;k++)V[k]=String.fromCharCode(A[k]);return V.join("")}function _(P){if(P.slice)return P.slice(0);var A=new Uint8Array(P.byteLength);return A.set(new Uint8Array(P)),A.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(P){this.bodyUsed=this.bodyUsed,this._bodyInit=P,P?typeof P=="string"?this._bodyText=P:c.blob&&Blob.prototype.isPrototypeOf(P)?this._bodyBlob=P:c.formData&&FormData.prototype.isPrototypeOf(P)?this._bodyFormData=P:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)?this._bodyText=P.toString():c.arrayBuffer&&c.blob&&d(P)?(this._bodyArrayBuffer=_(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(P)||h(P))?this._bodyArrayBuffer=_(P):this._bodyText=P=Object.prototype.toString.call(P):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof P=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var P=w(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var P=w(this);return P||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var P=w(this);if(P)return P;if(this._bodyBlob)return y(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(j(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then($)}),this.json=function(){return this.text().then(JSON.parse)},this}var N=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function S(P){var A=P.toUpperCase();return N.indexOf(A)>-1?A:P}function M(P,A){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');A=A||{};var V=A.body;if(P instanceof M){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,A.headers||(this.headers=new g(P.headers)),this.method=P.method,this.mode=P.mode,this.signal=P.signal,!V&&P._bodyInit!=null&&(V=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=A.credentials||this.credentials||"same-origin",(A.headers||!this.headers)&&(this.headers=new g(A.headers)),this.method=S(A.method||this.method||"GET"),this.mode=A.mode||this.mode||null,this.signal=A.signal||this.signal||function(){if("AbortController"in l){var T=new AbortController;return T.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&V)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(V),(this.method==="GET"||this.method==="HEAD")&&(A.cache==="no-store"||A.cache==="no-cache")){var k=/([?&])_=[^&]*/;if(k.test(this.url))this.url=this.url.replace(k,"$1_="+new Date().getTime());else{var E=/\?/;this.url+=(E.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}M.prototype.clone=function(){return new M(this,{body:this._bodyInit})};function $(P){var A=new FormData;return P.trim().split("&").forEach(function(V){if(V){var k=V.split("="),E=k.shift().replace(/\+/g," "),T=k.join("=").replace(/\+/g," ");A.append(decodeURIComponent(E),decodeURIComponent(T))}}),A}function W(P){var A=new g,V=P.replace(/\r?\n[\t ]+/g," ");return V.split("\r").map(function(k){return k.indexOf(`
`)===0?k.substr(1,k.length):k}).forEach(function(k){var E=k.split(":"),T=E.shift().trim();if(T){var z=E.join(":").trim();try{A.append(T,z)}catch(O){console.warn("Response "+O.message)}}}),A}C.call(M.prototype);function R(P,A){if(!(this instanceof R))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(A||(A={}),this.type="default",this.status=A.status===void 0?200:A.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=A.statusText===void 0?"":""+A.statusText,this.headers=new g(A.headers),this.url=A.url||"",this._initBody(P)}C.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},R.error=function(){var P=new R(null,{status:200,statusText:""});return P.ok=!1,P.status=0,P.type="error",P};var Y=[301,302,303,307,308];R.redirect=function(P,A){if(Y.indexOf(A)===-1)throw new RangeError("Invalid status code");return new R(null,{status:A,headers:{location:P}})},i.DOMException=l.DOMException;try{new i.DOMException}catch{i.DOMException=function(A,V){this.message=A,this.name=V;var k=Error(A);this.stack=k.stack},i.DOMException.prototype=Object.create(Error.prototype),i.DOMException.prototype.constructor=i.DOMException}function D(P,A){return new Promise(function(V,k){var E=new M(P,A);if(E.signal&&E.signal.aborted)return k(new i.DOMException("Aborted","AbortError"));var T=new XMLHttpRequest;function z(){T.abort()}T.onload=function(){var L={statusText:T.statusText,headers:W(T.getAllResponseHeaders()||"")};E.url.indexOf("file://")===0&&(T.status<200||T.status>599)?L.status=200:L.status=T.status,L.url="responseURL"in T?T.responseURL:L.headers.get("X-Request-URL");var G="response"in T?T.response:T.responseText;setTimeout(function(){V(new R(G,L))},0)},T.onerror=function(){setTimeout(function(){k(new TypeError("Network request failed"))},0)},T.ontimeout=function(){setTimeout(function(){k(new TypeError("Network request timed out"))},0)},T.onabort=function(){setTimeout(function(){k(new i.DOMException("Aborted","AbortError"))},0)};function O(L){try{return L===""&&l.location.href?l.location.href:L}catch{return L}}if(T.open(E.method,O(E.url),!0),E.credentials==="include"?T.withCredentials=!0:E.credentials==="omit"&&(T.withCredentials=!1),"responseType"in T&&(c.blob?T.responseType="blob":c.arrayBuffer&&(T.responseType="arraybuffer")),A&&typeof A.headers=="object"&&!(A.headers instanceof g||l.Headers&&A.headers instanceof l.Headers)){var q=[];Object.getOwnPropertyNames(A.headers).forEach(function(L){q.push(m(L)),T.setRequestHeader(L,p(A.headers[L]))}),E.headers.forEach(function(L,G){q.indexOf(G)===-1&&T.setRequestHeader(G,L)})}else E.headers.forEach(function(L,G){T.setRequestHeader(G,L)});E.signal&&(E.signal.addEventListener("abort",z),T.onreadystatechange=function(){T.readyState===4&&E.signal.removeEventListener("abort",z)}),T.send(typeof E._bodyInit>"u"?null:E._bodyInit)})}return D.polyfill=!0,l.fetch||(l.fetch=D,l.Headers=g,l.Request=M,l.Response=R),i.Headers=g,i.Request=M,i.Response=R,i.fetch=D,Object.defineProperty(i,"__esModule",{value:!0}),i})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var a=s.fetch?s:r;t=a.fetch,t.default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t})(Gg,Gg.exports);var Yv=Gg.exports;const RS=ti(Yv),P5=V1({__proto__:null,default:RS},[Yv]);var T5=globalThis&&globalThis.__awaiter||function(e,t,s,r){function a(o){return o instanceof s?o:new s(function(i){i(o)})}return new(s||(s=Promise))(function(o,i){function l(u){try{d(r.next(u))}catch(h){i(h)}}function c(u){try{d(r.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const A5=e=>{let t;return e?t=e:typeof fetch>"u"?t=RS:t=fetch,(...s)=>t(...s)},M5=()=>typeof Headers>"u"?Yv.Headers:Headers,R5=(e,t,s)=>{const r=A5(s),a=M5();return(o,i)=>T5(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(i==null?void 0:i.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:d}))})};function O5(e){return e.replace(/\/$/,"")}function D5(e,t){const{db:s,auth:r,realtime:a,global:o}=e,{db:i,auth:l,realtime:c,global:d}=t;return{db:Object.assign(Object.assign({},i),s),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),a),global:Object.assign(Object.assign({},d),o)}}const I5="modulepreload",L5=function(e){return"/"+e},db={},$5=function(t,s,r){if(!s||s.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(s.map(o=>{if(o=L5(o),o in db)return;db[o]=!0;const i=o.endsWith(".css"),l=i?'[rel="stylesheet"]':"";if(!!r)for(let u=a.length-1;u>=0;u--){const h=a[u];if(h.href===o&&(!i||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const d=document.createElement("link");if(d.rel=i?"stylesheet":I5,i||(d.as="script",d.crossOrigin=""),d.href=o,document.head.appendChild(d),i)return new Promise((u,h)=>{d.addEventListener("load",u),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})};function F5(e){return Math.round(Date.now()/1e3)+e}function V5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Kn=()=>typeof document<"u",bo={tested:!1,writable:!1},Fu=()=>{if(!Kn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bo.tested)return bo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),bo.tested=!0,bo.writable=!0}catch{bo.tested=!0,bo.writable=!1}return bo.writable};function dr(e,t){var s;t||(t=((s=window==null?void 0:window.location)===null||s===void 0?void 0:s.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const r=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),a=r.exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}const OS=e=>{let t;return e?t=e:typeof fetch>"u"?t=async(...s)=>await(await $5(()=>Promise.resolve().then(()=>P5),void 0)).fetch(...s):t=fetch,(...s)=>t(...s)},B5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Jl=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},iu=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Jm=async(e,t)=>{await e.removeItem(t)};function z5(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",r,a,o,i,l,c,d,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)i=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),d=t.indexOf(e.charAt(u++)),r=i<<2|l>>4,a=(l&15)<<4|c>>2,o=(c&3)<<6|d,s=s+String.fromCharCode(r),c!=64&&a!=0&&(s=s+String.fromCharCode(a)),d!=64&&o!=0&&(s=s+String.fromCharCode(o));return s}class Sh{constructor(){this.promise=new Sh.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Sh.promiseConstructor=Promise;function ub(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=e.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=s[1];return JSON.parse(z5(r))}function U5(e){return new Promise(t=>{setTimeout(()=>t(null),e)})}function H5(e,t){return new Promise((r,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){a(i);return}}})()})}function W5(e){return("0"+e.toString(16)).substr(-2)}function lu(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let a="";for(let o=0;o<56;o++)a+=s.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(t),Array.from(t,W5).join("")}async function q5(e){const s=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(r);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}function G5(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cu(e){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await q5(e);return G5(t)}const Y5="__stack_guard__",K5="__",X5=/__stack_guard__([a-zA-Z0-9_-]+)__/;let fb=!1,Kv;function Yg(e){var t,s;Kv();let r;try{throw new Error}catch(o){r=o}const a=(s=(t=r.stack)===null||t===void 0?void 0:t.split(`
`))!==null&&s!==void 0?s:[];for(let o=0;o<a.length;o+=1){const l=a[o].match(X5);if(l&&l[1]===e)return!0}return!1}async function Kg(e,t){await Kv();const s=`${Y5}${e}${K5}`;return await{[s]:async()=>await t()}[s]()}Kv=async()=>{fb||(fb=!0,await Kg("ENV_CHECK",async()=>{const e=Yg("ENV_CHECK");return e||console.warn("@supabase/gotrue-js: Stack guards not supported in this environment. Generally not an issue but may point to a very conservative transpilation environment (use ES2017 or above) that implements async/await with generators, or this is a JavaScript engine that does not support async/await stack traces."),e}))};class Xv extends Error{constructor(t,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s}}function ht(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Q5 extends Xv{constructor(t,s){super(t,s),this.name="AuthApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function J5(e){return ht(e)&&e.name==="AuthApiError"}class DS extends Xv{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Tl extends Xv{constructor(t,s,r){super(t),this.name=s,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class xi extends Tl{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Zm extends Tl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class du extends Tl{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class qn extends Tl{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ep extends Tl{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xg extends Tl{constructor(t,s){super(t,"AuthRetryableFetchError",s)}}function hb(e){return ht(e)&&e.name==="AuthRetryableFetchError"}var Z5=globalThis&&globalThis.__rest||function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]]);return s};const uc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eI=[502,503,504];async function mb(e){if(!B5(e))throw new Xg(uc(e),0);if(eI.includes(e.status))throw new Xg(uc(e),e.status);let t;try{t=await e.json()}catch(s){throw new DS(uc(s),s)}throw new Q5(uc(t),e.status||500)}const tI=(e,t,s,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),s))};async function vt(e,t,s,r){var a;const o=Object.assign({},r==null?void 0:r.headers);r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await sI(e,t,s+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function sI(e,t,s,r,a,o){const i=tI(t,r,a,o);let l;try{l=await e(s,i)}catch(c){throw console.error(c),new Xg(uc(c),0)}if(l.ok||await mb(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await mb(c)}}function ba(e){var t;let s=null;oI(e)&&(s=Object.assign({},e),s.expires_at=F5(e.expires_in));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:r},error:null}}function Mo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function rI(e){return{data:e,error:null}}function nI(e){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:a,verification_type:o}=e,i=Z5(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:s,hashed_token:r,redirect_to:a,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function aI(e){return e}function oI(e){return e.access_token&&e.refresh_token&&e.expires_in}var iI=globalThis&&globalThis.__rest||function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]]);return s};class lI{constructor({url:t="",headers:s={},fetch:r}){this.url=t,this.headers=s,this.fetch=OS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s="global"){try{return await vt(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ht(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,s={}){try{return await vt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Mo})}catch(r){if(ht(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:s}=t,r=iI(t,["options"]),a=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await vt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:nI,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ht(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await vt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Mo})}catch(s){if(ht(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,r,a,o,i,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await vt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(o=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:aI});if(u.error)throw u.error;const h=await u.json(),m=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);d[`${w}Page`]=g}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(ht(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){try{return await vt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Mo})}catch(s){if(ht(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){try{return await vt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Mo})}catch(r){if(ht(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,s=!1){try{return await vt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Mo})}catch(r){if(ht(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:s,error:r}=await vt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:r}}catch(s){if(ht(s))return{data:null,error:s};throw s}}async _deleteFactor(t){try{return{data:await vt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(ht(s))return{data:null,error:s};throw s}}}const cI="2.43.1",dI="http://localhost:9999",uI="supabase.auth.token",fI={"X-Client-Info":`gotrue-js/${cI}`},pb=10,gb={getItem:e=>Fu()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Fu()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Fu()&&globalThis.localStorage.removeItem(e)}};function hI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}hI();const mI={url:dI,storageKey:uI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fI,flowType:"implicit",debug:!1},uu=30*1e3,xb=3;class ed{constructor(t){var s;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null,this.instanceID=ed.nextInstanceID,ed.nextInstanceID+=1,this.instanceID>0&&Kn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},mI),t);if(this.logDebugMessages=r.debug,this.inMemorySession=null,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.persistSession=r.persistSession,this.storage=r.storage||gb,this.admin=new lI({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=OS(r.fetch),this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession&&this.storage===gb&&!Fu()&&console.warn(`No storage option exists to persist the session, which may result in unexpected behavior when using auth.
        If you want to set persistSession to true, please provide a storage option or you may set persistSession to false to disable this warning.`),Kn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&console.log(`GoTrueClient@${this.instanceID} ${new Date().toISOString()}`,...t),this}initialize(){return this.initializePromise?this.initializePromise:this._initialize()}async _initialize(){if(this.initializePromise)throw new Error("Double call of #_initialize()");return this.initializePromise=Kg("_initialize",async()=>{try{const t=Kn()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:s,error:r}=await this._getSessionFromUrl(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),await this._removeSession(),{error:r};const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ht(t)?{error:t}:{error:new DS("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}),await this.initializePromise}async signUp(t){var s,r,a;try{await this._removeSession();let o;if("email"in t){const{email:u,password:h,options:m}=t;let p=null,x=null;if(this.flowType==="pkce"){const g=lu();await Jl(this.storage,`${this.storageKey}-code-verifier`,g),p=await cu(g),x=g===p?"plain":"s256"}o=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:h,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:x},xform:ba})}else if("phone"in t){const{phone:u,password:h,options:m}=t;o=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ba})}else throw new du("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(ht(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{await this._removeSession();let s;if("email"in t){const{email:o,password:i,options:l}=t;s=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ba})}else if("phone"in t){const{phone:o,password:i,options:l}=t;s=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ba})}else throw new du("You must provide either an email or phone number and a password");const{data:r,error:a}=s;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Zm}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:{user:r.user,session:r.session},error:a})}catch(s){if(ht(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,r,a,o;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){const s=await iu(this.storage,`${this.storageKey}-code-verifier`),{data:r,error:a}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:ba});return await Jm(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Zm}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:r,error:a})}async signInWithIdToken(t){await this._removeSession();try{const{options:s,provider:r,token:a,access_token:o,nonce:i}=t,l=await vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ba}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Zm}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(s){if(ht(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,r,a,o,i;try{if(await this._removeSession(),"email"in t){const{email:l,options:c}=t;let d=null,u=null;if(this.flowType==="pkce"){const m=lu();await Jl(this.storage,`${this.storageKey}-code-verifier`,m),d=await cu(m),u=m===d?"plain":"s256"}const{error:h}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new du("You must provide either an email or phone number.")}catch(l){if(ht(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var s,r;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();const{data:a,error:o}=await vt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:(s=t.options)===null||s===void 0?void 0:s.captchaToken}}),redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,xform:ba});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const i=a.session,l=a.user;return i!=null&&i.access_token&&(await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)),{data:{user:l,session:i},error:null}}catch(a){if(ht(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var s,r,a;try{return await this._removeSession(),await vt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:rI})}catch(o){if(ht(o))return{data:null,error:o};throw o}}async reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;if(r)throw r;if(!s)throw new xi;const{error:a}=await vt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(ht(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const s=`${this.url}/resend`;if("email"in t){const{email:r,type:a,options:o}=t,{error:i}=await vt(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:a,options:o}=t,{data:i,error:l}=await vt(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new du("You must provide either an email or phone number and a type")}catch(s){if(ht(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return this._useSession(async t=>t)}async _useSession(t){return await Kg("_useSession",async()=>{const s=await this.__loadSession();return await t(s)})}async __loadSession(){if(this._debug("#__loadSession()","begin"),this.logDebugMessages&&!Yg("_useSession"))throw new Error("Please use #_useSession()");Yg("_initialize")||await this.initializePromise;try{let t=null;if(this.persistSession){const o=await iu(this.storage,this.storageKey);this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?t=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession()))}else t=this.inMemorySession,this._debug("#getSession()","session from memory",t);if(!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s)return{data:{session:t},error:null};const{session:r,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){try{return await this._useSession(async s=>{var r,a;if(!t){const{data:o,error:i}=s;if(i)throw i;t=(a=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0}return await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Mo})})}catch(s){if(ht(s))return{data:{user:null},error:s};throw s}}async updateUser(t,s={}){try{return await this._useSession(async r=>{const{data:a,error:o}=r;if(o)throw o;if(!a.session)throw new xi;const i=a.session,{data:l,error:c}=await vt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:t,jwt:i.access_token,xform:Mo});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(ht(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return ub(t)}async setSession(t){try{if(!t.access_token||!t.refresh_token)throw new xi;const s=Date.now()/1e3;let r=s,a=!0,o=null;const i=ub(t.access_token);if(i.exp&&(r=i.exp,a=r<=s),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this.getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(s){if(ht(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){try{return await this._useSession(async s=>{var r;if(!t){const{data:i,error:l}=s;if(l)throw l;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new xi;const{session:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(ht(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromUrl(t){try{if(!Kn())throw new qn("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new qn("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new ep("Not a valid PKCE flow url.");if(t){const w=dr("code");if(!w)throw new ep("No code detected.");const{data:b,error:v}=await this.exchangeCodeForSession(w);if(v)throw v;if(!b.session)throw new ep("No session detected.");let y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:b.session,redirectType:null},error:null}}const s=dr("error_description");if(s){const w=dr("error_code");if(!w)throw new qn("No error_code detected.");const b=dr("error");throw b?new qn(s,{error:b,code:w}):new qn("No error detected.")}const r=dr("provider_token"),a=dr("provider_refresh_token"),o=dr("access_token");if(!o)throw new qn("No access_token detected.");const i=dr("expires_in");if(!i)throw new qn("No expires_in detected.");const l=dr("refresh_token");if(!l)throw new qn("No refresh_token detected.");const c=dr("token_type");if(!c)throw new qn("No token_type detected.");const u=Math.round(Date.now()/1e3)+parseInt(i),{data:h,error:m}=await this.getUser(o);if(m)throw m;const p=h.user,x={provider_token:r,provider_refresh_token:a,access_token:o,expires_in:parseInt(i),expires_at:u,refresh_token:l,token_type:c,user:p},g=dr("type");return window.location.hash="",this._debug("#_getSessionFromUrl()","clearing window.location.hash"),{data:{session:x,redirectType:g},error:null}}catch(s){if(ht(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantFlow(){return Kn()&&(!!dr("access_token")||!!dr("error_description"))}async _isPKCEFlow(){const t=await iu(this.storage,`${this.storageKey}-code-verifier`);return!!dr("code")&&!!t}async signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:a,error:o}=s;if(o)return{error:o};const i=(r=a.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(J5(l)&&(l.status===404||l.status===401)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Jm(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const s=V5(),r={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),this._emitInitialSession(s),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async s=>{var r,a;try{const{data:{session:o},error:i}=s;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,s={}){let r=null,a=null;if(this.flowType==="pkce"){const o=lu();await Jl(this.storage,`${this.storageKey}-code-verifier`,o),r=await cu(o),a=o===r?"plain":"s256"}try{return await vt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(o){if(ht(o))return{data:null,error:o};throw o}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await H5(async a=>(await U5(a*200),this._debug(s,"refreshing attempt",a),await vt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ba})),(a,o,i)=>i&&i.error&&hb(i.error)&&Date.now()+(a+1)*200-r<uu)}catch(r){if(this._debug(s,"error",r),ht(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const r=await this._getUrlForProvider(t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",r),Kn()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await iu(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),o=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<a+pb;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${pb}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),hb(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,r;if(!t)throw new xi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Sh;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new xi;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(a,"error",o),ht(o)){const i={session:null,error:o};return(s=this.refreshingDeferred)===null||s===void 0||s.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,s,r=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:s});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,s)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.persistSession||(this.inMemorySession=t),this.persistSession&&t.expires_at&&await this._persistSession(t)}_persistSession(t){return this._debug("#_persistSession()",t),Jl(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),this.persistSession?await Jm(this.storage,this.storageKey):this.inMemorySession=null}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Kn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),uu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),await this._autoRefreshTokenTick()}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-t)/uu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${uu}ms, refresh threshold is ${xb} ticks`),a<=xb&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){this._debug(`#_onVisibilityChanged(${t})`,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(t||(await this.initializePromise,await this._recoverAndRefresh(),this._debug("#_onVisibilityChanged()","finished waiting for initialize, _recoverAndRefresh")),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s){const r=[`provider=${encodeURIComponent(t)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const a=lu();await Jl(this.storage,`${this.storageKey}-code-verifier`,a);const o=await cu(a),i=a===o?"plain":"s256";this._debug("PKCE","code verifier",`${a.substring(0,5)}...`,"code challenge",o,"method",i);const l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});r.push(l.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);r.push(a.toString())}return`${this.url}/authorize?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var r;const{data:a,error:o}=s;return o?{data:null,error:o}:await vt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(ht(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var r,a;const{data:o,error:i}=s;if(i)return{data:null,error:i};const{data:l,error:c}=await vt(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(ht(s))return{data:null,error:s};throw s}}async _verify(t){try{return await this._useSession(async s=>{var r;const{data:a,error:o}=s;if(o)return{data:null,error:o};const{data:i,error:l}=await vt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(s){if(ht(s))return{data:null,error:s};throw s}}async _challenge(t){try{return await this._useSession(async s=>{var r;const{data:a,error:o}=s;return o?{data:null,error:o}:await vt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(ht(s))return{data:null,error:s};throw s}}async _challengeAndVerify(t){const{data:s,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(t==null?void 0:t.factors)||[],a=r.filter(o=>o.factor_type==="totp"&&o.status==="verified");return{data:{all:r,totp:a},error:null}}async _getAuthenticatorAssuranceLevel(){return await this._useSession(async t=>{var s,r;const{data:{session:a},error:o}=t;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(a.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((r=(s=a.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}})}}ed.nextInstanceID=0;class pI extends ed{constructor(t){super(t)}}var gI=globalThis&&globalThis.__awaiter||function(e,t,s,r){function a(o){return o instanceof s?o:new s(function(i){i(o)})}return new(s||(s=Promise))(function(o,i){function l(u){try{d(r.next(u))}catch(h){i(h)}}function c(u){try{d(r.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const xI={headers:E5},vI={schema:"public"},yI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wI={};class bI{constructor(t,s,r){var a,o,i,l,c,d,u,h;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const m=O5(t);this.realtimeUrl=`${m}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${m}/auth/v1`,this.storageUrl=`${m}/storage/v1`,this.functionsUrl=`${m}/functions/v1`;const p=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,x={db:vI,realtime:wI,auth:Object.assign(Object.assign({},yI),{storageKey:p}),global:xI},g=D5(r??{},x);this.storageKey=(o=(a=g.auth)===null||a===void 0?void 0:a.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=(i=g.global)===null||i===void 0?void 0:i.headers)!==null&&l!==void 0?l:{},this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,(d=g.global)===null||d===void 0?void 0:d.fetch),this.fetch=R5(s,this._getAccessToken.bind(this),(u=g.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},g.realtime)),this.rest=new $D(`${m}/rest/v1`,{headers:this.headers,schema:(h=g.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new hD(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new C5(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,s={},r){return this.rest.rpc(t,s,r)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return gI(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(s=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:a,storageKey:o,flowType:i,debug:l},c,d){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pI({url:this.authUrl,headers:Object.assign(Object.assign({},u),c),storageKey:o,autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:a,flowType:i,debug:l,fetch:d})}_initRealtimeClient(t){return new t5(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,s,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const jI=(e,t,s)=>new bI(e,t,s),NI="https://uybiseugdckzadrakfqa.supabase.co",_I="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV5YmlzZXVnZGNremFkcmFrZnFhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI1NzAxMDMsImV4cCI6MjA3ODE0NjEwM30.1pts8rK7cQsWdEb-NvNa39Iz_rZF2OvYVhpTzZnrlqg",I=jI(NI,_I),SI=1;let tp=0;function CI(){return tp=(tp+1)%Number.MAX_VALUE,tp.toString()}const Js={state:{toasts:[]},listeners:[],getState:()=>Js.state,setState:e=>{typeof e=="function"?Js.state=e(Js.state):Js.state={...Js.state,...e},Js.listeners.forEach(t=>t(Js.state))},subscribe:e=>(Js.listeners.push(e),()=>{Js.listeners=Js.listeners.filter(t=>t!==e)})},kI=({...e})=>{const t=CI(),s=a=>Js.setState(o=>({...o,toasts:o.toasts.map(i=>i.id===t?{...i,...a}:i)})),r=()=>Js.setState(a=>({...a,toasts:a.toasts.filter(o=>o.id!==t)}));return Js.setState(a=>({...a,toasts:[{...e,id:t,dismiss:r},...a.toasts].slice(0,SI)})),{id:t,dismiss:r,update:s}};function Ct(){const[e,t]=f.useState(Js.getState());return f.useEffect(()=>Js.subscribe(r=>{t(r)}),[]),f.useEffect(()=>{const s=[];return e.toasts.forEach(r=>{if(r.duration===1/0)return;const a=setTimeout(()=>{r.dismiss()},r.duration||3e3);s.push(a)}),()=>{s.forEach(r=>clearTimeout(r))}},[e.toasts]),{toast:kI,toasts:e.toasts}}const IS=f.createContext(void 0),EI=({children:e})=>{const{toast:t}=Ct(),s=xa(),[r,a]=f.useState(null),[o,i]=f.useState(null),[l,c]=f.useState(!0),[d,u]=f.useState(null),[h,m]=f.useState(()=>sessionStorage.getItem("professor-session")==="true"),p=f.useCallback(async C=>{if(!C)return u(null),null;const{data:N,error:S}=await I.from("profiles").select("*").eq("id",C).maybeSingle();return S?(console.error("Error fetching profile:",S),u(null)):u(N),N},[]),x=f.useCallback(async()=>{a(null),i(null),u(null),m(!1),sessionStorage.removeItem("professor-session");const{error:C}=await I.auth.signOut();C?C.message!=="No session found"&&C.code!=="session_not_found"&&(console.error("Sign out error:",C),t({variant:"destructive",title:"Erro ao sair",description:"Houve um problema ao finalizar a sesso."})):t({variant:"info",title:"At logo! ",description:"Voc saiu com sucesso."}),s("/login")},[s,t]),g=C=>{m(C),C?sessionStorage.setItem("professor-session","true"):sessionStorage.removeItem("professor-session")},w=f.useCallback(async C=>{i(C);let N=(C==null?void 0:C.user)??null;if(a(N),C&&!N){const{data:{session:S},error:M}=await I.auth.refreshSession();!M&&S?(N=S.user,a(N),i(S)):(console.error("Failed to refresh session:",M),await I.auth.signOut())}N?await p(N.id):u(null),c(!1)},[p]);f.useEffect(()=>{(async()=>{const{data:{session:S}}=await I.auth.getSession();w(S)})();const{data:{subscription:N}}=I.auth.onAuthStateChange(async(S,M)=>{var $;if(w(M),S==="SIGNED_IN"&&(($=M==null?void 0:M.user)!=null&&$.id)){const W=await p(M.user.id);if((W==null?void 0:W.is_active)===!1){await I.auth.signOut(),t({variant:"destructive",title:"Conta Inativa",description:"Sua conta foi inativada. Para mais informaes, entre em contato com o suporte.",duration:8e3}),c(!1);return}(W==null?void 0:W.role)==="professor"||(W==null?void 0:W.role)==="superadmin"||(W==null?void 0:W.role)==="admin"||window.location.pathname==="/login"&&(t({variant:"info",title:"Login bem-sucedido! ",description:"Bem-vindo(a) de volta ao seu painel."}),s("/"))}else S==="SIGNED_OUT"&&(m(!1),sessionStorage.removeItem("professor-session"))});return()=>N.unsubscribe()},[w,p,s,t]);const b=f.useCallback(async(C,N,S)=>{const{data:M,error:$}=await I.auth.signUp({email:C,password:N,options:{...S,emailRedirectTo:void 0}});return $&&t({variant:"destructive",title:"Falha no Cadastro",description:$.message||"Algo deu errado"}),{data:M,error:$}},[t]),v=f.useCallback(async(C,N)=>{const{error:S,data:M}=await I.auth.signInWithPassword({email:C,password:N});return S?(t({variant:"destructive",title:"Falha no Login",description:S.message||"E-mail ou senha invlidos."}),{error:S}):{error:null}},[t]),y=f.useCallback(async C=>{const{error:N}=await I.auth.resetPasswordForEmail(C,{redirectTo:`${window.location.origin}/update-password`});return t(N?{variant:"destructive",title:"Falha ao redefinir",description:N.message}:{variant:"info",title:"Verifique seu e-mail!",description:"Enviamos um link para redefinir sua senha."}),{error:N}},[t]),j=f.useCallback(async C=>{const{error:N}=await I.auth.updateUser({password:C});return N?t({variant:"destructive",title:"Erro ao atualizar senha",description:N.message}):(t({variant:"info",title:"Senha atualizada!",description:"Sua senha foi alterada com sucesso."}),s("/")),{error:N}},[t,s]),_=f.useMemo(()=>({user:r,session:o,profile:d,fetchProfile:p,loading:l,professorSession:h,setProfessorSession:g,signUp:b,signIn:v,signOut:x,sendPasswordResetLink:y,updateUserPassword:j}),[r,o,d,p,l,h,b,v,x,y,j]);return n.jsx(IS.Provider,{value:_,children:e})},Or=()=>{const e=f.useContext(IS);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};function LS(e){var t,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=LS(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function $S(){for(var e,t,s=0,r="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=LS(e))&&(r&&(r+=" "),r+=t);return r}function PI(){for(var e=0,t,s,r="";e<arguments.length;)(t=arguments[e++])&&(s=FS(t))&&(r&&(r+=" "),r+=s);return r}function FS(e){if(typeof e=="string")return e;for(var t,s="",r=0;r<e.length;r++)e[r]&&(t=FS(e[r]))&&(s&&(s+=" "),s+=t);return s}var Qv="-";function TI(e){var t=MI(e),s=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,a=r===void 0?{}:r;function o(l){var c=l.split(Qv);return c[0]===""&&c.length!==1&&c.shift(),VS(c,t)||AI(l)}function i(l,c){var d=s[l]||[];return c&&a[l]?[].concat(d,a[l]):d}return{getClassGroupId:o,getConflictingClassGroupIds:i}}function VS(e,t){var i;if(e.length===0)return t.classGroupId;var s=e[0],r=t.nextPart.get(s),a=r?VS(e.slice(1),r):void 0;if(a)return a;if(t.validators.length!==0){var o=e.join(Qv);return(i=t.validators.find(function(l){var c=l.validator;return c(o)}))==null?void 0:i.classGroupId}}var vb=/^\[(.+)\]$/;function AI(e){if(vb.test(e)){var t=vb.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}}function MI(e){var t=e.theme,s=e.prefix,r={nextPart:new Map,validators:[]},a=OI(Object.entries(e.classGroups),s);return a.forEach(function(o){var i=o[0],l=o[1];Qg(l,r,i,t)}),r}function Qg(e,t,s,r){e.forEach(function(a){if(typeof a=="string"){var o=a===""?t:yb(t,a);o.classGroupId=s;return}if(typeof a=="function"){if(RI(a)){Qg(a(r),t,s,r);return}t.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(function(i){var l=i[0],c=i[1];Qg(c,yb(t,l),s,r)})})}function yb(e,t){var s=e;return t.split(Qv).forEach(function(r){s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s}function RI(e){return e.isThemeGetter}function OI(e,t){return t?e.map(function(s){var r=s[0],a=s[1],o=a.map(function(i){return typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(l){var c=l[0],d=l[1];return[t+c,d]})):i});return[r,o]}):e}function DI(e){if(e<1)return{get:function(){},set:function(){}};var t=0,s=new Map,r=new Map;function a(o,i){s.set(o,i),t++,t>e&&(t=0,r=s,s=new Map)}return{get:function(i){var l=s.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return a(i,l),l},set:function(i,l){s.has(i)?s.set(i,l):a(i,l)}}}var BS="!";function II(e){var t=e.separator||":",s=t.length===1,r=t[0],a=t.length;return function(i){for(var l=[],c=0,d=0,u,h=0;h<i.length;h++){var m=i[h];if(c===0){if(m===r&&(s||i.slice(h,h+a)===t)){l.push(i.slice(d,h)),d=h+a;continue}if(m==="/"){u=h;continue}}m==="["?c++:m==="]"&&c--}var p=l.length===0?i:i.substring(d),x=p.startsWith(BS),g=x?p.substring(1):p,w=u&&u>d?u-d:void 0;return{modifiers:l,hasImportantModifier:x,baseClassName:g,maybePostfixModifierPosition:w}}}function LI(e){if(e.length<=1)return e;var t=[],s=[];return e.forEach(function(r){var a=r[0]==="[";a?(t.push.apply(t,s.sort().concat([r])),s=[]):s.push(r)}),t.push.apply(t,s.sort()),t}function $I(e){return{cache:DI(e.cacheSize),splitModifiers:II(e),...TI(e)}}var FI=/\s+/;function VI(e,t){var s=t.splitModifiers,r=t.getClassGroupId,a=t.getConflictingClassGroupIds,o=new Set;return e.trim().split(FI).map(function(i){var l=s(i),c=l.modifiers,d=l.hasImportantModifier,u=l.baseClassName,h=l.maybePostfixModifierPosition,m=r(h?u.substring(0,h):u),p=!!h;if(!m){if(!h)return{isTailwindClass:!1,originalClassName:i};if(m=r(u),!m)return{isTailwindClass:!1,originalClassName:i};p=!1}var x=LI(c).join(":"),g=d?x+BS:x;return{isTailwindClass:!0,modifierId:g,classGroupId:m,originalClassName:i,hasPostfixModifier:p}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var l=i.modifierId,c=i.classGroupId,d=i.hasPostfixModifier,u=l+c;return o.has(u)?!1:(o.add(u),a(c,d).forEach(function(h){return o.add(l+h)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function BI(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var r,a,o,i=l;function l(d){var u=t[0],h=t.slice(1),m=h.reduce(function(p,x){return x(p)},u());return r=$I(m),a=r.cache.get,o=r.cache.set,i=c,c(d)}function c(d){var u=a(d);if(u)return u;var h=VI(d,r);return o(d,h),h}return function(){return i(PI.apply(null,arguments))}}function Lt(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var zS=/^\[(?:([a-z-]+):)?(.+)\]$/i,zI=/^\d+\/\d+$/,UI=new Set(["px","full","screen"]),HI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,WI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qI=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function sn(e){return Io(e)||UI.has(e)||zI.test(e)||Jg(e)}function Jg(e){return oi(e,"length",JI)}function GI(e){return oi(e,"size",US)}function YI(e){return oi(e,"position",US)}function KI(e){return oi(e,"url",ZI)}function fu(e){return oi(e,"number",Io)}function Io(e){return!Number.isNaN(Number(e))}function XI(e){return e.endsWith("%")&&Io(e.slice(0,-1))}function Zl(e){return wb(e)||oi(e,"number",wb)}function lt(e){return zS.test(e)}function ec(){return!0}function ja(e){return HI.test(e)}function QI(e){return oi(e,"",e3)}function oi(e,t,s){var r=zS.exec(e);return r?r[1]?r[1]===t:s(r[2]):!1}function JI(e){return WI.test(e)}function US(){return!1}function ZI(e){return e.startsWith("url(")}function wb(e){return Number.isInteger(Number(e))}function e3(e){return qI.test(e)}function t3(){var e=Lt("colors"),t=Lt("spacing"),s=Lt("blur"),r=Lt("brightness"),a=Lt("borderColor"),o=Lt("borderRadius"),i=Lt("borderSpacing"),l=Lt("borderWidth"),c=Lt("contrast"),d=Lt("grayscale"),u=Lt("hueRotate"),h=Lt("invert"),m=Lt("gap"),p=Lt("gradientColorStops"),x=Lt("gradientColorStopPositions"),g=Lt("inset"),w=Lt("margin"),b=Lt("opacity"),v=Lt("padding"),y=Lt("saturate"),j=Lt("scale"),_=Lt("sepia"),C=Lt("skew"),N=Lt("space"),S=Lt("translate"),M=function(){return["auto","contain","none"]},$=function(){return["auto","hidden","clip","visible","scroll"]},W=function(){return["auto",lt,t]},R=function(){return[lt,t]},Y=function(){return["",sn]},D=function(){return["auto",Io,lt]},P=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},A=function(){return["solid","dashed","dotted","double","none"]},V=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},k=function(){return["start","end","center","between","around","evenly","stretch"]},E=function(){return["","0",lt]},T=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},z=function(){return[Io,fu]},O=function(){return[Io,lt]};return{cacheSize:500,theme:{colors:[ec],spacing:[sn],blur:["none","",ja,lt],brightness:z(),borderColor:[e],borderRadius:["none","","full",ja,lt],borderSpacing:R(),borderWidth:Y(),contrast:z(),grayscale:E(),hueRotate:O(),invert:E(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[XI,Jg],inset:W(),margin:W(),opacity:z(),padding:R(),saturate:z(),scale:z(),sepia:E(),skew:O(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",lt]}],container:["container"],columns:[{columns:[ja]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(P(),[lt])}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zl]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",lt]}],grow:[{grow:E()}],shrink:[{shrink:E()}],order:[{order:["first","last","none",Zl]}],"grid-cols":[{"grid-cols":[ec]}],"col-start-end":[{col:["auto",{span:["full",Zl]},lt]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[ec]}],"row-start-end":[{row:["auto",{span:[Zl]},lt]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",lt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(k())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(k(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(k(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",lt,t]}],"min-w":[{"min-w":["min","max","fit",lt,sn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[ja]},ja,lt]}],h:[{h:[lt,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",lt,sn]}],"max-h":[{"max-h":[lt,t,"min","max","fit"]}],"font-size":[{text:["base",ja,Jg]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fu]}],"font-family":[{font:[ec]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",lt]}],"line-clamp":[{"line-clamp":["none",Io,fu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",lt,sn]}],"list-image":[{"list-image":["none",lt]}],"list-style-type":[{list:["none","disc","decimal",lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(A(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",sn]}],"underline-offset":[{"underline-offset":["auto",lt,sn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(P(),[YI])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},KI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[].concat(A(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:A()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:[""].concat(A())}],"outline-offset":[{"outline-offset":[lt,sn]}],"outline-w":[{outline:[sn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[sn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ja,QI]}],"shadow-color":[{shadow:[ec]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":V()}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ja,lt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[y]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",lt]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",lt]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Zl,lt]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",lt]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",lt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",lt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[sn,fu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var s3=BI(t3);function ee(...e){return s3($S(e))}function bb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ar(...e){return t=>{let s=!1;const r=e.map(a=>{const o=bb(a,t);return!s&&typeof o=="function"&&(s=!0),o});if(s)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():bb(e[a],null)}}}}function at(...e){return f.useCallback(ar(...e),e)}var r3=Symbol.for("react.lazy"),Sf=nh[" use ".trim().toString()];function n3(e){return typeof e=="object"&&e!==null&&"then"in e}function HS(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===r3&&"_payload"in e&&n3(e._payload)}function Ch(e){const t=o3(e),s=f.forwardRef((r,a)=>{let{children:o,...i}=r;HS(o)&&typeof Sf=="function"&&(o=Sf(o._payload));const l=f.Children.toArray(o),c=l.find(l3);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return n.jsx(t,{...i,ref:a,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}var a3=Ch("Slot");function o3(e){const t=f.forwardRef((s,r)=>{let{children:a,...o}=s;if(HS(a)&&typeof Sf=="function"&&(a=Sf(a._payload)),f.isValidElement(a)){const i=d3(a),l=c3(o,a.props);return a.type!==f.Fragment&&(l.ref=r?ar(r,i):i),f.cloneElement(a,l)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var i3=Symbol("radix.slottable");function l3(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===i3}function c3(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function d3(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}const jb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Nb=$S,Nd=(e,t)=>s=>{var r;if((t==null?void 0:t.variants)==null)return Nb(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(d=>{const u=s==null?void 0:s[d],h=o==null?void 0:o[d];if(u===null)return null;const m=jb(u)||jb(h);return a[d][m]}),l=s&&Object.entries(s).reduce((d,u)=>{let[h,m]=u;return m===void 0||(d[h]=m),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:h,className:m,...p}=u;return Object.entries(p).every(x=>{let[g,w]=x;return Array.isArray(w)?w.includes({...o,...l}[g]):{...o,...l}[g]===w})?[...d,h,m]:d},[]);return Nb(e,i,c,s==null?void 0:s.class,s==null?void 0:s.className)},Zg=Nd("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),K=Kt.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...a},o)=>{const i=r?a3:"button";return n.jsx(i,{className:ee(Zg({variant:t,size:s,className:e})),ref:o,...a})});K.displayName="Button";/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WS=(...e)=>e.filter((t,s,r)=>!!t&&r.indexOf(t)===s).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:i,...l},c)=>f.createElement("svg",{ref:c,...f3,width:t,height:t,stroke:e,strokeWidth:r?Number(s)*24/Number(t):s,className:WS("lucide",a),...l},[...i.map(([d,u])=>f.createElement(d,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(e,t)=>{const s=f.forwardRef(({className:r,...a},o)=>f.createElement(h3,{ref:o,iconNode:t,className:WS(`lucide-${u3(e)}`,r),...a}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=me("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=me("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=me("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=me("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=me("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=me("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=me("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=me("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=me("CalendarHeart",[["path",{d:"M3 10h18V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7",key:"136lmk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21.29 14.7a2.43 2.43 0 0 0-2.65-.52c-.3.12-.57.3-.8.53l-.34.34-.35-.34a2.43 2.43 0 0 0-2.65-.53c-.3.12-.56.3-.79.53-.95.94-1 2.53.2 3.74L17.5 22l3.6-3.55c1.2-1.21 1.14-2.8.19-3.74Z",key:"1t7hil"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=me("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=me("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=me("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=me("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=me("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=me("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=me("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=me("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=me("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=me("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=me("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=me("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=me("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=me("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=me("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=me("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=me("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=me("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=me("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=me("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=me("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=me("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=me("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=me("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=me("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=me("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=me("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=me("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=me("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=me("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=me("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=me("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=me("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=me("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=me("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=me("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=me("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=me("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=me("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=me("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=me("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=me("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=me("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=me("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=me("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function ve(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function U3(e,t){const s=f.createContext(t),r=o=>{const{children:i,...l}=o,c=f.useMemo(()=>l,Object.values(l));return n.jsx(s.Provider,{value:c,children:i})};r.displayName=e+"Provider";function a(o){const i=f.useContext(s);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,a]}function Dr(e,t=[]){let s=[];function r(o,i){const l=f.createContext(i),c=s.length;s=[...s,i];const d=h=>{var b;const{scope:m,children:p,...x}=h,g=((b=m==null?void 0:m[e])==null?void 0:b[c])||l,w=f.useMemo(()=>x,Object.values(x));return n.jsx(g.Provider,{value:w,children:p})};d.displayName=o+"Provider";function u(h,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,x=f.useContext(p);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[d,u]}const a=()=>{const o=s.map(i=>f.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,H3(a,...t)]}function H3(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(o)[`__scope${d}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}function W3(e){const t=q3(e),s=f.forwardRef((r,a)=>{const{children:o,...i}=r,l=f.Children.toArray(o),c=l.find(Y3);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return n.jsx(t,{...i,ref:a,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}function q3(e){const t=f.forwardRef((s,r)=>{const{children:a,...o}=s;if(f.isValidElement(a)){const i=X3(a),l=K3(o,a.props);return a.type!==f.Fragment&&(l.ref=r?ar(r,i):i),f.cloneElement(a,l)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var G3=Symbol("radix.slottable");function Y3(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===G3}function K3(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function X3(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Q3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Re=Q3.reduce((e,t)=>{const s=W3(`Primitive.${t}`),r=f.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function e0(e,t){e&&ni.flushSync(()=>e.dispatchEvent(t))}function ls(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...s)=>{var r;return(r=t.current)==null?void 0:r.call(t,...s)},[])}function J3(e,t=globalThis==null?void 0:globalThis.document){const s=ls(e);f.useEffect(()=>{const r=a=>{a.key==="Escape"&&s(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[s,t])}var Z3="DismissableLayer",nx="dismissableLayer.update",eL="dismissableLayer.pointerDownOutside",tL="dismissableLayer.focusOutside",kb,JS=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ml=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,d=f.useContext(JS),[u,h]=f.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=f.useState({}),x=at(t,N=>h(N)),g=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(w),v=u?g.indexOf(u):-1,y=d.layersWithOutsidePointerEventsDisabled.size>0,j=v>=b,_=rL(N=>{const S=N.target,M=[...d.branches].some($=>$.contains(S));!j||M||(a==null||a(N),i==null||i(N),N.defaultPrevented||l==null||l())},m),C=nL(N=>{const S=N.target;[...d.branches].some($=>$.contains(S))||(o==null||o(N),i==null||i(N),N.defaultPrevented||l==null||l())},m);return J3(N=>{v===d.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},m),f.useEffect(()=>{if(u)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(kb=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Eb(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=kb)}},[u,m,s,d]),f.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Eb())},[u,d]),f.useEffect(()=>{const N=()=>p({});return document.addEventListener(nx,N),()=>document.removeEventListener(nx,N)},[]),n.jsx(Re.div,{...c,ref:x,style:{pointerEvents:y?j?"auto":"none":void 0,...e.style},onFocusCapture:ve(e.onFocusCapture,C.onFocusCapture),onBlurCapture:ve(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ve(e.onPointerDownCapture,_.onPointerDownCapture)})});Ml.displayName=Z3;var sL="DismissableLayerBranch",ZS=f.forwardRef((e,t)=>{const s=f.useContext(JS),r=f.useRef(null),a=at(t,r);return f.useEffect(()=>{const o=r.current;if(o)return s.branches.add(o),()=>{s.branches.delete(o)}},[s.branches]),n.jsx(Re.div,{...e,ref:a})});ZS.displayName=sL;function rL(e,t=globalThis==null?void 0:globalThis.document){const s=ls(e),r=f.useRef(!1),a=f.useRef(()=>{});return f.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){eC(eL,s,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,s]),{onPointerDownCapture:()=>r.current=!0}}function nL(e,t=globalThis==null?void 0:globalThis.document){const s=ls(e),r=f.useRef(!1);return f.useEffect(()=>{const a=o=>{o.target&&!r.current&&eC(tL,s,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Eb(){const e=new CustomEvent(nx);document.dispatchEvent(e)}function eC(e,t,s,{discrete:r}){const a=s.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),r?e0(a,o):a.dispatchEvent(o)}var aL=Ml,oL=ZS,rp=0;function Rh(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Pb()),document.body.insertAdjacentElement("beforeend",e[1]??Pb()),rp++,()=>{rp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),rp--}},[])}function Pb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var np="focusScope.autoFocusOnMount",ap="focusScope.autoFocusOnUnmount",Tb={bubbles:!1,cancelable:!0},iL="FocusScope",_d=f.forwardRef((e,t)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,c]=f.useState(null),d=ls(a),u=ls(o),h=f.useRef(null),m=at(t,g=>c(g)),p=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let g=function(y){if(p.paused||!l)return;const j=y.target;l.contains(j)?h.current=j:_a(h.current,{select:!0})},w=function(y){if(p.paused||!l)return;const j=y.relatedTarget;j!==null&&(l.contains(j)||_a(h.current,{select:!0}))},b=function(y){if(document.activeElement===document.body)for(const _ of y)_.removedNodes.length>0&&_a(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const v=new MutationObserver(b);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),v.disconnect()}}},[r,l,p.paused]),f.useEffect(()=>{if(l){Mb.add(p);const g=document.activeElement;if(!l.contains(g)){const b=new CustomEvent(np,Tb);l.addEventListener(np,d),l.dispatchEvent(b),b.defaultPrevented||(lL(hL(tC(l)),{select:!0}),document.activeElement===g&&_a(l))}return()=>{l.removeEventListener(np,d),setTimeout(()=>{const b=new CustomEvent(ap,Tb);l.addEventListener(ap,u),l.dispatchEvent(b),b.defaultPrevented||_a(g??document.body,{select:!0}),l.removeEventListener(ap,u),Mb.remove(p)},0)}}},[l,d,u,p]);const x=f.useCallback(g=>{if(!s&&!r||p.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(w&&b){const v=g.currentTarget,[y,j]=cL(v);y&&j?!g.shiftKey&&b===j?(g.preventDefault(),s&&_a(y,{select:!0})):g.shiftKey&&b===y&&(g.preventDefault(),s&&_a(j,{select:!0})):b===v&&g.preventDefault()}},[s,r,p.paused]);return n.jsx(Re.div,{tabIndex:-1,...i,ref:m,onKeyDown:x})});_d.displayName=iL;function lL(e,{select:t=!1}={}){const s=document.activeElement;for(const r of e)if(_a(r,{select:t}),document.activeElement!==s)return}function cL(e){const t=tC(e),s=Ab(t,e),r=Ab(t.reverse(),e);return[s,r]}function tC(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Ab(e,t){for(const s of e)if(!dL(s,{upTo:t}))return s}function dL(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function uL(e){return e instanceof HTMLInputElement&&"select"in e}function _a(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&uL(e)&&t&&e.select()}}var Mb=fL();function fL(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=Rb(e,t),e.unshift(t)},remove(t){var s;e=Rb(e,t),(s=e[0])==null||s.resume()}}}function Rb(e,t){const s=[...e],r=s.indexOf(t);return r!==-1&&s.splice(r,1),s}function hL(e){return e.filter(t=>t.tagName!=="A")}var ws=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},mL=nh[" useId ".trim().toString()]||(()=>{}),pL=0;function Vs(e){const[t,s]=f.useState(mL());return ws(()=>{e||s(r=>r??String(pL++))},[e]),e||(t?`radix-${t}`:"")}const gL=["top","right","bottom","left"],no=Math.min,_r=Math.max,Tf=Math.round,mu=Math.floor,Dn=e=>({x:e,y:e}),xL={left:"right",right:"left",bottom:"top",top:"bottom"},vL={start:"end",end:"start"};function ax(e,t,s){return _r(e,no(t,s))}function ua(e,t){return typeof e=="function"?e(t):e}function fa(e){return e.split("-")[0]}function Rl(e){return e.split("-")[1]}function t0(e){return e==="x"?"y":"x"}function s0(e){return e==="y"?"height":"width"}const yL=new Set(["top","bottom"]);function Mn(e){return yL.has(fa(e))?"y":"x"}function r0(e){return t0(Mn(e))}function wL(e,t,s){s===void 0&&(s=!1);const r=Rl(e),a=r0(e),o=s0(a);let i=a==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Af(i)),[i,Af(i)]}function bL(e){const t=Af(e);return[ox(e),t,ox(t)]}function ox(e){return e.replace(/start|end/g,t=>vL[t])}const Ob=["left","right"],Db=["right","left"],jL=["top","bottom"],NL=["bottom","top"];function _L(e,t,s){switch(e){case"top":case"bottom":return s?t?Db:Ob:t?Ob:Db;case"left":case"right":return t?jL:NL;default:return[]}}function SL(e,t,s,r){const a=Rl(e);let o=_L(fa(e),s==="start",r);return a&&(o=o.map(i=>i+"-"+a),t&&(o=o.concat(o.map(ox)))),o}function Af(e){return e.replace(/left|right|bottom|top/g,t=>xL[t])}function CL(e){return{top:0,right:0,bottom:0,left:0,...e}}function sC(e){return typeof e!="number"?CL(e):{top:e,right:e,bottom:e,left:e}}function Mf(e){const{x:t,y:s,width:r,height:a}=e;return{width:r,height:a,top:s,left:t,right:t+r,bottom:s+a,x:t,y:s}}function Ib(e,t,s){let{reference:r,floating:a}=e;const o=Mn(t),i=r0(t),l=s0(i),c=fa(t),d=o==="y",u=r.x+r.width/2-a.width/2,h=r.y+r.height/2-a.height/2,m=r[l]/2-a[l]/2;let p;switch(c){case"top":p={x:u,y:r.y-a.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-a.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Rl(t)){case"start":p[i]-=m*(s&&d?-1:1);break;case"end":p[i]+=m*(s&&d?-1:1);break}return p}const kL=async(e,t,s)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:i}=s,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:h}=Ib(d,r,c),m=r,p={},x=0;for(let g=0;g<l.length;g++){const{name:w,fn:b}=l[g],{x:v,y,data:j,reset:_}=await b({x:u,y:h,initialPlacement:r,placement:m,strategy:a,middlewareData:p,rects:d,platform:i,elements:{reference:e,floating:t}});u=v??u,h=y??h,p={...p,[w]:{...p[w],...j}},_&&x<=50&&(x++,typeof _=="object"&&(_.placement&&(m=_.placement),_.rects&&(d=_.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:u,y:h}=Ib(d,m,c)),g=-1)}return{x:u,y:h,placement:m,strategy:a,middlewareData:p}};async function nd(e,t){var s;t===void 0&&(t={});const{x:r,y:a,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=ua(t,e),x=sC(p),w=l[m?h==="floating"?"reference":"floating":h],b=Mf(await o.getClippingRect({element:(s=await(o.isElement==null?void 0:o.isElement(w)))==null||s?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),v=h==="floating"?{x:r,y:a,width:i.floating.width,height:i.floating.height}:i.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},_=Mf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:y,strategy:c}):v);return{top:(b.top-_.top+x.top)/j.y,bottom:(_.bottom-b.bottom+x.bottom)/j.y,left:(b.left-_.left+x.left)/j.x,right:(_.right-b.right+x.right)/j.x}}const EL=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:r,placement:a,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=ua(e,t)||{};if(d==null)return{};const h=sC(u),m={x:s,y:r},p=r0(a),x=s0(p),g=await i.getDimensions(d),w=p==="y",b=w?"top":"left",v=w?"bottom":"right",y=w?"clientHeight":"clientWidth",j=o.reference[x]+o.reference[p]-m[p]-o.floating[x],_=m[p]-o.reference[p],C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let N=C?C[y]:0;(!N||!await(i.isElement==null?void 0:i.isElement(C)))&&(N=l.floating[y]||o.floating[x]);const S=j/2-_/2,M=N/2-g[x]/2-1,$=no(h[b],M),W=no(h[v],M),R=$,Y=N-g[x]-W,D=N/2-g[x]/2+S,P=ax(R,D,Y),A=!c.arrow&&Rl(a)!=null&&D!==P&&o.reference[x]/2-(D<R?$:W)-g[x]/2<0,V=A?D<R?D-R:D-Y:0;return{[p]:m[p]+V,data:{[p]:P,centerOffset:D-P-V,...A&&{alignmentOffset:V}},reset:A}}}),PL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,r;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...w}=ua(e,t);if((s=o.arrow)!=null&&s.alignmentOffset)return{};const b=fa(a),v=Mn(l),y=fa(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),_=m||(y||!g?[Af(l)]:bL(l)),C=x!=="none";!m&&C&&_.push(...SL(l,g,x,j));const N=[l,..._],S=await nd(t,w),M=[];let $=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&M.push(S[b]),h){const D=wL(a,i,j);M.push(S[D[0]],S[D[1]])}if($=[...$,{placement:a,overflows:M}],!M.every(D=>D<=0)){var W,R;const D=(((W=o.flip)==null?void 0:W.index)||0)+1,P=N[D];if(P&&(!(h==="alignment"?v!==Mn(P):!1)||$.every(k=>Mn(k.placement)===v?k.overflows[0]>0:!0)))return{data:{index:D,overflows:$},reset:{placement:P}};let A=(R=$.filter(V=>V.overflows[0]<=0).sort((V,k)=>V.overflows[1]-k.overflows[1])[0])==null?void 0:R.placement;if(!A)switch(p){case"bestFit":{var Y;const V=(Y=$.filter(k=>{if(C){const E=Mn(k.placement);return E===v||E==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(E=>E>0).reduce((E,T)=>E+T,0)]).sort((k,E)=>k[1]-E[1])[0])==null?void 0:Y[0];V&&(A=V);break}case"initialPlacement":A=l;break}if(a!==A)return{reset:{placement:A}}}return{}}}};function Lb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function $b(e){return gL.some(t=>e[t]>=0)}const TL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:r="referenceHidden",...a}=ua(e,t);switch(r){case"referenceHidden":{const o=await nd(t,{...a,elementContext:"reference"}),i=Lb(o,s.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:$b(i)}}}case"escaped":{const o=await nd(t,{...a,altBoundary:!0}),i=Lb(o,s.floating);return{data:{escapedOffsets:i,escaped:$b(i)}}}default:return{}}}}},rC=new Set(["left","top"]);async function AL(e,t){const{placement:s,platform:r,elements:a}=e,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),i=fa(s),l=Rl(s),c=Mn(s)==="y",d=rC.has(i)?-1:1,u=o&&c?-1:1,h=ua(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),c?{x:p*u,y:m*d}:{x:m*d,y:p*u}}const ML=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,r;const{x:a,y:o,placement:i,middlewareData:l}=t,c=await AL(t,e);return i===((s=l.offset)==null?void 0:s.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:{...c,placement:i}}}}},RL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:w=>{let{x:b,y:v}=w;return{x:b,y:v}}},...c}=ua(e,t),d={x:s,y:r},u=await nd(t,c),h=Mn(fa(a)),m=t0(h);let p=d[m],x=d[h];if(o){const w=m==="y"?"top":"left",b=m==="y"?"bottom":"right",v=p+u[w],y=p-u[b];p=ax(v,p,y)}if(i){const w=h==="y"?"top":"left",b=h==="y"?"bottom":"right",v=x+u[w],y=x-u[b];x=ax(v,x,y)}const g=l.fn({...t,[m]:p,[h]:x});return{...g,data:{x:g.x-s,y:g.y-r,enabled:{[m]:o,[h]:i}}}}}},OL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:r,placement:a,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=ua(e,t),u={x:s,y:r},h=Mn(a),m=t0(h);let p=u[m],x=u[h];const g=ua(l,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const y=m==="y"?"height":"width",j=o.reference[m]-o.floating[y]+w.mainAxis,_=o.reference[m]+o.reference[y]-w.mainAxis;p<j?p=j:p>_&&(p=_)}if(d){var b,v;const y=m==="y"?"width":"height",j=rC.has(fa(a)),_=o.reference[h]-o.floating[y]+(j&&((b=i.offset)==null?void 0:b[h])||0)+(j?0:w.crossAxis),C=o.reference[h]+o.reference[y]+(j?0:((v=i.offset)==null?void 0:v[h])||0)-(j?w.crossAxis:0);x<_?x=_:x>C&&(x=C)}return{[m]:p,[h]:x}}}},DL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,r;const{placement:a,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...d}=ua(e,t),u=await nd(t,d),h=fa(a),m=Rl(a),p=Mn(a)==="y",{width:x,height:g}=o.floating;let w,b;h==="top"||h==="bottom"?(w=h,b=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(b=h,w=m==="end"?"top":"bottom");const v=g-u.top-u.bottom,y=x-u.left-u.right,j=no(g-u[w],v),_=no(x-u[b],y),C=!t.middlewareData.shift;let N=j,S=_;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(S=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=v),C&&!m){const $=_r(u.left,0),W=_r(u.right,0),R=_r(u.top,0),Y=_r(u.bottom,0);p?S=x-2*($!==0||W!==0?$+W:_r(u.left,u.right)):N=g-2*(R!==0||Y!==0?R+Y:_r(u.top,u.bottom))}await c({...t,availableWidth:S,availableHeight:N});const M=await i.getDimensions(l.floating);return x!==M.width||g!==M.height?{reset:{rects:!0}}:{}}}};function Oh(){return typeof window<"u"}function Ol(e){return nC(e)?(e.nodeName||"").toLowerCase():"#document"}function Pr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function zn(e){var t;return(t=(nC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function nC(e){return Oh()?e instanceof Node||e instanceof Pr(e).Node:!1}function pn(e){return Oh()?e instanceof Element||e instanceof Pr(e).Element:!1}function Ln(e){return Oh()?e instanceof HTMLElement||e instanceof Pr(e).HTMLElement:!1}function Fb(e){return!Oh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Pr(e).ShadowRoot}const IL=new Set(["inline","contents"]);function Sd(e){const{overflow:t,overflowX:s,overflowY:r,display:a}=gn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+s)&&!IL.has(a)}const LL=new Set(["table","td","th"]);function $L(e){return LL.has(Ol(e))}const FL=[":popover-open",":modal"];function Dh(e){return FL.some(t=>{try{return e.matches(t)}catch{return!1}})}const VL=["transform","translate","scale","rotate","perspective"],BL=["transform","translate","scale","rotate","perspective","filter"],zL=["paint","layout","strict","content"];function n0(e){const t=a0(),s=pn(e)?gn(e):e;return VL.some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||BL.some(r=>(s.willChange||"").includes(r))||zL.some(r=>(s.contain||"").includes(r))}function UL(e){let t=ao(e);for(;Ln(t)&&!hl(t);){if(n0(t))return t;if(Dh(t))return null;t=ao(t)}return null}function a0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const HL=new Set(["html","body","#document"]);function hl(e){return HL.has(Ol(e))}function gn(e){return Pr(e).getComputedStyle(e)}function Ih(e){return pn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ao(e){if(Ol(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Fb(e)&&e.host||zn(e);return Fb(t)?t.host:t}function aC(e){const t=ao(e);return hl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ln(t)&&Sd(t)?t:aC(t)}function ad(e,t,s){var r;t===void 0&&(t=[]),s===void 0&&(s=!0);const a=aC(e),o=a===((r=e.ownerDocument)==null?void 0:r.body),i=Pr(a);if(o){const l=ix(i);return t.concat(i,i.visualViewport||[],Sd(a)?a:[],l&&s?ad(l):[])}return t.concat(a,ad(a,[],s))}function ix(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function oC(e){const t=gn(e);let s=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Ln(e),o=a?e.offsetWidth:s,i=a?e.offsetHeight:r,l=Tf(s)!==o||Tf(r)!==i;return l&&(s=o,r=i),{width:s,height:r,$:l}}function o0(e){return pn(e)?e:e.contextElement}function Ji(e){const t=o0(e);if(!Ln(t))return Dn(1);const s=t.getBoundingClientRect(),{width:r,height:a,$:o}=oC(t);let i=(o?Tf(s.width):s.width)/r,l=(o?Tf(s.height):s.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const WL=Dn(0);function iC(e){const t=Pr(e);return!a0()||!t.visualViewport?WL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function qL(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==Pr(e)?!1:t}function Xo(e,t,s,r){t===void 0&&(t=!1),s===void 0&&(s=!1);const a=e.getBoundingClientRect(),o=o0(e);let i=Dn(1);t&&(r?pn(r)&&(i=Ji(r)):i=Ji(e));const l=qL(o,s,r)?iC(o):Dn(0);let c=(a.left+l.x)/i.x,d=(a.top+l.y)/i.y,u=a.width/i.x,h=a.height/i.y;if(o){const m=Pr(o),p=r&&pn(r)?Pr(r):r;let x=m,g=ix(x);for(;g&&r&&p!==x;){const w=Ji(g),b=g.getBoundingClientRect(),v=gn(g),y=b.left+(g.clientLeft+parseFloat(v.paddingLeft))*w.x,j=b.top+(g.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,d*=w.y,u*=w.x,h*=w.y,c+=y,d+=j,x=Pr(g),g=ix(x)}}return Mf({width:u,height:h,x:c,y:d})}function Lh(e,t){const s=Ih(e).scrollLeft;return t?t.left+s:Xo(zn(e)).left+s}function lC(e,t){const s=e.getBoundingClientRect(),r=s.left+t.scrollLeft-Lh(e,s),a=s.top+t.scrollTop;return{x:r,y:a}}function GL(e){let{elements:t,rect:s,offsetParent:r,strategy:a}=e;const o=a==="fixed",i=zn(r),l=t?Dh(t.floating):!1;if(r===i||l&&o)return s;let c={scrollLeft:0,scrollTop:0},d=Dn(1);const u=Dn(0),h=Ln(r);if((h||!h&&!o)&&((Ol(r)!=="body"||Sd(i))&&(c=Ih(r)),Ln(r))){const p=Xo(r);d=Ji(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const m=i&&!h&&!o?lC(i,c):Dn(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:s.y*d.y-c.scrollTop*d.y+u.y+m.y}}function YL(e){return Array.from(e.getClientRects())}function KL(e){const t=zn(e),s=Ih(e),r=e.ownerDocument.body,a=_r(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=_r(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-s.scrollLeft+Lh(e);const l=-s.scrollTop;return gn(r).direction==="rtl"&&(i+=_r(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:i,y:l}}const Vb=25;function XL(e,t){const s=Pr(e),r=zn(e),a=s.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(a){o=a.width,i=a.height;const u=a0();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const d=Lh(r);if(d<=0){const u=r.ownerDocument,h=u.body,m=getComputedStyle(h),p=u.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,x=Math.abs(r.clientWidth-h.clientWidth-p);x<=Vb&&(o-=x)}else d<=Vb&&(o+=d);return{width:o,height:i,x:l,y:c}}const QL=new Set(["absolute","fixed"]);function JL(e,t){const s=Xo(e,!0,t==="fixed"),r=s.top+e.clientTop,a=s.left+e.clientLeft,o=Ln(e)?Ji(e):Dn(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=a*o.x,d=r*o.y;return{width:i,height:l,x:c,y:d}}function Bb(e,t,s){let r;if(t==="viewport")r=XL(e,s);else if(t==="document")r=KL(zn(e));else if(pn(t))r=JL(t,s);else{const a=iC(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Mf(r)}function cC(e,t){const s=ao(e);return s===t||!pn(s)||hl(s)?!1:gn(s).position==="fixed"||cC(s,t)}function ZL(e,t){const s=t.get(e);if(s)return s;let r=ad(e,[],!1).filter(l=>pn(l)&&Ol(l)!=="body"),a=null;const o=gn(e).position==="fixed";let i=o?ao(e):e;for(;pn(i)&&!hl(i);){const l=gn(i),c=n0(i);!c&&l.position==="fixed"&&(a=null),(o?!c&&!a:!c&&l.position==="static"&&!!a&&QL.has(a.position)||Sd(i)&&!c&&cC(e,i))?r=r.filter(u=>u!==i):a=l,i=ao(i)}return t.set(e,r),r}function e6(e){let{element:t,boundary:s,rootBoundary:r,strategy:a}=e;const i=[...s==="clippingAncestors"?Dh(t)?[]:ZL(t,this._c):[].concat(s),r],l=i[0],c=i.reduce((d,u)=>{const h=Bb(t,u,a);return d.top=_r(h.top,d.top),d.right=no(h.right,d.right),d.bottom=no(h.bottom,d.bottom),d.left=_r(h.left,d.left),d},Bb(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function t6(e){const{width:t,height:s}=oC(e);return{width:t,height:s}}function s6(e,t,s){const r=Ln(t),a=zn(t),o=s==="fixed",i=Xo(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Dn(0);function d(){c.x=Lh(a)}if(r||!r&&!o)if((Ol(t)!=="body"||Sd(a))&&(l=Ih(t)),r){const p=Xo(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&d();o&&!r&&a&&d();const u=a&&!r&&!o?lC(a,l):Dn(0),h=i.left+l.scrollLeft-c.x-u.x,m=i.top+l.scrollTop-c.y-u.y;return{x:h,y:m,width:i.width,height:i.height}}function op(e){return gn(e).position==="static"}function zb(e,t){if(!Ln(e)||gn(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return zn(e)===s&&(s=s.ownerDocument.body),s}function dC(e,t){const s=Pr(e);if(Dh(e))return s;if(!Ln(e)){let a=ao(e);for(;a&&!hl(a);){if(pn(a)&&!op(a))return a;a=ao(a)}return s}let r=zb(e,t);for(;r&&$L(r)&&op(r);)r=zb(r,t);return r&&hl(r)&&op(r)&&!n0(r)?s:r||UL(e)||s}const r6=async function(e){const t=this.getOffsetParent||dC,s=this.getDimensions,r=await s(e.floating);return{reference:s6(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function n6(e){return gn(e).direction==="rtl"}const a6={convertOffsetParentRelativeRectToViewportRelativeRect:GL,getDocumentElement:zn,getClippingRect:e6,getOffsetParent:dC,getElementRects:r6,getClientRects:YL,getDimensions:t6,getScale:Ji,isElement:pn,isRTL:n6};function uC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function o6(e,t){let s=null,r;const a=zn(e);function o(){var l;clearTimeout(r),(l=s)==null||l.disconnect(),s=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const d=e.getBoundingClientRect(),{left:u,top:h,width:m,height:p}=d;if(l||t(),!m||!p)return;const x=mu(h),g=mu(a.clientWidth-(u+m)),w=mu(a.clientHeight-(h+p)),b=mu(u),y={rootMargin:-x+"px "+-g+"px "+-w+"px "+-b+"px",threshold:_r(0,no(1,c))||1};let j=!0;function _(C){const N=C[0].intersectionRatio;if(N!==c){if(!j)return i();N?i(!1,N):r=setTimeout(()=>{i(!1,1e-7)},1e3)}N===1&&!uC(d,e.getBoundingClientRect())&&i(),j=!1}try{s=new IntersectionObserver(_,{...y,root:a.ownerDocument})}catch{s=new IntersectionObserver(_,y)}s.observe(e)}return i(!0),o}function i6(e,t,s,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=o0(e),u=a||o?[...d?ad(d):[],...ad(t)]:[];u.forEach(b=>{a&&b.addEventListener("scroll",s,{passive:!0}),o&&b.addEventListener("resize",s)});const h=d&&l?o6(d,s):null;let m=-1,p=null;i&&(p=new ResizeObserver(b=>{let[v]=b;v&&v.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(t)})),s()}),d&&!c&&p.observe(d),p.observe(t));let x,g=c?Xo(e):null;c&&w();function w(){const b=Xo(e);g&&!uC(g,b)&&s(),g=b,x=requestAnimationFrame(w)}return s(),()=>{var b;u.forEach(v=>{a&&v.removeEventListener("scroll",s),o&&v.removeEventListener("resize",s)}),h==null||h(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const l6=ML,c6=RL,d6=PL,u6=DL,f6=TL,Ub=EL,h6=OL,m6=(e,t,s)=>{const r=new Map,a={platform:a6,...s},o={...a.platform,_c:r};return kL(e,t,{...a,platform:o})};var p6=typeof document<"u",g6=function(){},Hu=p6?f.useLayoutEffect:g6;function Rf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(r=s;r--!==0;)if(!Rf(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),s=a.length,s!==Object.keys(t).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=s;r--!==0;){const o=a[r];if(!(o==="_owner"&&e.$$typeof)&&!Rf(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function fC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Hb(e,t){const s=fC(e);return Math.round(t*s)/s}function ip(e){const t=f.useRef(e);return Hu(()=>{t.current=e}),t}function x6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=f.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=f.useState(r);Rf(m,r)||p(r);const[x,g]=f.useState(null),[w,b]=f.useState(null),v=f.useCallback(k=>{k!==C.current&&(C.current=k,g(k))},[]),y=f.useCallback(k=>{k!==N.current&&(N.current=k,b(k))},[]),j=o||x,_=i||w,C=f.useRef(null),N=f.useRef(null),S=f.useRef(u),M=c!=null,$=ip(c),W=ip(a),R=ip(d),Y=f.useCallback(()=>{if(!C.current||!N.current)return;const k={placement:t,strategy:s,middleware:m};W.current&&(k.platform=W.current),m6(C.current,N.current,k).then(E=>{const T={...E,isPositioned:R.current!==!1};D.current&&!Rf(S.current,T)&&(S.current=T,ni.flushSync(()=>{h(T)}))})},[m,t,s,W,R]);Hu(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(k=>({...k,isPositioned:!1})))},[d]);const D=f.useRef(!1);Hu(()=>(D.current=!0,()=>{D.current=!1}),[]),Hu(()=>{if(j&&(C.current=j),_&&(N.current=_),j&&_){if($.current)return $.current(j,_,Y);Y()}},[j,_,Y,$,M]);const P=f.useMemo(()=>({reference:C,floating:N,setReference:v,setFloating:y}),[v,y]),A=f.useMemo(()=>({reference:j,floating:_}),[j,_]),V=f.useMemo(()=>{const k={position:s,left:0,top:0};if(!A.floating)return k;const E=Hb(A.floating,u.x),T=Hb(A.floating,u.y);return l?{...k,transform:"translate("+E+"px, "+T+"px)",...fC(A.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:E,top:T}},[s,l,A.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:Y,refs:P,elements:A,floatingStyles:V}),[u,Y,P,A,V])}const v6=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:r,padding:a}=typeof e=="function"?e(s):e;return r&&t(r)?r.current!=null?Ub({element:r.current,padding:a}).fn(s):{}:r?Ub({element:r,padding:a}).fn(s):{}}}},y6=(e,t)=>({...l6(e),options:[e,t]}),w6=(e,t)=>({...c6(e),options:[e,t]}),b6=(e,t)=>({...h6(e),options:[e,t]}),j6=(e,t)=>({...d6(e),options:[e,t]}),N6=(e,t)=>({...u6(e),options:[e,t]}),_6=(e,t)=>({...f6(e),options:[e,t]}),S6=(e,t)=>({...v6(e),options:[e,t]});var C6="Arrow",hC=f.forwardRef((e,t)=>{const{children:s,width:r=10,height:a=5,...o}=e;return n.jsx(Re.svg,{...o,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});hC.displayName=C6;var k6=hC;function i0(e){const[t,s]=f.useState(void 0);return ws(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=e.offsetWidth,l=e.offsetHeight;s({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else s(void 0)},[e]),t}var l0="Popper",[mC,Dl]=Dr(l0),[E6,pC]=mC(l0),gC=e=>{const{__scopePopper:t,children:s}=e,[r,a]=f.useState(null);return n.jsx(E6,{scope:t,anchor:r,onAnchorChange:a,children:s})};gC.displayName=l0;var xC="PopperAnchor",vC=f.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:r,...a}=e,o=pC(xC,s),i=f.useRef(null),l=at(t,i),c=f.useRef(null);return f.useEffect(()=>{const d=c.current;c.current=(r==null?void 0:r.current)||i.current,d!==c.current&&o.onAnchorChange(c.current)}),r?null:n.jsx(Re.div,{...a,ref:l})});vC.displayName=xC;var c0="PopperContent",[P6,T6]=mC(c0),yC=f.forwardRef((e,t)=>{var H,J,ae,re,ce,pe;const{__scopePopper:s,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:x,...g}=e,w=pC(c0,s),[b,v]=f.useState(null),y=at(t,Ce=>v(Ce)),[j,_]=f.useState(null),C=i0(j),N=(C==null?void 0:C.width)??0,S=(C==null?void 0:C.height)??0,M=r+(o!=="center"?"-"+o:""),$=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},W=Array.isArray(d)?d:[d],R=W.length>0,Y={padding:$,boundary:W.filter(M6),altBoundary:R},{refs:D,floatingStyles:P,placement:A,isPositioned:V,middlewareData:k}=x6({strategy:"fixed",placement:M,whileElementsMounted:(...Ce)=>i6(...Ce,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[y6({mainAxis:a+S,alignmentAxis:i}),c&&w6({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?b6():void 0,...Y}),c&&j6({...Y}),N6({...Y,apply:({elements:Ce,rects:et,availableWidth:F,availableHeight:oe})=>{const{width:ye,height:be}=et.reference,_e=Ce.floating.style;_e.setProperty("--radix-popper-available-width",`${F}px`),_e.setProperty("--radix-popper-available-height",`${oe}px`),_e.setProperty("--radix-popper-anchor-width",`${ye}px`),_e.setProperty("--radix-popper-anchor-height",`${be}px`)}}),j&&S6({element:j,padding:l}),R6({arrowWidth:N,arrowHeight:S}),m&&_6({strategy:"referenceHidden",...Y})]}),[E,T]=jC(A),z=ls(x);ws(()=>{V&&(z==null||z())},[V,z]);const O=(H=k.arrow)==null?void 0:H.x,q=(J=k.arrow)==null?void 0:J.y,L=((ae=k.arrow)==null?void 0:ae.centerOffset)!==0,[G,B]=f.useState();return ws(()=>{b&&B(window.getComputedStyle(b).zIndex)},[b]),n.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...P,transform:V?P.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(re=k.transformOrigin)==null?void 0:re.x,(ce=k.transformOrigin)==null?void 0:ce.y].join(" "),...((pe=k.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(P6,{scope:s,placedSide:E,onArrowChange:_,arrowX:O,arrowY:q,shouldHideArrow:L,children:n.jsx(Re.div,{"data-side":E,"data-align":T,...g,ref:y,style:{...g.style,animation:V?void 0:"none"}})})})});yC.displayName=c0;var wC="PopperArrow",A6={top:"bottom",right:"left",bottom:"top",left:"right"},bC=f.forwardRef(function(t,s){const{__scopePopper:r,...a}=t,o=T6(wC,r),i=A6[o.placedSide];return n.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:n.jsx(k6,{...a,ref:s,style:{...a.style,display:"block"}})})});bC.displayName=wC;function M6(e){return e!==null}var R6=e=>({name:"transformOrigin",options:e,fn(t){var w,b,v;const{placement:s,rects:r,middlewareData:a}=t,i=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[d,u]=jC(s),h={start:"0%",center:"50%",end:"100%"}[u],m=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,p=(((v=a.arrow)==null?void 0:v.y)??0)+c/2;let x="",g="";return d==="bottom"?(x=i?h:`${m}px`,g=`${-c}px`):d==="top"?(x=i?h:`${m}px`,g=`${r.floating.height+c}px`):d==="right"?(x=`${-c}px`,g=i?h:`${p}px`):d==="left"&&(x=`${r.floating.width+c}px`,g=i?h:`${p}px`),{data:{x,y:g}}}});function jC(e){const[t,s="center"]=e.split("-");return[t,s]}var d0=gC,$h=vC,u0=yC,f0=bC,O6="Portal",Il=f.forwardRef((e,t)=>{var l;const{container:s,...r}=e,[a,o]=f.useState(!1);ws(()=>o(!0),[]);const i=s||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?mO.createPortal(n.jsx(Re.div,{...r,ref:t}),i):null});Il.displayName=O6;function D6(e,t){return f.useReducer((s,r)=>t[s][r]??s,e)}var Us=e=>{const{present:t,children:s}=e,r=I6(t),a=typeof s=="function"?s({present:r.isPresent}):f.Children.only(s),o=at(r.ref,L6(a));return typeof s=="function"||r.isPresent?f.cloneElement(a,{ref:o}):null};Us.displayName="Presence";function I6(e){const[t,s]=f.useState(),r=f.useRef(null),a=f.useRef(e),o=f.useRef("none"),i=e?"mounted":"unmounted",[l,c]=D6(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const d=pu(r.current);o.current=l==="mounted"?d:"none"},[l]),ws(()=>{const d=r.current,u=a.current;if(u!==e){const m=o.current,p=pu(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),ws(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=p=>{const g=pu(r.current).includes(CSS.escape(p.animationName));if(p.target===t&&g&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=p=>{p.target===t&&(o.current=pu(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(d=>{r.current=d?getComputedStyle(d):null,s(d)},[])}}function pu(e){return(e==null?void 0:e.animationName)||"none"}function L6(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function $6(e){const t=F6(e),s=f.forwardRef((r,a)=>{const{children:o,...i}=r,l=f.Children.toArray(o),c=l.find(B6);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return n.jsx(t,{...i,ref:a,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}function F6(e){const t=f.forwardRef((s,r)=>{const{children:a,...o}=s;if(f.isValidElement(a)){const i=U6(a),l=z6(o,a.props);return a.type!==f.Fragment&&(l.ref=r?ar(r,i):i),f.cloneElement(a,l)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var V6=Symbol("radix.slottable");function B6(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===V6}function z6(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function U6(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var H6=nh[" useInsertionEffect ".trim().toString()]||ws;function $n({prop:e,defaultProp:t,onChange:s=()=>{},caller:r}){const[a,o,i]=W6({defaultProp:t,onChange:s}),l=e!==void 0,c=l?e:a;{const u=f.useRef(e!==void 0);f.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,r])}const d=f.useCallback(u=>{var h;if(l){const m=q6(u)?u(e):u;m!==e&&((h=i.current)==null||h.call(i,m))}else o(u)},[l,e,o,i]);return[c,d]}function W6({defaultProp:e,onChange:t}){const[s,r]=f.useState(e),a=f.useRef(s),o=f.useRef(t);return H6(()=>{o.current=t},[t]),f.useEffect(()=>{var i;a.current!==s&&((i=o.current)==null||i.call(o,s),a.current=s)},[s,a]),[s,r,o]}function q6(e){return typeof e=="function"}var G6=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},yi=new WeakMap,gu=new WeakMap,xu={},lp=0,NC=function(e){return e&&(e.host||NC(e.parentNode))},Y6=function(e,t){return t.map(function(s){if(e.contains(s))return s;var r=NC(s);return r&&e.contains(r)?r:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},K6=function(e,t,s,r){var a=Y6(t,Array.isArray(e)?e:[e]);xu[s]||(xu[s]=new WeakMap);var o=xu[s],i=[],l=new Set,c=new Set(a),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))u(m);else try{var p=m.getAttribute(r),x=p!==null&&p!=="false",g=(yi.get(m)||0)+1,w=(o.get(m)||0)+1;yi.set(m,g),o.set(m,w),i.push(m),g===1&&x&&gu.set(m,!0),w===1&&m.setAttribute(s,"true"),x||m.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return u(t),l.clear(),lp++,function(){i.forEach(function(h){var m=yi.get(h)-1,p=o.get(h)-1;yi.set(h,m),o.set(h,p),m||(gu.has(h)||h.removeAttribute(r),gu.delete(h)),p||h.removeAttribute(s)}),lp--,lp||(yi=new WeakMap,yi=new WeakMap,gu=new WeakMap,xu={})}},Fh=function(e,t,s){s===void 0&&(s="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=t||G6(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),K6(r,a,s,"aria-hidden")):function(){return null}},Wu="right-scroll-bar-position",qu="width-before-scroll-bar",X6="with-scroll-bars-hidden",Q6="--removed-body-scroll-bar-size";function cp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function J6(e,t){var s=f.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(r){var a=s.value;a!==r&&(s.value=r,s.callback(r,a))}}}})[0];return s.callback=t,s.facade}var Z6=typeof window<"u"?f.useLayoutEffect:f.useEffect,Wb=new WeakMap;function e$(e,t){var s=J6(t||null,function(r){return e.forEach(function(a){return cp(a,r)})});return Z6(function(){var r=Wb.get(s);if(r){var a=new Set(r),o=new Set(e),i=s.current;a.forEach(function(l){o.has(l)||cp(l,null)}),o.forEach(function(l){a.has(l)||cp(l,i)})}Wb.set(s,e)},[e]),s}function t$(e){return e}function s$(e,t){t===void 0&&(t=t$);var s=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(o){var i=t(o,r);return s.push(i),function(){s=s.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;s.length;){var i=s;s=[],i.forEach(o)}s={push:function(l){return o(l)},filter:function(){return s}}},assignMedium:function(o){r=!0;var i=[];if(s.length){var l=s;s=[],l.forEach(o),i=s}var c=function(){var u=i;i=[],u.forEach(o)},d=function(){return Promise.resolve().then(c)};d(),s={push:function(u){i.push(u),d()},filter:function(u){return i=i.filter(u),s}}}};return a}function r$(e){e===void 0&&(e={});var t=s$(null);return t.options=Cn({async:!0,ssr:!1},e),t}var _C=function(e){var t=e.sideCar,s=pS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,Cn({},s))};_C.isSideCarExport=!0;function n$(e,t){return e.useMedium(t),_C}var SC=r$(),dp=function(){},Vh=f.forwardRef(function(e,t){var s=f.useRef(null),r=f.useState({onScrollCapture:dp,onWheelCapture:dp,onTouchMoveCapture:dp}),a=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,m=e.sideCar,p=e.noRelative,x=e.noIsolation,g=e.inert,w=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,y=e.gapMode,j=pS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=m,C=e$([s,t]),N=Cn(Cn({},j),a);return f.createElement(f.Fragment,null,u&&f.createElement(_,{sideCar:SC,removeScrollBar:d,shards:h,noRelative:p,noIsolation:x,inert:g,setCallbacks:o,allowPinchZoom:!!w,lockRef:s,gapMode:y}),i?f.cloneElement(f.Children.only(l),Cn(Cn({},N),{ref:C})):f.createElement(v,Cn({},N,{className:c,ref:C}),l))});Vh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vh.classNames={fullWidth:qu,zeroRight:Wu};var qb,a$=function(){if(qb)return qb;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function o$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=a$();return t&&e.setAttribute("nonce",t),e}function i$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function l$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var c$=function(){var e=0,t=null;return{add:function(s){e==0&&(t=o$())&&(i$(t,s),l$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},d$=function(){var e=c$();return function(t,s){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},CC=function(){var e=d$(),t=function(s){var r=s.styles,a=s.dynamic;return e(r,a),null};return t},u$={left:0,top:0,right:0,gap:0},up=function(e){return parseInt(e||"",10)||0},f$=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[up(s),up(r),up(a)]},h$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return u$;var t=f$(e),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-s+t[2]-t[0])}},m$=CC(),Zi="data-scroll-locked",p$=function(e,t,s,r){var a=e.left,o=e.top,i=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(X6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Zi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),s==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wu,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(qu,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Wu," .").concat(Wu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(qu," .").concat(qu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zi,`] {
    `).concat(Q6,": ").concat(l,`px;
  }
`)},Gb=function(){var e=parseInt(document.body.getAttribute(Zi)||"0",10);return isFinite(e)?e:0},g$=function(){f.useEffect(function(){return document.body.setAttribute(Zi,(Gb()+1).toString()),function(){var e=Gb()-1;e<=0?document.body.removeAttribute(Zi):document.body.setAttribute(Zi,e.toString())}},[])},x$=function(e){var t=e.noRelative,s=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;g$();var o=f.useMemo(function(){return h$(a)},[a]);return f.createElement(m$,{styles:p$(o,!t,a,s?"":"!important")})},lx=!1;if(typeof window<"u")try{var vu=Object.defineProperty({},"passive",{get:function(){return lx=!0,!0}});window.addEventListener("test",vu,vu),window.removeEventListener("test",vu,vu)}catch{lx=!1}var wi=lx?{passive:!1}:!1,v$=function(e){return e.tagName==="TEXTAREA"},kC=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!v$(e)&&s[t]==="visible")},y$=function(e){return kC(e,"overflowY")},w$=function(e){return kC(e,"overflowX")},Yb=function(e,t){var s=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=EC(e,r);if(a){var o=PC(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==s.body);return!1},b$=function(e){var t=e.scrollTop,s=e.scrollHeight,r=e.clientHeight;return[t,s,r]},j$=function(e){var t=e.scrollLeft,s=e.scrollWidth,r=e.clientWidth;return[t,s,r]},EC=function(e,t){return e==="v"?y$(t):w$(t)},PC=function(e,t){return e==="v"?b$(t):j$(t)},N$=function(e,t){return e==="h"&&t==="rtl"?-1:1},_$=function(e,t,s,r,a){var o=N$(e,window.getComputedStyle(t).direction),i=o*r,l=s.target,c=t.contains(l),d=!1,u=i>0,h=0,m=0;do{if(!l)break;var p=PC(e,l),x=p[0],g=p[1],w=p[2],b=g-w-o*x;(x||b)&&EC(e,l)&&(h+=b,m+=x);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(a&&Math.abs(h)<1||!a&&i>h)||!u&&(a&&Math.abs(m)<1||!a&&-i>m))&&(d=!0),d},yu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Kb=function(e){return[e.deltaX,e.deltaY]},Xb=function(e){return e&&"current"in e?e.current:e},S$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},C$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},k$=0,bi=[];function E$(e){var t=f.useRef([]),s=f.useRef([0,0]),r=f.useRef(),a=f.useState(k$++)[0],o=f.useState(CC)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=dD([e.lockRef.current],(e.shards||[]).map(Xb),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var b=yu(g),v=s.current,y="deltaX"in g?g.deltaX:v[0]-b[0],j="deltaY"in g?g.deltaY:v[1]-b[1],_,C=g.target,N=Math.abs(y)>Math.abs(j)?"h":"v";if("touches"in g&&N==="h"&&C.type==="range")return!1;var S=Yb(N,C);if(!S)return!0;if(S?_=N:(_=N==="v"?"h":"v",S=Yb(N,C)),!S)return!1;if(!r.current&&"changedTouches"in g&&(y||j)&&(r.current=_),!_)return!0;var M=r.current||_;return _$(M,w,g,M==="h"?y:j,!0)},[]),c=f.useCallback(function(g){var w=g;if(!(!bi.length||bi[bi.length-1]!==o)){var b="deltaY"in w?Kb(w):yu(w),v=t.current.filter(function(_){return _.name===w.type&&(_.target===w.target||w.target===_.shadowParent)&&S$(_.delta,b)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var y=(i.current.shards||[]).map(Xb).filter(Boolean).filter(function(_){return _.contains(w.target)}),j=y.length>0?l(w,y[0]):!i.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),d=f.useCallback(function(g,w,b,v){var y={name:g,delta:w,target:b,should:v,shadowParent:P$(b)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(j){return j!==y})},1)},[]),u=f.useCallback(function(g){s.current=yu(g),r.current=void 0},[]),h=f.useCallback(function(g){d(g.type,Kb(g),g.target,l(g,e.lockRef.current))},[]),m=f.useCallback(function(g){d(g.type,yu(g),g.target,l(g,e.lockRef.current))},[]);f.useEffect(function(){return bi.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,wi),document.addEventListener("touchmove",c,wi),document.addEventListener("touchstart",u,wi),function(){bi=bi.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,wi),document.removeEventListener("touchmove",c,wi),document.removeEventListener("touchstart",u,wi)}},[]);var p=e.removeScrollBar,x=e.inert;return f.createElement(f.Fragment,null,x?f.createElement(o,{styles:C$(a)}):null,p?f.createElement(x$,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function P$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const T$=n$(SC,E$);var TC=f.forwardRef(function(e,t){return f.createElement(Vh,Cn({},e,{ref:t,sideCar:T$}))});TC.classNames=Vh.classNames;const Bh=TC;var zh="Popover",[AC,KX]=Dr(zh,[Dl]),Cd=Dl(),[A$,po]=AC(zh),MC=e=>{const{__scopePopover:t,children:s,open:r,defaultOpen:a,onOpenChange:o,modal:i=!1}=e,l=Cd(t),c=f.useRef(null),[d,u]=f.useState(!1),[h,m]=$n({prop:r,defaultProp:a??!1,onChange:o,caller:zh});return n.jsx(d0,{...l,children:n.jsx(A$,{scope:t,contentId:Vs(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:f.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:d,onCustomAnchorAdd:f.useCallback(()=>u(!0),[]),onCustomAnchorRemove:f.useCallback(()=>u(!1),[]),modal:i,children:s})})};MC.displayName=zh;var RC="PopoverAnchor",M$=f.forwardRef((e,t)=>{const{__scopePopover:s,...r}=e,a=po(RC,s),o=Cd(s),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return f.useEffect(()=>(i(),()=>l()),[i,l]),n.jsx($h,{...o,...r,ref:t})});M$.displayName=RC;var OC="PopoverTrigger",DC=f.forwardRef((e,t)=>{const{__scopePopover:s,...r}=e,a=po(OC,s),o=Cd(s),i=at(t,a.triggerRef),l=n.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":VC(a.open),...r,ref:i,onClick:ve(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:n.jsx($h,{asChild:!0,...o,children:l})});DC.displayName=OC;var h0="PopoverPortal",[R$,O$]=AC(h0,{forceMount:void 0}),IC=e=>{const{__scopePopover:t,forceMount:s,children:r,container:a}=e,o=po(h0,t);return n.jsx(R$,{scope:t,forceMount:s,children:n.jsx(Us,{present:s||o.open,children:n.jsx(Il,{asChild:!0,container:a,children:r})})})};IC.displayName=h0;var ml="PopoverContent",LC=f.forwardRef((e,t)=>{const s=O$(ml,e.__scopePopover),{forceMount:r=s.forceMount,...a}=e,o=po(ml,e.__scopePopover);return n.jsx(Us,{present:r||o.open,children:o.modal?n.jsx(I$,{...a,ref:t}):n.jsx(L$,{...a,ref:t})})});LC.displayName=ml;var D$=$6("PopoverContent.RemoveScroll"),I$=f.forwardRef((e,t)=>{const s=po(ml,e.__scopePopover),r=f.useRef(null),a=at(t,r),o=f.useRef(!1);return f.useEffect(()=>{const i=r.current;if(i)return Fh(i)},[]),n.jsx(Bh,{as:D$,allowPinchZoom:!0,children:n.jsx($C,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=s.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ve(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;o.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ve(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),L$=f.forwardRef((e,t)=>{const s=po(ml,e.__scopePopover),r=f.useRef(!1),a=f.useRef(!1);return n.jsx($C,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(l=s.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((d=s.triggerRef.current)==null?void 0:d.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),$C=f.forwardRef((e,t)=>{const{__scopePopover:s,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=e,m=po(ml,s),p=Cd(s);return Rh(),n.jsx(_d,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:n.jsx(Ml,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:n.jsx(u0,{"data-state":VC(m.open),role:"dialog",id:m.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),FC="PopoverClose",$$=f.forwardRef((e,t)=>{const{__scopePopover:s,...r}=e,a=po(FC,s);return n.jsx(Re.button,{type:"button",...r,ref:t,onClick:ve(e.onClick,()=>a.onOpenChange(!1))})});$$.displayName=FC;var F$="PopoverArrow",V$=f.forwardRef((e,t)=>{const{__scopePopover:s,...r}=e,a=Cd(s);return n.jsx(f0,{...a,...r,ref:t})});V$.displayName=F$;function VC(e){return e?"open":"closed"}var B$=MC,z$=DC,U$=IC,BC=LC;const Oa=B$,Da=z$,ea=f.forwardRef(({className:e,align:t="center",sideOffset:s=4,...r},a)=>n.jsx(U$,{children:n.jsx(BC,{ref:a,align:t,sideOffset:s,className:ee("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));ea.displayName=BC.displayName;function Me(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function _t(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function js(e,t){const s=Me(e);return isNaN(t)?_t(e,NaN):(t&&s.setDate(s.getDate()+t),s)}function Bs(e,t){const s=Me(e);if(isNaN(t))return _t(e,NaN);if(!t)return s;const r=s.getDate(),a=_t(e,s.getTime());a.setMonth(s.getMonth()+t+1,0);const o=a.getDate();return r>=o?a:(s.setFullYear(a.getFullYear(),a.getMonth(),r),s)}function Qa(e,t){const{years:s=0,months:r=0,weeks:a=0,days:o=0,hours:i=0,minutes:l=0,seconds:c=0}=t,d=Me(e),u=r||s?Bs(d,r+s*12):d,h=o||a?js(u,o+a*7):u,m=l+i*60,x=(c+m*60)*1e3;return _t(e,h.getTime()+x)}const m0=6048e5,H$=864e5,od=6e4,Uh=36e5,W$=1e3,Qb=525600,Fi=43200,Of=1440;let q$={};function va(){return q$}function wr(e,t){var l,c,d,u;const s=va(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??s.weekStartsOn??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Me(e),o=a.getDay(),i=(o<r?7:0)+o-r;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function ha(e){return wr(e,{weekStartsOn:1})}function zC(e){const t=Me(e),s=t.getFullYear(),r=_t(e,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const a=ha(r),o=_t(e,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const i=ha(o);return t.getTime()>=a.getTime()?s+1:t.getTime()>=i.getTime()?s:s-1}function pl(e){const t=Me(e);return t.setHours(0,0,0,0),t}function Fn(e){const t=Me(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function un(e,t){const s=pl(e),r=pl(t),a=+s-Fn(s),o=+r-Fn(r);return Math.round((a-o)/H$)}function G$(e){const t=zC(e),s=_t(e,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),ha(s)}function id(e,t){const s=t*7;return js(e,s)}function Y$(e,t){return Bs(e,t*12)}function K$(e){let t;return e.forEach(function(s){const r=Me(s);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function X$(e){let t;return e.forEach(s=>{const r=Me(s);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function Ec(e,t){const s=Me(e),r=Me(t),a=s.getTime()-r.getTime();return a<0?-1:a>0?1:a}function UC(e){return _t(e,Date.now())}function $s(e,t){const s=pl(e),r=pl(t);return+s==+r}function p0(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function cx(e){if(!p0(e)&&typeof e!="number")return!1;const t=Me(e);return!isNaN(Number(t))}function gl(e,t){const s=Me(e),r=Me(t),a=s.getFullYear()-r.getFullYear(),o=s.getMonth()-r.getMonth();return a*12+o}function Q$(e,t,s){const r=wr(e,s),a=wr(t,s),o=+r-Fn(r),i=+a-Fn(a);return Math.round((o-i)/m0)}function HC(e,t){const s=Me(e),r=Me(t),a=Jb(s,r),o=Math.abs(un(s,r));s.setDate(s.getDate()-a*o);const i=+(Jb(s,r)===-a),l=a*(o-i);return l===0?0:l}function Jb(e,t){const s=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return s<0?-1:s>0?1:s}function g0(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function WC(e,t){return+Me(e)-+Me(t)}function J$(e,t,s){const r=WC(e,t)/Uh;return g0(s==null?void 0:s.roundingMethod)(r)}function Z$(e){const t=Me(e);return t.setHours(23,59,59,999),t}function Hh(e){const t=Me(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function eF(e){const t=Me(e);return+Z$(t)==+Hh(t)}function tF(e,t){const s=Me(e),r=Me(t),a=Ec(s,r),o=Math.abs(gl(s,r));let i;if(o<1)i=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-a*o);let l=Ec(s,r)===-a;eF(Me(e))&&o===1&&Ec(e,r)===1&&(l=!1),i=a*(o-Number(l))}return i===0?0:i}function sF(e,t,s){const r=WC(e,t)/1e3;return g0(s==null?void 0:s.roundingMethod)(r)}function rF(e,t){const s=Me(e.start),r=Me(e.end);let a=+s>+r;const o=a?+s:+r,i=a?r:s;i.setHours(0,0,0,0);let l=(t==null?void 0:t.step)??1;if(!l)return[];l<0&&(l=-l,a=!a);const c=[];for(;+i<=o;)c.push(Me(i)),i.setDate(i.getDate()+l),i.setHours(0,0,0,0);return a?c.reverse():c}function yr(e){const t=Me(e);return t.setDate(1),t.setHours(0,0,0,0),t}function qC(e){const t=Me(e),s=_t(e,0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s}function Wh(e,t){var l,c,d,u;const s=va(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??s.weekStartsOn??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Me(e),o=a.getDay(),i=(o<r?-7:0)+6-(o-r);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}function GC(e){return Wh(e,{weekStartsOn:1})}const nF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},aF=(e,t,s)=>{let r;const a=nF[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+r:r+" ago":r};function el(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const oF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},iF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cF={date:el({formats:oF,defaultWidth:"full"}),time:el({formats:iF,defaultWidth:"full"}),dateTime:el({formats:lF,defaultWidth:"full"})},dF={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uF=(e,t,s,r)=>dF[e];function kn(e){return(t,s)=>{const r=s!=null&&s.context?String(s.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=s!=null&&s.width?String(s.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=s!=null&&s.width?String(s.width):e.defaultWidth;a=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return a[o]}}const fF={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pF={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vF=(e,t)=>{const s=Number(e),r=s%100;if(r>20||r<10)switch(r%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},yF={ordinalNumber:vF,era:kn({values:fF,defaultWidth:"wide"}),quarter:kn({values:hF,defaultWidth:"wide",argumentCallback:e=>e-1}),month:kn({values:mF,defaultWidth:"wide"}),day:kn({values:pF,defaultWidth:"wide"}),dayPeriod:kn({values:gF,defaultWidth:"wide",formattingValues:xF,defaultFormattingWidth:"wide"})};function En(e){return(t,s={})=>{const r=s.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const i=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?bF(l,h=>h.test(i)):wF(l,h=>h.test(i));let d;d=e.valueCallback?e.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;const u=t.slice(i.length);return{value:d,rest:u}}}function wF(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function bF(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function YC(e){return(t,s={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=s.valueCallback?s.valueCallback(i):i;const l=t.slice(a.length);return{value:i,rest:l}}}const jF=/^(\d+)(th|st|nd|rd)?/i,NF=/\d+/i,_F={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},SF={any:[/^b/i,/^(a|c)/i]},CF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kF={any:[/1/i,/2/i,/3/i,/4/i]},EF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},PF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},TF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},AF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},MF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},RF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},OF={ordinalNumber:YC({matchPattern:jF,parsePattern:NF,valueCallback:e=>parseInt(e,10)}),era:En({matchPatterns:_F,defaultMatchWidth:"wide",parsePatterns:SF,defaultParseWidth:"any"}),quarter:En({matchPatterns:CF,defaultMatchWidth:"wide",parsePatterns:kF,defaultParseWidth:"any",valueCallback:e=>e+1}),month:En({matchPatterns:EF,defaultMatchWidth:"wide",parsePatterns:PF,defaultParseWidth:"any"}),day:En({matchPatterns:TF,defaultMatchWidth:"wide",parsePatterns:AF,defaultParseWidth:"any"}),dayPeriod:En({matchPatterns:MF,defaultMatchWidth:"any",parsePatterns:RF,defaultParseWidth:"any"})},kd={code:"en-US",formatDistance:aF,formatLong:cF,formatRelative:uF,localize:yF,match:OF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function DF(e){const t=Me(e);return un(t,qC(t))+1}function x0(e){const t=Me(e),s=+ha(t)-+G$(t);return Math.round(s/m0)+1}function v0(e,t){var u,h,m,p;const s=Me(e),r=s.getFullYear(),a=va(),o=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,i=_t(e,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const l=wr(i,t),c=_t(e,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const d=wr(c,t);return s.getTime()>=l.getTime()?r+1:s.getTime()>=d.getTime()?r:r-1}function IF(e,t){var l,c,d,u;const s=va(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??s.firstWeekContainsDate??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=v0(e,t),o=_t(e,0);return o.setFullYear(a,0,r),o.setHours(0,0,0,0),wr(o,t)}function y0(e,t){const s=Me(e),r=+wr(s,t)-+IF(s,t);return Math.round(r/m0)+1}function Nt(e,t){const s=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return s+r}const Na={y(e,t){const s=e.getFullYear(),r=s>0?s:1-s;return Nt(t==="yy"?r%100:r,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):Nt(s+1,2)},d(e,t){return Nt(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return Nt(e.getHours()%12||12,t.length)},H(e,t){return Nt(e.getHours(),t.length)},m(e,t){return Nt(e.getMinutes(),t.length)},s(e,t){return Nt(e.getSeconds(),t.length)},S(e,t){const s=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,s-3));return Nt(a,t.length)}},ji={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Zb={G:function(e,t,s){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return s.ordinalNumber(a,{unit:"year"})}return Na.y(e,t)},Y:function(e,t,s,r){const a=v0(e,r),o=a>0?a:1-a;if(t==="YY"){const i=o%100;return Nt(i,2)}return t==="Yo"?s.ordinalNumber(o,{unit:"year"}):Nt(o,t.length)},R:function(e,t){const s=zC(e);return Nt(s,t.length)},u:function(e,t){const s=e.getFullYear();return Nt(s,t.length)},Q:function(e,t,s){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Nt(r,2);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,s){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Nt(r,2);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,s){const r=e.getMonth();switch(t){case"M":case"MM":return Na.M(e,t);case"Mo":return s.ordinalNumber(r+1,{unit:"month"});case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,s){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Nt(r+1,2);case"Lo":return s.ordinalNumber(r+1,{unit:"month"});case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,s,r){const a=y0(e,r);return t==="wo"?s.ordinalNumber(a,{unit:"week"}):Nt(a,t.length)},I:function(e,t,s){const r=x0(e);return t==="Io"?s.ordinalNumber(r,{unit:"week"}):Nt(r,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):Na.d(e,t)},D:function(e,t,s){const r=DF(e);return t==="Do"?s.ordinalNumber(r,{unit:"dayOfYear"}):Nt(r,t.length)},E:function(e,t,s){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,s,r){const a=e.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Nt(o,2);case"eo":return s.ordinalNumber(o,{unit:"day"});case"eee":return s.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(a,{width:"short",context:"formatting"});case"eeee":default:return s.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,s,r){const a=e.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Nt(o,t.length);case"co":return s.ordinalNumber(o,{unit:"day"});case"ccc":return s.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(a,{width:"narrow",context:"standalone"});case"cccccc":return s.day(a,{width:"short",context:"standalone"});case"cccc":default:return s.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,s){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return Nt(a,t.length);case"io":return s.ordinalNumber(a,{unit:"day"});case"iii":return s.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(r,{width:"short",context:"formatting"});case"iiii":default:return s.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,s){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,s){const r=e.getHours();let a;switch(r===12?a=ji.noon:r===0?a=ji.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,s){const r=e.getHours();let a;switch(r>=17?a=ji.evening:r>=12?a=ji.afternoon:r>=4?a=ji.morning:a=ji.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),s.ordinalNumber(r,{unit:"hour"})}return Na.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):Na.H(e,t)},K:function(e,t,s){const r=e.getHours()%12;return t==="Ko"?s.ordinalNumber(r,{unit:"hour"}):Nt(r,t.length)},k:function(e,t,s){let r=e.getHours();return r===0&&(r=24),t==="ko"?s.ordinalNumber(r,{unit:"hour"}):Nt(r,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):Na.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):Na.s(e,t)},S:function(e,t){return Na.S(e,t)},X:function(e,t,s){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return tj(r);case"XXXX":case"XX":return Co(r);case"XXXXX":case"XXX":default:return Co(r,":")}},x:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"x":return tj(r);case"xxxx":case"xx":return Co(r);case"xxxxx":case"xxx":default:return Co(r,":")}},O:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ej(r,":");case"OOOO":default:return"GMT"+Co(r,":")}},z:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ej(r,":");case"zzzz":default:return"GMT"+Co(r,":")}},t:function(e,t,s){const r=Math.trunc(e.getTime()/1e3);return Nt(r,t.length)},T:function(e,t,s){const r=e.getTime();return Nt(r,t.length)}};function ej(e,t=""){const s=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),o=r%60;return o===0?s+String(a):s+String(a)+t+Nt(o,2)}function tj(e,t){return e%60===0?(e>0?"-":"+")+Nt(Math.abs(e)/60,2):Co(e,t)}function Co(e,t=""){const s=e>0?"-":"+",r=Math.abs(e),a=Nt(Math.trunc(r/60),2),o=Nt(r%60,2);return s+a+t+o}const sj=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},KC=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},LF=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],r=s[1],a=s[2];if(!a)return sj(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",sj(r,t)).replace("{{time}}",KC(a,t))},dx={p:KC,P:LF},$F=/^D+$/,FF=/^Y+$/,VF=["D","DD","YY","YYYY"];function XC(e){return $F.test(e)}function QC(e){return FF.test(e)}function ux(e,t,s){const r=BF(e,t,s);if(console.warn(r),VF.includes(e))throw new RangeError(r)}function BF(e,t,s){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,HF=/^'([^]*?)'?$/,WF=/''/g,qF=/[a-zA-Z]/;function le(e,t,s){var u,h,m,p,x,g,w,b;const r=va(),a=(s==null?void 0:s.locale)??r.locale??kd,o=(s==null?void 0:s.firstWeekContainsDate)??((h=(u=s==null?void 0:s.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(m=r.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,i=(s==null?void 0:s.weekStartsOn)??((g=(x=s==null?void 0:s.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((b=(w=r.locale)==null?void 0:w.options)==null?void 0:b.weekStartsOn)??0,l=Me(e);if(!cx(l))throw new RangeError("Invalid time value");let c=t.match(UF).map(v=>{const y=v[0];if(y==="p"||y==="P"){const j=dx[y];return j(v,a.formatLong)}return v}).join("").match(zF).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:GF(v)};if(Zb[y])return{isToken:!0,value:v};if(y.match(qF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:o,weekStartsOn:i,locale:a};return c.map(v=>{if(!v.isToken)return v.value;const y=v.value;(!(s!=null&&s.useAdditionalWeekYearTokens)&&QC(y)||!(s!=null&&s.useAdditionalDayOfYearTokens)&&XC(y))&&ux(y,t,String(e));const j=Zb[y[0]];return j(l,y,a.localize,d)}).join("")}function GF(e){const t=e.match(HF);return t?t[1].replace(WF,"'"):e}function YF(e,t,s){const r=va(),a=(s==null?void 0:s.locale)??r.locale??kd,o=2520,i=Ec(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:i});let c,d;i>0?(c=Me(t),d=Me(e)):(c=Me(e),d=Me(t));const u=sF(d,c),h=(Fn(d)-Fn(c))/1e3,m=Math.round((u-h)/60);let p;if(m<2)return s!=null&&s.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<Of){const x=Math.round(m/60);return a.formatDistance("aboutXHours",x,l)}else{if(m<o)return a.formatDistance("xDays",1,l);if(m<Fi){const x=Math.round(m/Of);return a.formatDistance("xDays",x,l)}else if(m<Fi*2)return p=Math.round(m/Fi),a.formatDistance("aboutXMonths",p,l)}if(p=tF(d,c),p<12){const x=Math.round(m/Fi);return a.formatDistance("xMonths",x,l)}else{const x=p%12,g=Math.trunc(p/12);return x<3?a.formatDistance("aboutXYears",g,l):x<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function KF(e,t,s){const r=va(),a=(s==null?void 0:s.locale)??r.locale??kd,o=Ec(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const i=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:o});let l,c;o>0?(l=Me(t),c=Me(e)):(l=Me(e),c=Me(t));const d=g0((s==null?void 0:s.roundingMethod)??"round"),u=c.getTime()-l.getTime(),h=u/od,m=Fn(c)-Fn(l),p=(u-m)/od,x=s==null?void 0:s.unit;let g;if(x?g=x:h<1?g="second":h<60?g="minute":h<Of?g="hour":p<Fi?g="day":p<Qb?g="month":g="year",g==="second"){const w=d(u/1e3);return a.formatDistance("xSeconds",w,i)}else if(g==="minute"){const w=d(h);return a.formatDistance("xMinutes",w,i)}else if(g==="hour"){const w=d(h/60);return a.formatDistance("xHours",w,i)}else if(g==="day"){const w=d(p/Of);return a.formatDistance("xDays",w,i)}else if(g==="month"){const w=d(p/Fi);return w===12&&x!=="month"?a.formatDistance("xYears",1,i):a.formatDistance("xMonths",w,i)}else{const w=d(p/Qb);return a.formatDistance("xYears",w,i)}}function JC(e,t){return YF(e,UC(e),t)}function Gu(e,t){return KF(e,UC(e),t)}function Hr(e){return Me(e).getDay()}function XF(e){const t=Me(e),s=t.getFullYear(),r=t.getMonth(),a=_t(e,0);return a.setFullYear(s,r+1,0),a.setHours(0,0,0,0),a.getDate()}function QF(){return Object.assign({},va())}function JF(e){let s=Me(e).getDay();return s===0&&(s=7),s}function ZF(e){return Math.trunc(+Me(e)/1e3)}function e8(e){const t=Me(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(0,0,0,0),t}function t8(e,t){return Q$(e8(e),yr(e),t)+1}function Df(e,t){const s=Me(e),r=Me(t);return s.getTime()>r.getTime()}function ZC(e,t){const s=Me(e),r=Me(t);return+s<+r}function s8(e){return+Me(e)>Date.now()}function r8(e,t){const s=t instanceof Date?_t(t,0):new t(0);return s.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),s.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),s}const n8=10;class ek{constructor(){Ee(this,"subPriority",0)}validate(t,s){return!0}}class a8 extends ek{constructor(t,s,r,a,o){super(),this.value=t,this.validateValue=s,this.setValue=r,this.priority=a,o&&(this.subPriority=o)}validate(t,s){return this.validateValue(t,this.value,s)}set(t,s,r){return this.setValue(t,s,this.value,r)}}class o8 extends ek{constructor(){super(...arguments);Ee(this,"priority",n8);Ee(this,"subPriority",-1)}set(s,r){return r.timestampIsSet?s:_t(s,r8(s,Date))}}class yt{run(t,s,r,a){const o=this.parse(t,s,r,a);return o?{setter:new a8(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,s,r){return!0}}class i8 extends yt{constructor(){super(...arguments);Ee(this,"priority",140);Ee(this,"incompatibleTokens",["R","u","t","T"])}parse(s,r,a){switch(r){case"G":case"GG":case"GGG":return a.era(s,{width:"abbreviated"})||a.era(s,{width:"narrow"});case"GGGGG":return a.era(s,{width:"narrow"});case"GGGG":default:return a.era(s,{width:"wide"})||a.era(s,{width:"abbreviated"})||a.era(s,{width:"narrow"})}}set(s,r,a){return r.era=a,s.setFullYear(a,0,1),s.setHours(0,0,0,0),s}}const xs={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Pn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function vs(e,t){return e&&{value:t(e.value),rest:e.rest}}function es(e,t){const s=t.match(e);return s?{value:parseInt(s[0],10),rest:t.slice(s[0].length)}:null}function Tn(e,t){const s=t.match(e);if(!s)return null;if(s[0]==="Z")return{value:0,rest:t.slice(1)};const r=s[1]==="+"?1:-1,a=s[2]?parseInt(s[2],10):0,o=s[3]?parseInt(s[3],10):0,i=s[5]?parseInt(s[5],10):0;return{value:r*(a*Uh+o*od+i*W$),rest:t.slice(s[0].length)}}function tk(e){return es(xs.anyDigitsSigned,e)}function us(e,t){switch(e){case 1:return es(xs.singleDigit,t);case 2:return es(xs.twoDigits,t);case 3:return es(xs.threeDigits,t);case 4:return es(xs.fourDigits,t);default:return es(new RegExp("^\\d{1,"+e+"}"),t)}}function If(e,t){switch(e){case 1:return es(xs.singleDigitSigned,t);case 2:return es(xs.twoDigitsSigned,t);case 3:return es(xs.threeDigitsSigned,t);case 4:return es(xs.fourDigitsSigned,t);default:return es(new RegExp("^-?\\d{1,"+e+"}"),t)}}function w0(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function sk(e,t){const s=t>0,r=s?t:1-t;let a;if(r<=50)a=e||100;else{const o=r+50,i=Math.trunc(o/100)*100,l=e>=o%100;a=e+i-(l?100:0)}return s?a:1-a}function rk(e){return e%400===0||e%4===0&&e%100!==0}class l8 extends yt{constructor(){super(...arguments);Ee(this,"priority",130);Ee(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(s,r,a){const o=i=>({year:i,isTwoDigitYear:r==="yy"});switch(r){case"y":return vs(us(4,s),o);case"yo":return vs(a.ordinalNumber(s,{unit:"year"}),o);default:return vs(us(r.length,s),o)}}validate(s,r){return r.isTwoDigitYear||r.year>0}set(s,r,a){const o=s.getFullYear();if(a.isTwoDigitYear){const l=sk(a.year,o);return s.setFullYear(l,0,1),s.setHours(0,0,0,0),s}const i=!("era"in r)||r.era===1?a.year:1-a.year;return s.setFullYear(i,0,1),s.setHours(0,0,0,0),s}}class c8 extends yt{constructor(){super(...arguments);Ee(this,"priority",130);Ee(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(s,r,a){const o=i=>({year:i,isTwoDigitYear:r==="YY"});switch(r){case"Y":return vs(us(4,s),o);case"Yo":return vs(a.ordinalNumber(s,{unit:"year"}),o);default:return vs(us(r.length,s),o)}}validate(s,r){return r.isTwoDigitYear||r.year>0}set(s,r,a,o){const i=v0(s,o);if(a.isTwoDigitYear){const c=sk(a.year,i);return s.setFullYear(c,0,o.firstWeekContainsDate),s.setHours(0,0,0,0),wr(s,o)}const l=!("era"in r)||r.era===1?a.year:1-a.year;return s.setFullYear(l,0,o.firstWeekContainsDate),s.setHours(0,0,0,0),wr(s,o)}}class d8 extends yt{constructor(){super(...arguments);Ee(this,"priority",130);Ee(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(s,r){return If(r==="R"?4:r.length,s)}set(s,r,a){const o=_t(s,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),ha(o)}}class u8 extends yt{constructor(){super(...arguments);Ee(this,"priority",130);Ee(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(s,r){return If(r==="u"?4:r.length,s)}set(s,r,a){return s.setFullYear(a,0,1),s.setHours(0,0,0,0),s}}class f8 extends yt{constructor(){super(...arguments);Ee(this,"priority",120);Ee(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(s,r,a){switch(r){case"Q":case"QQ":return us(r.length,s);case"Qo":return a.ordinalNumber(s,{unit:"quarter"});case"QQQ":return a.quarter(s,{width:"abbreviated",context:"formatting"})||a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(s,{width:"wide",context:"formatting"})||a.quarter(s,{width:"abbreviated",context:"formatting"})||a.quarter(s,{width:"narrow",context:"formatting"})}}validate(s,r){return r>=1&&r<=4}set(s,r,a){return s.setMonth((a-1)*3,1),s.setHours(0,0,0,0),s}}class h8 extends yt{constructor(){super(...arguments);Ee(this,"priority",120);Ee(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(s,r,a){switch(r){case"q":case"qq":return us(r.length,s);case"qo":return a.ordinalNumber(s,{unit:"quarter"});case"qqq":return a.quarter(s,{width:"abbreviated",context:"standalone"})||a.quarter(s,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(s,{width:"wide",context:"standalone"})||a.quarter(s,{width:"abbreviated",context:"standalone"})||a.quarter(s,{width:"narrow",context:"standalone"})}}validate(s,r){return r>=1&&r<=4}set(s,r,a){return s.setMonth((a-1)*3,1),s.setHours(0,0,0,0),s}}class m8 extends yt{constructor(){super(...arguments);Ee(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ee(this,"priority",110)}parse(s,r,a){const o=i=>i-1;switch(r){case"M":return vs(es(xs.month,s),o);case"MM":return vs(us(2,s),o);case"Mo":return vs(a.ordinalNumber(s,{unit:"month"}),o);case"MMM":return a.month(s,{width:"abbreviated",context:"formatting"})||a.month(s,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(s,{width:"wide",context:"formatting"})||a.month(s,{width:"abbreviated",context:"formatting"})||a.month(s,{width:"narrow",context:"formatting"})}}validate(s,r){return r>=0&&r<=11}set(s,r,a){return s.setMonth(a,1),s.setHours(0,0,0,0),s}}class p8 extends yt{constructor(){super(...arguments);Ee(this,"priority",110);Ee(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(s,r,a){const o=i=>i-1;switch(r){case"L":return vs(es(xs.month,s),o);case"LL":return vs(us(2,s),o);case"Lo":return vs(a.ordinalNumber(s,{unit:"month"}),o);case"LLL":return a.month(s,{width:"abbreviated",context:"standalone"})||a.month(s,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(s,{width:"wide",context:"standalone"})||a.month(s,{width:"abbreviated",context:"standalone"})||a.month(s,{width:"narrow",context:"standalone"})}}validate(s,r){return r>=0&&r<=11}set(s,r,a){return s.setMonth(a,1),s.setHours(0,0,0,0),s}}function g8(e,t,s){const r=Me(e),a=y0(r,s)-t;return r.setDate(r.getDate()-a*7),r}class x8 extends yt{constructor(){super(...arguments);Ee(this,"priority",100);Ee(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(s,r,a){switch(r){case"w":return es(xs.week,s);case"wo":return a.ordinalNumber(s,{unit:"week"});default:return us(r.length,s)}}validate(s,r){return r>=1&&r<=53}set(s,r,a,o){return wr(g8(s,a,o),o)}}function v8(e,t){const s=Me(e),r=x0(s)-t;return s.setDate(s.getDate()-r*7),s}class y8 extends yt{constructor(){super(...arguments);Ee(this,"priority",100);Ee(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(s,r,a){switch(r){case"I":return es(xs.week,s);case"Io":return a.ordinalNumber(s,{unit:"week"});default:return us(r.length,s)}}validate(s,r){return r>=1&&r<=53}set(s,r,a){return ha(v8(s,a))}}const w8=[31,28,31,30,31,30,31,31,30,31,30,31],b8=[31,29,31,30,31,30,31,31,30,31,30,31];class j8 extends yt{constructor(){super(...arguments);Ee(this,"priority",90);Ee(this,"subPriority",1);Ee(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(s,r,a){switch(r){case"d":return es(xs.date,s);case"do":return a.ordinalNumber(s,{unit:"date"});default:return us(r.length,s)}}validate(s,r){const a=s.getFullYear(),o=rk(a),i=s.getMonth();return o?r>=1&&r<=b8[i]:r>=1&&r<=w8[i]}set(s,r,a){return s.setDate(a),s.setHours(0,0,0,0),s}}class N8 extends yt{constructor(){super(...arguments);Ee(this,"priority",90);Ee(this,"subpriority",1);Ee(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(s,r,a){switch(r){case"D":case"DD":return es(xs.dayOfYear,s);case"Do":return a.ordinalNumber(s,{unit:"date"});default:return us(r.length,s)}}validate(s,r){const a=s.getFullYear();return rk(a)?r>=1&&r<=366:r>=1&&r<=365}set(s,r,a){return s.setMonth(0,a),s.setHours(0,0,0,0),s}}function b0(e,t,s){var h,m,p,x;const r=va(),a=(s==null?void 0:s.weekStartsOn)??((m=(h=s==null?void 0:s.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((x=(p=r.locale)==null?void 0:p.options)==null?void 0:x.weekStartsOn)??0,o=Me(e),i=o.getDay(),c=(t%7+7)%7,d=7-a,u=t<0||t>6?t-(i+d)%7:(c+d)%7-(i+d)%7;return js(o,u)}class _8 extends yt{constructor(){super(...arguments);Ee(this,"priority",90);Ee(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(s,r,a){switch(r){case"E":case"EE":case"EEE":return a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"})}}validate(s,r){return r>=0&&r<=6}set(s,r,a,o){return s=b0(s,a,o),s.setHours(0,0,0,0),s}}class S8 extends yt{constructor(){super(...arguments);Ee(this,"priority",90);Ee(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(s,r,a,o){const i=l=>{const c=Math.floor((l-1)/7)*7;return(l+o.weekStartsOn+6)%7+c};switch(r){case"e":case"ee":return vs(us(r.length,s),i);case"eo":return vs(a.ordinalNumber(s,{unit:"day"}),i);case"eee":return a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"eeeee":return a.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"})}}validate(s,r){return r>=0&&r<=6}set(s,r,a,o){return s=b0(s,a,o),s.setHours(0,0,0,0),s}}class C8 extends yt{constructor(){super(...arguments);Ee(this,"priority",90);Ee(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(s,r,a,o){const i=l=>{const c=Math.floor((l-1)/7)*7;return(l+o.weekStartsOn+6)%7+c};switch(r){case"c":case"cc":return vs(us(r.length,s),i);case"co":return vs(a.ordinalNumber(s,{unit:"day"}),i);case"ccc":return a.day(s,{width:"abbreviated",context:"standalone"})||a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"});case"ccccc":return a.day(s,{width:"narrow",context:"standalone"});case"cccccc":return a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(s,{width:"wide",context:"standalone"})||a.day(s,{width:"abbreviated",context:"standalone"})||a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"})}}validate(s,r){return r>=0&&r<=6}set(s,r,a,o){return s=b0(s,a,o),s.setHours(0,0,0,0),s}}function k8(e,t){const s=Me(e),r=JF(s),a=t-r;return js(s,a)}class E8 extends yt{constructor(){super(...arguments);Ee(this,"priority",90);Ee(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(s,r,a){const o=i=>i===0?7:i;switch(r){case"i":case"ii":return us(r.length,s);case"io":return a.ordinalNumber(s,{unit:"day"});case"iii":return vs(a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),o);case"iiiii":return vs(a.day(s,{width:"narrow",context:"formatting"}),o);case"iiiiii":return vs(a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),o);case"iiii":default:return vs(a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),o)}}validate(s,r){return r>=1&&r<=7}set(s,r,a){return s=k8(s,a),s.setHours(0,0,0,0),s}}class P8 extends yt{constructor(){super(...arguments);Ee(this,"priority",80);Ee(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(s,r,a){switch(r){case"a":case"aa":case"aaa":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}set(s,r,a){return s.setHours(w0(a),0,0,0),s}}class T8 extends yt{constructor(){super(...arguments);Ee(this,"priority",80);Ee(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(s,r,a){switch(r){case"b":case"bb":case"bbb":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}set(s,r,a){return s.setHours(w0(a),0,0,0),s}}class A8 extends yt{constructor(){super(...arguments);Ee(this,"priority",80);Ee(this,"incompatibleTokens",["a","b","t","T"])}parse(s,r,a){switch(r){case"B":case"BB":case"BBB":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}set(s,r,a){return s.setHours(w0(a),0,0,0),s}}class M8 extends yt{constructor(){super(...arguments);Ee(this,"priority",70);Ee(this,"incompatibleTokens",["H","K","k","t","T"])}parse(s,r,a){switch(r){case"h":return es(xs.hour12h,s);case"ho":return a.ordinalNumber(s,{unit:"hour"});default:return us(r.length,s)}}validate(s,r){return r>=1&&r<=12}set(s,r,a){const o=s.getHours()>=12;return o&&a<12?s.setHours(a+12,0,0,0):!o&&a===12?s.setHours(0,0,0,0):s.setHours(a,0,0,0),s}}class R8 extends yt{constructor(){super(...arguments);Ee(this,"priority",70);Ee(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(s,r,a){switch(r){case"H":return es(xs.hour23h,s);case"Ho":return a.ordinalNumber(s,{unit:"hour"});default:return us(r.length,s)}}validate(s,r){return r>=0&&r<=23}set(s,r,a){return s.setHours(a,0,0,0),s}}class O8 extends yt{constructor(){super(...arguments);Ee(this,"priority",70);Ee(this,"incompatibleTokens",["h","H","k","t","T"])}parse(s,r,a){switch(r){case"K":return es(xs.hour11h,s);case"Ko":return a.ordinalNumber(s,{unit:"hour"});default:return us(r.length,s)}}validate(s,r){return r>=0&&r<=11}set(s,r,a){return s.getHours()>=12&&a<12?s.setHours(a+12,0,0,0):s.setHours(a,0,0,0),s}}class D8 extends yt{constructor(){super(...arguments);Ee(this,"priority",70);Ee(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(s,r,a){switch(r){case"k":return es(xs.hour24h,s);case"ko":return a.ordinalNumber(s,{unit:"hour"});default:return us(r.length,s)}}validate(s,r){return r>=1&&r<=24}set(s,r,a){const o=a<=24?a%24:a;return s.setHours(o,0,0,0),s}}class I8 extends yt{constructor(){super(...arguments);Ee(this,"priority",60);Ee(this,"incompatibleTokens",["t","T"])}parse(s,r,a){switch(r){case"m":return es(xs.minute,s);case"mo":return a.ordinalNumber(s,{unit:"minute"});default:return us(r.length,s)}}validate(s,r){return r>=0&&r<=59}set(s,r,a){return s.setMinutes(a,0,0),s}}class L8 extends yt{constructor(){super(...arguments);Ee(this,"priority",50);Ee(this,"incompatibleTokens",["t","T"])}parse(s,r,a){switch(r){case"s":return es(xs.second,s);case"so":return a.ordinalNumber(s,{unit:"second"});default:return us(r.length,s)}}validate(s,r){return r>=0&&r<=59}set(s,r,a){return s.setSeconds(a,0),s}}class $8 extends yt{constructor(){super(...arguments);Ee(this,"priority",30);Ee(this,"incompatibleTokens",["t","T"])}parse(s,r){const a=o=>Math.trunc(o*Math.pow(10,-r.length+3));return vs(us(r.length,s),a)}set(s,r,a){return s.setMilliseconds(a),s}}class F8 extends yt{constructor(){super(...arguments);Ee(this,"priority",10);Ee(this,"incompatibleTokens",["t","T","x"])}parse(s,r){switch(r){case"X":return Tn(Pn.basicOptionalMinutes,s);case"XX":return Tn(Pn.basic,s);case"XXXX":return Tn(Pn.basicOptionalSeconds,s);case"XXXXX":return Tn(Pn.extendedOptionalSeconds,s);case"XXX":default:return Tn(Pn.extended,s)}}set(s,r,a){return r.timestampIsSet?s:_t(s,s.getTime()-Fn(s)-a)}}class V8 extends yt{constructor(){super(...arguments);Ee(this,"priority",10);Ee(this,"incompatibleTokens",["t","T","X"])}parse(s,r){switch(r){case"x":return Tn(Pn.basicOptionalMinutes,s);case"xx":return Tn(Pn.basic,s);case"xxxx":return Tn(Pn.basicOptionalSeconds,s);case"xxxxx":return Tn(Pn.extendedOptionalSeconds,s);case"xxx":default:return Tn(Pn.extended,s)}}set(s,r,a){return r.timestampIsSet?s:_t(s,s.getTime()-Fn(s)-a)}}class B8 extends yt{constructor(){super(...arguments);Ee(this,"priority",40);Ee(this,"incompatibleTokens","*")}parse(s){return tk(s)}set(s,r,a){return[_t(s,a*1e3),{timestampIsSet:!0}]}}class z8 extends yt{constructor(){super(...arguments);Ee(this,"priority",20);Ee(this,"incompatibleTokens","*")}parse(s){return tk(s)}set(s,r,a){return[_t(s,a),{timestampIsSet:!0}]}}const U8={G:new i8,y:new l8,Y:new c8,R:new d8,u:new u8,Q:new f8,q:new h8,M:new m8,L:new p8,w:new x8,I:new y8,d:new j8,D:new N8,E:new _8,e:new S8,c:new C8,i:new E8,a:new P8,b:new T8,B:new A8,h:new M8,H:new R8,K:new O8,k:new D8,m:new I8,s:new L8,S:new $8,X:new F8,x:new V8,t:new B8,T:new z8},H8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,W8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,q8=/^'([^]*?)'?$/,G8=/''/g,Y8=/\S/,K8=/[a-zA-Z]/;function qh(e,t,s,r){var g,w,b,v,y,j,_,C;const a=QF(),o=(r==null?void 0:r.locale)??a.locale??kd,i=(r==null?void 0:r.firstWeekContainsDate)??((w=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:w.firstWeekContainsDate)??a.firstWeekContainsDate??((v=(b=a.locale)==null?void 0:b.options)==null?void 0:v.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((j=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:j.weekStartsOn)??a.weekStartsOn??((C=(_=a.locale)==null?void 0:_.options)==null?void 0:C.weekStartsOn)??0;if(t==="")return e===""?Me(s):_t(s,NaN);const c={firstWeekContainsDate:i,weekStartsOn:l,locale:o},d=[new o8],u=t.match(W8).map(N=>{const S=N[0];if(S in dx){const M=dx[S];return M(N,o.formatLong)}return N}).join("").match(H8),h=[];for(let N of u){!(r!=null&&r.useAdditionalWeekYearTokens)&&QC(N)&&ux(N,t,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&XC(N)&&ux(N,t,e);const S=N[0],M=U8[S];if(M){const{incompatibleTokens:$}=M;if(Array.isArray($)){const R=h.find(Y=>$.includes(Y.token)||Y.token===S);if(R)throw new RangeError(`The format string mustn't contain \`${R.fullToken}\` and \`${N}\` at the same time`)}else if(M.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${N}\` and any other token at the same time`);h.push({token:S,fullToken:N});const W=M.run(e,N,o.match,c);if(!W)return _t(s,NaN);d.push(W.setter),e=W.rest}else{if(S.match(K8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");if(N==="''"?N="'":S==="'"&&(N=X8(N)),e.indexOf(N)===0)e=e.slice(N.length);else return _t(s,NaN)}}if(e.length>0&&Y8.test(e))return _t(s,NaN);const m=d.map(N=>N.priority).sort((N,S)=>S-N).filter((N,S,M)=>M.indexOf(N)===S).map(N=>d.filter(S=>S.priority===N).sort((S,M)=>M.subPriority-S.subPriority)).map(N=>N[0]);let p=Me(s);if(isNaN(p.getTime()))return _t(s,NaN);const x={};for(const N of m){if(!N.validate(p,c))return _t(s,NaN);const S=N.set(p,x,c);Array.isArray(S)?(p=S[0],Object.assign(x,S[1])):p=S}return _t(s,p)}function X8(e){return e.match(q8)[1].replace(G8,"'")}function j0(e,t){const s=Me(e),r=Me(t);return s.getFullYear()===r.getFullYear()&&s.getMonth()===r.getMonth()}function Q8(e,t){const s=Me(e),r=Me(t);return s.getFullYear()===r.getFullYear()}function fp(e,t){return js(e,-t)}function ze(e,t){const s=(t==null?void 0:t.additionalDigits)??2,r=tV(e);let a;if(r.date){const c=sV(r.date,s);a=rV(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const o=a.getTime();let i=0,l;if(r.time&&(i=nV(r.time),isNaN(i)))return new Date(NaN);if(r.timezone){if(l=aV(r.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(o+i),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(o+i+l)}const wu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},J8=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Z8=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,eV=/^([+-])(\d{2})(?::?(\d{2}))?$/;function tV(e){const t={},s=e.split(wu.dateTimeDelimiter);let r;if(s.length>2)return t;if(/:/.test(s[0])?r=s[0]:(t.date=s[0],r=s[1],wu.timeZoneDelimiter.test(t.date)&&(t.date=e.split(wu.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const a=wu.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function sV(e,t){const s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(s);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?a:o*100,restDateString:e.slice((r[1]||r[2]).length)}}function rV(e,t){if(t===null)return new Date(NaN);const s=e.match(J8);if(!s)return new Date(NaN);const r=!!s[4],a=sc(s[1]),o=sc(s[2])-1,i=sc(s[3]),l=sc(s[4]),c=sc(s[5])-1;if(r)return dV(t,l,c)?oV(t,l,c):new Date(NaN);{const d=new Date(0);return!lV(t,o,i)||!cV(t,a)?new Date(NaN):(d.setUTCFullYear(t,o,Math.max(a,i)),d)}}function sc(e){return e?parseInt(e):1}function nV(e){const t=e.match(Z8);if(!t)return NaN;const s=hp(t[1]),r=hp(t[2]),a=hp(t[3]);return uV(s,r,a)?s*Uh+r*od+a*1e3:NaN}function hp(e){return e&&parseFloat(e.replace(",","."))||0}function aV(e){if(e==="Z")return 0;const t=e.match(eV);if(!t)return 0;const s=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return fV(r,a)?s*(r*Uh+a*od):NaN}function oV(e,t,s){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,o=(t-1)*7+s+1-a;return r.setUTCDate(r.getUTCDate()+o),r}const iV=[31,null,31,30,31,30,31,31,30,31,30,31];function nk(e){return e%400===0||e%4===0&&e%100!==0}function lV(e,t,s){return t>=0&&t<=11&&s>=1&&s<=(iV[t]||(nk(e)?29:28))}function cV(e,t){return t>=1&&t<=(nk(e)?366:365)}function dV(e,t,s){return t>=1&&t<=53&&s>=0&&s<=6}function uV(e,t,s){return e===24?t===0&&s===0:s>=0&&s<60&&t>=0&&t<60&&e>=0&&e<25}function fV(e,t){return t>=0&&t<=59}function mp(e,t){const s=Me(e),r=s.getFullYear(),a=s.getDate(),o=_t(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const i=XF(o);return s.setMonth(t,Math.min(a,i)),s}function rj(e,t){const s=Me(e);return isNaN(+s)?_t(e,NaN):(s.setFullYear(t),s)}function hV(e,t){return Bs(e,-t)}function mV(e,t){return id(e,-t)}const pV={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},gV=(e,t,s)=>{let r;const a=pV[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",String(t)),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"em "+r:"h "+r:r},xV={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},vV={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},yV={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wV={date:el({formats:xV,defaultWidth:"full"}),time:el({formats:vV,defaultWidth:"full"}),dateTime:el({formats:yV,defaultWidth:"full"})},bV={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},jV=(e,t,s,r)=>{const a=bV[e];return typeof a=="function"?a(t):a},NV={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},_V={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},SV={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},CV={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},kV={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},EV={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},PV=(e,t)=>{const s=Number(e);return(t==null?void 0:t.unit)==="week"?s+"":s+""},TV={ordinalNumber:PV,era:kn({values:NV,defaultWidth:"wide"}),quarter:kn({values:_V,defaultWidth:"wide",argumentCallback:e=>e-1}),month:kn({values:SV,defaultWidth:"wide"}),day:kn({values:CV,defaultWidth:"wide"}),dayPeriod:kn({values:kV,defaultWidth:"wide",formattingValues:EV,defaultFormattingWidth:"wide"})},AV=/^(\d+)[o]?/i,MV=/\d+/i,RV={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},OV={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},DV={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},IV={any:[/1/i,/2/i,/3/i,/4/i]},LV={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},$V={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},FV={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},VV={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},BV={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},zV={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},UV={ordinalNumber:YC({matchPattern:AV,parsePattern:MV,valueCallback:e=>parseInt(e,10)}),era:En({matchPatterns:RV,defaultMatchWidth:"wide",parsePatterns:OV,defaultParseWidth:"any"}),quarter:En({matchPatterns:DV,defaultMatchWidth:"wide",parsePatterns:IV,defaultParseWidth:"any",valueCallback:e=>e+1}),month:En({matchPatterns:LV,defaultMatchWidth:"wide",parsePatterns:$V,defaultParseWidth:"any"}),day:En({matchPatterns:FV,defaultMatchWidth:"wide",parsePatterns:VV,defaultParseWidth:"any"}),dayPeriod:En({matchPatterns:BV,defaultMatchWidth:"any",parsePatterns:zV,defaultParseWidth:"any"})},ot={code:"pt-BR",formatDistance:gV,formatLong:wV,formatRelative:jV,localize:TV,match:UV,options:{weekStartsOn:0,firstWeekContainsDate:1}},HV=({type:e})=>{switch(e){case"class_feedback":return n.jsx(Zn,{className:"h-4 w-4 text-yellow-500"});case"new_package":return n.jsx(Th,{className:"h-4 w-4 text-green-500"});case"new_message":return n.jsx(Qr,{className:"h-4 w-4 text-blue-500"});case"class_reminder":return n.jsx(tr,{className:"h-4 w-4 text-blue-500"});case"class_missed":return n.jsx(fl,{className:"h-4 w-4 text-red-500"});case"class_rescheduled":return n.jsx(rd,{className:"h-4 w-4 text-purple-500"});default:return n.jsx(GS,{className:"h-4 w-4 text-slate-500"})}},WV=({rating:e})=>n.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(t=>n.jsx(Zn,{className:`h-3 w-3 ${e>=t?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},t))}),qV=({notification:e,onRead:t})=>{const{type:s,content:r,created_at:a,is_read:o}=e;let i="Nova notificao",l="Voc tem uma nova atualizao.",c=null;switch(s){case"class_feedback":i="Feedback recebido!",l=r.message||"O professor avaliou sua aula.",r.ratings&&(c=n.jsxs("div",{className:"mt-2 space-y-1 text-xs text-slate-500 border-t pt-2",children:[Object.entries(r.ratings).map(([d,u])=>n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"capitalize",children:d.replace("_"," ")}),n.jsx(WV,{rating:u})]},d)),r.comment&&n.jsxs("p",{className:"mt-2 pt-1 border-t text-slate-600",children:['"',r.comment,'"']})]}));break;case"new_package":i="Novo pacote de aulas!",l=r.message||"Voc recebeu um novo pacote.";break;case"new_message":i="Nova mensagem",l=r.message||"Voc tem uma nova mensagem.";break;case"class_missed":i="Aula marcada como falta",l=r.message||"Uma de suas aulas foi marcada como falta.";break;case"class_rescheduled":i="Crdito de aula devolvido",l=r.message||"Um crdito de aula foi devolvido para reagendamento.";break}return n.jsxs("div",{className:ee("p-3 flex items-start gap-3 border-b last:border-b-0 cursor-pointer hover:bg-slate-50",!o&&"bg-sky-50"),onClick:()=>!o&&t(e.id),children:[!o&&n.jsx("div",{className:"h-2 w-2 rounded-full bg-sky-500 mt-1.5 flex-shrink-0"}),n.jsx("div",{className:ee("flex-shrink-0",o&&"ml-4"),children:n.jsx(HV,{type:s})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-sm",children:i}),n.jsx("p",{className:"text-xs text-slate-600",children:l}),c,n.jsx("p",{className:"text-xs text-slate-400 mt-2",children:JC(new Date(a),{addSuffix:!0,locale:ot})})]})]})},GV=()=>{const{user:e}=Or(),[t,s]=f.useState([]),[r,a]=f.useState(0),[o,i]=f.useState(!1),l=f.useCallback(async()=>{if(!e)return;const{data:u,error:h}=await I.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(20);h||(s(u),a(u.filter(m=>!m.is_read).length))},[e]);f.useEffect(()=>{l();const u=I.channel("realtime-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e==null?void 0:e.id}`},h=>{s(m=>[h.new,...m]),a(m=>m+1)}).subscribe();return()=>{I.removeChannel(u)}},[e,l]);const c=async u=>{const{error:h}=await I.from("notifications").update({is_read:!0}).eq("id",u);h||(s(m=>m.map(p=>p.id===u?{...p,is_read:!0}:p)),a(m=>Math.max(0,m-1)))},d=async()=>{const u=t.filter(m=>!m.is_read).map(m=>m.id);if(u.length===0)return;const{error:h}=await I.from("notifications").update({is_read:!0}).in("id",u);h||(s(m=>m.map(p=>({...p,is_read:!0}))),a(0))};return f.useEffect(()=>{if(o&&r>0){const u=setTimeout(()=>{d()},3e3);return()=>clearTimeout(u)}},[o,r]),n.jsxs(Oa,{open:o,onOpenChange:i,children:[n.jsx(Da,{asChild:!0,children:n.jsxs(K,{variant:"ghost",size:"icon",className:"relative",children:[n.jsx(GS,{className:"h-5 w-5 text-slate-600"}),r>0&&n.jsxs("span",{className:"absolute top-0 right-0 flex h-4 w-4",children:[n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-75"}),n.jsx("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-sky-500 text-white text-xs items-center justify-center",children:r})]})]})}),n.jsxs(ea,{align:"end",className:"w-80 p-0",children:[n.jsx("div",{className:"p-3 border-b",children:n.jsx("h4",{className:"font-medium text-sm",children:"Notificaes"})}),n.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.length>0?t.map(u=>n.jsx(qV,{notification:u,onRead:c},u.id)):n.jsx("p",{className:"text-center text-sm text-slate-500 py-8",children:"Nenhuma notificao por aqui."})})]})]})},nj=()=>{const{signOut:e,user:t}=Or(),s=ai(),r=async()=>{await e()};return n.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-50 shadow-sm",children:n.jsx("nav",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsxs(Ko,{to:"/",className:"flex items-baseline gap-1 hover:opacity-80 transition-opacity",children:[n.jsx("span",{className:"text-2xl sm:text-3xl font-bold text-sky-500",children:"Conexin"}),n.jsx("span",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:"Amrica"})]}),n.jsx("p",{className:"hidden md:block ml-4 text-xs text-slate-500 tracking-wide",children:"Portal do Aluno"})]}),t?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(GV,{}),n.jsxs(K,{variant:"ghost",size:"sm",onClick:r,className:"hidden sm:inline-flex hover:bg-slate-100",children:["Sair",n.jsx(kf,{className:"ml-2 h-4 w-4"})]}),n.jsx(K,{variant:"ghost",size:"icon",onClick:r,className:"sm:hidden hover:bg-slate-100",children:n.jsx(kf,{className:"h-5 w-5"})})]}):s.pathname!=="/professor-login"&&n.jsx(Ko,{to:"/professor-login",children:n.jsxs(K,{variant:"outline",size:"sm",className:"text-xs sm:text-sm border-sky-500 text-sky-600 hover:bg-sky-50",children:[n.jsx(QS,{className:"mr-2 h-4 w-4 hidden sm:inline-block"}),"Professor"]})})]})})})},aj=()=>{const e=new Date().getFullYear();return n.jsx("footer",{className:"bg-slate-50 border-t border-slate-200 mt-auto",children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[n.jsxs("div",{className:"text-center md:text-left",children:[n.jsxs("div",{className:"text-xl font-bold mb-1",children:[n.jsx("span",{className:"text-sky-500",children:"Conexin"}),n.jsx("span",{className:"text-slate-800",children:" Amrica"})]}),n.jsx("p",{className:"text-sm text-slate-500",children:"Aprenda espanhol do jeito certo"})]}),n.jsxs("div",{className:"flex flex-col items-center md:items-end gap-2",children:[n.jsxs("div",{className:"flex gap-4 text-sm",children:[n.jsx("a",{href:"https://www.conexionamerica.com.br",target:"_blank",rel:"noopener noreferrer",className:"text-slate-600 hover:text-sky-500 transition-colors",children:"Site Principal"}),n.jsx("span",{className:"text-slate-300",children:"|"}),n.jsx("a",{href:"https://wa.me/555198541835",target:"_blank",rel:"noopener noreferrer",className:"text-slate-600 hover:text-sky-500 transition-colors",children:"Suporte"})]}),n.jsxs("p",{className:"text-xs text-slate-500",children:[" ",e," Conexin Amrica. Todos os direitos reservados."]})]})]})})})},ak=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Gh=f.createContext({}),Yh=f.createContext(null),Kh=typeof document<"u",N0=Kh?f.useLayoutEffect:f.useEffect,ok=f.createContext({strict:!1}),_0=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),YV="framerAppearId",ik="data-"+_0(YV);function KV(e,t,s,r){const{visualElement:a}=f.useContext(Gh),o=f.useContext(ok),i=f.useContext(Yh),l=f.useContext(ak).reducedMotion,c=f.useRef();r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:a,props:s,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;f.useInsertionEffect(()=>{d&&d.update(s,i)});const u=f.useRef(!!(s[ik]&&!window.HandoffComplete));return N0(()=>{d&&(d.render(),u.current&&d.animationState&&d.animationState.animateChanges())}),f.useEffect(()=>{d&&(d.updateFeatures(),!u.current&&d.animationState&&d.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),d}function Vi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function XV(e,t,s){return f.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):Vi(s)&&(s.current=r))},[t])}function ld(e){return typeof e=="string"||Array.isArray(e)}function Xh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const S0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],C0=["initial",...S0];function Qh(e){return Xh(e.animate)||C0.some(t=>ld(e[t]))}function lk(e){return!!(Qh(e)||e.variants)}function QV(e,t){if(Qh(e)){const{initial:s,animate:r}=e;return{initial:s===!1||ld(s)?s:void 0,animate:ld(r)?r:void 0}}return e.inherit!==!1?t:{}}function JV(e){const{initial:t,animate:s}=QV(e,f.useContext(Gh));return f.useMemo(()=>({initial:t,animate:s}),[oj(t),oj(s)])}function oj(e){return Array.isArray(e)?e.join(" "):e}const ij={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cd={};for(const e in ij)cd[e]={isEnabled:t=>ij[e].some(s=>!!t[s])};function ZV(e){for(const t in e)cd[t]={...cd[t],...e[t]}}const k0=f.createContext({}),ck=f.createContext({}),eB=Symbol.for("motionComponentSymbol");function tB({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:r,Component:a}){e&&ZV(e);function o(l,c){let d;const u={...f.useContext(ak),...l,layoutId:sB(l)},{isStatic:h}=u,m=JV(l),p=r(l,h);if(!h&&Kh){m.visualElement=KV(a,p,u,t);const x=f.useContext(ck),g=f.useContext(ok).strict;m.visualElement&&(d=m.visualElement.loadFeatures(u,g,e,x))}return f.createElement(Gh.Provider,{value:m},d&&m.visualElement?f.createElement(d,{visualElement:m.visualElement,...u}):null,s(a,l,XV(p,m.visualElement,c),p,h,m.visualElement))}const i=f.forwardRef(o);return i[eB]=a,i}function sB({layoutId:e}){const t=f.useContext(k0).id;return t&&e!==void 0?t+"-"+e:e}function rB(e){function t(r,a={}){return tB(e(r,a))}if(typeof Proxy>"u")return t;const s=new Map;return new Proxy(t,{get:(r,a)=>(s.has(a)||s.set(a,t(a)),s.get(a))})}const nB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function E0(e){return typeof e!="string"||e.includes("-")?!1:!!(nB.indexOf(e)>-1||/[A-Z]/.test(e))}const Lf={};function aB(e){Object.assign(Lf,e)}const Ed=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ci=new Set(Ed);function dk(e,{layout:t,layoutId:s}){return ci.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Lf[e]||e==="opacity")}const br=e=>!!(e&&e.getVelocity),oB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iB=Ed.length;function lB(e,{enableHardwareAcceleration:t=!0,allowTransformNone:s=!0},r,a){let o="";for(let i=0;i<iB;i++){const l=Ed[i];if(e[l]!==void 0){const c=oB[l]||l;o+=`${c}(${e[l]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),a?o=a(e,r?"":o):s&&r&&(o="none"),o}const uk=e=>t=>typeof t=="string"&&t.startsWith(e),fk=uk("--"),fx=uk("var(--"),cB=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,dB=(e,t)=>t&&typeof e=="number"?t.transform(e):e,oo=(e,t,s)=>Math.min(Math.max(s,e),t),di={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Pc={...di,transform:e=>oo(0,1,e)},bu={...di,default:1},Tc=e=>Math.round(e*1e5)/1e5,Jh=/(-)?([\d]*\.?[\d])+/g,hk=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,uB=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Pd(e){return typeof e=="string"}const Td=e=>({test:t=>Pd(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Sa=Td("deg"),In=Td("%"),Ge=Td("px"),fB=Td("vh"),hB=Td("vw"),lj={...In,parse:e=>In.parse(e)/100,transform:e=>In.transform(e*100)},cj={...di,transform:Math.round},mk={borderWidth:Ge,borderTopWidth:Ge,borderRightWidth:Ge,borderBottomWidth:Ge,borderLeftWidth:Ge,borderRadius:Ge,radius:Ge,borderTopLeftRadius:Ge,borderTopRightRadius:Ge,borderBottomRightRadius:Ge,borderBottomLeftRadius:Ge,width:Ge,maxWidth:Ge,height:Ge,maxHeight:Ge,size:Ge,top:Ge,right:Ge,bottom:Ge,left:Ge,padding:Ge,paddingTop:Ge,paddingRight:Ge,paddingBottom:Ge,paddingLeft:Ge,margin:Ge,marginTop:Ge,marginRight:Ge,marginBottom:Ge,marginLeft:Ge,rotate:Sa,rotateX:Sa,rotateY:Sa,rotateZ:Sa,scale:bu,scaleX:bu,scaleY:bu,scaleZ:bu,skew:Sa,skewX:Sa,skewY:Sa,distance:Ge,translateX:Ge,translateY:Ge,translateZ:Ge,x:Ge,y:Ge,z:Ge,perspective:Ge,transformPerspective:Ge,opacity:Pc,originX:lj,originY:lj,originZ:Ge,zIndex:cj,fillOpacity:Pc,strokeOpacity:Pc,numOctaves:cj};function P0(e,t,s,r){const{style:a,vars:o,transform:i,transformOrigin:l}=e;let c=!1,d=!1,u=!0;for(const h in t){const m=t[h];if(fk(h)){o[h]=m;continue}const p=mk[h],x=dB(m,p);if(ci.has(h)){if(c=!0,i[h]=x,!u)continue;m!==(p.default||0)&&(u=!1)}else h.startsWith("origin")?(d=!0,l[h]=x):a[h]=x}if(t.transform||(c||r?a.transform=lB(e.transform,s,u,r):a.transform&&(a.transform="none")),d){const{originX:h="50%",originY:m="50%",originZ:p=0}=l;a.transformOrigin=`${h} ${m} ${p}`}}const T0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pk(e,t,s){for(const r in t)!br(t[r])&&!dk(r,s)&&(e[r]=t[r])}function mB({transformTemplate:e},t,s){return f.useMemo(()=>{const r=T0();return P0(r,t,{enableHardwareAcceleration:!s},e),Object.assign({},r.vars,r.style)},[t])}function pB(e,t,s){const r=e.style||{},a={};return pk(a,r,e),Object.assign(a,mB(e,t,s)),e.transformValues?e.transformValues(a):a}function gB(e,t,s){const r={},a=pB(e,t,s);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const xB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $f(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||xB.has(e)}let gk=e=>!$f(e);function vB(e){e&&(gk=t=>t.startsWith("on")?!$f(t):e(t))}try{vB(require("@emotion/is-prop-valid").default)}catch{}function yB(e,t,s){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(gk(a)||s===!0&&$f(a)||!t&&!$f(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function dj(e,t,s){return typeof e=="string"?e:Ge.transform(t+s*e)}function wB(e,t,s){const r=dj(t,e.x,e.width),a=dj(s,e.y,e.height);return`${r} ${a}`}const bB={offset:"stroke-dashoffset",array:"stroke-dasharray"},jB={offset:"strokeDashoffset",array:"strokeDasharray"};function NB(e,t,s=1,r=0,a=!0){e.pathLength=1;const o=a?bB:jB;e[o.offset]=Ge.transform(-r);const i=Ge.transform(t),l=Ge.transform(s);e[o.array]=`${i} ${l}`}function A0(e,{attrX:t,attrY:s,attrScale:r,originX:a,originY:o,pathLength:i,pathSpacing:l=1,pathOffset:c=0,...d},u,h,m){if(P0(e,d,u,m),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:x,dimensions:g}=e;p.transform&&(g&&(x.transform=p.transform),delete p.transform),g&&(a!==void 0||o!==void 0||x.transform)&&(x.transformOrigin=wB(g,a!==void 0?a:.5,o!==void 0?o:.5)),t!==void 0&&(p.x=t),s!==void 0&&(p.y=s),r!==void 0&&(p.scale=r),i!==void 0&&NB(p,i,l,c,!1)}const xk=()=>({...T0(),attrs:{}}),M0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function _B(e,t,s,r){const a=f.useMemo(()=>{const o=xk();return A0(o,t,{enableHardwareAcceleration:!1},M0(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};pk(o,e.style,e),a.style={...o,...a.style}}return a}function SB(e=!1){return(s,r,a,{latestValues:o},i)=>{const c=(E0(s)?_B:gB)(r,o,i,s),u={...yB(r,typeof s=="string",e),...c,ref:a},{children:h}=r,m=f.useMemo(()=>br(h)?h.get():h,[h]);return f.createElement(s,{...u,children:m})}}function vk(e,{style:t,vars:s},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const o in s)e.style.setProperty(o,s[o])}const yk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wk(e,t,s,r){vk(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(yk.has(a)?a:_0(a),t.attrs[a])}function R0(e,t){const{style:s}=e,r={};for(const a in s)(br(s[a])||t.style&&br(t.style[a])||dk(a,e))&&(r[a]=s[a]);return r}function bk(e,t){const s=R0(e,t);for(const r in e)if(br(e[r])||br(t[r])){const a=Ed.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[a]=e[r]}return s}function O0(e,t,s,r={},a={}){return typeof t=="function"&&(t=t(s!==void 0?s:e.custom,r,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(s!==void 0?s:e.custom,r,a)),t}function jk(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ff=e=>Array.isArray(e),CB=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),kB=e=>Ff(e)?e[e.length-1]||0:e;function Yu(e){const t=br(e)?e.get():e;return CB(t)?t.toValue():t}function EB({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:s},r,a,o){const i={latestValues:PB(r,a,o,e),renderState:t()};return s&&(i.mount=l=>s(r,l,i)),i}const Nk=e=>(t,s)=>{const r=f.useContext(Gh),a=f.useContext(Yh),o=()=>EB(e,t,r,a);return s?o():jk(o)};function PB(e,t,s,r){const a={},o=r(e,{});for(const m in o)a[m]=Yu(o[m]);let{initial:i,animate:l}=e;const c=Qh(e),d=lk(e);t&&d&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||i===!1;const h=u?l:i;return h&&typeof h!="boolean"&&!Xh(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const x=O0(e,p);if(!x)return;const{transitionEnd:g,transition:w,...b}=x;for(const v in b){let y=b[v];if(Array.isArray(y)){const j=u?y.length-1:0;y=y[j]}y!==null&&(a[v]=y)}for(const v in g)a[v]=g[v]}),a}const cs=e=>e;class uj{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const s=this.order.indexOf(t);s!==-1&&(this.order.splice(s,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function TB(e){let t=new uj,s=new uj,r=0,a=!1,o=!1;const i=new WeakSet,l={schedule:(c,d=!1,u=!1)=>{const h=u&&a,m=h?t:s;return d&&i.add(c),m.add(c)&&h&&a&&(r=t.order.length),c},cancel:c=>{s.remove(c),i.delete(c)},process:c=>{if(a){o=!0;return}if(a=!0,[t,s]=[s,t],s.clear(),r=t.order.length,r)for(let d=0;d<r;d++){const u=t.order[d];u(c),i.has(u)&&(l.schedule(u),e())}a=!1,o&&(o=!1,l.process(c))}};return l}const ju=["prepare","read","update","preRender","render","postRender"],AB=40;function MB(e,t){let s=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=ju.reduce((h,m)=>(h[m]=TB(()=>s=!0),h),{}),i=h=>o[h].process(a),l=()=>{const h=performance.now();s=!1,a.delta=r?1e3/60:Math.max(Math.min(h-a.timestamp,AB),1),a.timestamp=h,a.isProcessing=!0,ju.forEach(i),a.isProcessing=!1,s&&t&&(r=!1,e(l))},c=()=>{s=!0,r=!0,a.isProcessing||e(l)};return{schedule:ju.reduce((h,m)=>{const p=o[m];return h[m]=(x,g=!1,w=!1)=>(s||c(),p.schedule(x,g,w)),h},{}),cancel:h=>ju.forEach(m=>o[m].cancel(h)),state:a,steps:o}}const{schedule:Tt,cancel:ma,state:Gs,steps:pp}=MB(typeof requestAnimationFrame<"u"?requestAnimationFrame:cs,!0),RB={useVisualState:Nk({scrapeMotionValuesFromProps:bk,createRenderState:xk,onMount:(e,t,{renderState:s,latestValues:r})=>{Tt.read(()=>{try{s.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),Tt.render(()=>{A0(s,r,{enableHardwareAcceleration:!1},M0(t.tagName),e.transformTemplate),wk(t,s)})}})},OB={useVisualState:Nk({scrapeMotionValuesFromProps:R0,createRenderState:T0})};function DB(e,{forwardMotionProps:t=!1},s,r){return{...E0(e)?RB:OB,preloadedFeatures:s,useRender:SB(t),createVisualElement:r,Component:e}}function ra(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}const _k=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Zh(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const IB=e=>t=>_k(t)&&e(t,Zh(t));function aa(e,t,s,r){return ra(e,t,IB(s),r)}const LB=(e,t)=>s=>t(e(s)),Ja=(...e)=>e.reduce(LB);function Sk(e){let t=null;return()=>{const s=()=>{t=null};return t===null?(t=e,s):!1}}const fj=Sk("dragHorizontal"),hj=Sk("dragVertical");function Ck(e){let t=!1;if(e==="y")t=hj();else if(e==="x")t=fj();else{const s=fj(),r=hj();s&&r?t=()=>{s(),r()}:(s&&s(),r&&r())}return t}function kk(){const e=Ck(!0);return e?(e(),!1):!0}class go{constructor(t){this.isMounted=!1,this.node=t}update(){}}function mj(e,t){const s="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),a=(o,i)=>{if(o.pointerType==="touch"||kk())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&Tt.update(()=>l[r](o,i))};return aa(e.current,s,a,{passive:!e.getProps()[r]})}class $B extends go{mount(){this.unmount=Ja(mj(this.node,!0),mj(this.node,!1))}unmount(){}}class FB extends go{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ja(ra(this.node.current,"focus",()=>this.onFocus()),ra(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Ek=(e,t)=>t?e===t?!0:Ek(e,t.parentElement):!1;function gp(e,t){if(!t)return;const s=new PointerEvent("pointer"+e);t(s,Zh(s))}class VB extends go{constructor(){super(...arguments),this.removeStartListeners=cs,this.removeEndListeners=cs,this.removeAccessibleListeners=cs,this.startPointerPress=(t,s)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=aa(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:u,globalTapTarget:h}=this.node.getProps();Tt.update(()=>{!h&&!Ek(this.node.current,l.target)?u&&u(l,c):d&&d(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),i=aa(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ja(o,i),this.startPress(t,s)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=l=>{l.key!=="Enter"||!this.checkPressEnd()||gp("up",(c,d)=>{const{onTap:u}=this.node.getProps();u&&Tt.update(()=>u(c,d))})};this.removeEndListeners(),this.removeEndListeners=ra(this.node.current,"keyup",i),gp("down",(l,c)=>{this.startPress(l,c)})},s=ra(this.node.current,"keydown",t),r=()=>{this.isPressing&&gp("cancel",(o,i)=>this.cancelPress(o,i))},a=ra(this.node.current,"blur",r);this.removeAccessibleListeners=Ja(s,a)}}startPress(t,s){this.isPressing=!0;const{onTapStart:r,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Tt.update(()=>r(t,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!kk()}cancelPress(t,s){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Tt.update(()=>r(t,s))}mount(){const t=this.node.getProps(),s=aa(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=ra(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ja(s,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const hx=new WeakMap,xp=new WeakMap,BB=e=>{const t=hx.get(e.target);t&&t(e)},zB=e=>{e.forEach(BB)};function UB({root:e,...t}){const s=e||document;xp.has(s)||xp.set(s,{});const r=xp.get(s),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(zB,{root:e,...t})),r[a]}function HB(e,t,s){const r=UB(t);return hx.set(e,s),r.observe(e),()=>{hx.delete(e),r.unobserve(e)}}const WB={some:0,all:1};class qB extends go{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:a="some",once:o}=t,i={root:s?s.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:WB[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return HB(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(GB(t,s))&&this.startObserver()}unmount(){}}function GB({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const YB={inView:{Feature:qB},tap:{Feature:VB},focus:{Feature:FB},hover:{Feature:$B}};function Pk(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}function KB(e){const t={};return e.values.forEach((s,r)=>t[r]=s.get()),t}function XB(e){const t={};return e.values.forEach((s,r)=>t[r]=s.getVelocity()),t}function em(e,t,s){const r=e.getProps();return O0(r,t,s!==void 0?s:r.custom,KB(e),XB(e))}let QB=cs,D0=cs;const Za=e=>e*1e3,oa=e=>e/1e3,JB={current:!1},Tk=e=>Array.isArray(e)&&typeof e[0]=="number";function Ak(e){return!!(!e||typeof e=="string"&&Mk[e]||Tk(e)||Array.isArray(e)&&e.every(Ak))}const fc=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,Mk={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fc([0,.65,.55,1]),circOut:fc([.55,0,1,.45]),backIn:fc([.31,.01,.66,-.59]),backOut:fc([.33,1.53,.69,.99])};function Rk(e){if(e)return Tk(e)?fc(e):Array.isArray(e)?e.map(Rk):Mk[e]}function ZB(e,t,s,{delay:r=0,duration:a,repeat:o=0,repeatType:i="loop",ease:l,times:c}={}){const d={[t]:s};c&&(d.offset=c);const u=Rk(l);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:r,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}function ez(e,{repeat:t,repeatType:s="loop"}){const r=t&&s!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Ok=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,tz=1e-7,sz=12;function rz(e,t,s,r,a){let o,i,l=0;do i=t+(s-t)/2,o=Ok(i,r,a)-e,o>0?s=i:t=i;while(Math.abs(o)>tz&&++l<sz);return i}function Ad(e,t,s,r){if(e===t&&s===r)return cs;const a=o=>rz(o,0,1,e,s);return o=>o===0||o===1?o:Ok(a(o),t,r)}const nz=Ad(.42,0,1,1),az=Ad(0,0,.58,1),Dk=Ad(.42,0,.58,1),oz=e=>Array.isArray(e)&&typeof e[0]!="number",Ik=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Lk=e=>t=>1-e(1-t),I0=e=>1-Math.sin(Math.acos(e)),$k=Lk(I0),iz=Ik(I0),Fk=Ad(.33,1.53,.69,.99),L0=Lk(Fk),lz=Ik(L0),cz=e=>(e*=2)<1?.5*L0(e):.5*(2-Math.pow(2,-10*(e-1))),dz={linear:cs,easeIn:nz,easeInOut:Dk,easeOut:az,circIn:I0,circInOut:iz,circOut:$k,backIn:L0,backInOut:lz,backOut:Fk,anticipate:cz},pj=e=>{if(Array.isArray(e)){D0(e.length===4);const[t,s,r,a]=e;return Ad(t,s,r,a)}else if(typeof e=="string")return dz[e];return e},$0=(e,t)=>s=>!!(Pd(s)&&uB.test(s)&&s.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(s,t)),Vk=(e,t,s)=>r=>{if(!Pd(r))return r;const[a,o,i,l]=r.match(Jh);return{[e]:parseFloat(a),[t]:parseFloat(o),[s]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},uz=e=>oo(0,255,e),vp={...di,transform:e=>Math.round(uz(e))},Lo={test:$0("rgb","red"),parse:Vk("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+vp.transform(e)+", "+vp.transform(t)+", "+vp.transform(s)+", "+Tc(Pc.transform(r))+")"};function fz(e){let t="",s="",r="",a="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,s+=s,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const mx={test:$0("#"),parse:fz,transform:Lo.transform},Bi={test:$0("hsl","hue"),parse:Vk("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+In.transform(Tc(t))+", "+In.transform(Tc(s))+", "+Tc(Pc.transform(r))+")"},Zs={test:e=>Lo.test(e)||mx.test(e)||Bi.test(e),parse:e=>Lo.test(e)?Lo.parse(e):Bi.test(e)?Bi.parse(e):mx.parse(e),transform:e=>Pd(e)?e:e.hasOwnProperty("red")?Lo.transform(e):Bi.transform(e)},ts=(e,t,s)=>-s*e+s*t+e;function yp(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function hz({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,t/=100,s/=100;let a=0,o=0,i=0;if(!t)a=o=i=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;a=yp(c,l,e+1/3),o=yp(c,l,e),i=yp(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}const wp=(e,t,s)=>{const r=e*e;return Math.sqrt(Math.max(0,s*(t*t-r)+r))},mz=[mx,Lo,Bi],pz=e=>mz.find(t=>t.test(e));function gj(e){const t=pz(e);let s=t.parse(e);return t===Bi&&(s=hz(s)),s}const Bk=(e,t)=>{const s=gj(e),r=gj(t),a={...s};return o=>(a.red=wp(s.red,r.red,o),a.green=wp(s.green,r.green,o),a.blue=wp(s.blue,r.blue,o),a.alpha=ts(s.alpha,r.alpha,o),Lo.transform(a))};function gz(e){var t,s;return isNaN(e)&&Pd(e)&&(((t=e.match(Jh))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(hk))===null||s===void 0?void 0:s.length)||0)>0}const zk={regex:cB,countKey:"Vars",token:"${v}",parse:cs},Uk={regex:hk,countKey:"Colors",token:"${c}",parse:Zs.parse},Hk={regex:Jh,countKey:"Numbers",token:"${n}",parse:di.parse};function bp(e,{regex:t,countKey:s,token:r,parse:a}){const o=e.tokenised.match(t);o&&(e["num"+s]=o.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...o.map(a)))}function Vf(e){const t=e.toString(),s={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return s.value.includes("var(--")&&bp(s,zk),bp(s,Uk),bp(s,Hk),s}function Wk(e){return Vf(e).values}function qk(e){const{values:t,numColors:s,numVars:r,tokenised:a}=Vf(e),o=t.length;return i=>{let l=a;for(let c=0;c<o;c++)c<r?l=l.replace(zk.token,i[c]):c<r+s?l=l.replace(Uk.token,Zs.transform(i[c])):l=l.replace(Hk.token,Tc(i[c]));return l}}const xz=e=>typeof e=="number"?0:e;function vz(e){const t=Wk(e);return qk(e)(t.map(xz))}const io={test:gz,parse:Wk,createTransformer:qk,getAnimatableNone:vz},Gk=(e,t)=>s=>`${s>0?t:e}`;function Yk(e,t){return typeof e=="number"?s=>ts(e,t,s):Zs.test(e)?Bk(e,t):e.startsWith("var(")?Gk(e,t):Xk(e,t)}const Kk=(e,t)=>{const s=[...e],r=s.length,a=e.map((o,i)=>Yk(o,t[i]));return o=>{for(let i=0;i<r;i++)s[i]=a[i](o);return s}},yz=(e,t)=>{const s={...e,...t},r={};for(const a in s)e[a]!==void 0&&t[a]!==void 0&&(r[a]=Yk(e[a],t[a]));return a=>{for(const o in r)s[o]=r[o](a);return s}},Xk=(e,t)=>{const s=io.createTransformer(t),r=Vf(e),a=Vf(t);return r.numVars===a.numVars&&r.numColors===a.numColors&&r.numNumbers>=a.numNumbers?Ja(Kk(r.values,a.values),s):Gk(e,t)},dd=(e,t,s)=>{const r=t-e;return r===0?1:(s-e)/r},xj=(e,t)=>s=>ts(e,t,s);function wz(e){return typeof e=="number"?xj:typeof e=="string"?Zs.test(e)?Bk:Xk:Array.isArray(e)?Kk:typeof e=="object"?yz:xj}function bz(e,t,s){const r=[],a=s||wz(e[0]),o=e.length-1;for(let i=0;i<o;i++){let l=a(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||cs:t;l=Ja(c,l)}r.push(l)}return r}function Qk(e,t,{clamp:s=!0,ease:r,mixer:a}={}){const o=e.length;if(D0(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=bz(t,r,a),l=i.length,c=d=>{let u=0;if(l>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const h=dd(e[u],e[u+1],d);return i[u](h)};return s?d=>c(oo(e[0],e[o-1],d)):c}function jz(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const a=dd(0,t,r);e.push(ts(s,1,a))}}function Nz(e){const t=[0];return jz(t,e.length-1),t}function _z(e,t){return e.map(s=>s*t)}function Sz(e,t){return e.map(()=>t||Dk).splice(0,e.length-1)}function Bf({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const a=oz(r)?r.map(pj):pj(r),o={done:!1,value:t[0]},i=_z(s&&s.length===t.length?s:Nz(t),e),l=Qk(i,t,{ease:Array.isArray(a)?a:Sz(t,a)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}function Jk(e,t){return t?e*(1e3/t):0}const Cz=5;function Zk(e,t,s){const r=Math.max(t-Cz,0);return Jk(s-e(r),t-r)}const jp=.001,kz=.01,vj=10,Ez=.05,Pz=1;function Tz({duration:e=800,bounce:t=.25,velocity:s=0,mass:r=1}){let a,o;QB(e<=Za(vj));let i=1-t;i=oo(Ez,Pz,i),e=oo(kz,vj,oa(e)),i<1?(a=d=>{const u=d*i,h=u*e,m=u-s,p=px(d,i),x=Math.exp(-h);return jp-m/p*x},o=d=>{const h=d*i*e,m=h*s+s,p=Math.pow(i,2)*Math.pow(d,2)*e,x=Math.exp(-h),g=px(Math.pow(d,2),i);return(-a(d)+jp>0?-1:1)*((m-p)*x)/g}):(a=d=>{const u=Math.exp(-d*e),h=(d-s)*e+1;return-jp+u*h},o=d=>{const u=Math.exp(-d*e),h=(s-d)*(e*e);return u*h});const l=5/e,c=Mz(a,o,l);if(e=Za(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:i*2*Math.sqrt(r*d),duration:e}}}const Az=12;function Mz(e,t,s){let r=s;for(let a=1;a<Az;a++)r=r-e(r)/t(r);return r}function px(e,t){return e*Math.sqrt(1-t*t)}const Rz=["duration","bounce"],Oz=["stiffness","damping","mass"];function yj(e,t){return t.some(s=>e[s]!==void 0)}function Dz(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!yj(e,Oz)&&yj(e,Rz)){const s=Tz(e);t={...t,...s,mass:1},t.isResolvedFromDuration=!0}return t}function eE({keyframes:e,restDelta:t,restSpeed:s,...r}){const a=e[0],o=e[e.length-1],i={done:!1,value:a},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:m}=Dz({...r,velocity:-oa(r.velocity||0)}),p=h||0,x=c/(2*Math.sqrt(l*d)),g=o-a,w=oa(Math.sqrt(l/d)),b=Math.abs(g)<5;s||(s=b?.01:2),t||(t=b?.005:.5);let v;if(x<1){const y=px(w,x);v=j=>{const _=Math.exp(-x*w*j);return o-_*((p+x*w*g)/y*Math.sin(y*j)+g*Math.cos(y*j))}}else if(x===1)v=y=>o-Math.exp(-w*y)*(g+(p+w*g)*y);else{const y=w*Math.sqrt(x*x-1);v=j=>{const _=Math.exp(-x*w*j),C=Math.min(y*j,300);return o-_*((p+x*w*g)*Math.sinh(C)+y*g*Math.cosh(C))/y}}return{calculatedDuration:m&&u||null,next:y=>{const j=v(y);if(m)i.done=y>=u;else{let _=p;y!==0&&(x<1?_=Zk(v,y,j):_=0);const C=Math.abs(_)<=s,N=Math.abs(o-j)<=t;i.done=C&&N}return i.value=i.done?o:j,i}}}function wj({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],m={done:!1,value:h},p=S=>l!==void 0&&S<l||c!==void 0&&S>c,x=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let g=s*t;const w=h+g,b=i===void 0?w:i(w);b!==w&&(g=b-h);const v=S=>-g*Math.exp(-S/r),y=S=>b+v(S),j=S=>{const M=v(S),$=y(S);m.done=Math.abs(M)<=d,m.value=m.done?b:$};let _,C;const N=S=>{p(m.value)&&(_=S,C=eE({keyframes:[m.value,x(m.value)],velocity:Zk(y,S,m.value),damping:a,stiffness:o,restDelta:d,restSpeed:u}))};return N(0),{calculatedDuration:null,next:S=>{let M=!1;return!C&&_===void 0&&(M=!0,j(S),N(S)),_!==void 0&&S>_?C.next(S-_):(!M&&j(S),m)}}}const Iz=e=>{const t=({timestamp:s})=>e(s);return{start:()=>Tt.update(t,!0),stop:()=>ma(t),now:()=>Gs.isProcessing?Gs.timestamp:performance.now()}},bj=2e4;function jj(e){let t=0;const s=50;let r=e.next(t);for(;!r.done&&t<bj;)t+=s,r=e.next(t);return t>=bj?1/0:t}const Lz={decay:wj,inertia:wj,tween:Bf,keyframes:Bf,spring:eE};function zf({autoplay:e=!0,delay:t=0,driver:s=Iz,keyframes:r,type:a="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:u,onUpdate:h,...m}){let p=1,x=!1,g,w;const b=()=>{w=new Promise(z=>{g=z})};b();let v;const y=Lz[a]||Bf;let j;y!==Bf&&typeof r[0]!="number"&&(j=Qk([0,100],r,{clamp:!1}),r=[0,100]);const _=y({...m,keyframes:r});let C;l==="mirror"&&(C=y({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let N="idle",S=null,M=null,$=null;_.calculatedDuration===null&&o&&(_.calculatedDuration=jj(_));const{calculatedDuration:W}=_;let R=1/0,Y=1/0;W!==null&&(R=W+i,Y=R*(o+1)-i);let D=0;const P=z=>{if(M===null)return;p>0&&(M=Math.min(M,z)),p<0&&(M=Math.min(z-Y/p,M)),S!==null?D=S:D=Math.round(z-M)*p;const O=D-t*(p>=0?1:-1),q=p>=0?O<0:O>Y;D=Math.max(O,0),N==="finished"&&S===null&&(D=Y);let L=D,G=_;if(o){const ae=Math.min(D,Y)/R;let re=Math.floor(ae),ce=ae%1;!ce&&ae>=1&&(ce=1),ce===1&&re--,re=Math.min(re,o+1),!!(re%2)&&(l==="reverse"?(ce=1-ce,i&&(ce-=i/R)):l==="mirror"&&(G=C)),L=oo(0,1,ce)*R}const B=q?{done:!1,value:r[0]}:G.next(L);j&&(B.value=j(B.value));let{done:H}=B;!q&&W!==null&&(H=p>=0?D>=Y:D<=0);const J=S===null&&(N==="finished"||N==="running"&&H);return h&&h(B.value),J&&k(),B},A=()=>{v&&v.stop(),v=void 0},V=()=>{N="idle",A(),g(),b(),M=$=null},k=()=>{N="finished",u&&u(),A(),g()},E=()=>{if(x)return;v||(v=s(P));const z=v.now();c&&c(),S!==null?M=z-S:(!M||N==="finished")&&(M=z),N==="finished"&&b(),$=M,S=null,N="running",v.start()};e&&E();const T={then(z,O){return w.then(z,O)},get time(){return oa(D)},set time(z){z=Za(z),D=z,S!==null||!v||p===0?S=z:M=v.now()-z/p},get duration(){const z=_.calculatedDuration===null?jj(_):_.calculatedDuration;return oa(z)},get speed(){return p},set speed(z){z===p||!v||(p=z,T.time=oa(D))},get state(){return N},play:E,pause:()=>{N="paused",S=D},stop:()=>{x=!0,N!=="idle"&&(N="idle",d&&d(),V())},cancel:()=>{$!==null&&P($),V()},complete:()=>{N="finished"},sample:z=>(M=0,P(z))};return T}function $z(e){let t;return()=>(t===void 0&&(t=e()),t)}const Fz=$z(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Vz=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Nu=10,Bz=2e4,zz=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Ak(t.ease);function Uz(e,t,{onUpdate:s,onComplete:r,...a}){if(!(Fz()&&Vz.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let i=!1,l,c,d=!1;const u=()=>{c=new Promise(y=>{l=y})};u();let{keyframes:h,duration:m=300,ease:p,times:x}=a;if(zz(t,a)){const y=zf({...a,repeat:0,delay:0});let j={done:!1,value:h[0]};const _=[];let C=0;for(;!j.done&&C<Bz;)j=y.sample(C),_.push(j.value),C+=Nu;x=void 0,h=_,m=C-Nu,p="linear"}const g=ZB(e.owner.current,t,h,{...a,duration:m,ease:p,times:x}),w=()=>{d=!1,g.cancel()},b=()=>{d=!0,Tt.update(w),l(),u()};return g.onfinish=()=>{d||(e.set(ez(h,a)),r&&r(),b())},{then(y,j){return c.then(y,j)},attachTimeline(y){return g.timeline=y,g.onfinish=null,cs},get time(){return oa(g.currentTime||0)},set time(y){g.currentTime=Za(y)},get speed(){return g.playbackRate},set speed(y){g.playbackRate=y},get duration(){return oa(m)},play:()=>{i||(g.play(),ma(w))},pause:()=>g.pause(),stop:()=>{if(i=!0,g.playState==="idle")return;const{currentTime:y}=g;if(y){const j=zf({...a,autoplay:!1});e.setWithVelocity(j.sample(y-Nu).value,j.sample(y).value,Nu)}b()},complete:()=>{d||g.finish()},cancel:b}}function Hz({keyframes:e,delay:t,onUpdate:s,onComplete:r}){const a=()=>(s&&s(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:cs,pause:cs,stop:cs,then:o=>(o(),Promise.resolve()),cancel:cs,complete:cs});return t?zf({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const Wz={type:"spring",stiffness:500,damping:25,restSpeed:10},qz=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Gz={type:"keyframes",duration:.8},Yz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Kz=(e,{keyframes:t})=>t.length>2?Gz:ci.has(e)?e.startsWith("scale")?qz(t[1]):Wz:Yz,gx=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(io.test(t)||t==="0")&&!t.startsWith("url(")),Xz=new Set(["brightness","contrast","saturate","opacity"]);function Qz(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=s.match(Jh)||[];if(!r)return e;const a=s.replace(r,"");let o=Xz.has(t)?1:0;return r!==s&&(o*=100),t+"("+o+a+")"}const Jz=/([a-z-]*)\(.*?\)/g,xx={...io,getAnimatableNone:e=>{const t=e.match(Jz);return t?t.map(Qz).join(" "):e}},Zz={...mk,color:Zs,backgroundColor:Zs,outlineColor:Zs,fill:Zs,stroke:Zs,borderColor:Zs,borderTopColor:Zs,borderRightColor:Zs,borderBottomColor:Zs,borderLeftColor:Zs,filter:xx,WebkitFilter:xx},F0=e=>Zz[e];function tE(e,t){let s=F0(e);return s!==xx&&(s=io),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const sE=e=>/^0[^.\s]+$/.test(e);function eU(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||sE(e)}function tU(e,t,s,r){const a=gx(t,s);let o;Array.isArray(s)?o=[...s]:o=[null,s];const i=r.from!==void 0?r.from:e.get();let l;const c=[];for(let d=0;d<o.length;d++)o[d]===null&&(o[d]=d===0?i:o[d-1]),eU(o[d])&&c.push(d),typeof o[d]=="string"&&o[d]!=="none"&&o[d]!=="0"&&(l=o[d]);if(a&&c.length&&l)for(let d=0;d<c.length;d++){const u=c[d];o[u]=tE(t,l)}return o}function sU({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}function V0(e,t){return e[t]||e.default||e}const rU={skipAnimations:!1},B0=(e,t,s,r={})=>a=>{const o=V0(r,e)||{},i=o.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Za(i);const c=tU(t,e,s,o),d=c[0],u=c[c.length-1],h=gx(e,d),m=gx(e,u);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:x=>{t.set(x),o.onUpdate&&o.onUpdate(x)},onComplete:()=>{a(),o.onComplete&&o.onComplete()}};if(sU(o)||(p={...p,...Kz(e,p)}),p.duration&&(p.duration=Za(p.duration)),p.repeatDelay&&(p.repeatDelay=Za(p.repeatDelay)),!h||!m||JB.current||o.type===!1||rU.skipAnimations)return Hz(p);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const x=Uz(t,e,p);if(x)return x}return zf(p)};function Uf(e){return!!(br(e)&&e.add)}const rE=e=>/^\-?\d*\.?\d+$/.test(e);function z0(e,t){e.indexOf(t)===-1&&e.push(t)}function U0(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class H0{constructor(){this.subscriptions=[]}add(t){return z0(this.subscriptions,t),()=>U0(this.subscriptions,t)}notify(t,s,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,s,r);else for(let o=0;o<a;o++){const i=this.subscriptions[o];i&&i(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const nU=e=>!isNaN(parseFloat(e));class aU{constructor(t,s={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,a=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:i}=Gs;this.lastUpdated!==i&&(this.timeDelta=o,this.lastUpdated=i,Tt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Tt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=nU(this.current),this.owner=s.owner}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new H0);const r=this.events[t].add(s);return t==="change"?()=>{r(),Tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,r){this.set(s),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Jk(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xl(e,t){return new aU(e,t)}const nE=e=>t=>t.test(e),oU={test:e=>e==="auto",parse:e=>e},aE=[di,Ge,In,Sa,hB,fB,oU],rc=e=>aE.find(nE(e)),iU=[...aE,Zs,io],lU=e=>iU.find(nE(e));function cU(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,xl(s))}function dU(e,t){const s=em(e,t);let{transitionEnd:r={},transition:a={},...o}=s?e.makeTargetAnimatable(s,!1):{};o={...o,...r};for(const i in o){const l=kB(o[i]);cU(e,i,l)}}function uU(e,t,s){var r,a;const o=Object.keys(t).filter(l=>!e.hasValue(l)),i=o.length;if(i)for(let l=0;l<i;l++){const c=o[l],d=t[c];let u=null;Array.isArray(d)&&(u=d[0]),u===null&&(u=(a=(r=s[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&a!==void 0?a:t[c]),u!=null&&(typeof u=="string"&&(rE(u)||sE(u))?u=parseFloat(u):!lU(u)&&io.test(d)&&(u=tE(c,d)),e.addValue(c,xl(u,{owner:e})),s[c]===void 0&&(s[c]=u),u!==null&&e.setBaseTarget(c,u))}}function fU(e,t){return t?(t[e]||t.default||t).from:void 0}function hU(e,t,s){const r={};for(const a in e){const o=fU(a,t);if(o!==void 0)r[a]=o;else{const i=s.getValue(a);i&&(r[a]=i.get())}}return r}function mU({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function pU(e,t){const s=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==s)return!0}else return s!==t}function oE(e,t,{delay:s=0,transitionOverride:r,type:a}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:i,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(o=r);const d=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const h in l){const m=e.getValue(h),p=l[h];if(!m||p===void 0||u&&mU(u,h))continue;const x={delay:s,elapsed:0,...V0(o||{},h)};if(window.HandoffAppearAnimations){const b=e.getProps()[ik];if(b){const v=window.HandoffAppearAnimations(b,h,m,Tt);v!==null&&(x.elapsed=v,x.isHandoff=!0)}}let g=!x.isHandoff&&!pU(m,p);if(x.type==="spring"&&(m.getVelocity()||x.velocity)&&(g=!1),m.animation&&(g=!1),g)continue;m.start(B0(h,m,p,e.shouldReduceMotion&&ci.has(h)?{type:!1}:x));const w=m.animation;Uf(c)&&(c.add(h),w.then(()=>c.remove(h))),d.push(w)}return i&&Promise.all(d).then(()=>{i&&dU(e,i)}),d}function vx(e,t,s={}){const r=em(e,t,s.custom);let{transition:a=e.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(a=s.transitionOverride);const o=r?()=>Promise.all(oE(e,r,s)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=a;return gU(e,t,d+c,u,h,s)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,d]=l==="beforeChildren"?[o,i]:[i,o];return c().then(()=>d())}else return Promise.all([o(),i(s.delay)])}function gU(e,t,s=0,r=0,a=1,o){const i=[],l=(e.variantChildren.size-1)*r,c=a===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(e.variantChildren).sort(xU).forEach((d,u)=>{d.notify("AnimationStart",t),i.push(vx(d,t,{...o,delay:s+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(i)}function xU(e,t){return e.sortNodePosition(t)}function vU(e,t,s={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(o=>vx(e,o,s));r=Promise.all(a)}else if(typeof t=="string")r=vx(e,t,s);else{const a=typeof t=="function"?em(e,t,s.custom):t;r=Promise.all(oE(e,a,s))}return r.then(()=>e.notify("AnimationComplete",t))}const yU=[...S0].reverse(),wU=S0.length;function bU(e){return t=>Promise.all(t.map(({animation:s,options:r})=>vU(e,s,r)))}function jU(e){let t=bU(e);const s=_U();let r=!0;const a=(c,d)=>{const u=em(e,d);if(u){const{transition:h,transitionEnd:m,...p}=u;c={...c,...p,...m}}return c};function o(c){t=c(e)}function i(c,d){const u=e.getProps(),h=e.getVariantContext(!0)||{},m=[],p=new Set;let x={},g=1/0;for(let b=0;b<wU;b++){const v=yU[b],y=s[v],j=u[v]!==void 0?u[v]:h[v],_=ld(j),C=v===d?y.isActive:null;C===!1&&(g=b);let N=j===h[v]&&j!==u[v]&&_;if(N&&r&&e.manuallyAnimateOnMount&&(N=!1),y.protectedKeys={...x},!y.isActive&&C===null||!j&&!y.prevProp||Xh(j)||typeof j=="boolean")continue;let M=NU(y.prevProp,j)||v===d&&y.isActive&&!N&&_||b>g&&_,$=!1;const W=Array.isArray(j)?j:[j];let R=W.reduce(a,{});C===!1&&(R={});const{prevResolvedValues:Y={}}=y,D={...Y,...R},P=A=>{M=!0,p.has(A)&&($=!0,p.delete(A)),y.needsAnimating[A]=!0};for(const A in D){const V=R[A],k=Y[A];if(x.hasOwnProperty(A))continue;let E=!1;Ff(V)&&Ff(k)?E=!Pk(V,k):E=V!==k,E?V!==void 0?P(A):p.add(A):V!==void 0&&p.has(A)?P(A):y.protectedKeys[A]=!0}y.prevProp=j,y.prevResolvedValues=R,y.isActive&&(x={...x,...R}),r&&e.blockInitialAnimation&&(M=!1),M&&(!N||$)&&m.push(...W.map(A=>({animation:A,options:{type:v,...c}})))}if(p.size){const b={};p.forEach(v=>{const y=e.getBaseTarget(v);y!==void 0&&(b[v]=y)}),m.push({animation:b})}let w=!!m.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(m):Promise.resolve()}function l(c,d,u){var h;if(s[c].isActive===d)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(p=>{var x;return(x=p.animationState)===null||x===void 0?void 0:x.setActive(c,d)}),s[c].isActive=d;const m=i(u,c);for(const p in s)s[p].protectedKeys={};return m}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>s}}function NU(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Pk(t,e):!1}function jo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _U(){return{animate:jo(!0),whileInView:jo(),whileHover:jo(),whileTap:jo(),whileDrag:jo(),whileFocus:jo(),exit:jo()}}class SU extends go{constructor(t){super(t),t.animationState||(t.animationState=jU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Xh(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){}}let CU=0;class kU extends go{constructor(){super(...arguments),this.id=CU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s,custom:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const o=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});s&&!t&&o.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const EU={animation:{Feature:SU},exit:{Feature:kU}},Nj=(e,t)=>Math.abs(e-t);function PU(e,t){const s=Nj(e.x,t.x),r=Nj(e.y,t.y);return Math.sqrt(s**2+r**2)}class iE{constructor(t,s,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=_p(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=PU(h.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:x}=h,{timestamp:g}=Gs;this.history.push({...x,timestamp:g});const{onStart:w,onMove:b}=this.handlers;m||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Np(m,this.transformPagePoint),Tt.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=_p(h.type==="pointercancel"?this.lastMoveEventInfo:Np(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,w),x&&x(h,w)},!_k(t))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=r,this.contextWindow=a||window;const i=Zh(t),l=Np(i,this.transformPagePoint),{point:c}=l,{timestamp:d}=Gs;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=s;u&&u(t,_p(l,this.history)),this.removeListeners=Ja(aa(this.contextWindow,"pointermove",this.handlePointerMove),aa(this.contextWindow,"pointerup",this.handlePointerUp),aa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ma(this.updatePoint)}}function Np(e,t){return t?{point:t(e.point)}:e}function _j(e,t){return{x:e.x-t.x,y:e.y-t.y}}function _p({point:e},t){return{point:e,delta:_j(e,lE(t)),offset:_j(e,TU(t)),velocity:AU(t,.1)}}function TU(e){return e[0]}function lE(e){return e[e.length-1]}function AU(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const a=lE(e);for(;s>=0&&(r=e[s],!(a.timestamp-r.timestamp>Za(t)));)s--;if(!r)return{x:0,y:0};const o=oa(a.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Ar(e){return e.max-e.min}function yx(e,t=0,s=.01){return Math.abs(e-t)<=s}function Sj(e,t,s,r=.5){e.origin=r,e.originPoint=ts(t.min,t.max,e.origin),e.scale=Ar(s)/Ar(t),(yx(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ts(s.min,s.max,e.origin)-e.originPoint,(yx(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ac(e,t,s,r){Sj(e.x,t.x,s.x,r?r.originX:void 0),Sj(e.y,t.y,s.y,r?r.originY:void 0)}function Cj(e,t,s){e.min=s.min+t.min,e.max=e.min+Ar(t)}function MU(e,t,s){Cj(e.x,t.x,s.x),Cj(e.y,t.y,s.y)}function kj(e,t,s){e.min=t.min-s.min,e.max=e.min+Ar(t)}function Mc(e,t,s){kj(e.x,t.x,s.x),kj(e.y,t.y,s.y)}function RU(e,{min:t,max:s},r){return t!==void 0&&e<t?e=r?ts(t,e,r.min):Math.max(e,t):s!==void 0&&e>s&&(e=r?ts(s,e,r.max):Math.min(e,s)),e}function Ej(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function OU(e,{top:t,left:s,bottom:r,right:a}){return{x:Ej(e.x,s,a),y:Ej(e.y,t,r)}}function Pj(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function DU(e,t){return{x:Pj(e.x,t.x),y:Pj(e.y,t.y)}}function IU(e,t){let s=.5;const r=Ar(e),a=Ar(t);return a>r?s=dd(t.min,t.max-r,e.min):r>a&&(s=dd(e.min,e.max-a,t.min)),oo(0,1,s)}function LU(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const wx=.35;function $U(e=wx){return e===!1?e=0:e===!0&&(e=wx),{x:Tj(e,"left","right"),y:Tj(e,"top","bottom")}}function Tj(e,t,s){return{min:Aj(e,t),max:Aj(e,s)}}function Aj(e,t){return typeof e=="number"?e:e[t]||0}const Mj=()=>({translate:0,scale:1,origin:0,originPoint:0}),zi=()=>({x:Mj(),y:Mj()}),Rj=()=>({min:0,max:0}),bs=()=>({x:Rj(),y:Rj()});function Fr(e){return[e("x"),e("y")]}function cE({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function FU({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function VU(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function Sp(e){return e===void 0||e===1}function bx({scale:e,scaleX:t,scaleY:s}){return!Sp(e)||!Sp(t)||!Sp(s)}function ko(e){return bx(e)||dE(e)||e.z||e.rotate||e.rotateX||e.rotateY}function dE(e){return Oj(e.x)||Oj(e.y)}function Oj(e){return e&&e!=="0%"}function Hf(e,t,s){const r=e-s,a=t*r;return s+a}function Dj(e,t,s,r,a){return a!==void 0&&(e=Hf(e,a,r)),Hf(e,s,r)+t}function jx(e,t=0,s=1,r,a){e.min=Dj(e.min,t,s,r,a),e.max=Dj(e.max,t,s,r,a)}function uE(e,{x:t,y:s}){jx(e.x,t.translate,t.scale,t.originPoint),jx(e.y,s.translate,s.scale,s.originPoint)}function BU(e,t,s,r=!1){const a=s.length;if(!a)return;t.x=t.y=1;let o,i;for(let l=0;l<a;l++){o=s[l],i=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ui(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,uE(e,i)),r&&ko(o.latestValues)&&Ui(e,o.latestValues))}t.x=Ij(t.x),t.y=Ij(t.y)}function Ij(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Pa(e,t){e.min=e.min+t,e.max=e.max+t}function Lj(e,t,[s,r,a]){const o=t[a]!==void 0?t[a]:.5,i=ts(e.min,e.max,o);jx(e,t[s],t[r],i,t.scale)}const zU=["x","scaleX","originX"],UU=["y","scaleY","originY"];function Ui(e,t){Lj(e.x,t,zU),Lj(e.y,t,UU)}function fE(e,t){return cE(VU(e.getBoundingClientRect(),t))}function HU(e,t,s){const r=fE(e,s),{scroll:a}=t;return a&&(Pa(r.x,a.offset.x),Pa(r.y,a.offset.y)),r}const hE=({current:e})=>e?e.ownerDocument.defaultView:null,WU=new WeakMap;class qU{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bs(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Zh(u,"page").point)},o=(u,h)=>{const{drag:m,dragPropagation:p,onDragStart:x}=this.getProps();if(m&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Ck(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fr(w=>{let b=this.getAxisMotionValue(w).get()||0;if(In.test(b)){const{projection:v}=this.visualElement;if(v&&v.layout){const y=v.layout.layoutBox[w];y&&(b=Ar(y)*(parseFloat(b)/100))}}this.originPoint[w]=b}),x&&Tt.update(()=>x(u,h),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},i=(u,h)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:x,onDrag:g}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:w}=h;if(p&&this.currentDirection===null){this.currentDirection=GU(w),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),g&&g(u,h)},l=(u,h)=>this.stop(u,h),c=()=>Fr(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new iE(t,{onSessionStart:a,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:hE(this.visualElement)})}stop(t,s){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Tt.update(()=>o(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:a}=this.getProps();if(!r||!_u(t,a,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=RU(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;s&&Vi(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&a?this.constraints=OU(a.layoutBox,s):this.constraints=!1,this.elastic=$U(r),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Fr(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=LU(a.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Vi(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=HU(r,a.root,this.visualElement.getTransformPagePoint());let i=DU(a.layout.layoutBox,o);if(s){const l=s(FU(i));this.hasMutatedConstraints=!!l,l&&(i=cE(l))}return i}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:a,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Fr(u=>{if(!_u(u,s,this.currentDirection))return;let h=c&&c[u]||{};i&&(h={min:0,max:0});const m=a?200:1e6,p=a?40:1e7,x={type:"inertia",velocity:r?t[u]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(l)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return r.start(B0(t,r,0,s))}stopAnimation(){Fr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Fr(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),a=r[s];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Fr(s=>{const{drag:r}=this.getProps();if(!_u(s,r,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(s);if(a&&a.layout){const{min:i,max:l}=a.layout.layoutBox[s];o.set(t[s]-ts(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!Vi(s)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Fr(i=>{const l=this.getAxisMotionValue(i);if(l){const c=l.get();a[i]=IU({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Fr(i=>{if(!_u(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:d}=this.constraints[i];l.set(ts(c,d,a[i]))})}addListeners(){if(!this.visualElement.current)return;WU.set(this.visualElement,this);const t=this.visualElement.current,s=aa(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Vi(c)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),r();const i=ra(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Fr(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{i(),s(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:i=wx,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:a,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function _u(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function GU(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class YU extends go{constructor(t){super(t),this.removeGroupControls=cs,this.removeListeners=cs,this.controls=new qU(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cs}unmount(){this.removeGroupControls(),this.removeListeners()}}const $j=e=>(t,s)=>{e&&Tt.update(()=>e(t,s))};class KU extends go{constructor(){super(...arguments),this.removePointerDownListener=cs}onPointerDown(t){this.session=new iE(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hE(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:$j(t),onStart:$j(s),onMove:r,onEnd:(o,i)=>{delete this.session,a&&Tt.update(()=>a(o,i))}}}mount(){this.removePointerDownListener=aa(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function XU(){const e=f.useContext(Yh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:r}=e,a=f.useId();return f.useEffect(()=>r(a),[]),!t&&s?[!1,()=>s&&s(a)]:[!0]}const Ku={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Fj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const nc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ge.test(e))e=parseFloat(e);else return e;const s=Fj(e,t.target.x),r=Fj(e,t.target.y);return`${s}% ${r}%`}},QU={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,a=io.parse(e);if(a.length>5)return r;const o=io.createTransformer(e),i=typeof a[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;a[0+i]/=l,a[1+i]/=c;const d=ts(l,c,.5);return typeof a[2+i]=="number"&&(a[2+i]/=d),typeof a[3+i]=="number"&&(a[3+i]/=d),o(a)}};class JU extends Kt.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:a}=this.props,{projection:o}=t;aB(ZU),o&&(s.group&&s.group.add(o),r&&r.register&&a&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ku.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:a,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,a||t.layoutDependency!==s||s===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||Tt.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function mE(e){const[t,s]=XU(),r=f.useContext(k0);return Kt.createElement(JU,{...e,layoutGroup:r,switchLayoutGroup:f.useContext(ck),isPresent:t,safeToRemove:s})}const ZU={borderRadius:{...nc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nc,borderTopRightRadius:nc,borderBottomLeftRadius:nc,borderBottomRightRadius:nc,boxShadow:QU},pE=["TopLeft","TopRight","BottomLeft","BottomRight"],e7=pE.length,Vj=e=>typeof e=="string"?parseFloat(e):e,Bj=e=>typeof e=="number"||Ge.test(e);function t7(e,t,s,r,a,o){a?(e.opacity=ts(0,s.opacity!==void 0?s.opacity:1,s7(r)),e.opacityExit=ts(t.opacity!==void 0?t.opacity:1,0,r7(r))):o&&(e.opacity=ts(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,r));for(let i=0;i<e7;i++){const l=`border${pE[i]}Radius`;let c=zj(t,l),d=zj(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Bj(c)===Bj(d)?(e[l]=Math.max(ts(Vj(c),Vj(d),r),0),(In.test(d)||In.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||s.rotate)&&(e.rotate=ts(t.rotate||0,s.rotate||0,r))}function zj(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const s7=gE(0,.5,$k),r7=gE(.5,.95,cs);function gE(e,t,s){return r=>r<e?0:r>t?1:s(dd(e,t,r))}function Uj(e,t){e.min=t.min,e.max=t.max}function $r(e,t){Uj(e.x,t.x),Uj(e.y,t.y)}function Hj(e,t,s,r,a){return e-=t,e=Hf(e,1/s,r),a!==void 0&&(e=Hf(e,1/a,r)),e}function n7(e,t=0,s=1,r=.5,a,o=e,i=e){if(In.test(t)&&(t=parseFloat(t),t=ts(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=ts(o.min,o.max,r);e===o&&(l-=t),e.min=Hj(e.min,t,s,l,a),e.max=Hj(e.max,t,s,l,a)}function Wj(e,t,[s,r,a],o,i){n7(e,t[s],t[r],t[a],t.scale,o,i)}const a7=["x","scaleX","originX"],o7=["y","scaleY","originY"];function qj(e,t,s,r){Wj(e.x,t,a7,s?s.x:void 0,r?r.x:void 0),Wj(e.y,t,o7,s?s.y:void 0,r?r.y:void 0)}function Gj(e){return e.translate===0&&e.scale===1}function xE(e){return Gj(e.x)&&Gj(e.y)}function i7(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function vE(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Yj(e){return Ar(e.x)/Ar(e.y)}class l7{constructor(){this.members=[]}add(t){z0(this.members,t),t.scheduleRender()}remove(t){if(U0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(a=>t===a);if(s===0)return!1;let r;for(let a=s;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Kj(e,t,s){let r="";const a=e.x.translate/t.x,o=e.y.translate/t.y;if((a||o)&&(r=`translate3d(${a}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{rotate:c,rotateX:d,rotateY:u}=s;c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),u&&(r+=`rotateY(${u}deg) `)}const i=e.x.scale*t.x,l=e.y.scale*t.y;return(i!==1||l!==1)&&(r+=`scale(${i}, ${l})`),r||"none"}const c7=(e,t)=>e.depth-t.depth;class d7{constructor(){this.children=[],this.isDirty=!1}add(t){z0(this.children,t),this.isDirty=!0}remove(t){U0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(c7),this.isDirty=!1,this.children.forEach(t)}}function u7(e,t){const s=performance.now(),r=({timestamp:a})=>{const o=a-s;o>=t&&(ma(r),e(o-t))};return Tt.read(r,!0),()=>ma(r)}function f7(e){window.MotionDebug&&window.MotionDebug.record(e)}function h7(e){return e instanceof SVGElement&&e.tagName!=="svg"}function m7(e,t,s){const r=br(e)?e:xl(e);return r.start(B0("",r,t,s)),r.animation}const Xj=["","X","Y","Z"],p7={visibility:"hidden"},Qj=1e3;let g7=0;const Eo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function yE({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(i={},l=t==null?void 0:t()){this.id=g7++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Eo.totalNodes=Eo.resolvedTargetDeltas=Eo.recalculatedProjection=0,this.nodes.forEach(y7),this.nodes.forEach(_7),this.nodes.forEach(S7),this.nodes.forEach(w7),f7(Eo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new d7)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new H0),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=h7(i),this.instance=i;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let h;const m=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=u7(m,250),Ku.hasAnimatedSinceResize&&(Ku.hasAnimatedSinceResize=!1,this.nodes.forEach(Zj))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||T7,{onLayoutAnimationStart:w,onLayoutAnimationComplete:b}=u.getProps(),v=!this.targetLayout||!vE(this.targetLayout,x)||p,y=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||m&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const j={...V0(g,"layout"),onPlay:w,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else m||Zj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ma(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(C7),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Jj);return}this.isUpdating||this.nodes.forEach(j7),this.isUpdating=!1,this.nodes.forEach(N7),this.nodes.forEach(x7),this.nodes.forEach(v7),this.clearAllSnapshots();const l=performance.now();Gs.delta=oo(0,1e3/60,l-Gs.timestamp),Gs.timestamp=l,Gs.isProcessing=!0,pp.update.process(Gs),pp.preRender.process(Gs),pp.render.process(Gs),Gs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(b7),this.sharedNodes.forEach(k7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:s(this.instance)})}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!xE(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;i&&(l||ko(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),A7(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return bs();const l=i.measureViewportBox(),{scroll:c}=this.root;return c&&(Pa(l.x,c.offset.x),Pa(l.y,c.offset.y)),l}removeElementScroll(i){const l=bs();$r(l,i);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:h}=d;if(d!==this.root&&u&&h.layoutScroll){if(u.isRoot){$r(l,i);const{scroll:m}=this.root;m&&(Pa(l.x,-m.offset.x),Pa(l.y,-m.offset.y))}Pa(l.x,u.offset.x),Pa(l.y,u.offset.y)}}return l}applyTransform(i,l=!1){const c=bs();$r(c,i);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ui(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ko(u.latestValues)&&Ui(c,u.latestValues)}return ko(this.latestValues)&&Ui(c,this.latestValues),c}removeTransform(i){const l=bs();$r(l,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!ko(d.latestValues))continue;bx(d.latestValues)&&d.updateSnapshot();const u=bs(),h=d.measurePageBox();$r(u,h),qj(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return ko(this.latestValues)&&qj(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(i||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=Gs.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bs(),this.relativeTargetOrigin=bs(),Mc(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),$r(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=bs(),this.targetWithTransforms=bs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),MU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$r(this.target,this.layout.layoutBox),uE(this.target,this.targetDelta)):$r(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bs(),this.relativeTargetOrigin=bs(),Mc(this.relativeTargetOrigin,this.target,p.target),$r(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Eo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||bx(this.parent.latestValues)||dE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Gs.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;$r(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;BU(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:x}=l;if(!x){this.projectionTransform&&(this.projectionDelta=zi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=zi(),this.projectionDeltaWithTransform=zi());const g=this.projectionTransform;Ac(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=Kj(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==m||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Eo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=zi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=bs(),p=c?c.source:void 0,x=this.layout?this.layout.source:void 0,g=p!==x,w=this.getStack(),b=!w||w.members.length<=1,v=!!(g&&!b&&this.options.crossfade===!0&&!this.path.some(P7));this.animationProgress=0;let y;this.mixTargetDelta=j=>{const _=j/1e3;e1(h.x,i.x,_),e1(h.y,i.y,_),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mc(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),E7(this.relativeTarget,this.relativeTargetOrigin,m,_),y&&i7(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=bs()),$r(y,this.relativeTarget)),g&&(this.animationValues=u,t7(u,d,this.latestValues,_,v,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ma(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tt.update(()=>{Ku.hasAnimatedSinceResize=!0,this.currentAnimation=m7(0,Qj,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Qj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=i;if(!(!l||!c||!d)){if(this!==i&&this.layout&&d&&wE(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||bs();const h=Ar(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+h;const m=Ar(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+m}$r(l,c),Ui(l,u),Ac(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new l7),this.sharedNodes.get(i).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:l}=this.options;return l?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:l}=this.options;return l?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let u=0;u<Xj.length;u++){const h="rotate"+Xj[u];c[h]&&(d[h]=c[h],i.setStaticValue(h,0))}i.render();for(const u in d)i.setStaticValue(u,d[u]);i.scheduleRender()}getProjectionStyles(i){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return p7;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Yu(i==null?void 0:i.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Yu(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!ko(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=Kj(this.projectionDeltaWithTransform,this.treeScale,m),u&&(d.transform=u(m,d.transform));const{x:p,y:x}=this.projectionDelta;d.transformOrigin=`${p.origin*100}% ${x.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const g in Lf){if(m[g]===void 0)continue;const{correct:w,applyTo:b}=Lf[g],v=d.transform==="none"?m[g]:w(m[g],h);if(b){const y=b.length;for(let j=0;j<y;j++)d[b[j]]=v}else d[g]=v}return this.options.layoutId&&(d.pointerEvents=h===this?Yu(i==null?void 0:i.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Jj),this.root.sharedNodes.clear()}}}function x7(e){e.updateLayout()}function v7(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:o}=e.options,i=s.source!==e.layout.source;o==="size"?Fr(h=>{const m=i?s.measuredBox[h]:s.layoutBox[h],p=Ar(m);m.min=r[h].min,m.max=m.min+p}):wE(o,s.layoutBox,r)&&Fr(h=>{const m=i?s.measuredBox[h]:s.layoutBox[h],p=Ar(r[h]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=zi();Ac(l,r,s.layoutBox);const c=zi();i?Ac(c,e.applyTransform(a,!0),s.measuredBox):Ac(c,r,s.layoutBox);const d=!xE(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:p}=h;if(m&&p){const x=bs();Mc(x,s.layoutBox,m.layoutBox);const g=bs();Mc(g,r,p.layoutBox),vE(x,g)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function y7(e){Eo.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function w7(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function b7(e){e.clearSnapshot()}function Jj(e){e.clearMeasurements()}function j7(e){e.isLayoutDirty=!1}function N7(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Zj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function _7(e){e.resolveTargetDelta()}function S7(e){e.calcProjection()}function C7(e){e.resetRotation()}function k7(e){e.removeLeadSnapshot()}function e1(e,t,s){e.translate=ts(t.translate,0,s),e.scale=ts(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function t1(e,t,s,r){e.min=ts(t.min,s.min,r),e.max=ts(t.max,s.max,r)}function E7(e,t,s,r){t1(e.x,t.x,s.x,r),t1(e.y,t.y,s.y,r)}function P7(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const T7={duration:.45,ease:[.4,0,.1,1]},s1=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),r1=s1("applewebkit/")&&!s1("chrome/")?Math.round:cs;function n1(e){e.min=r1(e.min),e.max=r1(e.max)}function A7(e){n1(e.x),n1(e.y)}function wE(e,t,s){return e==="position"||e==="preserve-aspect"&&!yx(Yj(t),Yj(s),.2)}const M7=yE({attachResizeListener:(e,t)=>ra(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cp={current:void 0},bE=yE({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Cp.current){const e=new M7({});e.mount(window),e.setOptions({layoutScroll:!0}),Cp.current=e}return Cp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),R7={pan:{Feature:KU},drag:{Feature:YU,ProjectionNode:bE,MeasureLayout:mE}},O7=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function D7(e){const t=O7.exec(e);if(!t)return[,];const[,s,r]=t;return[s,r]}function Nx(e,t,s=1){const[r,a]=D7(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const i=o.trim();return rE(i)?parseFloat(i):i}else return fx(a)?Nx(a,t,s+1):a}function I7(e,{...t},s){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:s};s&&(s={...s}),e.values.forEach(a=>{const o=a.get();if(!fx(o))return;const i=Nx(o,r);i&&a.set(i)});for(const a in t){const o=t[a];if(!fx(o))continue;const i=Nx(o,r);i&&(t[a]=i,s||(s={}),s[a]===void 0&&(s[a]=o))}return{target:t,transitionEnd:s}}const L7=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),jE=e=>L7.has(e),$7=e=>Object.keys(e).some(jE),a1=e=>e===di||e===Ge,o1=(e,t)=>parseFloat(e.split(", ")[t]),i1=(e,t)=>(s,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/);if(a)return o1(a[1],t);{const o=r.match(/^matrix\((.+)\)$/);return o?o1(o[1],e):0}},F7=new Set(["x","y","z"]),V7=Ed.filter(e=>!F7.has(e));function B7(e){const t=[];return V7.forEach(s=>{const r=e.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t.length&&e.render(),t}const vl={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:i1(4,13),y:i1(5,14)};vl.translateX=vl.x;vl.translateY=vl.y;const z7=(e,t,s)=>{const r=t.measureViewportBox(),a=t.current,o=getComputedStyle(a),{display:i}=o,l={};i==="none"&&t.setStaticValue("display",e.display||"block"),s.forEach(d=>{l[d]=vl[d](r,o)}),t.render();const c=t.measureViewportBox();return s.forEach(d=>{const u=t.getValue(d);u&&u.jump(l[d]),e[d]=vl[d](c,o)}),e},U7=(e,t,s={},r={})=>{t={...t},r={...r};const a=Object.keys(t).filter(jE);let o=[],i=!1;const l=[];if(a.forEach(c=>{const d=e.getValue(c);if(!e.hasValue(c))return;let u=s[c],h=rc(u);const m=t[c];let p;if(Ff(m)){const x=m.length,g=m[0]===null?1:0;u=m[g],h=rc(u);for(let w=g;w<x&&m[w]!==null;w++)p?D0(rc(m[w])===p):p=rc(m[w])}else p=rc(m);if(h!==p)if(a1(h)&&a1(p)){const x=d.get();typeof x=="string"&&d.set(parseFloat(x)),typeof m=="string"?t[c]=parseFloat(m):Array.isArray(m)&&p===Ge&&(t[c]=m.map(parseFloat))}else h!=null&&h.transform&&(p!=null&&p.transform)&&(u===0||m===0)?u===0?d.set(p.transform(u)):t[c]=h.transform(m):(i||(o=B7(e),i=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],d.jump(m))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=z7(t,e,l);return o.length&&o.forEach(([u,h])=>{e.getValue(u).set(h)}),e.render(),Kh&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:r}}else return{target:t,transitionEnd:r}};function H7(e,t,s,r){return $7(t)?U7(e,t,s,r):{target:t,transitionEnd:r}}const W7=(e,t,s,r)=>{const a=I7(e,t,r);return t=a.target,r=a.transitionEnd,H7(e,t,s,r)},_x={current:null},NE={current:!1};function q7(){if(NE.current=!0,!!Kh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>_x.current=e.matches;e.addListener(t),t()}else _x.current=!1}function G7(e,t,s){const{willChange:r}=t;for(const a in t){const o=t[a],i=s[a];if(br(o))e.addValue(a,o),Uf(r)&&r.add(a);else if(br(i))e.addValue(a,xl(o,{owner:e})),Uf(r)&&r.remove(a);else if(i!==o)if(e.hasValue(a)){const l=e.getValue(a);!l.hasAnimated&&l.set(o)}else{const l=e.getStaticValue(a);e.addValue(a,xl(l!==void 0?l:o,{owner:e}))}}for(const a in s)t[a]===void 0&&e.removeValue(a);return t}const l1=new WeakMap,_E=Object.keys(cd),Y7=_E.length,c1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],K7=C0.length;class X7{constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:a,visualState:o},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Tt.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=s.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=i,this.isControllingVariants=Qh(s),this.isVariantNode=lk(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(s,{});for(const h in u){const m=u[h];l[h]!==void 0&&br(m)&&(m.set(l[h],!1),Uf(d)&&d.add(h))}}scrapeMotionValuesFromProps(t,s){return{}}mount(t){this.current=t,l1.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),NE.current||q7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_x.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){l1.delete(this.current),this.projection&&this.projection.unmount(),ma(this.notifyUpdate),ma(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,s){const r=ci.has(t),a=s.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&Tt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=s.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...s},r,a,o){let i,l;for(let c=0;c<Y7;c++){const d=_E[c],{isEnabled:u,Feature:h,ProjectionNode:m,MeasureLayout:p}=cd[d];m&&(i=m),u(s)&&(!this.features[d]&&h&&(this.features[d]=new h(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:u,dragConstraints:h,layoutScroll:m,layoutRoot:p}=s;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!u||h&&Vi(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:o,layoutScroll:m,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bs()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}makeTargetAnimatable(t,s=!0){return this.makeTargetAnimatableFromInstance(t,this.props,s)}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<c1.length;r++){const a=c1[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o=t["on"+a];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=G7(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const s={};for(let r=0;r<K7;r++){const a=C0[r],o=this.props[a];(ld(o)||o===!1)&&(s[a]=o)}return s}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){s!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,s)),this.values.set(t,s),this.latestValues[t]=s.get()}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=xl(s,{owner:this}),this.addValue(t,r)),r}readValue(t){var s;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:r}=this.props,a=typeof r=="string"||typeof r=="object"?(s=O0(this.props,r))===null||s===void 0?void 0:s[t]:void 0;if(r&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!br(o)?o:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new H0),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class SE extends X7{sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:s,...r},{transformValues:a},o){let i=hU(r,t||{},this);if(a&&(s&&(s=a(s)),r&&(r=a(r)),i&&(i=a(i))),o){uU(this,r,i);const l=W7(this,r,i,s);s=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:s,...r}}}function Q7(e){return window.getComputedStyle(e)}class J7 extends SE{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,s){if(ci.has(s)){const r=F0(s);return r&&r.default||0}else{const r=Q7(t),a=(fk(s)?r.getPropertyValue(s):r[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:s}){return fE(t,s)}build(t,s,r,a){P0(t,s,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,s){return R0(t,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;br(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}renderInstance(t,s,r,a){vk(t,s,r,a)}}class Z7 extends SE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(ci.has(s)){const r=F0(s);return r&&r.default||0}return s=yk.has(s)?s:_0(s),t.getAttribute(s)}measureInstanceViewportBox(){return bs()}scrapeMotionValuesFromProps(t,s){return bk(t,s)}build(t,s,r,a){A0(t,s,r,this.isSVGTag,a.transformTemplate)}renderInstance(t,s,r,a){wk(t,s,r,a)}mount(t){this.isSVGTag=M0(t.tagName),super.mount(t)}}const eH=(e,t)=>E0(e)?new Z7(t,{enableHardwareAcceleration:!1}):new J7(t,{enableHardwareAcceleration:!0}),tH={layout:{ProjectionNode:bE,MeasureLayout:mE}},sH={...EU,...YB,...R7,...tH},Qe=rB((e,t)=>DB(e,t,sH,eH));function CE(){const e=f.useRef(!1);return N0(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function rH(){const e=CE(),[t,s]=f.useState(0),r=f.useCallback(()=>{e.current&&s(t+1)},[t]);return[f.useCallback(()=>Tt.postRender(r),[r]),t]}class nH extends f.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=s.offsetHeight||0,r.width=s.offsetWidth||0,r.top=s.offsetTop,r.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function aH({children:e,isPresent:t}){const s=f.useId(),r=f.useRef(null),a=f.useRef({width:0,height:0,top:0,left:0});return f.useInsertionEffect(()=>{const{width:o,height:i,top:l,left:c}=a.current;if(t||!r.current||!o||!i)return;r.current.dataset.motionPopId=s;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${i}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),f.createElement(nH,{isPresent:t,childRef:r,sizeRef:a},f.cloneElement(e,{ref:r}))}const kp=({children:e,initial:t,isPresent:s,onExitComplete:r,custom:a,presenceAffectsLayout:o,mode:i})=>{const l=jk(oH),c=f.useId(),d=f.useMemo(()=>({id:c,initial:t,isPresent:s,custom:a,onExitComplete:u=>{l.set(u,!0);for(const h of l.values())if(!h)return;r&&r()},register:u=>(l.set(u,!1),()=>l.delete(u))}),o?void 0:[s]);return f.useMemo(()=>{l.forEach((u,h)=>l.set(h,!1))},[s]),f.useEffect(()=>{!s&&!l.size&&r&&r()},[s]),i==="popLayout"&&(e=f.createElement(aH,{isPresent:s},e)),f.createElement(Yh.Provider,{value:d},e)};function oH(){return new Map}function iH(e){return f.useEffect(()=>()=>e(),[])}const Po=e=>e.key||"";function lH(e,t){e.forEach(s=>{const r=Po(s);t.set(r,s)})}function cH(e){const t=[];return f.Children.forEach(e,s=>{f.isValidElement(s)&&t.push(s)}),t}const W0=({children:e,custom:t,initial:s=!0,onExitComplete:r,exitBeforeEnter:a,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const l=f.useContext(k0).forceRender||rH()[0],c=CE(),d=cH(e);let u=d;const h=f.useRef(new Map).current,m=f.useRef(u),p=f.useRef(new Map).current,x=f.useRef(!0);if(N0(()=>{x.current=!1,lH(d,p),m.current=u}),iH(()=>{x.current=!0,p.clear(),h.clear()}),x.current)return f.createElement(f.Fragment,null,u.map(v=>f.createElement(kp,{key:Po(v),isPresent:!0,initial:s?void 0:!1,presenceAffectsLayout:o,mode:i},v)));u=[...u];const g=m.current.map(Po),w=d.map(Po),b=g.length;for(let v=0;v<b;v++){const y=g[v];w.indexOf(y)===-1&&!h.has(y)&&h.set(y,void 0)}return i==="wait"&&h.size&&(u=[]),h.forEach((v,y)=>{if(w.indexOf(y)!==-1)return;const j=p.get(y);if(!j)return;const _=g.indexOf(y);let C=v;if(!C){const N=()=>{h.delete(y);const S=Array.from(p.keys()).filter(M=>!w.includes(M));if(S.forEach(M=>p.delete(M)),m.current=d.filter(M=>{const $=Po(M);return $===y||S.includes($)}),!h.size){if(c.current===!1)return;l(),r&&r()}};C=f.createElement(kp,{key:Po(j),isPresent:!1,onExitComplete:N,custom:t,presenceAffectsLayout:o,mode:i},j),h.set(y,C)}u.splice(_,0,C)}),u=u.map(v=>{const y=v.key;return h.has(y)?v:f.createElement(kp,{key:Po(v),isPresent:!0,presenceAffectsLayout:o,mode:i},v)}),f.createElement(f.Fragment,null,h.size?u:u.map(v=>f.cloneElement(v)))},dH="America/Sao_Paulo",q0=()=>{const e=new Date,s=new Intl.DateTimeFormat("pt-BR",{timeZone:dH,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",hour12:!1}).formatToParts(e),r=p=>{var x;return((x=s.find(g=>g.type===p))==null?void 0:x.value)||""},a=parseInt(r("year"),10),o=parseInt(r("month"),10)-1,i=parseInt(r("day"),10),l=parseInt(r("hour"),10),c=parseInt(r("minute"),10),d=parseInt(r("second"),10),u=r("weekday").toLowerCase(),m={dom:0,"dom.":0,seg:1,"seg.":1,ter:2,"ter.":2,qua:3,"qua.":3,qui:4,"qui.":4,sex:5,"sex.":5,sb:6,"sb.":6,sab:6,"sab.":6}[u]??new Date(a,o,i).getDay();return{year:a,month:o,day:i,hours:l,minutes:c,seconds:d,dayOfWeek:m}},dt=()=>{const{year:e,month:t,day:s,hours:r,minutes:a,seconds:o}=q0();return new Date(e,t,s,r,a,o)},kE=()=>{const{year:e,month:t,day:s}=q0();return`${e}-${String(t+1).padStart(2,"0")}-${String(s).padStart(2,"0")}`},uH=e=>{if(!e)return!1;const t=kE();return typeof e=="string"?e.substring(0,10)===t:`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`===t},d1=()=>{const{hours:e,minutes:t}=q0();return`${String(e).padStart(2,"0")}:${String(t).padStart(2,"0")}`};function u1(e){const t=fH(e),s=f.forwardRef((r,a)=>{const{children:o,...i}=r,l=f.Children.toArray(o),c=l.find(mH);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return n.jsx(t,{...i,ref:a,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}function fH(e){const t=f.forwardRef((s,r)=>{const{children:a,...o}=s;if(f.isValidElement(a)){const i=gH(a),l=pH(o,a.props);return a.type!==f.Fragment&&(l.ref=r?ar(r,i):i),f.cloneElement(a,l)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hH=Symbol("radix.slottable");function mH(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hH}function pH(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function gH(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function tm(e){const t=e+"CollectionProvider",[s,r]=Dr(t),[a,o]=s(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:w,children:b}=g,v=Kt.useRef(null),y=Kt.useRef(new Map).current;return n.jsx(a,{scope:w,itemMap:y,collectionRef:v,children:b})};i.displayName=t;const l=e+"CollectionSlot",c=u1(l),d=Kt.forwardRef((g,w)=>{const{scope:b,children:v}=g,y=o(l,b),j=at(w,y.collectionRef);return n.jsx(c,{ref:j,children:v})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",m=u1(u),p=Kt.forwardRef((g,w)=>{const{scope:b,children:v,...y}=g,j=Kt.useRef(null),_=at(w,j),C=o(u,b);return Kt.useEffect(()=>(C.itemMap.set(j,{ref:j,...y}),()=>void C.itemMap.delete(j))),n.jsx(m,{[h]:"",ref:_,children:v})});p.displayName=u;function x(g){const w=o(e+"CollectionConsumer",g);return Kt.useCallback(()=>{const v=w.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((C,N)=>y.indexOf(C.ref.current)-y.indexOf(N.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:d,ItemSlot:p},x,r]}var xH=f.createContext(void 0);function Md(e){const t=f.useContext(xH);return e||t||"ltr"}var Ep="rovingFocusGroup.onEntryFocus",vH={bubbles:!1,cancelable:!0},Rd="RovingFocusGroup",[Sx,EE,yH]=tm(Rd),[wH,sm]=Dr(Rd,[yH]),[bH,jH]=wH(Rd),PE=f.forwardRef((e,t)=>n.jsx(Sx.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Sx.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(NH,{...e,ref:t})})}));PE.displayName=Rd;var NH=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,m=f.useRef(null),p=at(t,m),x=Md(o),[g,w]=$n({prop:i,defaultProp:l??null,onChange:c,caller:Rd}),[b,v]=f.useState(!1),y=ls(d),j=EE(s),_=f.useRef(!1),[C,N]=f.useState(0);return f.useEffect(()=>{const S=m.current;if(S)return S.addEventListener(Ep,y),()=>S.removeEventListener(Ep,y)},[y]),n.jsx(bH,{scope:s,orientation:r,dir:x,loop:a,currentTabStopId:g,onItemFocus:f.useCallback(S=>w(S),[w]),onItemShiftTab:f.useCallback(()=>v(!0),[]),onFocusableItemAdd:f.useCallback(()=>N(S=>S+1),[]),onFocusableItemRemove:f.useCallback(()=>N(S=>S-1),[]),children:n.jsx(Re.div,{tabIndex:b||C===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:ve(e.onMouseDown,()=>{_.current=!0}),onFocus:ve(e.onFocus,S=>{const M=!_.current;if(S.target===S.currentTarget&&M&&!b){const $=new CustomEvent(Ep,vH);if(S.currentTarget.dispatchEvent($),!$.defaultPrevented){const W=j().filter(A=>A.focusable),R=W.find(A=>A.active),Y=W.find(A=>A.id===g),P=[R,Y,...W].filter(Boolean).map(A=>A.ref.current);ME(P,u)}}_.current=!1}),onBlur:ve(e.onBlur,()=>v(!1))})})}),TE="RovingFocusGroupItem",AE=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:a=!1,tabStopId:o,children:i,...l}=e,c=Vs(),d=o||c,u=jH(TE,s),h=u.currentTabStopId===d,m=EE(s),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:g}=u;return f.useEffect(()=>{if(r)return p(),()=>x()},[r,p,x]),n.jsx(Sx.ItemSlot,{scope:s,id:d,focusable:r,active:a,children:n.jsx(Re.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:ve(e.onMouseDown,w=>{r?u.onItemFocus(d):w.preventDefault()}),onFocus:ve(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:ve(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const b=CH(w,u.orientation,u.dir);if(b!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let y=m().filter(j=>j.focusable).map(j=>j.ref.current);if(b==="last")y.reverse();else if(b==="prev"||b==="next"){b==="prev"&&y.reverse();const j=y.indexOf(w.currentTarget);y=u.loop?kH(y,j+1):y.slice(j+1)}setTimeout(()=>ME(y))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:g!=null}):i})})});AE.displayName=TE;var _H={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function SH(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function CH(e,t,s){const r=SH(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return _H[r]}function ME(e,t=!1){const s=document.activeElement;for(const r of e)if(r===s||(r.focus({preventScroll:t}),document.activeElement!==s))return}function kH(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var RE=PE,OE=AE,rm="Tabs",[EH,QX]=Dr(rm,[sm]),DE=sm(),[PH,G0]=EH(rm),IE=f.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,onValueChange:a,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Md(l),[h,m]=$n({prop:r,onChange:a,defaultProp:o??"",caller:rm});return n.jsx(PH,{scope:s,baseId:Vs(),value:h,onValueChange:m,orientation:i,dir:u,activationMode:c,children:n.jsx(Re.div,{dir:u,"data-orientation":i,...d,ref:t})})});IE.displayName=rm;var LE="TabsList",$E=f.forwardRef((e,t)=>{const{__scopeTabs:s,loop:r=!0,...a}=e,o=G0(LE,s),i=DE(s);return n.jsx(RE,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:n.jsx(Re.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});$E.displayName=LE;var FE="TabsTrigger",VE=f.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,disabled:a=!1,...o}=e,i=G0(FE,s),l=DE(s),c=UE(i.baseId,r),d=HE(i.baseId,r),u=r===i.value;return n.jsx(OE,{asChild:!0,...l,focusable:!a,active:u,children:n.jsx(Re.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...o,ref:t,onMouseDown:ve(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?i.onValueChange(r):h.preventDefault()}),onKeyDown:ve(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(r)}),onFocus:ve(e.onFocus,()=>{const h=i.activationMode!=="manual";!u&&!a&&h&&i.onValueChange(r)})})})});VE.displayName=FE;var BE="TabsContent",zE=f.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,forceMount:a,children:o,...i}=e,l=G0(BE,s),c=UE(l.baseId,r),d=HE(l.baseId,r),u=r===l.value,h=f.useRef(u);return f.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),n.jsx(Us,{present:a||u,children:({present:m})=>n.jsx(Re.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&o})})});zE.displayName=BE;function UE(e,t){return`${e}-trigger-${t}`}function HE(e,t){return`${e}-content-${t}`}var TH=IE,WE=$E,qE=VE,GE=zE;const tl=TH,yl=f.forwardRef(({className:e,...t},s)=>n.jsx(WE,{ref:s,className:ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));yl.displayName=WE.displayName;const zr=f.forwardRef(({className:e,...t},s)=>n.jsx(qE,{ref:s,className:ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));zr.displayName=qE.displayName;const Ms=f.forwardRef(({className:e,...t},s)=>n.jsx(GE,{ref:s,className:ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ms.displayName=GE.displayName;const xn=f.forwardRef(({className:e,...t},s)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:s,className:ee("w-full caption-bottom text-sm",e),...t})}));xn.displayName="Table";const vn=f.forwardRef(({className:e,...t},s)=>n.jsx("thead",{ref:s,className:ee("[&_tr]:border-b",e),...t}));vn.displayName="TableHeader";const yn=f.forwardRef(({className:e,...t},s)=>n.jsx("tbody",{ref:s,className:ee("[&_tr:last-child]:border-0",e),...t}));yn.displayName="TableBody";const AH=f.forwardRef(({className:e,...t},s)=>n.jsx("tfoot",{ref:s,className:ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));AH.displayName="TableFooter";const ct=f.forwardRef(({className:e,...t},s)=>n.jsx("tr",{ref:s,className:ee("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));ct.displayName="TableRow";const Pe=f.forwardRef(({className:e,...t},s)=>n.jsx("th",{ref:s,className:ee("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Pe.displayName="TableHead";const xe=f.forwardRef(({className:e,...t},s)=>n.jsx("td",{ref:s,className:ee("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));xe.displayName="TableCell";const MH=f.forwardRef(({className:e,...t},s)=>n.jsx("caption",{ref:s,className:ee("mt-4 text-sm text-muted-foreground",e),...t}));MH.displayName="TableCaption";const RH=Nd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",warning:"border-transparent bg-orange-500 text-white hover:bg-orange-500/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ge({className:e,variant:t,...s}){return n.jsx("div",{className:ee(RH({variant:t}),e),...s})}const OH=Nd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Vn=f.forwardRef(({className:e,variant:t,...s},r)=>n.jsx("div",{ref:r,role:"alert",className:ee(OH({variant:t}),e),...s}));Vn.displayName="Alert";const pa=f.forwardRef(({className:e,...t},s)=>n.jsx("h5",{ref:s,className:ee("mb-1 font-medium leading-none tracking-tight",e),...t}));pa.displayName="AlertTitle";const Bn=f.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:ee("text-sm [&_p]:leading-relaxed",e),...t}));Bn.displayName="AlertDescription";const DH=()=>{const{user:e}=Or(),[t,s]=f.useState([]),[r,a]=f.useState(!1);f.useEffect(()=>{if(!(e!=null&&e.id))return;const c=async()=>{const{data:u}=await I.from("student_messages").select("*").eq("student_id",e.id).eq("is_read",!1).order("created_at",{ascending:!1}).limit(5);s(u||[])};c();const d=I.channel("student-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"student_messages",filter:`student_id=eq.${e.id}`},()=>{c()}).subscribe();return()=>{I.removeChannel(d)}},[e==null?void 0:e.id]);const o=async c=>{await I.from("student_messages").update({is_read:!0}).eq("id",c),s(t.filter(d=>d.id!==c))};if(t.length===0)return null;const i=c=>{switch(c){case"urgent":return"border-red-500 bg-red-50";case"important":return"border-yellow-500 bg-yellow-50";default:return"border-sky-500 bg-sky-50"}},l=c=>{switch(c){case"urgent":return n.jsx(ge,{variant:"destructive",children:"Urgente"});case"important":return n.jsx(ge,{className:"bg-yellow-500",children:"Importante"});default:return n.jsx(ge,{className:"bg-sky-500",children:"Normal"})}};return n.jsx(Qe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:n.jsxs("div",{className:"bg-white border-l-4 border-sky-500 rounded-lg shadow-sm p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qr,{className:"h-5 w-5 text-sky-600"}),n.jsxs("h3",{className:"font-bold text-lg",children:["Mensagens do Professor (",t.length,")"]})]}),n.jsx(K,{variant:"ghost",size:"sm",onClick:()=>a(!r),children:r?n.jsx(ii,{className:"h-4 w-4"}):n.jsx(Gr,{className:"h-4 w-4"})})]}),n.jsx(W0,{children:!r&&n.jsx(Qe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"space-y-3",children:t.map(c=>n.jsx(Vn,{className:i(c.priority),children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(pa,{className:"font-semibold text-base",children:c.title}),l(c.priority)]}),n.jsx(Bn,{className:"text-sm text-slate-700 whitespace-pre-wrap",children:c.message})]}),n.jsx(K,{variant:"ghost",size:"sm",onClick:()=>o(c.id),className:"shrink-0",children:n.jsx(Gr,{className:"h-4 w-4"})})]})},c.id))})})]})})};function YE(e,t={}){const[s,r]=f.useState([]),[a,o]=f.useState(!0),[i,l]=f.useState(0),c=f.useCallback(async()=>{if(!e){o(!1);return}let x=I.from("notifications").select("*").eq("user_id",e).order("created_at",{ascending:!1});t.status&&(Array.isArray(t.status)?x=x.in("status",t.status):x=x.eq("status",t.status)),t.type&&(Array.isArray(t.type)?x=x.in("type",t.type):x=x.eq("type",t.type)),t.limit&&(x=x.limit(t.limit));const{data:g,error:w}=await x;if(!w&&g){r(g);const b=g.filter(v=>v.status==="pending").length;l(b)}else w&&console.error("Error fetching notifications:",w);o(!1)},[e,JSON.stringify(t)]),d=async x=>{const{error:g}=await I.from("notifications").update({status:"read",read_at:new Date().toISOString()}).eq("id",x);return g||await c(),{error:g}},u=async x=>{const{error:g}=await I.from("notifications").update({status:"archived",resolved_at:new Date().toISOString()}).eq("id",x);return g||await c(),{error:g}},h=async(x,g)=>{const{data:w}=await I.from("notifications").select("*").eq("id",x).single();if(!w)return{error:"Notification not found"};const{error:b}=await I.from("notifications").update({status:g,resolved_at:new Date().toISOString()}).eq("id",x);return b?{error:b}:(await m(w,g),await c(),{error:null})},m=async(x,g)=>{if(!x.related_user_id)return;const{data:w}=await I.from("notifications").select("*").eq("type","schedule_request").eq("related_user_id",x.related_user_id).in("status",["pending","read"]);if(w&&w.length>0)for(const b of w)await I.from("notifications").update({status:g==="accepted"?"archived":"read",resolved_at:new Date().toISOString(),metadata:{...b.metadata,professor_response:g,responded_at:new Date().toISOString()}}).eq("id",b.id)},p=async()=>{const{error:x}=await I.from("notifications").update({status:"read",read_at:new Date().toISOString()}).eq("user_id",e).eq("status","pending");return x||await c(),{error:x}};return f.useEffect(()=>{c()},[c]),f.useEffect(()=>{if(!e)return;const x=I.channel("notifications_changes").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${e}`},g=>{c()}).subscribe();return()=>{x.unsubscribe()}},[e,c]),{notifications:s,loading:a,unreadCount:i,markAsRead:d,markAsArchived:u,respondToRequest:h,markAllAsRead:p,refresh:c}}function IH({userId:e}){var h,m,p,x;const{notifications:t,markAsArchived:s,loading:r}=YE(e,{type:"plan_expiring",status:"pending",limit:1});if(r||t.length===0)return null;const a=t[0],o=Math.floor(((h=a.metadata)==null?void 0:h.days_remaining)||0),i=(m=a.metadata)==null?void 0:m.end_date,l=(p=a.metadata)==null?void 0:p.billing_amount,c=(x=a.metadata)==null?void 0:x.billing_period,d=()=>o<=2?"destructive":(o<=5,"default"),u=()=>{s(a.id)};return n.jsx(Vn,{variant:d(),className:"mb-4 border-2",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[n.jsx(Xa,{className:"h-5 w-5 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(pa,{className:"text-lg font-semibold mb-2",children:" Seu Plano Est Acabando!"}),n.jsxs(Bn,{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-base",children:[n.jsx(is,{className:"h-4 w-4"}),n.jsxs("span",{children:["Faltam apenas ",n.jsxs("strong",{className:"text-lg",children:[o," ",o===1?"dia":"dias"]})," para o vencimento do seu plano"]})]}),n.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-3 rounded-md",children:[n.jsxs("p",{className:"text-sm",children:[n.jsx("strong",{children:"Plano atual:"})," ",l," aulas/",c]}),n.jsxs("p",{className:"text-sm",children:[n.jsx("strong",{children:"Data de vencimento:"})," ",new Date(i).toLocaleDateString("pt-BR")]})]}),n.jsx("p",{className:"text-sm mt-3",children:"Entre em contato com a administrao para renovar seu plano e continuar suas aulas sem interrupes."}),n.jsxs("div",{className:"mt-4 flex gap-2",children:[n.jsx(K,{size:"sm",onClick:u,className:"bg-blue-600 hover:bg-blue-700",children:"Entendi"}),n.jsx(K,{size:"sm",variant:"outline",onClick:u,children:"Fechar"})]})]})]})]}),n.jsx(K,{variant:"ghost",size:"icon",onClick:u,className:"h-6 w-6 rounded-full",children:n.jsx(Gr,{className:"h-4 w-4"})})]})})}function LH(e){const t=$H(e),s=f.forwardRef((r,a)=>{const{children:o,...i}=r,l=f.Children.toArray(o),c=l.find(VH);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return n.jsx(t,{...i,ref:a,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}function $H(e){const t=f.forwardRef((s,r)=>{const{children:a,...o}=s;if(f.isValidElement(a)){const i=zH(a),l=BH(o,a.props);return a.type!==f.Fragment&&(l.ref=r?ar(r,i):i),f.cloneElement(a,l)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var FH=Symbol("radix.slottable");function VH(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===FH}function BH(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function zH(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var nm="Dialog",[KE,JX]=Dr(nm),[UH,bn]=KE(nm),XE=e=>{const{__scopeDialog:t,children:s,open:r,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,l=f.useRef(null),c=f.useRef(null),[d,u]=$n({prop:r,defaultProp:a??!1,onChange:o,caller:nm});return n.jsx(UH,{scope:t,triggerRef:l,contentRef:c,contentId:Vs(),titleId:Vs(),descriptionId:Vs(),open:d,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(h=>!h),[u]),modal:i,children:s})};XE.displayName=nm;var QE="DialogTrigger",JE=f.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=bn(QE,s),o=at(t,a.triggerRef);return n.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":X0(a.open),...r,ref:o,onClick:ve(e.onClick,a.onOpenToggle)})});JE.displayName=QE;var Y0="DialogPortal",[HH,ZE]=KE(Y0,{forceMount:void 0}),e2=e=>{const{__scopeDialog:t,forceMount:s,children:r,container:a}=e,o=bn(Y0,t);return n.jsx(HH,{scope:t,forceMount:s,children:f.Children.map(r,i=>n.jsx(Us,{present:s||o.open,children:n.jsx(Il,{asChild:!0,container:a,children:i})}))})};e2.displayName=Y0;var Wf="DialogOverlay",t2=f.forwardRef((e,t)=>{const s=ZE(Wf,e.__scopeDialog),{forceMount:r=s.forceMount,...a}=e,o=bn(Wf,e.__scopeDialog);return o.modal?n.jsx(Us,{present:r||o.open,children:n.jsx(qH,{...a,ref:t})}):null});t2.displayName=Wf;var WH=LH("DialogOverlay.RemoveScroll"),qH=f.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=bn(Wf,s);return n.jsx(Bh,{as:WH,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(Re.div,{"data-state":X0(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Qo="DialogContent",s2=f.forwardRef((e,t)=>{const s=ZE(Qo,e.__scopeDialog),{forceMount:r=s.forceMount,...a}=e,o=bn(Qo,e.__scopeDialog);return n.jsx(Us,{present:r||o.open,children:o.modal?n.jsx(GH,{...a,ref:t}):n.jsx(YH,{...a,ref:t})})});s2.displayName=Qo;var GH=f.forwardRef((e,t)=>{const s=bn(Qo,e.__scopeDialog),r=f.useRef(null),a=at(t,s.contentRef,r);return f.useEffect(()=>{const o=r.current;if(o)return Fh(o)},[]),n.jsx(r2,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=s.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ve(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:ve(e.onFocusOutside,o=>o.preventDefault())})}),YH=f.forwardRef((e,t)=>{const s=bn(Qo,e.__scopeDialog),r=f.useRef(!1),a=f.useRef(!1);return n.jsx(r2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(l=s.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((d=s.triggerRef.current)==null?void 0:d.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),r2=f.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,l=bn(Qo,s),c=f.useRef(null),d=at(t,c);return Rh(),n.jsxs(n.Fragment,{children:[n.jsx(_d,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:n.jsx(Ml,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":X0(l.open),...i,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(KH,{titleId:l.titleId}),n.jsx(QH,{contentRef:c,descriptionId:l.descriptionId})]})]})}),K0="DialogTitle",n2=f.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=bn(K0,s);return n.jsx(Re.h2,{id:a.titleId,...r,ref:t})});n2.displayName=K0;var a2="DialogDescription",o2=f.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=bn(a2,s);return n.jsx(Re.p,{id:a.descriptionId,...r,ref:t})});o2.displayName=a2;var i2="DialogClose",l2=f.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=bn(i2,s);return n.jsx(Re.button,{type:"button",...r,ref:t,onClick:ve(e.onClick,()=>a.onOpenChange(!1))})});l2.displayName=i2;function X0(e){return e?"open":"closed"}var c2="DialogTitleWarning",[ZX,d2]=U3(c2,{contentName:Qo,titleName:K0,docsSlug:"dialog"}),KH=({titleId:e})=>{const t=d2(c2),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},XH="DialogDescriptionWarning",QH=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${d2(XH).contentName}}.`;return f.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},u2=XE,JH=JE,f2=e2,Q0=t2,J0=s2,h2=n2,m2=o2,ZH=l2;const Qt=u2,p2=JH,e9=f2,g2=f.forwardRef(({className:e,...t},s)=>n.jsx(Q0,{ref:s,className:ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));g2.displayName=Q0.displayName;const Vt=f.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(e9,{children:[n.jsx(g2,{}),n.jsxs(J0,{ref:r,className:ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,n.jsxs(ZH,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(Gr,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Vt.displayName=J0.displayName;const Bt=({className:e,...t})=>n.jsx("div",{className:ee("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Bt.displayName="DialogHeader";const Ds=({className:e,...t})=>n.jsx("div",{className:ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ds.displayName="DialogFooter";const zt=f.forwardRef(({className:e,...t},s)=>n.jsx(h2,{ref:s,className:ee("text-lg font-semibold leading-none tracking-tight",e),...t}));zt.displayName=h2.displayName;const ds=f.forwardRef(({className:e,...t},s)=>n.jsx(m2,{ref:s,className:ee("text-sm text-muted-foreground",e),...t}));ds.displayName=m2.displayName;var Xe=function(){return Xe=Object.assign||function(t){for(var s,r=1,a=arguments.length;r<a;r++){s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},Xe.apply(this,arguments)};function t9(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]]);return s}function x2(e,t,s){if(s||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Od(e){return e.mode==="multiple"}function Dd(e){return e.mode==="range"}function am(e){return e.mode==="single"}var s9={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function r9(e,t){return le(e,"LLLL y",t)}function n9(e,t){return le(e,"d",t)}function a9(e,t){return le(e,"LLLL",t)}function o9(e){return"".concat(e)}function i9(e,t){return le(e,"cccccc",t)}function l9(e,t){return le(e,"yyyy",t)}var c9=Object.freeze({__proto__:null,formatCaption:r9,formatDay:n9,formatMonthCaption:a9,formatWeekNumber:o9,formatWeekdayName:i9,formatYearCaption:l9}),d9=function(e,t,s){return le(e,"do MMMM (EEEE)",s)},u9=function(){return"Month: "},f9=function(){return"Go to next month"},h9=function(){return"Go to previous month"},m9=function(e,t){return le(e,"cccc",t)},p9=function(e){return"Week n. ".concat(e)},g9=function(){return"Year: "},x9=Object.freeze({__proto__:null,labelDay:d9,labelMonthDropdown:u9,labelNext:f9,labelPrevious:h9,labelWeekNumber:p9,labelWeekday:m9,labelYearDropdown:g9});function v9(){var e="buttons",t=s9,s=kd,r={},a={},o=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:c9,labels:x9,locale:s,modifiersClassNames:r,modifiers:a,numberOfMonths:o,styles:i,today:l,mode:"default"}}function y9(e){var t=e.fromYear,s=e.toYear,r=e.fromMonth,a=e.toMonth,o=e.fromDate,i=e.toDate;return r?o=yr(r):t&&(o=new Date(t,0,1)),a?i=Hh(a):s&&(i=new Date(s,11,31)),{fromDate:o?pl(o):void 0,toDate:i?pl(i):void 0}}var v2=f.createContext(void 0);function w9(e){var t,s=e.initialProps,r=v9(),a=y9(s),o=a.fromDate,i=a.toDate,l=(t=s.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var c;(am(s)||Od(s)||Dd(s))&&(c=s.onSelect);var d=Xe(Xe(Xe({},r),s),{captionLayout:l,classNames:Xe(Xe({},r.classNames),s.classNames),components:Xe({},s.components),formatters:Xe(Xe({},r.formatters),s.formatters),fromDate:o,labels:Xe(Xe({},r.labels),s.labels),mode:s.mode||r.mode,modifiers:Xe(Xe({},r.modifiers),s.modifiers),modifiersClassNames:Xe(Xe({},r.modifiersClassNames),s.modifiersClassNames),onSelect:c,styles:Xe(Xe({},r.styles),s.styles),toDate:i});return n.jsx(v2.Provider,{value:d,children:e.children})}function Rt(){var e=f.useContext(v2);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function y2(e){var t=Rt(),s=t.locale,r=t.classNames,a=t.styles,o=t.formatters.formatCaption;return n.jsx("div",{className:r.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:s})})}function b9(e){return n.jsx("svg",Xe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:n.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function w2(e){var t,s,r=e.onChange,a=e.value,o=e.children,i=e.caption,l=e.className,c=e.style,d=Rt(),u=(s=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&s!==void 0?s:b9;return n.jsxs("div",{className:l,style:c,children:[n.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),n.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:r,children:o}),n.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[i,n.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function j9(e){var t,s=Rt(),r=s.fromDate,a=s.toDate,o=s.styles,i=s.locale,l=s.formatters.formatMonthCaption,c=s.classNames,d=s.components,u=s.labels.labelMonthDropdown;if(!r)return n.jsx(n.Fragment,{});if(!a)return n.jsx(n.Fragment,{});var h=[];if(Q8(r,a))for(var m=yr(r),p=r.getMonth();p<=a.getMonth();p++)h.push(mp(m,p));else for(var m=yr(new Date),p=0;p<=11;p++)h.push(mp(m,p));var x=function(w){var b=Number(w.target.value),v=mp(yr(e.displayMonth),b);e.onChange(v)},g=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:w2;return n.jsx(g,{name:"months","aria-label":u(),className:c.dropdown_month,style:o.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:h.map(function(w){return n.jsx("option",{value:w.getMonth(),children:l(w,{locale:i})},w.getMonth())})})}function N9(e){var t,s=e.displayMonth,r=Rt(),a=r.fromDate,o=r.toDate,i=r.locale,l=r.styles,c=r.classNames,d=r.components,u=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,m=[];if(!a)return n.jsx(n.Fragment,{});if(!o)return n.jsx(n.Fragment,{});for(var p=a.getFullYear(),x=o.getFullYear(),g=p;g<=x;g++)m.push(rj(qC(new Date),g));var w=function(v){var y=rj(yr(s),Number(v.target.value));e.onChange(y)},b=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:w2;return n.jsx(b,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:w,value:s.getFullYear(),caption:u(s,{locale:i}),children:m.map(function(v){return n.jsx("option",{value:v.getFullYear(),children:u(v,{locale:i})},v.getFullYear())})})}function _9(e,t){var s=f.useState(e),r=s[0],a=s[1],o=t===void 0?r:t;return[o,a]}function S9(e){var t=e.month,s=e.defaultMonth,r=e.today,a=t||s||r||new Date,o=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(o&&gl(o,a)<0){var d=-1*(c-1);a=Bs(o,d)}return i&&gl(a,i)<0&&(a=i),yr(a)}function C9(){var e=Rt(),t=S9(e),s=_9(t,e.month),r=s[0],a=s[1],o=function(i){var l;if(!e.disableNavigation){var c=yr(i);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,o]}function k9(e,t){for(var s=t.reverseMonths,r=t.numberOfMonths,a=yr(e),o=yr(Bs(a,r)),i=gl(o,a),l=[],c=0;c<i;c++){var d=Bs(a,c);l.push(d)}return s&&(l=l.reverse()),l}function E9(e,t){if(!t.disableNavigation){var s=t.toDate,r=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=r?o:1,l=yr(e);if(!s)return Bs(l,i);var c=gl(s,e);if(!(c<o))return Bs(l,i)}}function P9(e,t){if(!t.disableNavigation){var s=t.fromDate,r=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=r?o:1,l=yr(e);if(!s)return Bs(l,-i);var c=gl(l,s);if(!(c<=0))return Bs(l,-i)}}var b2=f.createContext(void 0);function T9(e){var t=Rt(),s=C9(),r=s[0],a=s[1],o=k9(r,t),i=E9(r,t),l=P9(r,t),c=function(h){return o.some(function(m){return j0(h,m)})},d=function(h,m){c(h)||(m&&ZC(h,m)?a(Bs(h,1+t.numberOfMonths*-1)):a(h))},u={currentMonth:r,displayMonths:o,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:i,isDateDisplayed:c};return n.jsx(b2.Provider,{value:u,children:e.children})}function Id(){var e=f.useContext(b2);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function f1(e){var t,s=Rt(),r=s.classNames,a=s.styles,o=s.components,i=Id().goToMonth,l=function(u){i(Bs(u,e.displayIndex?-e.displayIndex:0))},c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:y2,d=n.jsx(c,{id:e.id,displayMonth:e.displayMonth});return n.jsxs("div",{className:r.caption_dropdowns,style:a.caption_dropdowns,children:[n.jsx("div",{className:r.vhidden,children:d}),n.jsx(j9,{onChange:l,displayMonth:e.displayMonth}),n.jsx(N9,{onChange:l,displayMonth:e.displayMonth})]})}function A9(e){return n.jsx("svg",Xe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function M9(e){return n.jsx("svg",Xe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var qf=f.forwardRef(function(e,t){var s=Rt(),r=s.classNames,a=s.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var i=o.join(" "),l=Xe(Xe({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),n.jsx("button",Xe({},e,{ref:t,type:"button",className:i,style:l}))});function R9(e){var t,s,r=Rt(),a=r.dir,o=r.locale,i=r.classNames,l=r.styles,c=r.labels,d=c.labelPrevious,u=c.labelNext,h=r.components;if(!e.nextMonth&&!e.previousMonth)return n.jsx(n.Fragment,{});var m=d(e.previousMonth,{locale:o}),p=[i.nav_button,i.nav_button_previous].join(" "),x=u(e.nextMonth,{locale:o}),g=[i.nav_button,i.nav_button_next].join(" "),w=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:M9,b=(s=h==null?void 0:h.IconLeft)!==null&&s!==void 0?s:A9;return n.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&n.jsx(qf,{name:"previous-month","aria-label":m,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?n.jsx(w,{className:i.nav_icon,style:l.nav_icon}):n.jsx(b,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&n.jsx(qf,{name:"next-month","aria-label":x,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?n.jsx(b,{className:i.nav_icon,style:l.nav_icon}):n.jsx(w,{className:i.nav_icon,style:l.nav_icon})})]})}function h1(e){var t=Rt().numberOfMonths,s=Id(),r=s.previousMonth,a=s.nextMonth,o=s.goToMonth,i=s.displayMonths,l=i.findIndex(function(x){return j0(e.displayMonth,x)}),c=l===0,d=l===i.length-1,u=t>1&&(c||!d),h=t>1&&(d||!c),m=function(){r&&o(r)},p=function(){a&&o(a)};return n.jsx(R9,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:h,nextMonth:a,previousMonth:r,onPreviousClick:m,onNextClick:p})}function O9(e){var t,s=Rt(),r=s.classNames,a=s.disableNavigation,o=s.styles,i=s.captionLayout,l=s.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:y2,d;return a?d=n.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?d=n.jsx(f1,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?d=n.jsxs(n.Fragment,{children:[n.jsx(f1,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),n.jsx(h1,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=n.jsxs(n.Fragment,{children:[n.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(h1,{displayMonth:e.displayMonth,id:e.id})]}),n.jsx("div",{className:r.caption,style:o.caption,children:d})}function D9(e){var t=Rt(),s=t.footer,r=t.styles,a=t.classNames.tfoot;return s?n.jsx("tfoot",{className:a,style:r.tfoot,children:n.jsx("tr",{children:n.jsx("td",{colSpan:8,children:s})})}):n.jsx(n.Fragment,{})}function I9(e,t,s){for(var r=s?ha(new Date):wr(new Date,{locale:e,weekStartsOn:t}),a=[],o=0;o<7;o++){var i=js(r,o);a.push(i)}return a}function L9(){var e=Rt(),t=e.classNames,s=e.styles,r=e.showWeekNumber,a=e.locale,o=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=I9(a,o,i);return n.jsxs("tr",{style:s.head_row,className:t.head_row,children:[r&&n.jsx("td",{style:s.head_cell,className:t.head_cell}),d.map(function(u,h){return n.jsx("th",{scope:"col",className:t.head_cell,style:s.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},h)})]})}function $9(){var e,t=Rt(),s=t.classNames,r=t.styles,a=t.components,o=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:L9;return n.jsx("thead",{style:r.head,className:s.head,children:n.jsx(o,{})})}function F9(e){var t=Rt(),s=t.locale,r=t.formatters.formatDay;return n.jsx(n.Fragment,{children:r(e.date,{locale:s})})}var Z0=f.createContext(void 0);function V9(e){if(!Od(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return n.jsx(Z0.Provider,{value:t,children:e.children})}return n.jsx(B9,{initialProps:e.initialProps,children:e.children})}function B9(e){var t=e.initialProps,s=e.children,r=t.selected,a=t.min,o=t.max,i=function(d,u,h){var m,p;(m=t.onDayClick)===null||m===void 0||m.call(t,d,u,h);var x=!!(u.selected&&a&&(r==null?void 0:r.length)===a);if(!x){var g=!!(!u.selected&&o&&(r==null?void 0:r.length)===o);if(!g){var w=r?x2([],r,!0):[];if(u.selected){var b=w.findIndex(function(v){return $s(d,v)});w.splice(b,1)}else w.push(d);(p=t.onSelect)===null||p===void 0||p.call(t,w,d,u,h)}}},l={disabled:[]};r&&l.disabled.push(function(d){var u=o&&r.length>o-1,h=r.some(function(m){return $s(m,d)});return!!(u&&!h)});var c={selected:r,onDayClick:i,modifiers:l};return n.jsx(Z0.Provider,{value:c,children:s})}function ey(){var e=f.useContext(Z0);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function z9(e,t){var s=t||{},r=s.from,a=s.to;return r&&a?$s(a,e)&&$s(r,e)?void 0:$s(a,e)?{from:a,to:void 0}:$s(r,e)?void 0:Df(r,e)?{from:e,to:a}:{from:r,to:e}:a?Df(e,a)?{from:a,to:e}:{from:e,to:a}:r?ZC(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var ty=f.createContext(void 0);function U9(e){if(!Dd(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return n.jsx(ty.Provider,{value:t,children:e.children})}return n.jsx(H9,{initialProps:e.initialProps,children:e.children})}function H9(e){var t=e.initialProps,s=e.children,r=t.selected,a=r||{},o=a.from,i=a.to,l=t.min,c=t.max,d=function(p,x,g){var w,b;(w=t.onDayClick)===null||w===void 0||w.call(t,p,x,g);var v=z9(p,r);(b=t.onSelect)===null||b===void 0||b.call(t,v,p,x,g)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(u.range_start=[o],i?(u.range_end=[i],$s(o,i)||(u.range_middle=[{after:o,before:i}])):u.range_end=[o]):i&&(u.range_start=[i],u.range_end=[i]),l&&(o&&!i&&u.disabled.push({after:fp(o,l-1),before:js(o,l-1)}),o&&i&&u.disabled.push({after:o,before:js(o,l-1)}),!o&&i&&u.disabled.push({after:fp(i,l-1),before:js(i,l-1)})),c){if(o&&!i&&(u.disabled.push({before:js(o,-c+1)}),u.disabled.push({after:js(o,c-1)})),o&&i){var h=un(i,o)+1,m=c-h;u.disabled.push({before:fp(o,m)}),u.disabled.push({after:js(i,m)})}!o&&i&&(u.disabled.push({before:js(i,-c+1)}),u.disabled.push({after:js(i,c-1)}))}return n.jsx(ty.Provider,{value:{selected:r,onDayClick:d,modifiers:u},children:s})}function sy(){var e=f.useContext(ty);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Xu(e){return Array.isArray(e)?x2([],e,!0):e!==void 0?[e]:[]}function W9(e){var t={};return Object.entries(e).forEach(function(s){var r=s[0],a=s[1];t[r]=Xu(a)}),t}var wn;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(wn||(wn={}));var q9=wn.Selected,Gn=wn.Disabled,G9=wn.Hidden,Y9=wn.Today,Pp=wn.RangeEnd,Tp=wn.RangeMiddle,Ap=wn.RangeStart,K9=wn.Outside;function X9(e,t,s){var r,a=(r={},r[q9]=Xu(e.selected),r[Gn]=Xu(e.disabled),r[G9]=Xu(e.hidden),r[Y9]=[e.today],r[Pp]=[],r[Tp]=[],r[Ap]=[],r[K9]=[],r);return e.fromDate&&a[Gn].push({before:e.fromDate}),e.toDate&&a[Gn].push({after:e.toDate}),Od(e)?a[Gn]=a[Gn].concat(t.modifiers[Gn]):Dd(e)&&(a[Gn]=a[Gn].concat(s.modifiers[Gn]),a[Ap]=s.modifiers[Ap],a[Tp]=s.modifiers[Tp],a[Pp]=s.modifiers[Pp]),a}var j2=f.createContext(void 0);function Q9(e){var t=Rt(),s=ey(),r=sy(),a=X9(t,s,r),o=W9(t.modifiers),i=Xe(Xe({},a),o);return n.jsx(j2.Provider,{value:i,children:e.children})}function N2(){var e=f.useContext(j2);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function J9(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Z9(e){return!!(e&&typeof e=="object"&&"from"in e)}function eW(e){return!!(e&&typeof e=="object"&&"after"in e)}function tW(e){return!!(e&&typeof e=="object"&&"before"in e)}function sW(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function rW(e,t){var s,r=t.from,a=t.to;if(r&&a){var o=un(a,r)<0;o&&(s=[a,r],r=s[0],a=s[1]);var i=un(e,r)>=0&&un(a,e)>=0;return i}return a?$s(a,e):r?$s(r,e):!1}function nW(e){return p0(e)}function aW(e){return Array.isArray(e)&&e.every(p0)}function oW(e,t){return t.some(function(s){if(typeof s=="boolean")return s;if(nW(s))return $s(e,s);if(aW(s))return s.includes(e);if(Z9(s))return rW(e,s);if(sW(s))return s.dayOfWeek.includes(e.getDay());if(J9(s)){var r=un(s.before,e),a=un(s.after,e),o=r>0,i=a<0,l=Df(s.before,s.after);return l?i&&o:o||i}return eW(s)?un(e,s.after)>0:tW(s)?un(s.before,e)>0:typeof s=="function"?s(e):!1})}function ry(e,t,s){var r=Object.keys(t).reduce(function(o,i){var l=t[i];return oW(e,l)&&o.push(i),o},[]),a={};return r.forEach(function(o){return a[o]=!0}),s&&!j0(e,s)&&(a.outside=!0),a}function iW(e,t){for(var s=yr(e[0]),r=Hh(e[e.length-1]),a,o,i=s;i<=r;){var l=ry(i,t),c=!l.disabled&&!l.hidden;if(!c){i=js(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),a||(a=i),i=js(i,1)}return o||a}var lW=365;function _2(e,t){var s=t.moveBy,r=t.direction,a=t.context,o=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,h=a.locale,m={day:js,week:id,month:Bs,year:Y$,startOfWeek:function(w){return a.ISOWeek?ha(w):wr(w,{locale:h,weekStartsOn:c})},endOfWeek:function(w){return a.ISOWeek?GC(w):Wh(w,{locale:h,weekStartsOn:c})}},p=m[s](e,r==="after"?1:-1);r==="before"&&d?p=K$([d,p]):r==="after"&&u&&(p=X$([u,p]));var x=!0;if(o){var g=ry(p,o);x=!g.disabled&&!g.hidden}return x?p:l.count>lW?l.lastFocused:_2(p,{moveBy:s,direction:r,context:a,modifiers:o,retry:Xe(Xe({},l),{count:l.count+1})})}var S2=f.createContext(void 0);function cW(e){var t=Id(),s=N2(),r=f.useState(),a=r[0],o=r[1],i=f.useState(),l=i[0],c=i[1],d=iW(t.displayMonths,s),u=a??(l&&t.isDateDisplayed(l))?l:d,h=function(){c(a),o(void 0)},m=function(w){o(w)},p=Rt(),x=function(w,b){if(a){var v=_2(a,{moveBy:w,direction:b,context:p,modifiers:s});$s(a,v)||(t.goToDate(v,a),m(v))}},g={focusedDay:a,focusTarget:u,blur:h,focus:m,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return n.jsx(S2.Provider,{value:g,children:e.children})}function ny(){var e=f.useContext(S2);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function dW(e,t){var s=N2(),r=ry(e,s,t);return r}var ay=f.createContext(void 0);function uW(e){if(!am(e.initialProps)){var t={selected:void 0};return n.jsx(ay.Provider,{value:t,children:e.children})}return n.jsx(fW,{initialProps:e.initialProps,children:e.children})}function fW(e){var t=e.initialProps,s=e.children,r=function(o,i,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,o,i,l),i.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,o,i,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,o,o,i,l)},a={selected:t.selected,onDayClick:r};return n.jsx(ay.Provider,{value:a,children:s})}function C2(){var e=f.useContext(ay);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function hW(e,t){var s=Rt(),r=C2(),a=ey(),o=sy(),i=ny(),l=i.focusDayAfter,c=i.focusDayBefore,d=i.focusWeekAfter,u=i.focusWeekBefore,h=i.blur,m=i.focus,p=i.focusMonthBefore,x=i.focusMonthAfter,g=i.focusYearBefore,w=i.focusYearAfter,b=i.focusStartOfWeek,v=i.focusEndOfWeek,y=function(V){var k,E,T,z;am(s)?(k=r.onDayClick)===null||k===void 0||k.call(r,e,t,V):Od(s)?(E=a.onDayClick)===null||E===void 0||E.call(a,e,t,V):Dd(s)?(T=o.onDayClick)===null||T===void 0||T.call(o,e,t,V):(z=s.onDayClick)===null||z===void 0||z.call(s,e,t,V)},j=function(V){var k;m(e),(k=s.onDayFocus)===null||k===void 0||k.call(s,e,t,V)},_=function(V){var k;h(),(k=s.onDayBlur)===null||k===void 0||k.call(s,e,t,V)},C=function(V){var k;(k=s.onDayMouseEnter)===null||k===void 0||k.call(s,e,t,V)},N=function(V){var k;(k=s.onDayMouseLeave)===null||k===void 0||k.call(s,e,t,V)},S=function(V){var k;(k=s.onDayPointerEnter)===null||k===void 0||k.call(s,e,t,V)},M=function(V){var k;(k=s.onDayPointerLeave)===null||k===void 0||k.call(s,e,t,V)},$=function(V){var k;(k=s.onDayTouchCancel)===null||k===void 0||k.call(s,e,t,V)},W=function(V){var k;(k=s.onDayTouchEnd)===null||k===void 0||k.call(s,e,t,V)},R=function(V){var k;(k=s.onDayTouchMove)===null||k===void 0||k.call(s,e,t,V)},Y=function(V){var k;(k=s.onDayTouchStart)===null||k===void 0||k.call(s,e,t,V)},D=function(V){var k;(k=s.onDayKeyUp)===null||k===void 0||k.call(s,e,t,V)},P=function(V){var k;switch(V.key){case"ArrowLeft":V.preventDefault(),V.stopPropagation(),s.dir==="rtl"?l():c();break;case"ArrowRight":V.preventDefault(),V.stopPropagation(),s.dir==="rtl"?c():l();break;case"ArrowDown":V.preventDefault(),V.stopPropagation(),d();break;case"ArrowUp":V.preventDefault(),V.stopPropagation(),u();break;case"PageUp":V.preventDefault(),V.stopPropagation(),V.shiftKey?g():p();break;case"PageDown":V.preventDefault(),V.stopPropagation(),V.shiftKey?w():x();break;case"Home":V.preventDefault(),V.stopPropagation(),b();break;case"End":V.preventDefault(),V.stopPropagation(),v();break}(k=s.onDayKeyDown)===null||k===void 0||k.call(s,e,t,V)},A={onClick:y,onFocus:j,onBlur:_,onKeyDown:P,onKeyUp:D,onMouseEnter:C,onMouseLeave:N,onPointerEnter:S,onPointerLeave:M,onTouchCancel:$,onTouchEnd:W,onTouchMove:R,onTouchStart:Y};return A}function mW(){var e=Rt(),t=C2(),s=ey(),r=sy(),a=am(e)?t.selected:Od(e)?s.selected:Dd(e)?r.selected:void 0;return a}function pW(e){return Object.values(wn).includes(e)}function gW(e,t){var s=[e.classNames.day];return Object.keys(t).forEach(function(r){var a=e.modifiersClassNames[r];if(a)s.push(a);else if(pW(r)){var o=e.classNames["day_".concat(r)];o&&s.push(o)}}),s}function xW(e,t){var s=Xe({},e.styles.day);return Object.keys(t).forEach(function(r){var a;s=Xe(Xe({},s),(a=e.modifiersStyles)===null||a===void 0?void 0:a[r])}),s}function vW(e,t,s){var r,a,o,i=Rt(),l=ny(),c=dW(e,t),d=hW(e,c),u=mW(),h=!!(i.onDayClick||i.mode!=="default");f.useEffect(function(){var C;c.outside||l.focusedDay&&h&&$s(l.focusedDay,e)&&((C=s.current)===null||C===void 0||C.focus())},[l.focusedDay,e,s,h,c.outside]);var m=gW(i,c).join(" "),p=xW(i,c),x=!!(c.outside&&!i.showOutsideDays||c.hidden),g=(o=(a=i.components)===null||a===void 0?void 0:a.DayContent)!==null&&o!==void 0?o:F9,w=n.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),b={style:p,className:m,children:w,role:"gridcell"},v=l.focusTarget&&$s(l.focusTarget,e)&&!c.outside,y=l.focusedDay&&$s(l.focusedDay,e),j=Xe(Xe(Xe({},b),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=y||v?0:-1,r)),d),_={isButton:h,isHidden:x,activeModifiers:c,selectedDays:u,buttonProps:j,divProps:b};return _}function yW(e){var t=f.useRef(null),s=vW(e.date,e.displayMonth,t);return s.isHidden?n.jsx("div",{role:"gridcell"}):s.isButton?n.jsx(qf,Xe({name:"day",ref:t},s.buttonProps)):n.jsx("div",Xe({},s.divProps))}function wW(e){var t=e.number,s=e.dates,r=Rt(),a=r.onWeekNumberClick,o=r.styles,i=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,d=r.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!a)return n.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:u});var h=c(Number(t),{locale:l}),m=function(p){a(t,s,p)};return n.jsx(qf,{name:"week-number","aria-label":h,className:i.weeknumber,style:o.weeknumber,onClick:m,children:u})}function bW(e){var t,s,r=Rt(),a=r.styles,o=r.classNames,i=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:yW,d=(s=l==null?void 0:l.WeekNumber)!==null&&s!==void 0?s:wW,u;return i&&(u=n.jsx("td",{className:o.cell,style:a.cell,children:n.jsx(d,{number:e.weekNumber,dates:e.dates})})),n.jsxs("tr",{className:o.row,style:a.row,children:[u,e.dates.map(function(h){return n.jsx("td",{className:o.cell,style:a.cell,role:"presentation",children:n.jsx(c,{displayMonth:e.displayMonth,date:h})},ZF(h))})]})}function m1(e,t,s){for(var r=s!=null&&s.ISOWeek?GC(t):Wh(t,s),a=s!=null&&s.ISOWeek?ha(e):wr(e,s),o=un(r,a),i=[],l=0;l<=o;l++)i.push(js(a,l));var c=i.reduce(function(d,u){var h=s!=null&&s.ISOWeek?x0(u):y0(u,s),m=d.find(function(p){return p.weekNumber===h});return m?(m.dates.push(u),d):(d.push({weekNumber:h,dates:[u]}),d)},[]);return c}function jW(e,t){var s=m1(yr(e),Hh(e),t);if(t!=null&&t.useFixedWeeks){var r=t8(e,t);if(r<6){var a=s[s.length-1],o=a.dates[a.dates.length-1],i=id(o,6-r),l=m1(id(o,1),i,t);s.push.apply(s,l)}}return s}function NW(e){var t,s,r,a=Rt(),o=a.locale,i=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,h=a.weekStartsOn,m=a.firstWeekContainsDate,p=a.ISOWeek,x=jW(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:o,weekStartsOn:h,firstWeekContainsDate:m}),g=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:$9,w=(s=u==null?void 0:u.Row)!==null&&s!==void 0?s:bW,b=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:D9;return n.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&n.jsx(g,{}),n.jsx("tbody",{className:i.tbody,style:l.tbody,children:x.map(function(v){return n.jsx(w,{displayMonth:e.displayMonth,dates:v.dates,weekNumber:v.weekNumber},v.weekNumber)})}),n.jsx(b,{displayMonth:e.displayMonth})]})}function _W(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var SW=_W()?f.useLayoutEffect:f.useEffect,Mp=!1,CW=0;function p1(){return"react-day-picker-".concat(++CW)}function kW(e){var t,s=e??(Mp?p1():null),r=f.useState(s),a=r[0],o=r[1];return SW(function(){a===null&&o(p1())},[]),f.useEffect(function(){Mp===!1&&(Mp=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function EW(e){var t,s,r=Rt(),a=r.dir,o=r.classNames,i=r.styles,l=r.components,c=Id().displayMonths,d=kW(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,h=[o.month],m=i.month,p=e.displayIndex===0,x=e.displayIndex===c.length-1,g=!p&&!x;a==="rtl"&&(t=[p,x],x=t[0],p=t[1]),p&&(h.push(o.caption_start),m=Xe(Xe({},m),i.caption_start)),x&&(h.push(o.caption_end),m=Xe(Xe({},m),i.caption_end)),g&&(h.push(o.caption_between),m=Xe(Xe({},m),i.caption_between));var w=(s=l==null?void 0:l.Caption)!==null&&s!==void 0?s:O9;return n.jsxs("div",{className:h.join(" "),style:m,children:[n.jsx(w,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(NW,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function PW(e){var t=Rt(),s=t.classNames,r=t.styles;return n.jsx("div",{className:s.months,style:r.months,children:e.children})}function TW(e){var t,s,r=e.initialProps,a=Rt(),o=ny(),i=Id(),l=f.useState(!1),c=l[0],d=l[1];f.useEffect(function(){a.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),d(!0)))},[a.initialFocus,c,o.focus,o.focusTarget,o]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var h=Xe(Xe({},a.styles.root),a.style),m=Object.keys(r).filter(function(x){return x.startsWith("data-")}).reduce(function(x,g){var w;return Xe(Xe({},x),(w={},w[g]=r[g],w))},{}),p=(s=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&s!==void 0?s:PW;return n.jsx("div",Xe({className:u.join(" "),style:h,dir:a.dir,id:a.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:n.jsx(p,{children:i.displayMonths.map(function(x,g){return n.jsx(EW,{displayIndex:g,displayMonth:x},g)})})}))}function AW(e){var t=e.children,s=t9(e,["children"]);return n.jsx(w9,{initialProps:s,children:n.jsx(T9,{children:n.jsx(uW,{initialProps:s,children:n.jsx(V9,{initialProps:s,children:n.jsx(U9,{initialProps:s,children:n.jsx(Q9,{children:n.jsx(cW,{children:t})})})})})})})}function MW(e){return n.jsx(AW,Xe({},e,{children:n.jsx(TW,{initialProps:e})}))}function Hi({className:e,classNames:t,showOutsideDays:s=!0,...r}){return n.jsx(MW,{showOutsideDays:s,className:ee("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ee(Zg({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ee(Zg({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>n.jsx(ex,{className:"h-4 w-4"}),IconRight:({...a})=>n.jsx(dl,{className:"h-4 w-4"})},...r})}Hi.displayName="Calendar";function Cx(e,[t,s]){return Math.min(s,Math.max(t,e))}function RW(e){const t=OW(e),s=f.forwardRef((r,a)=>{const{children:o,...i}=r,l=f.Children.toArray(o),c=l.find(IW);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return n.jsx(t,{...i,ref:a,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}function OW(e){const t=f.forwardRef((s,r)=>{const{children:a,...o}=s;if(f.isValidElement(a)){const i=$W(a),l=LW(o,a.props);return a.type!==f.Fragment&&(l.ref=r?ar(r,i):i),f.cloneElement(a,l)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var DW=Symbol("radix.slottable");function IW(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===DW}function LW(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function $W(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function oy(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var k2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),FW="VisuallyHidden",iy=f.forwardRef((e,t)=>n.jsx(Re.span,{...e,ref:t,style:{...k2,...e.style}}));iy.displayName=FW;var VW=[" ","Enter","ArrowUp","ArrowDown"],BW=[" ","Enter"],Jo="Select",[om,im,zW]=tm(Jo),[Ll,eQ]=Dr(Jo,[zW,Dl]),lm=Dl(),[UW,xo]=Ll(Jo),[HW,WW]=Ll(Jo),E2=e=>{const{__scopeSelect:t,children:s,open:r,defaultOpen:a,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:p,form:x}=e,g=lm(t),[w,b]=f.useState(null),[v,y]=f.useState(null),[j,_]=f.useState(!1),C=Md(d),[N,S]=$n({prop:r,defaultProp:a??!1,onChange:o,caller:Jo}),[M,$]=$n({prop:i,defaultProp:l,onChange:c,caller:Jo}),W=f.useRef(null),R=w?x||!!w.closest("form"):!0,[Y,D]=f.useState(new Set),P=Array.from(Y).map(A=>A.props.value).join(";");return n.jsx(d0,{...g,children:n.jsxs(UW,{required:p,scope:t,trigger:w,onTriggerChange:b,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:Vs(),value:M,onValueChange:$,open:N,onOpenChange:S,dir:C,triggerPointerDownPosRef:W,disabled:m,children:[n.jsx(om.Provider,{scope:t,children:n.jsx(HW,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(A=>{D(V=>new Set(V).add(A))},[]),onNativeOptionRemove:f.useCallback(A=>{D(V=>{const k=new Set(V);return k.delete(A),k})},[]),children:s})}),R?n.jsxs(X2,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:h,value:M,onChange:A=>$(A.target.value),disabled:m,form:x,children:[M===void 0?n.jsx("option",{value:""}):null,Array.from(Y)]},P):null]})})};E2.displayName=Jo;var P2="SelectTrigger",T2=f.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:r=!1,...a}=e,o=lm(s),i=xo(P2,s),l=i.disabled||r,c=at(t,i.onTriggerChange),d=im(s),u=f.useRef("touch"),[h,m,p]=J2(g=>{const w=d().filter(y=>!y.disabled),b=w.find(y=>y.value===i.value),v=Z2(w,g,b);v!==void 0&&i.onValueChange(v.value)}),x=g=>{l||(i.onOpenChange(!0),p()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return n.jsx($h,{asChild:!0,...o,children:n.jsx(Re.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Q2(i.value)?"":void 0,...a,ref:c,onClick:ve(a.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&x(g)}),onPointerDown:ve(a.onPointerDown,g=>{u.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:ve(a.onKeyDown,g=>{const w=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(w&&g.key===" ")&&VW.includes(g.key)&&(x(),g.preventDefault())})})})});T2.displayName=P2;var A2="SelectValue",M2=f.forwardRef((e,t)=>{const{__scopeSelect:s,className:r,style:a,children:o,placeholder:i="",...l}=e,c=xo(A2,s),{onValueNodeHasChildrenChange:d}=c,u=o!==void 0,h=at(t,c.onValueNodeChange);return ws(()=>{d(u)},[d,u]),n.jsx(Re.span,{...l,ref:h,style:{pointerEvents:"none"},children:Q2(c.value)?n.jsx(n.Fragment,{children:i}):o})});M2.displayName=A2;var qW="SelectIcon",R2=f.forwardRef((e,t)=>{const{__scopeSelect:s,children:r,...a}=e;return n.jsx(Re.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});R2.displayName=qW;var GW="SelectPortal",O2=e=>n.jsx(Il,{asChild:!0,...e});O2.displayName=GW;var Zo="SelectContent",D2=f.forwardRef((e,t)=>{const s=xo(Zo,e.__scopeSelect),[r,a]=f.useState();if(ws(()=>{a(new DocumentFragment)},[]),!s.open){const o=r;return o?ni.createPortal(n.jsx(I2,{scope:e.__scopeSelect,children:n.jsx(om.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),o):null}return n.jsx(L2,{...e,ref:t})});D2.displayName=Zo;var rn=10,[I2,vo]=Ll(Zo),YW="SelectContentImpl",KW=RW("SelectContent.RemoveScroll"),L2=f.forwardRef((e,t)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:w,...b}=e,v=xo(Zo,s),[y,j]=f.useState(null),[_,C]=f.useState(null),N=at(t,H=>j(H)),[S,M]=f.useState(null),[$,W]=f.useState(null),R=im(s),[Y,D]=f.useState(!1),P=f.useRef(!1);f.useEffect(()=>{if(y)return Fh(y)},[y]),Rh();const A=f.useCallback(H=>{const[J,...ae]=R().map(pe=>pe.ref.current),[re]=ae.slice(-1),ce=document.activeElement;for(const pe of H)if(pe===ce||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===J&&_&&(_.scrollTop=0),pe===re&&_&&(_.scrollTop=_.scrollHeight),pe==null||pe.focus(),document.activeElement!==ce))return},[R,_]),V=f.useCallback(()=>A([S,y]),[A,S,y]);f.useEffect(()=>{Y&&V()},[Y,V]);const{onOpenChange:k,triggerPointerDownPosRef:E}=v;f.useEffect(()=>{if(y){let H={x:0,y:0};const J=re=>{var ce,pe;H={x:Math.abs(Math.round(re.pageX)-(((ce=E.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(re.pageY)-(((pe=E.current)==null?void 0:pe.y)??0))}},ae=re=>{H.x<=10&&H.y<=10?re.preventDefault():y.contains(re.target)||k(!1),document.removeEventListener("pointermove",J),E.current=null};return E.current!==null&&(document.addEventListener("pointermove",J),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",ae,{capture:!0})}}},[y,k,E]),f.useEffect(()=>{const H=()=>k(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[k]);const[T,z]=J2(H=>{const J=R().filter(ce=>!ce.disabled),ae=J.find(ce=>ce.ref.current===document.activeElement),re=Z2(J,H,ae);re&&setTimeout(()=>re.ref.current.focus())}),O=f.useCallback((H,J,ae)=>{const re=!P.current&&!ae;(v.value!==void 0&&v.value===J||re)&&(M(H),re&&(P.current=!0))},[v.value]),q=f.useCallback(()=>y==null?void 0:y.focus(),[y]),L=f.useCallback((H,J,ae)=>{const re=!P.current&&!ae;(v.value!==void 0&&v.value===J||re)&&W(H)},[v.value]),G=r==="popper"?kx:$2,B=G===kx?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:w}:{};return n.jsx(I2,{scope:s,content:y,viewport:_,onViewportChange:C,itemRefCallback:O,selectedItem:S,onItemLeave:q,itemTextRefCallback:L,focusSelectedItem:V,selectedItemText:$,position:r,isPositioned:Y,searchRef:T,children:n.jsx(Bh,{as:KW,allowPinchZoom:!0,children:n.jsx(_d,{asChild:!0,trapped:v.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:ve(a,H=>{var J;(J=v.trigger)==null||J.focus({preventScroll:!0}),H.preventDefault()}),children:n.jsx(Ml,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:n.jsx(G,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:H=>H.preventDefault(),...b,...B,onPlaced:()=>D(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ve(b.onKeyDown,H=>{const J=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!J&&H.key.length===1&&z(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let re=R().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(H.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const ce=H.target,pe=re.indexOf(ce);re=re.slice(pe+1)}setTimeout(()=>A(re)),H.preventDefault()}})})})})})})});L2.displayName=YW;var XW="SelectItemAlignedPosition",$2=f.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:r,...a}=e,o=xo(Zo,s),i=vo(Zo,s),[l,c]=f.useState(null),[d,u]=f.useState(null),h=at(t,N=>u(N)),m=im(s),p=f.useRef(!1),x=f.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:b,focusSelectedItem:v}=i,y=f.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&d&&g&&w&&b){const N=o.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),M=o.valueNode.getBoundingClientRect(),$=b.getBoundingClientRect();if(o.dir!=="rtl"){const ce=$.left-S.left,pe=M.left-ce,Ce=N.left-pe,et=N.width+Ce,F=Math.max(et,S.width),oe=window.innerWidth-rn,ye=Cx(pe,[rn,Math.max(rn,oe-F)]);l.style.minWidth=et+"px",l.style.left=ye+"px"}else{const ce=S.right-$.right,pe=window.innerWidth-M.right-ce,Ce=window.innerWidth-N.right-pe,et=N.width+Ce,F=Math.max(et,S.width),oe=window.innerWidth-rn,ye=Cx(pe,[rn,Math.max(rn,oe-F)]);l.style.minWidth=et+"px",l.style.right=ye+"px"}const W=m(),R=window.innerHeight-rn*2,Y=g.scrollHeight,D=window.getComputedStyle(d),P=parseInt(D.borderTopWidth,10),A=parseInt(D.paddingTop,10),V=parseInt(D.borderBottomWidth,10),k=parseInt(D.paddingBottom,10),E=P+A+Y+k+V,T=Math.min(w.offsetHeight*5,E),z=window.getComputedStyle(g),O=parseInt(z.paddingTop,10),q=parseInt(z.paddingBottom,10),L=N.top+N.height/2-rn,G=R-L,B=w.offsetHeight/2,H=w.offsetTop+B,J=P+A+H,ae=E-J;if(J<=L){const ce=W.length>0&&w===W[W.length-1].ref.current;l.style.bottom="0px";const pe=d.clientHeight-g.offsetTop-g.offsetHeight,Ce=Math.max(G,B+(ce?q:0)+pe+V),et=J+Ce;l.style.height=et+"px"}else{const ce=W.length>0&&w===W[0].ref.current;l.style.top="0px";const Ce=Math.max(L,P+g.offsetTop+(ce?O:0)+B)+ae;l.style.height=Ce+"px",g.scrollTop=J-L+g.offsetTop}l.style.margin=`${rn}px 0`,l.style.minHeight=T+"px",l.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,o.trigger,o.valueNode,l,d,g,w,b,o.dir,r]);ws(()=>y(),[y]);const[j,_]=f.useState();ws(()=>{d&&_(window.getComputedStyle(d).zIndex)},[d]);const C=f.useCallback(N=>{N&&x.current===!0&&(y(),v==null||v(),x.current=!1)},[y,v]);return n.jsx(JW,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:n.jsx(Re.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});$2.displayName=XW;var QW="SelectPopperPosition",kx=f.forwardRef((e,t)=>{const{__scopeSelect:s,align:r="start",collisionPadding:a=rn,...o}=e,i=lm(s);return n.jsx(u0,{...i,...o,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});kx.displayName=QW;var[JW,ly]=Ll(Zo,{}),Ex="SelectViewport",F2=f.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:r,...a}=e,o=vo(Ex,s),i=ly(Ex,s),l=at(t,o.onViewportChange),c=f.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),n.jsx(om.Slot,{scope:s,children:n.jsx(Re.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ve(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&h){const p=Math.abs(c.current-u.scrollTop);if(p>0){const x=window.innerHeight-rn*2,g=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),b=Math.max(g,w);if(b<x){const v=b+p,y=Math.min(x,v),j=v-y;h.style.height=y+"px",h.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});F2.displayName=Ex;var V2="SelectGroup",[ZW,eq]=Ll(V2),tq=f.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,a=Vs();return n.jsx(ZW,{scope:s,id:a,children:n.jsx(Re.div,{role:"group","aria-labelledby":a,...r,ref:t})})});tq.displayName=V2;var B2="SelectLabel",z2=f.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,a=eq(B2,s);return n.jsx(Re.div,{id:a.id,...r,ref:t})});z2.displayName=B2;var Gf="SelectItem",[sq,U2]=Ll(Gf),H2=f.forwardRef((e,t)=>{const{__scopeSelect:s,value:r,disabled:a=!1,textValue:o,...i}=e,l=xo(Gf,s),c=vo(Gf,s),d=l.value===r,[u,h]=f.useState(o??""),[m,p]=f.useState(!1),x=at(t,v=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,v,r,a)}),g=Vs(),w=f.useRef("touch"),b=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(sq,{scope:s,value:r,disabled:a,textId:g,isSelected:d,onItemTextChange:f.useCallback(v=>{h(y=>y||((v==null?void 0:v.textContent)??"").trim())},[]),children:n.jsx(om.ItemSlot,{scope:s,value:r,disabled:a,textValue:u,children:n.jsx(Re.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:x,onFocus:ve(i.onFocus,()=>p(!0)),onBlur:ve(i.onBlur,()=>p(!1)),onClick:ve(i.onClick,()=>{w.current!=="mouse"&&b()}),onPointerUp:ve(i.onPointerUp,()=>{w.current==="mouse"&&b()}),onPointerDown:ve(i.onPointerDown,v=>{w.current=v.pointerType}),onPointerMove:ve(i.onPointerMove,v=>{var y;w.current=v.pointerType,a?(y=c.onItemLeave)==null||y.call(c):w.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ve(i.onPointerLeave,v=>{var y;v.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:ve(i.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(BW.includes(v.key)&&b(),v.key===" "&&v.preventDefault())})})})})});H2.displayName=Gf;var hc="SelectItemText",W2=f.forwardRef((e,t)=>{const{__scopeSelect:s,className:r,style:a,...o}=e,i=xo(hc,s),l=vo(hc,s),c=U2(hc,s),d=WW(hc,s),[u,h]=f.useState(null),m=at(t,b=>h(b),c.onItemTextChange,b=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,b,c.value,c.disabled)}),p=u==null?void 0:u.textContent,x=f.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=d;return ws(()=>(g(x),()=>w(x)),[g,w,x]),n.jsxs(n.Fragment,{children:[n.jsx(Re.span,{id:c.textId,...o,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ni.createPortal(o.children,i.valueNode):null]})});W2.displayName=hc;var q2="SelectItemIndicator",G2=f.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e;return U2(q2,s).isSelected?n.jsx(Re.span,{"aria-hidden":!0,...r,ref:t}):null});G2.displayName=q2;var Px="SelectScrollUpButton",rq=f.forwardRef((e,t)=>{const s=vo(Px,e.__scopeSelect),r=ly(Px,e.__scopeSelect),[a,o]=f.useState(!1),i=at(t,r.onScrollButtonChange);return ws(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollTop>0;o(d)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?n.jsx(Y2,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});rq.displayName=Px;var Tx="SelectScrollDownButton",nq=f.forwardRef((e,t)=>{const s=vo(Tx,e.__scopeSelect),r=ly(Tx,e.__scopeSelect),[a,o]=f.useState(!1),i=at(t,r.onScrollButtonChange);return ws(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;o(u)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?n.jsx(Y2,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});nq.displayName=Tx;var Y2=f.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:r,...a}=e,o=vo("SelectScrollButton",s),i=f.useRef(null),l=im(s),c=f.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),ws(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),n.jsx(Re.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ve(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:ve(a.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:ve(a.onPointerLeave,()=>{c()})})}),aq="SelectSeparator",K2=f.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e;return n.jsx(Re.div,{"aria-hidden":!0,...r,ref:t})});K2.displayName=aq;var Ax="SelectArrow",oq=f.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,a=lm(s),o=xo(Ax,s),i=vo(Ax,s);return o.open&&i.position==="popper"?n.jsx(f0,{...a,...r,ref:t}):null});oq.displayName=Ax;var iq="SelectBubbleInput",X2=f.forwardRef(({__scopeSelect:e,value:t,...s},r)=>{const a=f.useRef(null),o=at(r,a),i=oy(t);return f.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&u){const h=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(h)}},[i,t]),n.jsx(Re.select,{...s,style:{...k2,...s.style},ref:o,defaultValue:t})});X2.displayName=iq;function Q2(e){return e===""||e===void 0}function J2(e){const t=ls(e),s=f.useRef(""),r=f.useRef(0),a=f.useCallback(i=>{const l=s.current+i;t(l),function c(d){s.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=f.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,a,o]}function Z2(e,t,s){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=s?e.indexOf(s):-1;let i=lq(e,Math.max(o,0));a.length===1&&(i=i.filter(d=>d!==s));const c=i.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==s?c:void 0}function lq(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var cq=E2,eP=T2,dq=M2,uq=R2,fq=O2,tP=D2,hq=F2,sP=z2,rP=H2,mq=W2,pq=G2,nP=K2;const Ut=cq,Ht=dq,At=f.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(eP,{ref:r,className:ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:[t,n.jsx(uq,{asChild:!0,children:n.jsx(v3,{className:"h-4 w-4 opacity-50"})})]}));At.displayName=eP.displayName;const Mt=f.forwardRef(({className:e,children:t,position:s="popper",...r},a)=>n.jsx(fq,{children:n.jsx(tP,{ref:a,className:ee("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:n.jsx(hq,{className:ee("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));Mt.displayName=tP.displayName;const gq=f.forwardRef(({className:e,...t},s)=>n.jsx(sP,{ref:s,className:ee("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));gq.displayName=sP.displayName;const we=f.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(rP,{ref:r,className:ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(pq,{children:n.jsx(Fa,{className:"h-4 w-4"})})}),n.jsx(mq,{children:t})]}));we.displayName=rP.displayName;const xq=f.forwardRef(({className:e,...t},s)=>n.jsx(nP,{ref:s,className:ee("-mx-1 my-1 h-px bg-muted",e),...t}));xq.displayName=nP.displayName;Array.from({length:68},(e,t)=>{const s=420+t*15,r=Math.floor(s/60),a=s%60;return`${String(r).padStart(2,"0")}:${String(a).padStart(2,"0")}:00`});const vq=({nextClass:e})=>{var r,a,o;if(!e)return n.jsxs("div",{className:"bg-gradient-to-br from-slate-100 to-slate-200 rounded-xl p-5 shadow-sm border border-slate-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-slate-300/50 rounded-lg",children:n.jsx(Vu,{className:"h-5 w-5 text-slate-500"})}),n.jsx("h3",{className:"text-base font-bold text-slate-600",children:"Prxima Aula"})]}),n.jsx("p",{className:"text-slate-500 text-sm",children:"Nenhuma aula agendada."})]});const{class_datetime:t,student:s}=e;return n.jsxs(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-sky-500 via-sky-600 to-blue-700 rounded-xl p-5 shadow-lg shadow-sky-200 text-white min-w-[320px]",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(YS,{className:"h-5 w-5 text-white"})}),n.jsx("span",{className:"text-sky-100 text-sm font-medium",children:"Prxima Aula"})]}),n.jsx(ge,{className:"bg-white/20 text-white border-0 text-xs",children:Gu(new Date(t),{locale:ot,addSuffix:!0})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("p",{className:"text-3xl font-black",children:[le(new Date(t),"dd MMM",{locale:ot})," | ",le(new Date(t),"HH:mm")]}),n.jsxs("p",{className:"text-sky-100 text-sm mt-1",children:["Nvel ",(s==null?void 0:s.spanish_level)||"Intermedirio"]}),n.jsxs("p",{className:"text-white/90 text-xs mt-0.5",children:["Professor: ",((r=e.professor)==null?void 0:r.full_name)||((a=e.professor)==null?void 0:a.name)||"No atribudo"]})]}),n.jsx(K,{asChild:!0,className:"w-full bg-white text-sky-700 hover:bg-sky-50 font-bold shadow-md",children:n.jsxs("a",{href:((o=e.professor)==null?void 0:o.meeting_link)||"https://meet.google.com/tmi-xwmg-kua",target:"_blank",rel:"noopener noreferrer",children:[n.jsx(kh,{className:"h-4 w-4 mr-2"}),"Entrar na Aula"]})})]})},yq=()=>n.jsx(Qe.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:n.jsx("a",{href:"https://wa.me/555198541835",target:"_blank",rel:"noopener noreferrer",children:n.jsx(K,{size:"icon",className:"rounded-full h-14 w-14 bg-green-500 hover:bg-green-600 shadow-lg",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-message-circle",children:[n.jsx("path",{d:"M10.3 14.7l-1.8-1.8a.9.9 0 0 0-1.3 0l-.8.8a.9.9 0 0 0 0 1.3l2.5 2.5c.4.4 1 .4 1.4 0l5.8-5.8a.9.9 0 0 0 0-1.3l-.8-.8a.9.9 0 0 0-1.3 0l-4 4zM21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0z",fill:"white"}),n.jsx("path",{d:"M21.9 12.8c0 2-1 3.8-2.6 5.1-1.4 1.1-3.1 1.7-4.9 1.7h-.1c-3.4 0-6.4-2.1-7.5-5.1-.3-1 .1-2 .8-2.8.7-.8 1.9-1.1 2.9-1.1h.1c.5 0 1 .1 1.4.3.4.1.8.4 1.1.7l.7.7c.3.3.4.7.4 1.1 0 .4-.1.8-.4 1.1l-1.3 1.3c-.3.3-.8-.4-1.1-.4.4 0 .8.1 1.1.4l.7.7c.3.3.7.4 1.1.4Z",fill:"white",strokeWidth:"0"})]})})})}),wq=()=>{const e=[{word:"Mariposa",pronunciation:"ma-ri-PO-sa",translation:"Borboleta",example:"La mariposa vuela en el jardn.",type:"Sustantivo"},{word:"Soar",pronunciation:"so-AR",translation:"Sonhar",example:"Me gusta soar despierto.",type:"Verbo"},{word:"Atardecer",pronunciation:"a-tar-de-CER",translation:"Entardecer",example:"El atardecer es hermoso.",type:"Sustantivo"},{word:"Abrazo",pronunciation:"a-BRA-zo",translation:"Abrao",example:"Dame un abrazo fuerte.",type:"Sustantivo"},{word:"Estrella",pronunciation:"es-TRE-lla",translation:"Estrela",example:"Las estrellas brillan en la noche.",type:"Sustantivo"},{word:"Caminar",pronunciation:"ca-mi-NAR",translation:"Caminhar",example:"Me encanta caminar por la playa.",type:"Verbo"},{word:"Esperanza",pronunciation:"es-pe-RAN-za",translation:"Esperana",example:"La esperanza nunca muere.",type:"Sustantivo"}],t=e[new Date().getDay()%e.length],[s,r]=f.useState(!1);return n.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-amber-400 via-orange-500 to-red-500 rounded-2xl p-5 text-white shadow-lg mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(zo,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-lg",children:"Palabra del Da"}),n.jsx("p",{className:"text-orange-100 text-xs",children:"Aprende algo nuevo cada da"})]})]}),n.jsx(ge,{className:"bg-white/20 text-white border-0 text-xs",children:t.type})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 mb-4",children:[n.jsx("p",{className:"text-4xl font-black mb-1",children:t.word}),n.jsxs("p",{className:"text-orange-100 text-sm font-mono",children:["/",t.pronunciation,"/"]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-orange-200 mb-1",children:"Ejemplo:"}),n.jsxs("p",{className:"text-sm italic",children:['"',t.example,'"']})]}),n.jsx("button",{onClick:()=>r(!s),className:"w-full bg-white/20 hover:bg-white/30 transition-colors rounded-lg py-2 px-4 text-sm font-medium flex items-center justify-center gap-2",children:s?n.jsxs(n.Fragment,{children:[" ",t.translation]}):n.jsx(n.Fragment,{children:" Ver traduo"})})]})]})},bq=()=>{var We,Ye,Ke;const{user:e,profile:t}=Or(),{toast:s}=Ct(),r=xa(),[a,o]=f.useState(!0),[i,l]=f.useState([]),[c,d]=f.useState([]),[u,h]=f.useState({available:0,scheduled:0,completed:0,pending:0,rescheduledCount:0}),[m,p]=f.useState([]),[x,g]=f.useState(null),[w,b]=f.useState(null),[v,y]=f.useState([]),[j,_]=f.useState(!1);f.useState(1);const[C,N]=f.useState([]),[S,M]=f.useState([]);f.useState(null);const[$,W]=f.useState([]);f.useState(!1),f.useState(!1),f.useState(!1),f.useState(null),f.useState(null);const[R,Y]=f.useState([]),[D,P]=f.useState(null),[A,V]=f.useState([]),[k,E]=f.useState(""),[T,z]=f.useState(!1),[O,q]=f.useState(!1),[L,G]=f.useState(null),[B,H]=f.useState([]),J=Kt.useRef(null),ae=()=>{var Q;return(Q=J.current)==null?void 0:Q.scrollIntoView({behavior:"smooth"})};f.useEffect(ae,[A]);const re=i[0];(We=re==null?void 0:re.packages)!=null&&We.classes_per_week;const ce=((Ye=re==null?void 0:re.packages)==null?void 0:Ye.class_duration_minutes)||30,pe=Math.ceil(ce/15),Ce=f.useCallback(async()=>{var Q,Se;if(!(!e||!(t!=null&&t.age))){o(!0);try{const Ne=dt().toISOString(),{data:Oe,error:xt}=await I.from("profiles").select("id").eq("role","professor").limit(1).single();if(xt&&xt.code!=="PGRST116")throw xt;const jt=Oe==null?void 0:Oe.id;if(!jt){o(!1);return}b(jt);const[ut,Wt,pt,Ps,Ot,ne,fe,Le]=await Promise.all([I.from("appointments").select("*").eq("student_id",e.id).order("class_datetime",{ascending:!0}),I.from("billing").select("*, packages ( * )").eq("user_id",e.id).gte("end_date",Ne.split("T")[0]).order("purchase_date",{ascending:!1}),I.from("billing").select("*, packages ( * )").eq("user_id",e.id).lt("end_date",Ne.split("T")[0]).order("purchase_date",{ascending:!1}),I.from("assigned_packages_log").select("assigned_classes, package_id, status, custom_package_name, assigned_at").eq("student_id",e.id).order("assigned_at",{ascending:!1}),I.from("solicitudes_clase").select("solicitud_id, is_recurring").eq("alumno_id",e.id).eq("status","Pendiente").maybeSingle(),I.from("class_feedback").select("*, appointment:appointments!fk_appointment(class_datetime)").eq("student_id",e.id).order("created_at",{ascending:!1}),I.from("chats").select("*").eq("alumno_id",e.id).maybeSingle(),I.from("role_settings").select("*").eq("role","student").maybeSingle()]);let Ve=null;try{const{data:Z,error:se}=await I.from("appointments").select("*, student:profiles!student_id(full_name, spanish_level), professor:profiles!professor_id(full_name, meeting_link)").eq("student_id",e.id).in("status",["scheduled","rescheduled"]).gte("class_datetime",Ne).order("class_datetime",{ascending:!0}).limit(1).maybeSingle();if(se){const{data:he}=await I.from("appointments").select("*, student:profiles!student_id(full_name, spanish_level), professor:profiles!professor_id(full_name)").eq("student_id",e.id).in("status",["scheduled","rescheduled"]).gte("class_datetime",Ne).order("class_datetime",{ascending:!0}).limit(1).maybeSingle();Ve=he}else Ve=Z}catch(Z){console.warn("Erro ao buscar prxima aula com link:",Z)}const te=[ut.error,Wt.error,pt.error,Ps.error,Ot.error].filter(Boolean).filter(Z=>Z.code!=="PGRST116");if(te.length)throw new Error(te.map(Z=>Z.message).join(", "));const ie=ut.data||[];p(ie),g(Ve);const U=Wt.data||[],ue=Ps.data||[];l(U),y(ue),d(pt.data||[]),Y(ne.data||[]),G((Le==null?void 0:Le.data)||null);const{data:ke}=await I.from("class_materials").select("*").eq("student_id",e.id).order("created_at",{ascending:!1});H(ke||[]),fe.data&&(P(fe.data),et(fe.data.chat_id));const qe=U[0],rt=((Q=qe==null?void 0:qe.packages)==null?void 0:Q.classes_per_week)||0,nt=Ot.data||null,tt=ue.filter(Z=>Z.status!=="Cancelado").reduce((Z,se)=>Z+(se.assigned_classes||0),0);let gt=tt;tt===0&&qe&&(gt=((Se=qe.packages)==null?void 0:Se.number_of_classes)||0);const fs=ie.filter(Z=>["completed","missed"].includes(Z.status)).length,hs=ie.filter(Z=>Z.status==="scheduled"&&s8(ze(Z.class_datetime))).length,en=ie.filter(Z=>Z.status==="rescheduled").length;let cr=0;nt&&nt.is_recurring&&(cr=rt);const Is=fs+hs+cr,X=Math.max(0,gt-Is+en);h({available:X,scheduled:hs,completed:ie.filter(Z=>Z.status==="completed").length,pending:cr,rescheduledCount:en})}catch(Ne){s({variant:"destructive",title:"Erro ao carregar dados",description:`(${Ne.message})`})}finally{o(!1)}}},[e,t,s]);f.useEffect(()=>{Ce()},[Ce]),f.useEffect(()=>{if(!e||!w)return;const Q=I.channel("student-dashboard-realtime").on("postgres_changes",{event:"*",schema:"public",table:"appointments",filter:`student_id=eq.${e.id}`},Ce).on("postgres_changes",{event:"*",schema:"public",table:"billing",filter:`user_id=eq.${e.id}`},Ce).on("postgres_changes",{event:"*",schema:"public",table:"solicitudes_clase",filter:`alumno_id=eq.${e.id}`},Ce).on("postgres_changes",{event:"*",schema:"public",table:"assigned_packages_log",filter:`student_id=eq.${e.id}`},Ce).on("postgres_changes",{event:"*",schema:"public",table:"class_slots",filter:`professor_id=eq.${w}`},Ce).on("postgres_changes",{event:"*",schema:"public",table:"role_settings",filter:"role=eq.student"},Ce).subscribe();return()=>I.removeChannel(Q)},[Ce,e,w]);const et=async Q=>{q(!0);const{data:Se,error:Ne}=await I.from("mensajes").select("*").eq("chat_id",Q).order("enviado_en",{ascending:!0});Ne||V(Se||[]),q(!1)},F=async Q=>{if(Q.preventDefault(),!k.trim()||!D)return;z(!0);const Se={mensaje_id:`temp-${Date.now()}`,remitente_id:e.id,contenido:k,enviado_en:dt().toISOString()};V(xt=>[...xt,Se]);const Ne=k;E("");const{error:Oe}=await I.from("mensajes").insert({chat_id:D.chat_id,remitente_id:e.id,contenido:Ne});Oe&&(s({variant:"destructive",title:"Erro ao enviar",description:Oe.message}),V(xt=>xt.filter(jt=>jt.mensaje_id!==Se.mensaje_id)),E(Ne)),z(!1)},oe=f.useMemo(()=>{if(R.length===0)return null;const Q=["fala","leitura","escrita","compreensao","audicao","gramatica","pronuncia","vocabulario"],Se={};Q.forEach(ne=>Se[ne]=0),R.forEach(ne=>{Q.forEach(fe=>{Se[fe]+=ne[fe]||0})});const Ne=dt();Ne.setDate(Ne.getDate()-30);const Oe=R.filter(ne=>{var Le;return((Le=ne.appointment)!=null&&Le.class_datetime?new Date(ne.appointment.class_datetime):new Date(ne.created_at))>=Ne}),xt={};Q.forEach(ne=>xt[ne]=0),Oe.forEach(ne=>{Q.forEach(fe=>{xt[fe]+=ne[fe]||0})});const jt=Q.map(ne=>({name:ne.charAt(0).toUpperCase()+ne.slice(1).replace("_"," "),key:ne,average:(Se[ne]/R.length).toFixed(1),recentAverage:Oe.length>0?(xt[ne]/Oe.length).toFixed(1):null})),Wt=(jt.reduce((ne,fe)=>ne+parseFloat(fe.average),0)/jt.length/5*100).toFixed(0);let pt=null,Ps=null,Ot=null;if(Oe.length>0){pt=(jt.reduce((Le,Ve)=>Le+parseFloat(Ve.recentAverage||0),0)/jt.length/5*100).toFixed(0);const fe=parseFloat(pt)-parseFloat(Wt);Ps=Math.abs(fe).toFixed(0),Ot=fe>=0?"up":"down"}return{dimensions:jt,overallAveragePercent:Wt,recentAveragePercent:pt,trendPercent:Ps,trendDirection:Ot,totalFeedbacks:R.length,recentFeedbacksCount:Oe.length}},[R]);f.useEffect(()=>{if($.length>0){const Q=C.filter(Ne=>Ne.status==="active"),Se=new Set;Q.forEach(Ne=>{const Oe=Ne.start_time;$.every(jt=>Q.some(ut=>ut.day_of_week===jt&&ut.start_time===Oe))&&$.every(ut=>{const Wt=qh(Oe,"HH:mm:ss",dt());for(let pt=0;pt<pe;pt++){const Ps=le(Qa(Wt,{minutes:pt*15}),"HH:mm:ss");if(!Q.some(ne=>ne.day_of_week===ut&&ne.start_time===Ps))return!1}return!0})&&Se.add(Oe)}),M(Array.from(Se).sort())}else M([])},[$,C,pe]);const ye=({status:Q})=>{const Se={scheduled:{label:"Agendada",className:"bg-blue-100 text-blue-800"},completed:{label:"Realizada",className:"bg-green-100 text-green-800"},canceled:{label:"Cancelada",className:"bg-red-100 text-red-800"},missed:{label:"Falta",className:"bg-orange-100 text-orange-800"},rescheduled:{label:"Reagendada",className:"bg-purple-100 text-purple-800"}},{label:Ne,className:Oe}=Se[Q]||{label:Q};return n.jsx(ge,{variant:"outline",className:ee("font-semibold",Oe),children:Ne})};f.useEffect(()=>{const Q=()=>{_(window.scrollY>100)};return window.addEventListener("scroll",Q),()=>window.removeEventListener("scroll",Q)},[]);const be=["Cada da es una nueva oportunidad para brillar! ","El espaol te abre puertas al mundo ","Tu dedicacin te llevar lejos! ","Aprender es un superpoder ","Hoy es un gran da para aprender! "],_e=be[new Date().getDay()%be.length];return n.jsx(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-sky-50",children:[n.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-slate-100 mb-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 py-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"text-xs font-medium text-slate-400 uppercase tracking-wide",children:le(new Date,"EEEE, dd 'de' MMMM",{locale:ot})}),n.jsxs("span",{className:"px-2 py-0.5 bg-gradient-to-r from-amber-400 to-orange-500 text-white text-[10px] font-bold rounded-full flex items-center gap-1",children:[" ",u.completed||0," aulas"]})]}),n.jsxs(Qe.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"text-2xl lg:text-3xl font-black text-slate-800",children:["Ol, ",n.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-sky-500 to-blue-600",children:((Ke=t==null?void 0:t.full_name)==null?void 0:Ke.split(" ")[0])||"Aluno"}),"! "]}),n.jsx(Qe.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-slate-500 mt-1",children:_e})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[n.jsxs(Qe.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-sky-500 to-blue-600 rounded-xl px-5 py-4 text-white shadow-lg shadow-sky-200 min-w-[100px] text-center",children:[n.jsx("p",{className:"text-3xl font-black",children:u.scheduled||0}),n.jsx("p",{className:"text-xs text-sky-100 uppercase",children:"Agendadas"})]}),n.jsxs(Qe.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl px-5 py-4 text-white shadow-lg shadow-emerald-200 min-w-[100px] text-center",children:[n.jsx("p",{className:"text-3xl font-black",children:u.completed||0}),n.jsx("p",{className:"text-xs text-emerald-100 uppercase",children:"Realizadas"})]})]}),n.jsx(vq,{nextClass:x})]})]})}),n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-2 gap-3 mb-6",children:[n.jsx(Qe.div,{whileHover:{scale:1.02},className:"lg:hidden bg-gradient-to-br from-sky-500 to-blue-600 rounded-xl p-4 text-white shadow-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-3xl font-black",children:u.scheduled||0}),n.jsx("p",{className:"text-xs text-sky-100",children:"Aulas Agendadas"})]}),n.jsx(Vu,{className:"h-8 w-8 text-white/30"})]})}),n.jsx(Qe.div,{whileHover:{scale:1.02},className:"lg:hidden bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl p-4 text-white shadow-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-3xl font-black",children:u.completed||0}),n.jsx("p",{className:"text-xs text-emerald-100",children:"Aulas Realizadas"})]}),n.jsx(YS,{className:"h-8 w-8 text-white/30"})]})}),n.jsx(Qe.div,{whileHover:{scale:1.02},className:"col-span-2 lg:col-span-2 bg-gradient-to-br from-violet-500 to-purple-600 rounded-xl p-4 shadow-lg text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:n.jsx(Bo,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold",children:"Asistente IA de Espaol"}),n.jsx("p",{className:"text-xs text-violet-100",children:"Practica conversacin, gramtica y ms"})]})]}),n.jsx(K,{onClick:()=>r("/spanish-assistant"),className:"bg-white text-violet-600 hover:bg-violet-50 font-bold",children:"Praticar agora "})]})})]}),n.jsx(IH,{userId:e==null?void 0:e.id}),n.jsx(DH,{}),n.jsxs(tl,{defaultValue:"agenda",className:"w-full mt-6",children:[n.jsx(yl,{className:"w-full flex justify-start gap-1 bg-white/80 backdrop-blur-sm p-1.5 rounded-xl shadow-sm border border-slate-100 overflow-x-auto",children:(()=>{var Ne;const Q=((Ne=L==null?void 0:L.permissions)==null?void 0:Ne.tabs)||["dashboard","clases","chat","desempenho","faturas"];return[{id:"agenda",value:"agenda",permission:"dashboard",icon:Th,label:"Inicio",color:"sky"},{id:"aulas",value:"aulas",permission:"clases",icon:ro,label:"Aulas",color:"violet"},{id:"recursos",value:"recursos",permission:"dashboard",icon:Rs,label:"Recursos",color:"sky"},{id:"quiz",value:"quiz",permission:"dashboard",icon:Cc,label:"Quiz",color:"emerald"},{id:"logros",value:"logros",permission:"dashboard",icon:Zn,label:"Logros",color:"amber"},{id:"conversas",value:"conversas",permission:"chat",icon:Qr,label:"Chat",color:"emerald"},{id:"desempenho",value:"desempenho",permission:"desempenho",icon:hu,label:"Notas",color:"amber"},{id:"faturas",value:"faturas",permission:"faturas",icon:Rs,label:"Faturas",color:"rose"}].filter(Oe=>Q.includes(Oe.permission)).map(Oe=>n.jsxs(zr,{value:Oe.value,className:"flex-1 data-[state=active]:bg-gradient-to-r data-[state=active]:from-sky-500 data-[state=active]:to-blue-600 data-[state=active]:text-white data-[state=active]:shadow-md rounded-lg px-4 py-2.5 transition-all",children:[n.jsx(Oe.icon,{className:"mr-2 h-4 w-4"}),Oe.label]},Oe.id))})()}),n.jsxs(Ms,{value:"faturas",className:"mt-4 space-y-6",children:[n.jsxs(Vn,{className:"border-sky-400 bg-sky-50 text-sky-900 [&>svg]:text-sky-600",children:[n.jsx(zo,{className:"h-4 w-4"}),n.jsx(pa,{className:"font-bold",children:"Dica de Ouro!"}),n.jsx(Bn,{children:"Sabia que voc pode reagendar aulas perdidas? Converse com seu professor e aproveite ao mximo seu pacote, sempre dentro dos 30 dias de validade. Flexibilidade  a chave para o sucesso!"})]}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-slate-100",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:n.jsx(Cc,{className:"h-5 w-5 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Contratos Ativos"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Seus pacotes de aulas ativos"})]})]})}),n.jsx("div",{className:"p-6",children:a?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Fe,{className:"h-6 w-6 text-sky-500 animate-spin"})}):i.length>0?n.jsx("div",{className:"grid gap-4",children:i.map(Q=>{var jt,ut;const Se=new Date(Q.purchase_date).getTime(),Ne=v.filter(Wt=>Wt.package_id==Q.package_id&&Wt.status!=="Cancelado").sort((Wt,pt)=>{const Ps=Math.abs(new Date(Wt.assigned_at).getTime()-Se),Ot=Math.abs(new Date(pt.assigned_at).getTime()-Se);return Ps-Ot})[0],Oe=Q.custom_package_name||(Ne==null?void 0:Ne.custom_package_name)||((jt=Q.packages)==null?void 0:jt.name),xt=(Ne==null?void 0:Ne.assigned_classes)||((ut=Q.packages)==null?void 0:ut.number_of_classes);return n.jsxs(Qe.div,{whileHover:{scale:1.01},className:"p-5 rounded-xl bg-gradient-to-br from-sky-50 to-blue-50 border border-sky-100 shadow-sm",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-slate-800",children:Oe}),n.jsxs(ge,{className:"mt-1 bg-sky-100 text-sky-700 border-sky-200",children:[xt," aulas"]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"text-2xl font-black text-emerald-600",children:["R$ ",Q.amount_paid]})})]}),n.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-sky-100",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[n.jsx(is,{className:"h-4 w-4"}),n.jsxs("span",{children:["Validade: ",n.jsx("strong",{children:le(ze(Q.end_date),"dd/MM/yyyy")})]})]}),n.jsxs("span",{className:"text-xs text-slate-400",children:["Adquirido em ",le(ze(Q.purchase_date),"dd/MM/yyyy")]})]})]},Q.id)})}):n.jsx("p",{className:"text-center text-slate-500 py-8",children:"Nenhum contrato ativo."})})]}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-slate-100",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:n.jsx(Rs,{className:"h-5 w-5 text-slate-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Histrico de Faturas"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Pacotes anteriores"})]})]})}),n.jsx("div",{className:"overflow-x-auto",children:a?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Fe,{className:"h-6 w-6 text-sky-500 animate-spin"})}):c.length>0?n.jsxs(xn,{children:[n.jsx(vn,{className:"bg-slate-50/50",children:n.jsxs(ct,{children:[n.jsx(Pe,{className:"font-semibold",children:"Pacote"}),n.jsx(Pe,{className:"font-semibold",children:"Data da Compra"}),n.jsx(Pe,{className:"font-semibold",children:"Data de Expirao"})]})}),n.jsx(yn,{children:c.map(Q=>n.jsxs(ct,{className:"hover:bg-slate-50/50",children:[n.jsx(xe,{className:"font-medium",children:Q.packages.name}),n.jsx(xe,{children:le(ze(Q.purchase_date),"PPP",{locale:ot})}),n.jsx(xe,{children:le(ze(Q.end_date),"PPP",{locale:ot})})]},Q.id))})]}):n.jsx("p",{className:"p-8 text-center text-slate-500",children:"Nenhum histrico encontrado."})})]})]}),n.jsx(Ms,{value:"agenda",className:"mt-4 space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm border border-slate-100 overflow-hidden h-fit",children:[n.jsx("div",{className:"p-5 border-b border-slate-100",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-sky-100 rounded-lg",children:n.jsx(Vu,{className:"h-5 w-5 text-sky-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-slate-800",children:"Prximas Aulas"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Suas aulas agendadas"})]})]})}),n.jsx("div",{className:"divide-y divide-slate-100",children:a?n.jsx("div",{className:"p-8 flex justify-center",children:n.jsx(Fe,{className:"h-6 w-6 text-sky-500 animate-spin"})}):m.filter(Q=>Q.status==="scheduled").slice(0,4).length>0?m.filter(Q=>Q.status==="scheduled").slice(0,4).map((Q,Se)=>n.jsxs(Qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:Se*.1},className:"p-4 flex items-center justify-between hover:bg-slate-50/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-center min-w-[50px]",children:[n.jsx("p",{className:"text-2xl font-black text-sky-600",children:le(ze(Q.class_datetime),"dd")}),n.jsx("p",{className:"text-xs text-slate-500 uppercase",children:le(ze(Q.class_datetime),"MMM",{locale:ot})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-800",children:le(ze(Q.class_datetime),"EEEE",{locale:ot})}),n.jsxs("p",{className:"text-sm text-slate-500",children:[le(ze(Q.class_datetime),"HH:mm")," - ",Q.duration_minutes||30," min"]})]})]}),n.jsx(ge,{className:"bg-sky-100 text-sky-700 border-sky-200",children:"Agendada"})]},Q.id)):n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(Vu,{className:"h-10 w-10 text-slate-200 mx-auto mb-2"}),n.jsx("p",{className:"text-slate-500",children:"Nenhuma aula agendada"})]})})]}),n.jsx(wq,{})]})}),n.jsx(Ms,{value:"recursos",className:"mt-4 space-y-6",children:n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-slate-100",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-sky-100 rounded-lg",children:n.jsx(Rs,{className:"h-5 w-5 text-sky-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Biblioteca de Recursos"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Materiais de estudo do seu professor"})]})]})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"grid gap-4",children:[{name:"Verbos Irregulares - Gua Completa",type:"PDF",size:"2.3 MB",category:"Gramtica"},{name:"Vocabulrio: Comida y Restaurante",type:"PDF",size:"1.1 MB",category:"Vocabulrio"},{name:"Audio: Conversacin en el Aeropuerto",type:"MP3",size:"4.5 MB",category:"Listening"},{name:"Exerccios de Conjugao",type:"PDF",size:"890 KB",category:"Exerccios"}].map((Q,Se)=>n.jsxs(Qe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:Se*.1},className:"flex items-center justify-between p-4 rounded-xl border border-slate-100 hover:border-sky-200 hover:bg-sky-50/50 transition-all cursor-pointer group",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:ee("p-3 rounded-xl",Q.type==="PDF"?"bg-red-100":Q.type==="MP3"?"bg-purple-100":"bg-sky-100"),children:n.jsx(Rs,{className:ee("h-6 w-6",Q.type==="PDF"?"text-red-600":Q.type==="MP3"?"text-purple-600":"text-sky-600")})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-800 group-hover:text-sky-600 transition-colors",children:Q.name}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(ge,{variant:"outline",className:"text-xs",children:Q.type}),n.jsx("span",{className:"text-xs text-slate-400",children:Q.size}),n.jsx(ge,{className:"text-xs bg-slate-100 text-slate-600",children:Q.category})]})]})]}),n.jsx(K,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(tx,{className:"h-4 w-4"})})]},Se))})})]})}),n.jsx(Ms,{value:"quiz",className:"mt-4",children:n.jsxs(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-violet-500 via-purple-600 to-indigo-700 rounded-2xl p-8 text-white shadow-xl text-center",children:[n.jsx(Qe.div,{animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:2},className:"text-7xl mb-6",children:""}),n.jsx("h2",{className:"text-3xl font-black mb-3",children:"Practica tu Espaol!"}),n.jsx("p",{className:"text-violet-100 mb-6 max-w-md mx-auto",children:"Ejercicios interactivos estilo Duolingo: traduccin, conjugacin, vocabulario y ms. Gana XP y mantn tu racha!"}),n.jsxs("div",{className:"flex items-center justify-center gap-6 mb-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-black",children:" 3"}),n.jsx("p",{className:"text-xs text-violet-200",children:"Vidas"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-black",children:" +10"}),n.jsx("p",{className:"text-xs text-violet-200",children:"XP por acierto"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-black",children:" Racha"}),n.jsx("p",{className:"text-xs text-violet-200",children:"Bonus"})]})]}),n.jsxs(K,{onClick:()=>r("/quiz"),size:"lg",className:"bg-white text-violet-700 hover:bg-violet-50 font-bold text-lg px-8 py-6 shadow-lg",children:[n.jsx(zo,{className:"h-5 w-5 mr-2"}),"Comenzar Leccin"]}),n.jsx("p",{className:"text-xs text-violet-200 mt-4",children:"10 ejercicios aleatorios por leccin"})]})}),n.jsxs(Ms,{value:"logros",className:"mt-4 space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-amber-400 via-orange-500 to-red-500 rounded-2xl p-6 text-white shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:n.jsx(Zn,{className:"h-8 w-8 text-white"})}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-black",children:["Nvel ",Math.floor((u.completed||0)/5)+1]}),n.jsxs("p",{className:"text-orange-100",children:["Estudante ",(u.completed||0)>=20?"Avanado":(u.completed||0)>=10?"Intermedirio":"Iniciante"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-4xl font-black",children:(u.completed||0)*50+(u.scheduled||0)*10}),n.jsx("p",{className:"text-orange-100 text-sm",children:"Pontos XP"})]})]}),n.jsx("div",{className:"bg-white/20 rounded-full h-3 mb-2",children:n.jsx("div",{className:"bg-white rounded-full h-3 transition-all duration-500",style:{width:`${(u.completed||0)%5*20}%`}})}),n.jsxs("p",{className:"text-xs text-orange-100",children:[5-(u.completed||0)%5," aulas para o prximo nvel"]})]}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm border border-slate-100 p-6",children:[n.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[n.jsx(Zn,{className:"h-5 w-5 text-amber-500"}),"Suas Conquistas"]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{name:"Primeira Aula",icon:"",earned:!0,desc:"Completou sua primeira aula"},{name:"5 Aulas",icon:"",earned:(u.completed||0)>=5,desc:"Completou 5 aulas"},{name:"10 Aulas",icon:"",earned:(u.completed||0)>=10,desc:"Completou 10 aulas"},{name:"Dedicado",icon:"",earned:(u.completed||0)>=15,desc:"15 aulas completadas"},{name:"Nota Alta",icon:"",earned:((oe==null?void 0:oe.overallAveragePercent)||0)>=80,desc:"Mdia acima de 80%"},{name:"Conversador",icon:"",earned:!0,desc:"Usou o chat"},{name:"IA Master",icon:"",earned:!0,desc:"Usou o assistente IA"},{name:"Estudioso",icon:"",earned:!1,desc:"Baixou 5 recursos"}].map((Q,Se)=>n.jsxs(Qe.div,{whileHover:{scale:1.05},className:ee("text-center p-4 rounded-xl border-2 transition-all",Q.earned?"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 shadow-sm":"bg-slate-50 border-slate-200 opacity-50"),children:[n.jsx("span",{className:"text-3xl",children:Q.icon}),n.jsx("p",{className:ee("font-semibold mt-2 text-sm",Q.earned?"text-slate-800":"text-slate-400"),children:Q.name}),n.jsx("p",{className:"text-xs text-slate-400 mt-1",children:Q.desc})]},Se))})]})]}),n.jsx(Ms,{value:"aulas",className:"mt-4",children:n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-slate-100",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-violet-100 rounded-lg",children:n.jsx(ro,{className:"h-5 w-5 text-violet-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Minhas Aulas"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Histrico completo de suas aulas"})]})]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(xn,{children:[n.jsx(vn,{className:"bg-slate-50/50",children:n.jsxs(ct,{children:[n.jsx(Pe,{className:"font-semibold",children:"Data"}),n.jsx(Pe,{className:"font-semibold",children:"Hora"}),n.jsx(Pe,{className:"font-semibold",children:"Durao"}),n.jsx(Pe,{className:"font-semibold",children:"Status"}),n.jsx(Pe,{className:"font-semibold",children:"Material"})]})}),n.jsx(yn,{children:a?n.jsx(ct,{children:n.jsx(xe,{colSpan:"5",className:"text-center",children:"Carregando..."})}):m.length>0?m.map(Q=>{const Se=B.filter(Ne=>Ne.appointment_id===Q.id);return n.jsxs(ct,{children:[n.jsx(xe,{className:"font-medium",children:le(ze(Q.class_datetime),"PPP",{locale:ot})}),n.jsx(xe,{children:le(ze(Q.class_datetime),"HH:mm")}),n.jsxs(xe,{children:[Q.duration_minutes||30," min"]}),n.jsx(xe,{children:n.jsx(ye,{status:Q.status})}),n.jsx(xe,{children:Se.length>0?n.jsx("div",{className:"flex flex-wrap gap-1",children:Se.map(Ne=>n.jsxs("a",{href:Ne.file_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-2 py-1 text-xs bg-sky-100 text-sky-700 rounded-md hover:bg-sky-200 transition-colors",title:`Baixar: ${Ne.material_name}`,children:[n.jsx(Rs,{className:"w-3 h-3"}),n.jsx("span",{className:"max-w-[100px] truncate",children:Ne.material_name}),n.jsx(tx,{className:"w-3 h-3"})]},Ne.id))}):n.jsx("span",{className:"text-xs text-slate-400",children:"-"})})]},Q.id)}):n.jsx(ct,{children:n.jsx(xe,{colSpan:"5",className:"text-center p-8 text-slate-500",children:"Nenhuma aula encontrada."})})})]})})]})}),n.jsx(Ms,{value:"conversas",className:"mt-4",children:n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm border border-slate-100 flex flex-col h-[600px] overflow-hidden",children:[n.jsx("header",{className:"p-5 border-b border-slate-100 bg-gradient-to-r from-emerald-500 to-teal-600",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center text-white",children:n.jsx(Mh,{className:"h-6 w-6"})}),n.jsxs("div",{className:"text-white",children:[n.jsx("h3",{className:"font-bold text-lg",children:"Chat com Professor"}),n.jsx("p",{className:"text-emerald-100 text-sm",children:"Tire suas dvidas em tempo real"})]})]})}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-slate-50 to-white",children:[O?n.jsx("div",{className:"flex justify-center items-center h-full",children:n.jsx(Fe,{className:"w-8 h-8 animate-spin text-emerald-600"})}):A.length>0?A.map((Q,Se)=>{const Ne=Q.remitente_id===e.id;return n.jsx(Qe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:ee("flex",Ne?"justify-end":"justify-start"),children:n.jsxs("div",{className:ee("max-w-[80%] rounded-2xl px-4 py-3 shadow-sm",Ne?"bg-gradient-to-br from-emerald-500 to-teal-600 text-white rounded-tr-sm":"bg-white text-slate-800 rounded-tl-sm border border-slate-100"),children:[n.jsx("p",{className:"text-sm",children:Q.contenido}),n.jsx("p",{className:ee("text-[10px] mt-1 text-right",Ne?"text-emerald-100":"text-slate-400"),children:le(ze(Q.enviado_en),"HH:mm")})]})},Q.mensaje_id||Se)}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[n.jsx("div",{className:"p-4 bg-slate-100 rounded-full mb-4",children:n.jsx(R3,{className:"h-10 w-10 text-slate-300"})}),n.jsx("p",{className:"font-medium",children:"Inicie uma conversa!"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Envie uma mensagem para seu professor"})]}),n.jsx("div",{ref:J})]}),n.jsxs("form",{onSubmit:F,className:"p-4 border-t border-slate-100 bg-white flex gap-3",children:[n.jsx("input",{value:k,onChange:Q=>E(Q.target.value),placeholder:"Escreva sua mensagem...",className:"flex-1 bg-slate-100 border-none rounded-full px-5 py-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none",disabled:T}),n.jsx(K,{type:"submit",size:"icon",className:"rounded-full bg-gradient-to-r from-emerald-500 to-teal-600 h-12 w-12 shrink-0 shadow-lg shadow-emerald-200 hover:shadow-emerald-300",disabled:T||!k.trim(),children:T?n.jsx(Fe,{className:"h-5 w-5 animate-spin"}):n.jsx(Al,{className:"h-5 w-5"})})]})]})}),n.jsx(Ms,{value:"desempenho",className:"mt-4",children:n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-slate-100",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:n.jsx(hu,{className:"h-5 w-5 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Meu Desempenho"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Acompanhe sua evoluo no aprendizado"})]})]})}),n.jsx("div",{className:"p-6",children:oe?n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:0},className:"bg-gradient-to-br from-sky-500 to-sky-600 p-6 rounded-xl text-white shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sky-100 text-sm font-medium",children:"Mdia Geral"}),n.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:n.jsx(Zn,{className:"h-5 w-5 text-white"})})]}),n.jsxs("p",{className:"text-4xl font-black",children:[oe.overallAveragePercent,"%"]}),n.jsxs("p",{className:"text-sky-100 text-xs mt-1",children:["Baseado em ",oe.totalFeedbacks," avaliaes"]})]}),n.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"bg-gradient-to-br from-emerald-500 to-emerald-600 p-6 rounded-xl text-white shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-emerald-100 text-sm font-medium",children:"ltimos 30 Dias"}),n.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:n.jsx(is,{className:"h-5 w-5 text-white"})})]}),n.jsx("p",{className:"text-4xl font-black",children:oe.recentAveragePercent?`${oe.recentAveragePercent}%`:"N/A"}),n.jsx("p",{className:"text-emerald-100 text-xs mt-1",children:oe.recentFeedbacksCount>0?`${oe.recentFeedbacksCount} avaliaes recentes`:"Sem avaliaes neste perodo"})]}),n.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:ee("p-6 rounded-xl text-white shadow-lg",oe.trendDirection==="up"?"bg-gradient-to-br from-green-500 to-green-600":oe.trendDirection==="down"?"bg-gradient-to-br from-orange-500 to-orange-600":"bg-gradient-to-br from-slate-500 to-slate-600"),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:ee("text-sm font-medium",oe.trendDirection==="up"?"text-green-100":oe.trendDirection==="down"?"text-orange-100":"text-slate-100"),children:"Tendncia"}),n.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:oe.trendDirection==="up"?n.jsx(Zv,{className:"h-5 w-5 text-white"}):oe.trendDirection==="down"?n.jsx(V3,{className:"h-5 w-5 text-white"}):n.jsx(I3,{className:"h-5 w-5 text-white"})})]}),n.jsx("p",{className:"text-4xl font-black flex items-center gap-2",children:oe.trendPercent?n.jsxs(n.Fragment,{children:[oe.trendDirection==="up"?"+":oe.trendDirection==="down"?"-":"",oe.trendPercent,"%"]}):"N/A"}),n.jsx("p",{className:ee("text-xs mt-1",oe.trendDirection==="up"?"text-green-100":oe.trendDirection==="down"?"text-orange-100":"text-slate-100"),children:oe.trendDirection==="up"?"Voc est evoluindo!":oe.trendDirection==="down"?"Hora de focar mais!":"Sem dados suficientes"})]})]}),n.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-100",children:[n.jsx("h3",{className:"text-lg font-bold mb-6 text-slate-800",children:"Desempenho por Competncia"}),n.jsx("div",{className:"flex items-end justify-between gap-2 h-64 px-4",children:oe.dimensions.map((Q,Se)=>{const Ne=parseFloat(Q.average)/5*100,Oe=xt=>xt>=80?"from-emerald-400 to-emerald-600":xt>=60?"from-sky-400 to-sky-600":xt>=40?"from-yellow-400 to-yellow-600":"from-orange-400 to-orange-600";return n.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[n.jsxs("div",{className:"relative w-full flex flex-col items-center",children:[n.jsx(Qe.span,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5+Se*.1},className:"text-xs font-bold text-slate-700 mb-1",children:Q.average}),n.jsx("div",{className:"w-full h-48 bg-slate-200 rounded-t-lg overflow-hidden flex items-end",children:n.jsx(Qe.div,{initial:{height:0},animate:{height:`${Ne}%`},transition:{duration:1,delay:Se*.1,ease:"easeOut"},className:ee("w-full rounded-t-lg bg-gradient-to-t shadow-inner",Oe(Ne))})})]}),n.jsx("span",{className:"text-[10px] font-medium text-slate-600 mt-2 text-center leading-tight",children:Q.name})]},Q.key)})}),n.jsxs("div",{className:"flex justify-center gap-6 mt-6 pt-4 border-t border-slate-200",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-emerald-400 to-emerald-600"}),n.jsx("span",{className:"text-xs text-slate-600",children:"Excelente (80%)"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-sky-400 to-sky-600"}),n.jsx("span",{className:"text-xs text-slate-600",children:"Bom (60-79%)"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-yellow-400 to-yellow-600"}),n.jsx("span",{className:"text-xs text-slate-600",children:"Regular (40-59%)"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-orange-400 to-orange-600"}),n.jsx("span",{className:"text-xs text-slate-600",children:"A melhorar (<40%)"})]})]})]}),n.jsxs("div",{className:"pt-6 border-t",children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Comentrios e Feedbacks do Professor"}),n.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2",children:R.length===0?n.jsx("p",{className:"text-center text-slate-500 py-8",children:"Nenhum feedback encontrado."}):R.map(Q=>{var xt,jt;const Se=["fala","leitura","escrita","compreensao","audicao","gramatica","pronuncia","vocabulario"],Ne=Se.reduce((ut,Wt)=>ut+(Q[Wt]||0),0)/Se.length,Oe=(Ne/5*100).toFixed(0);return n.jsxs(Qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"p-5 rounded-xl bg-white border-2 border-slate-100 hover:border-sky-200 hover:shadow-md transition-all",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-sky-100 rounded-lg",children:n.jsx(is,{className:"h-4 w-4 text-sky-600"})}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-bold text-slate-800",children:(xt=Q.appointment)!=null&&xt.class_datetime?le(ze(Q.appointment.class_datetime),"PPP",{locale:ot}):"Aula"}),n.jsx("p",{className:"text-xs text-slate-500",children:(jt=Q.appointment)!=null&&jt.class_datetime?le(ze(Q.appointment.class_datetime),"HH:mm"):""})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(ut=>n.jsx(Zn,{className:ee("h-4 w-4",ut<=Math.round(Ne)?"text-yellow-400 fill-yellow-400":"text-slate-200")},ut))}),n.jsxs(ge,{variant:"outline",className:ee("text-xs font-bold",parseInt(Oe)>=80?"border-emerald-300 bg-emerald-50 text-emerald-700":parseInt(Oe)>=60?"border-sky-300 bg-sky-50 text-sky-700":parseInt(Oe)>=40?"border-yellow-300 bg-yellow-50 text-yellow-700":"border-orange-300 bg-orange-50 text-orange-700"),children:[Oe,"%"]})]})]}),n.jsx("div",{className:"bg-slate-50 p-4 rounded-lg mb-4",children:n.jsxs("p",{className:"text-sm text-slate-700 italic leading-relaxed",children:['"',Q.comment||"Sem comentrio adicional do professor.",'"']})}),n.jsx("div",{className:"grid grid-cols-4 md:grid-cols-8 gap-2",children:Se.map(ut=>n.jsxs("div",{className:"text-center p-2 bg-white border rounded-lg",children:[n.jsx("p",{className:"text-[10px] text-slate-500 font-medium truncate",children:ut.charAt(0).toUpperCase()+ut.slice(1)}),n.jsx("p",{className:ee("text-sm font-bold mt-1",Q[ut]>=4?"text-emerald-600":Q[ut]>=3?"text-sky-600":Q[ut]>=2?"text-yellow-600":"text-orange-600"),children:Q[ut]})]},ut))})]},Q.id)})})]})]}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"p-4 bg-slate-100 rounded-full inline-block mb-4",children:n.jsx(hu,{className:"h-10 w-10 text-slate-300"})}),n.jsx("p",{className:"font-medium text-slate-600",children:"Ainda no h avaliaes"}),n.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"As notas aparecero aqui aps suas aulas serem avaliadas"})]})})]})})]}),n.jsxs("div",{className:"mt-6 mb-20 bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm border border-slate-100 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(zo,{className:"h-5 w-5 text-sky-500"}),n.jsx("h3",{className:"font-bold text-slate-800",children:"Acesso Rpido"})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[n.jsxs(Qe.button,{whileHover:{scale:1.03,y:-2},whileTap:{scale:.98},onClick:()=>r("/spanish-assistant"),className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-gradient-to-br from-violet-50 to-purple-50 border border-violet-100 hover:border-violet-200 transition-colors",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-violet-500 to-purple-600 rounded-xl text-white shadow-lg shadow-violet-200",children:n.jsx(Bo,{className:"h-6 w-6"})}),n.jsx("span",{className:"text-sm font-medium text-slate-700",children:"IA Assistant"}),n.jsx("span",{className:"text-xs text-slate-400",children:"Praticar"})]}),n.jsxs(Qe.button,{whileHover:{scale:1.03,y:-2},whileTap:{scale:.98},className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-gradient-to-br from-emerald-50 to-teal-50 border border-emerald-100 hover:border-emerald-200 transition-colors",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl text-white shadow-lg shadow-emerald-200",children:n.jsx(Qr,{className:"h-6 w-6"})}),n.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Chat"}),n.jsx("span",{className:"text-xs text-slate-400",children:"Professor"})]}),n.jsxs(Qe.button,{whileHover:{scale:1.03,y:-2},whileTap:{scale:.98},className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-gradient-to-br from-sky-50 to-blue-50 border border-sky-100 hover:border-sky-200 transition-colors",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-sky-500 to-blue-600 rounded-xl text-white shadow-lg shadow-sky-200",children:n.jsx(Rs,{className:"h-6 w-6"})}),n.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Materiais"}),n.jsx("span",{className:"text-xs text-slate-400",children:"Em breve"})]}),n.jsxs(Qe.button,{whileHover:{scale:1.03,y:-2},whileTap:{scale:.98},className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-100 hover:border-amber-200 transition-colors",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl text-white shadow-lg shadow-amber-200",children:n.jsx(hu,{className:"h-6 w-6"})}),n.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Desempenho"}),n.jsx("span",{className:"text-xs text-slate-400",children:"Ver notas"})]})]})]}),n.jsxs("div",{className:"fixed bottom-6 right-24 z-50 flex gap-3",children:[n.jsx(Qe.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:n.jsx(K,{size:"icon",onClick:()=>r("/spanish-assistant"),className:"rounded-full h-14 w-14 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg",title:"Asistente de Espaol IA",children:n.jsx(Bo,{className:"h-7 w-7"})})}),n.jsx(yq,{})]})]})})},Je=f.forwardRef(({className:e,type:t,...s},r)=>n.jsx("input",{type:t,className:ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));Je.displayName="Input";var jq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Nq=jq.reduce((e,t)=>{const s=Ch(`Primitive.${t}`),r=f.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),_q="Label",aP=f.forwardRef((e,t)=>n.jsx(Nq.label,{...e,ref:t,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));aP.displayName=_q;var oP=aP;const Sq=Nd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ie=f.forwardRef(({className:e,...t},s)=>n.jsx(oP,{ref:s,className:ee(Sq(),e),...t}));Ie.displayName=oP.displayName;const g1=300,Cq=e=>{const t=Math.floor(e/60),s=Math.floor(e%60);return`${t}:${s.toString().padStart(2,"0")}`},kq=()=>{const[e,t]=f.useState(""),[s,r]=f.useState(""),[a,o]=f.useState(!1),[i,l]=f.useState(!1),{signIn:c,sendPasswordResetLink:d}=Or(),{toast:u}=Ct(),[h,m]=f.useState(0);f.useEffect(()=>{const g=localStorage.getItem("passwordResetRequestTime");if(g){const b=(Date.now()-parseInt(g,10))/1e3,v=Math.max(0,g1-b);m(v)}let w;return h>0&&(w=setInterval(()=>{m(b=>Math.max(0,b-1))},1e3)),()=>clearInterval(w)},[h]);const p=async()=>{if(h>0){u({variant:"info",title:"Aguarde um momento",description:`Voc poder solicitar um novo link em ${Math.ceil(h/60)} minutos.`});return}if(!e){u({variant:"destructive",title:"E-mail necessrio",description:"Por favor, insira seu e-mail para redefinir a senha."});return}o(!0);const{error:g}=await d(e);g||(localStorage.setItem("passwordResetRequestTime",Date.now().toString()),m(g1)),o(!1)},x=async g=>{g.preventDefault(),o(!0),await c(e,s),o(!1)};return n.jsxs(Qe.div,{className:"flex flex-col items-center justify-center min-h-[70vh]",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},children:[n.jsx("div",{className:"text-center mb-8",children:n.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Painel do Aluno"})}),n.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-2xl shadow-lg",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("h2",{className:"text-2xl font-bold",children:[n.jsx("span",{className:"text-sky-600",children:"Conexion"}),n.jsx("span",{className:"text-slate-800",children:" America"})]}),n.jsx("p",{className:"text-slate-500 mt-2",children:"Faa login para acessar seu painel."})]}),n.jsxs("form",{onSubmit:x,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{htmlFor:"email",children:"Email"}),n.jsx(Je,{id:"email",type:"email",placeholder:"seu@email.com",value:e,onChange:g=>t(g.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ie,{htmlFor:"password",children:"Senha"}),n.jsx("button",{type:"button",onClick:p,className:"text-sm font-medium text-sky-600 hover:underline disabled:text-slate-400 disabled:no-underline",disabled:h>0,children:h>0?n.jsxs("span",{className:"flex items-center",children:[n.jsx(tr,{className:"mr-1 h-4 w-4"}),"Aguarde ",Cq(h)]}):"Esqueci a minha senha"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Je,{id:"password",type:i?"text":"password",value:s,onChange:g=>r(g.target.value),required:!0,className:"pr-10"}),n.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-slate-500",children:i?n.jsx(Eh,{size:20}):n.jsx(ii,{size:20})})]})]}),n.jsx(K,{type:"submit",className:"w-full bg-sky-600 hover:bg-sky-700",disabled:a,children:a?"Entrando...":"Entrar"})]})]})]})},Eq=()=>{const[e,t]=f.useState(!1),{signUp:s,signIn:r}=Or();xa();const[a,o]=f.useState(""),[i,l]=f.useState(""),[c,d]=f.useState(""),[u,h]=f.useState(""),[m,p]=f.useState(!1),x=async g=>{g.preventDefault(),t(!0);const w="student",{error:b}=await s(a,i,{data:{username:c,full_name:u,role:w}});b||await r(a,i),t(!1)};return n.jsx(Qe.div,{className:"flex items-center justify-center min-h-[80vh]",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},children:n.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-2xl shadow-lg",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Crie sua conta de Aluno"}),n.jsx("p",{className:"text-slate-500",children:"Comece sua jornada conosco!"})]}),n.jsxs("form",{onSubmit:x,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{htmlFor:"fullName-student",children:"Nome Completo"}),n.jsx(Je,{id:"fullName-student",type:"text",placeholder:"Seu nome completo",value:u,onChange:g=>h(g.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{htmlFor:"username-student",children:"Nome de Usurio"}),n.jsx(Je,{id:"username-student",type:"text",placeholder:"Ex: joaosilva123",value:c,onChange:g=>d(g.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{htmlFor:"email-student",children:"Email"}),n.jsx(Je,{id:"email-student",type:"email",placeholder:"seu@email.com",value:a,onChange:g=>o(g.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{htmlFor:"password-student",children:"Senha"}),n.jsxs("div",{className:"relative",children:[n.jsx(Je,{id:"password-student",type:m?"text":"password",placeholder:"",value:i,onChange:g=>l(g.target.value),required:!0,className:"pr-10"}),n.jsx("button",{type:"button",onClick:()=>p(!m),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-slate-500",children:m?n.jsx(Eh,{size:20}):n.jsx(ii,{size:20})})]})]}),n.jsx(K,{type:"submit",className:"w-full bg-sky-600 hover:bg-sky-700",disabled:e,children:e?n.jsxs(n.Fragment,{children:[n.jsx(Fe,{className:"mr-2 h-4 w-4 animate-spin"})," Criando conta..."]}):"Criar Conta de Aluno"})]}),n.jsxs("p",{className:"text-sm text-center text-slate-500",children:["J tem uma conta?"," ",n.jsx(Ko,{to:"/login",className:"font-medium text-sky-600 hover:underline",children:"Faa login"})]}),n.jsxs("p",{className:"text-xs text-center text-slate-400",children:[" um professor?"," ",n.jsx(Ko,{to:"/professor-login",className:"font-medium text-sky-600 hover:underline",children:"Acesse o portal do professor"})]})]})})},Pq=()=>{const[e,t]=f.useState(""),[s,r]=f.useState(""),[a,o]=f.useState(!1),[i,l]=f.useState(!1),{updateUserPassword:c}=Or(),{toast:d}=Ct(),u=async h=>{if(h.preventDefault(),!e||!s){d({variant:"destructive",title:"Campos obrigatrios",description:"Por favor, preencha todos os campos."});return}if(e!==s){d({variant:"destructive",title:"As senhas no coincidem!",description:"Por favor, verifique sua nova senha."});return}o(!0),await c(e),o(!1)};return n.jsx(Qe.div,{className:"flex items-center justify-center min-h-[80vh]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:n.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-2xl shadow-lg",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Crie sua Senha"}),n.jsx("p",{className:"text-slate-500",children:"Crie uma nova senha para sua conta."})]}),n.jsxs("form",{onSubmit:u,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{htmlFor:"password",children:"Nova Senha"}),n.jsxs("div",{className:"relative",children:[n.jsx(Je,{id:"password",type:i?"text":"password",placeholder:"",value:e,onChange:h=>t(h.target.value),required:!0,className:"pr-10"}),n.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-slate-500",children:i?n.jsx(Eh,{size:20}):n.jsx(ii,{size:20})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{htmlFor:"confirmPassword",children:"Confirmar Nova Senha"}),n.jsx(Je,{id:"confirmPassword",type:i?"text":"password",placeholder:"",value:s,onChange:h=>r(h.target.value),required:!0})]}),n.jsx(K,{type:"submit",className:"w-full bg-sky-600 hover:bg-sky-700",disabled:a,children:a?"Salvando...":"Salvar Nova Senha"})]})]})})},Tq=({onLogin:e,loading:t})=>{const[s,r]=f.useState(""),[a,o]=f.useState(""),[i,l]=f.useState(!1),c=d=>{d.preventDefault(),e(s,a)};return n.jsxs("form",{onSubmit:c,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{htmlFor:"email-login",children:"Email ou Usurio"}),n.jsx(Je,{id:"email-login",type:"text",placeholder:"seu@email.com ou usuario",value:s,onChange:d=>r(d.target.value),required:!0,className:"bg-slate-900 border-slate-700 text-white focus:ring-sky-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{htmlFor:"password-login",children:"Senha"}),n.jsxs("div",{className:"relative",children:[n.jsx(Je,{id:"password-login",type:i?"text":"password",value:a,onChange:d=>o(d.target.value),required:!0,className:"pr-10 bg-slate-900 border-slate-700 text-white focus:ring-sky-500"}),n.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-slate-400",children:i?n.jsx(Eh,{size:20}):n.jsx(ii,{size:20})})]})]}),n.jsx(K,{type:"submit",className:"w-full bg-sky-600 hover:bg-sky-700 text-white",disabled:t,children:t?n.jsxs(n.Fragment,{children:[n.jsx(Fe,{className:"mr-2 h-4 w-4 animate-spin"})," Verificando..."]}):"Entrar"})]})},Aq=()=>{const[e,t]=f.useState(!1),{toast:s}=Ct(),{setProfessorSession:r}=Or(),a=xa(),o=async(i,l)=>{t(!0);let c=i;if(!i.includes("@")){const{data:x,error:g}=await I.from("profiles").select("real_email").eq("username",i.trim().toLowerCase()).single();if(x!=null&&x.real_email)c=x.real_email;else{s({variant:"destructive",title:"Usurio no encontrado",description:"O nome de usurio informado no existe."}),t(!1);return}}const{data:d,error:u}=await I.auth.signInWithPassword({email:c.trim(),password:l});if(u||!d.user){s({variant:"destructive",title:"Credenciais invlidas",description:"O e-mail/usurio ou a senha esto incorretos."}),t(!1);return}const{data:h,error:m}=await I.from("profiles").select("role").eq("id",d.user.id).single();if(m||!["professor","superadmin","admin"].includes(h==null?void 0:h.role))s({variant:"destructive",title:"Acesso Negado",description:"Voc no tem permisso para acessar este painel."}),await I.auth.signOut();else{r(!0);const x=h.role==="superadmin"||h.role==="admin"?"Bem-vindo ao painel administrativo.":"Bem-vindo ao painel do professor.";s({variant:"info",title:"Login bem-sucedido!",description:x}),a("/professor-dashboard")}t(!1)};return n.jsxs(Qe.div,{className:"flex flex-col items-center justify-center min-h-screen bg-slate-900 text-white p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:[n.jsx("div",{className:"absolute top-8 left-8",children:n.jsxs(Ko,{to:"/",className:"text-left",children:[n.jsxs("div",{className:"text-3xl font-bold",children:[n.jsx("span",{className:"text-sky-400",children:"Conexion"}),n.jsx("span",{className:"text-slate-100",children:" America"})]}),n.jsx("p",{className:"text-xs text-slate-400 tracking-wider mt-1",children:"A qualquer hora, Em qualquer lugar..."})]})}),n.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-slate-800/50 backdrop-blur-sm rounded-2xl shadow-lg border border-slate-700",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(QS,{className:"mx-auto h-12 w-12 text-sky-400"}),n.jsx("h1",{className:"text-3xl font-bold text-white mt-4",children:"Portal do Professor"}),n.jsx("p",{className:"text-slate-400",children:"Acesso exclusivo para administradores."})]}),n.jsx("div",{className:"mt-6",children:n.jsx(Tq,{onLogin:o,loading:e})}),n.jsx("div",{className:"text-center mt-4",children:n.jsx(Ko,{to:"/login",className:"text-sm text-slate-400 hover:text-white transition-colors",children:"Ir para o Portal do Aluno "})})]})]})};function Mq(e){const t=Rq(e),s=f.forwardRef((r,a)=>{const{children:o,...i}=r,l=f.Children.toArray(o),c=l.find(Dq);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return n.jsx(t,{...i,ref:a,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}function Rq(e){const t=f.forwardRef((s,r)=>{const{children:a,...o}=s;if(f.isValidElement(a)){const i=Lq(a),l=Iq(o,a.props);return a.type!==f.Fragment&&(l.ref=r?ar(r,i):i),f.cloneElement(a,l)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Oq=Symbol("radix.slottable");function Dq(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Oq}function Iq(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function Lq(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Mx=["Enter"," "],$q=["ArrowDown","PageUp","Home"],iP=["ArrowUp","PageDown","End"],Fq=[...$q,...iP],Vq={ltr:[...Mx,"ArrowRight"],rtl:[...Mx,"ArrowLeft"]},Bq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ld="Menu",[ud,zq,Uq]=tm(Ld),[ui,lP]=Dr(Ld,[Uq,Dl,sm]),cm=Dl(),cP=sm(),[Hq,fi]=ui(Ld),[Wq,$d]=ui(Ld),dP=e=>{const{__scopeMenu:t,open:s=!1,children:r,dir:a,onOpenChange:o,modal:i=!0}=e,l=cm(t),[c,d]=f.useState(null),u=f.useRef(!1),h=ls(o),m=Md(a);return f.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),n.jsx(d0,{...l,children:n.jsx(Hq,{scope:t,open:s,onOpenChange:h,content:c,onContentChange:d,children:n.jsx(Wq,{scope:t,onClose:f.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:m,modal:i,children:r})})})};dP.displayName=Ld;var qq="MenuAnchor",cy=f.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e,a=cm(s);return n.jsx($h,{...a,...r,ref:t})});cy.displayName=qq;var dy="MenuPortal",[Gq,uP]=ui(dy,{forceMount:void 0}),fP=e=>{const{__scopeMenu:t,forceMount:s,children:r,container:a}=e,o=fi(dy,t);return n.jsx(Gq,{scope:t,forceMount:s,children:n.jsx(Us,{present:s||o.open,children:n.jsx(Il,{asChild:!0,container:a,children:r})})})};fP.displayName=dy;var Yr="MenuContent",[Yq,uy]=ui(Yr),hP=f.forwardRef((e,t)=>{const s=uP(Yr,e.__scopeMenu),{forceMount:r=s.forceMount,...a}=e,o=fi(Yr,e.__scopeMenu),i=$d(Yr,e.__scopeMenu);return n.jsx(ud.Provider,{scope:e.__scopeMenu,children:n.jsx(Us,{present:r||o.open,children:n.jsx(ud.Slot,{scope:e.__scopeMenu,children:i.modal?n.jsx(Kq,{...a,ref:t}):n.jsx(Xq,{...a,ref:t})})})})}),Kq=f.forwardRef((e,t)=>{const s=fi(Yr,e.__scopeMenu),r=f.useRef(null),a=at(t,r);return f.useEffect(()=>{const o=r.current;if(o)return Fh(o)},[]),n.jsx(fy,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:ve(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),Xq=f.forwardRef((e,t)=>{const s=fi(Yr,e.__scopeMenu);return n.jsx(fy,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),Qq=Mq("MenuContent.ScrollLock"),fy=f.forwardRef((e,t)=>{const{__scopeMenu:s,loop:r=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:x,...g}=e,w=fi(Yr,s),b=$d(Yr,s),v=cm(s),y=cP(s),j=zq(s),[_,C]=f.useState(null),N=f.useRef(null),S=at(t,N,w.onContentChange),M=f.useRef(0),$=f.useRef(""),W=f.useRef(0),R=f.useRef(null),Y=f.useRef("right"),D=f.useRef(0),P=x?Bh:f.Fragment,A=x?{as:Qq,allowPinchZoom:!0}:void 0,V=E=>{var H,J;const T=$.current+E,z=j().filter(ae=>!ae.disabled),O=document.activeElement,q=(H=z.find(ae=>ae.ref.current===O))==null?void 0:H.textValue,L=z.map(ae=>ae.textValue),G=cG(L,T,q),B=(J=z.find(ae=>ae.textValue===G))==null?void 0:J.ref.current;(function ae(re){$.current=re,window.clearTimeout(M.current),re!==""&&(M.current=window.setTimeout(()=>ae(""),1e3))})(T),B&&setTimeout(()=>B.focus())};f.useEffect(()=>()=>window.clearTimeout(M.current),[]),Rh();const k=f.useCallback(E=>{var z,O;return Y.current===((z=R.current)==null?void 0:z.side)&&uG(E,(O=R.current)==null?void 0:O.area)},[]);return n.jsx(Yq,{scope:s,searchRef:$,onItemEnter:f.useCallback(E=>{k(E)&&E.preventDefault()},[k]),onItemLeave:f.useCallback(E=>{var T;k(E)||((T=N.current)==null||T.focus(),C(null))},[k]),onTriggerLeave:f.useCallback(E=>{k(E)&&E.preventDefault()},[k]),pointerGraceTimerRef:W,onPointerGraceIntentChange:f.useCallback(E=>{R.current=E},[]),children:n.jsx(P,{...A,children:n.jsx(_d,{asChild:!0,trapped:a,onMountAutoFocus:ve(o,E=>{var T;E.preventDefault(),(T=N.current)==null||T.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:n.jsx(Ml,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:n.jsx(RE,{asChild:!0,...y,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:_,onCurrentTabStopIdChange:C,onEntryFocus:ve(c,E=>{b.isUsingKeyboardRef.current||E.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(u0,{role:"menu","aria-orientation":"vertical","data-state":PP(w.open),"data-radix-menu-content":"",dir:b.dir,...v,...g,ref:S,style:{outline:"none",...g.style},onKeyDown:ve(g.onKeyDown,E=>{const z=E.target.closest("[data-radix-menu-content]")===E.currentTarget,O=E.ctrlKey||E.altKey||E.metaKey,q=E.key.length===1;z&&(E.key==="Tab"&&E.preventDefault(),!O&&q&&V(E.key));const L=N.current;if(E.target!==L||!Fq.includes(E.key))return;E.preventDefault();const B=j().filter(H=>!H.disabled).map(H=>H.ref.current);iP.includes(E.key)&&B.reverse(),iG(B)}),onBlur:ve(e.onBlur,E=>{E.currentTarget.contains(E.target)||(window.clearTimeout(M.current),$.current="")}),onPointerMove:ve(e.onPointerMove,fd(E=>{const T=E.target,z=D.current!==E.clientX;if(E.currentTarget.contains(T)&&z){const O=E.clientX>D.current?"right":"left";Y.current=O,D.current=E.clientX}}))})})})})})})});hP.displayName=Yr;var Jq="MenuGroup",hy=f.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(Re.div,{role:"group",...r,ref:t})});hy.displayName=Jq;var Zq="MenuLabel",mP=f.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(Re.div,{...r,ref:t})});mP.displayName=Zq;var Yf="MenuItem",x1="menu.itemSelect",dm=f.forwardRef((e,t)=>{const{disabled:s=!1,onSelect:r,...a}=e,o=f.useRef(null),i=$d(Yf,e.__scopeMenu),l=uy(Yf,e.__scopeMenu),c=at(t,o),d=f.useRef(!1),u=()=>{const h=o.current;if(!s&&h){const m=new CustomEvent(x1,{bubbles:!0,cancelable:!0});h.addEventListener(x1,p=>r==null?void 0:r(p),{once:!0}),e0(h,m),m.defaultPrevented?d.current=!1:i.onClose()}};return n.jsx(pP,{...a,ref:c,disabled:s,onClick:ve(e.onClick,u),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),d.current=!0},onPointerUp:ve(e.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:ve(e.onKeyDown,h=>{const m=l.searchRef.current!=="";s||m&&h.key===" "||Mx.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});dm.displayName=Yf;var pP=f.forwardRef((e,t)=>{const{__scopeMenu:s,disabled:r=!1,textValue:a,...o}=e,i=uy(Yf,s),l=cP(s),c=f.useRef(null),d=at(t,c),[u,h]=f.useState(!1),[m,p]=f.useState("");return f.useEffect(()=>{const x=c.current;x&&p((x.textContent??"").trim())},[o.children]),n.jsx(ud.ItemSlot,{scope:s,disabled:r,textValue:a??m,children:n.jsx(OE,{asChild:!0,...l,focusable:!r,children:n.jsx(Re.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:d,onPointerMove:ve(e.onPointerMove,fd(x=>{r?i.onItemLeave(x):(i.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ve(e.onPointerLeave,fd(x=>i.onItemLeave(x))),onFocus:ve(e.onFocus,()=>h(!0)),onBlur:ve(e.onBlur,()=>h(!1))})})})}),eG="MenuCheckboxItem",gP=f.forwardRef((e,t)=>{const{checked:s=!1,onCheckedChange:r,...a}=e;return n.jsx(bP,{scope:e.__scopeMenu,checked:s,children:n.jsx(dm,{role:"menuitemcheckbox","aria-checked":Kf(s)?"mixed":s,...a,ref:t,"data-state":py(s),onSelect:ve(a.onSelect,()=>r==null?void 0:r(Kf(s)?!0:!s),{checkForDefaultPrevented:!1})})})});gP.displayName=eG;var xP="MenuRadioGroup",[tG,sG]=ui(xP,{value:void 0,onValueChange:()=>{}}),vP=f.forwardRef((e,t)=>{const{value:s,onValueChange:r,...a}=e,o=ls(r);return n.jsx(tG,{scope:e.__scopeMenu,value:s,onValueChange:o,children:n.jsx(hy,{...a,ref:t})})});vP.displayName=xP;var yP="MenuRadioItem",wP=f.forwardRef((e,t)=>{const{value:s,...r}=e,a=sG(yP,e.__scopeMenu),o=s===a.value;return n.jsx(bP,{scope:e.__scopeMenu,checked:o,children:n.jsx(dm,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":py(o),onSelect:ve(r.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,s)},{checkForDefaultPrevented:!1})})})});wP.displayName=yP;var my="MenuItemIndicator",[bP,rG]=ui(my,{checked:!1}),jP=f.forwardRef((e,t)=>{const{__scopeMenu:s,forceMount:r,...a}=e,o=rG(my,s);return n.jsx(Us,{present:r||Kf(o.checked)||o.checked===!0,children:n.jsx(Re.span,{...a,ref:t,"data-state":py(o.checked)})})});jP.displayName=my;var nG="MenuSeparator",NP=f.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(Re.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});NP.displayName=nG;var aG="MenuArrow",_P=f.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e,a=cm(s);return n.jsx(f0,{...a,...r,ref:t})});_P.displayName=aG;var oG="MenuSub",[tQ,SP]=ui(oG),mc="MenuSubTrigger",CP=f.forwardRef((e,t)=>{const s=fi(mc,e.__scopeMenu),r=$d(mc,e.__scopeMenu),a=SP(mc,e.__scopeMenu),o=uy(mc,e.__scopeMenu),i=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,d={__scopeMenu:e.__scopeMenu},u=f.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return f.useEffect(()=>u,[u]),f.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),n.jsx(cy,{asChild:!0,...d,children:n.jsx(pP,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":a.contentId,"data-state":PP(s.open),...e,ref:ar(t,a.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:ve(e.onPointerMove,fd(h=>{o.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!s.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{s.onOpenChange(!0),u()},100))})),onPointerLeave:ve(e.onPointerLeave,fd(h=>{var p,x;u();const m=(p=s.content)==null?void 0:p.getBoundingClientRect();if(m){const g=(x=s.content)==null?void 0:x.dataset.side,w=g==="right",b=w?-5:5,v=m[w?"left":"right"],y=m[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x:v,y:m.top},{x:y,y:m.top},{x:y,y:m.bottom},{x:v,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ve(e.onKeyDown,h=>{var p;const m=o.searchRef.current!=="";e.disabled||m&&h.key===" "||Vq[r.dir].includes(h.key)&&(s.onOpenChange(!0),(p=s.content)==null||p.focus(),h.preventDefault())})})})});CP.displayName=mc;var kP="MenuSubContent",EP=f.forwardRef((e,t)=>{const s=uP(Yr,e.__scopeMenu),{forceMount:r=s.forceMount,...a}=e,o=fi(Yr,e.__scopeMenu),i=$d(Yr,e.__scopeMenu),l=SP(kP,e.__scopeMenu),c=f.useRef(null),d=at(t,c);return n.jsx(ud.Provider,{scope:e.__scopeMenu,children:n.jsx(Us,{present:r||o.open,children:n.jsx(ud.Slot,{scope:e.__scopeMenu,children:n.jsx(fy,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;i.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ve(e.onFocusOutside,u=>{u.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ve(e.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:ve(e.onKeyDown,u=>{var p;const h=u.currentTarget.contains(u.target),m=Bq[i.dir].includes(u.key);h&&m&&(o.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});EP.displayName=kP;function PP(e){return e?"open":"closed"}function Kf(e){return e==="indeterminate"}function py(e){return Kf(e)?"indeterminate":e?"checked":"unchecked"}function iG(e){const t=document.activeElement;for(const s of e)if(s===t||(s.focus(),document.activeElement!==t))return}function lG(e,t){return e.map((s,r)=>e[(t+r)%e.length])}function cG(e,t,s){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=s?e.indexOf(s):-1;let i=lG(e,Math.max(o,0));a.length===1&&(i=i.filter(d=>d!==s));const c=i.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==s?c:void 0}function dG(e,t){const{x:s,y:r}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],d=l.x,u=l.y,h=c.x,m=c.y;u>r!=m>r&&s<(h-d)*(r-u)/(m-u)+d&&(a=!a)}return a}function uG(e,t){if(!t)return!1;const s={x:e.clientX,y:e.clientY};return dG(s,t)}function fd(e){return t=>t.pointerType==="mouse"?e(t):void 0}var fG=dP,hG=cy,mG=fP,pG=hP,gG=hy,xG=mP,vG=dm,yG=gP,wG=vP,bG=wP,jG=jP,NG=NP,_G=_P,SG=CP,CG=EP,um="DropdownMenu",[kG,sQ]=Dr(um,[lP]),lr=lP(),[EG,TP]=kG(um),AP=e=>{const{__scopeDropdownMenu:t,children:s,dir:r,open:a,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=lr(t),d=f.useRef(null),[u,h]=$n({prop:a,defaultProp:o??!1,onChange:i,caller:um});return n.jsx(EG,{scope:t,triggerId:Vs(),triggerRef:d,contentId:Vs(),open:u,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(m=>!m),[h]),modal:l,children:n.jsx(fG,{...c,open:u,onOpenChange:h,dir:r,modal:l,children:s})})};AP.displayName=um;var MP="DropdownMenuTrigger",RP=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,disabled:r=!1,...a}=e,o=TP(MP,s),i=lr(s);return n.jsx(hG,{asChild:!0,...i,children:n.jsx(Re.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:ar(t,o.triggerRef),onPointerDown:ve(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:ve(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});RP.displayName=MP;var PG="DropdownMenuPortal",OP=e=>{const{__scopeDropdownMenu:t,...s}=e,r=lr(t);return n.jsx(mG,{...r,...s})};OP.displayName=PG;var DP="DropdownMenuContent",IP=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=TP(DP,s),o=lr(s),i=f.useRef(!1);return n.jsx(pG,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...r,ref:t,onCloseAutoFocus:ve(e.onCloseAutoFocus,l=>{var c;i.current||(c=a.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:ve(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});IP.displayName=DP;var TG="DropdownMenuGroup",AG=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=lr(s);return n.jsx(gG,{...a,...r,ref:t})});AG.displayName=TG;var MG="DropdownMenuLabel",LP=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=lr(s);return n.jsx(xG,{...a,...r,ref:t})});LP.displayName=MG;var RG="DropdownMenuItem",$P=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=lr(s);return n.jsx(vG,{...a,...r,ref:t})});$P.displayName=RG;var OG="DropdownMenuCheckboxItem",FP=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=lr(s);return n.jsx(yG,{...a,...r,ref:t})});FP.displayName=OG;var DG="DropdownMenuRadioGroup",IG=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=lr(s);return n.jsx(wG,{...a,...r,ref:t})});IG.displayName=DG;var LG="DropdownMenuRadioItem",VP=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=lr(s);return n.jsx(bG,{...a,...r,ref:t})});VP.displayName=LG;var $G="DropdownMenuItemIndicator",BP=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=lr(s);return n.jsx(jG,{...a,...r,ref:t})});BP.displayName=$G;var FG="DropdownMenuSeparator",zP=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=lr(s);return n.jsx(NG,{...a,...r,ref:t})});zP.displayName=FG;var VG="DropdownMenuArrow",BG=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=lr(s);return n.jsx(_G,{...a,...r,ref:t})});BG.displayName=VG;var zG="DropdownMenuSubTrigger",UP=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=lr(s);return n.jsx(SG,{...a,...r,ref:t})});UP.displayName=zG;var UG="DropdownMenuSubContent",HP=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=lr(s);return n.jsx(CG,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});HP.displayName=UG;var HG=AP,WG=RP,qG=OP,WP=IP,qP=LP,GP=$P,YP=FP,KP=VP,XP=BP,QP=zP,JP=UP,ZP=HP;const hd=HG,md=WG,GG=f.forwardRef(({className:e,inset:t,children:s,...r},a)=>n.jsxs(JP,{ref:a,className:ee("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[s,n.jsx(dl,{className:"ml-auto h-4 w-4"})]}));GG.displayName=JP.displayName;const YG=f.forwardRef(({className:e,...t},s)=>n.jsx(ZP,{ref:s,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));YG.displayName=ZP.displayName;const wl=f.forwardRef(({className:e,sideOffset:t=4,...s},r)=>n.jsx(qG,{children:n.jsx(WP,{ref:r,sideOffset:t,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));wl.displayName=WP.displayName;const mr=f.forwardRef(({className:e,inset:t,...s},r)=>n.jsx(GP,{ref:r,className:ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...s}));mr.displayName=GP.displayName;const KG=f.forwardRef(({className:e,children:t,checked:s,...r},a)=>n.jsxs(YP,{ref:a,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(XP,{children:n.jsx(Fa,{className:"h-4 w-4"})})}),t]}));KG.displayName=YP.displayName;const XG=f.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(KP,{ref:r,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(XP,{children:n.jsx(b3,{className:"h-2 w-2 fill-current"})})}),t]}));XG.displayName=KP.displayName;const Xf=f.forwardRef(({className:e,inset:t,...s},r)=>n.jsx(qP,{ref:r,className:ee("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));Xf.displayName=qP.displayName;const Uo=f.forwardRef(({className:e,...t},s)=>n.jsx(QP,{ref:s,className:ee("-mx-1 my-1 h-px bg-muted",e),...t}));Uo.displayName=QP.displayName;function QG(e,t=[]){let s=[];function r(o,i){const l=f.createContext(i);l.displayName=o+"Context";const c=s.length;s=[...s,i];const d=h=>{var b;const{scope:m,children:p,...x}=h,g=((b=m==null?void 0:m[e])==null?void 0:b[c])||l,w=f.useMemo(()=>x,Object.values(x));return n.jsx(g.Provider,{value:w,children:p})};d.displayName=o+"Provider";function u(h,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,x=f.useContext(p);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[d,u]}const a=()=>{const o=s.map(i=>f.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,JG(a,...t)]}function JG(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(o)[`__scope${d}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}var ZG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gy=ZG.reduce((e,t)=>{const s=Ch(`Primitive.${t}`),r=f.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),eT={exports:{}},tT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bl=f;function eY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tY=typeof Object.is=="function"?Object.is:eY,sY=bl.useState,rY=bl.useEffect,nY=bl.useLayoutEffect,aY=bl.useDebugValue;function oY(e,t){var s=t(),r=sY({inst:{value:s,getSnapshot:t}}),a=r[0].inst,o=r[1];return nY(function(){a.value=s,a.getSnapshot=t,Rp(a)&&o({inst:a})},[e,s,t]),rY(function(){return Rp(a)&&o({inst:a}),e(function(){Rp(a)&&o({inst:a})})},[e]),aY(s),s}function Rp(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!tY(e,s)}catch{return!0}}function iY(e,t){return t()}var lY=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?iY:oY;tT.useSyncExternalStore=bl.useSyncExternalStore!==void 0?bl.useSyncExternalStore:lY;eT.exports=tT;var cY=eT.exports;function dY(){return cY.useSyncExternalStore(uY,()=>!0,()=>!1)}function uY(){return()=>{}}var xy="Avatar",[fY,rQ]=QG(xy),[hY,sT]=fY(xy),rT=f.forwardRef((e,t)=>{const{__scopeAvatar:s,...r}=e,[a,o]=f.useState("idle");return n.jsx(hY,{scope:s,imageLoadingStatus:a,onImageLoadingStatusChange:o,children:n.jsx(gy.span,{...r,ref:t})})});rT.displayName=xy;var nT="AvatarImage",aT=f.forwardRef((e,t)=>{const{__scopeAvatar:s,src:r,onLoadingStatusChange:a=()=>{},...o}=e,i=sT(nT,s),l=mY(r,o),c=ls(d=>{a(d),i.onImageLoadingStatusChange(d)});return ws(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?n.jsx(gy.img,{...o,ref:t,src:r}):null});aT.displayName=nT;var oT="AvatarFallback",iT=f.forwardRef((e,t)=>{const{__scopeAvatar:s,delayMs:r,...a}=e,o=sT(oT,s),[i,l]=f.useState(r===void 0);return f.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&o.imageLoadingStatus!=="loaded"?n.jsx(gy.span,{...a,ref:t}):null});iT.displayName=oT;function v1(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function mY(e,{referrerPolicy:t,crossOrigin:s}){const r=dY(),a=f.useRef(null),o=(()=>r?(a.current||(a.current=new window.Image),a.current):null)(),[i,l]=f.useState(()=>v1(o,e));return ws(()=>{l(v1(o,e))},[o,e]),ws(()=>{const c=h=>()=>{l(h)};if(!o)return;const d=c("loaded"),u=c("error");return o.addEventListener("load",d),o.addEventListener("error",u),t&&(o.referrerPolicy=t),typeof s=="string"&&(o.crossOrigin=s),()=>{o.removeEventListener("load",d),o.removeEventListener("error",u)}},[o,s,t]),i}var lT=rT,cT=aT,dT=iT;const sr=f.forwardRef(({className:e,...t},s)=>n.jsx(lT,{ref:s,className:ee("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));sr.displayName=lT.displayName;const Jr=f.forwardRef(({className:e,...t},s)=>n.jsx(cT,{ref:s,className:ee("aspect-square h-full w-full",e),...t}));Jr.displayName=cT.displayName;const rr=f.forwardRef(({className:e,...t},s)=>n.jsx(dT,{ref:s,className:ee("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));rr.displayName=dT.displayName;const wt=f.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:ee("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));wt.displayName="Card";const Cs=f.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:ee("flex flex-col space-y-1.5 p-6",e),...t}));Cs.displayName="CardHeader";const ks=f.forwardRef(({className:e,...t},s)=>n.jsx("h3",{ref:s,className:ee("text-2xl font-semibold leading-none tracking-tight",e),...t}));ks.displayName="CardTitle";const Wr=f.forwardRef(({className:e,...t},s)=>n.jsx("p",{ref:s,className:ee("text-sm text-muted-foreground",e),...t}));Wr.displayName="CardDescription";const bt=f.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:ee("p-6 pt-0",e),...t}));bt.displayName="CardContent";const pY=f.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:ee("flex items-center p-6 pt-0",e),...t}));pY.displayName="CardFooter";function gY(e,t){return f.useReducer((s,r)=>t[s][r]??s,e)}var vy="ScrollArea",[uT,nQ]=Dr(vy),[xY,Zr]=uT(vy),fT=f.forwardRef((e,t)=>{const{__scopeScrollArea:s,type:r="hover",dir:a,scrollHideDelay:o=600,...i}=e,[l,c]=f.useState(null),[d,u]=f.useState(null),[h,m]=f.useState(null),[p,x]=f.useState(null),[g,w]=f.useState(null),[b,v]=f.useState(0),[y,j]=f.useState(0),[_,C]=f.useState(!1),[N,S]=f.useState(!1),M=at(t,W=>c(W)),$=Md(a);return n.jsx(xY,{scope:s,type:r,dir:$,scrollHideDelay:o,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:m,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:_,onScrollbarXEnabledChange:C,scrollbarY:g,onScrollbarYChange:w,scrollbarYEnabled:N,onScrollbarYEnabledChange:S,onCornerWidthChange:v,onCornerHeightChange:j,children:n.jsx(Re.div,{dir:$,...i,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});fT.displayName=vy;var hT="ScrollAreaViewport",mT=f.forwardRef((e,t)=>{const{__scopeScrollArea:s,children:r,nonce:a,...o}=e,i=Zr(hT,s),l=f.useRef(null),c=at(t,l,i.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(Re.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});mT.displayName=hT;var Un="ScrollAreaScrollbar",yy=f.forwardRef((e,t)=>{const{forceMount:s,...r}=e,a=Zr(Un,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=a,l=e.orientation==="horizontal";return f.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),a.type==="hover"?n.jsx(vY,{...r,ref:t,forceMount:s}):a.type==="scroll"?n.jsx(yY,{...r,ref:t,forceMount:s}):a.type==="auto"?n.jsx(pT,{...r,ref:t,forceMount:s}):a.type==="always"?n.jsx(wy,{...r,ref:t}):null});yy.displayName=Un;var vY=f.forwardRef((e,t)=>{const{forceMount:s,...r}=e,a=Zr(Un,e.__scopeScrollArea),[o,i]=f.useState(!1);return f.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),i(!0)},u=()=>{c=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),n.jsx(Us,{present:s||o,children:n.jsx(pT,{"data-state":o?"visible":"hidden",...r,ref:t})})}),yY=f.forwardRef((e,t)=>{const{forceMount:s,...r}=e,a=Zr(Un,e.__scopeScrollArea),o=e.orientation==="horizontal",i=hm(()=>c("SCROLL_END"),100),[l,c]=gY("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),f.useEffect(()=>{const d=a.viewport,u=o?"scrollLeft":"scrollTop";if(d){let h=d[u];const m=()=>{const p=d[u];h!==p&&(c("SCROLL"),i()),h=p};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,o,c,i]),n.jsx(Us,{present:s||l!=="hidden",children:n.jsx(wy,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ve(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ve(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),pT=f.forwardRef((e,t)=>{const s=Zr(Un,e.__scopeScrollArea),{forceMount:r,...a}=e,[o,i]=f.useState(!1),l=e.orientation==="horizontal",c=hm(()=>{if(s.viewport){const d=s.viewport.offsetWidth<s.viewport.scrollWidth,u=s.viewport.offsetHeight<s.viewport.scrollHeight;i(l?d:u)}},10);return jl(s.viewport,c),jl(s.content,c),n.jsx(Us,{present:r||o,children:n.jsx(wy,{"data-state":o?"visible":"hidden",...a,ref:t})})}),wy=f.forwardRef((e,t)=>{const{orientation:s="vertical",...r}=e,a=Zr(Un,e.__scopeScrollArea),o=f.useRef(null),i=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=wT(l.viewport,l.content),u={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function h(m,p){return SY(m,i.current,l,p)}return s==="horizontal"?n.jsx(wY,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const m=a.viewport.scrollLeft,p=y1(m,l,a.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=h(m,a.dir))}}):s==="vertical"?n.jsx(bY,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const m=a.viewport.scrollTop,p=y1(m,l);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=h(m))}}):null}),wY=f.forwardRef((e,t)=>{const{sizes:s,onSizesChange:r,...a}=e,o=Zr(Un,e.__scopeScrollArea),[i,l]=f.useState(),c=f.useRef(null),d=at(t,c,o.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(xT,{"data-orientation":"horizontal",...a,ref:d,sizes:s,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":fm(s)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(o.viewport){const m=o.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),jT(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Jf(i.paddingLeft),paddingEnd:Jf(i.paddingRight)}})}})}),bY=f.forwardRef((e,t)=>{const{sizes:s,onSizesChange:r,...a}=e,o=Zr(Un,e.__scopeScrollArea),[i,l]=f.useState(),c=f.useRef(null),d=at(t,c,o.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(xT,{"data-orientation":"vertical",...a,ref:d,sizes:s,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":fm(s)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(o.viewport){const m=o.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),jT(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Jf(i.paddingTop),paddingEnd:Jf(i.paddingBottom)}})}})}),[jY,gT]=uT(Un),xT=f.forwardRef((e,t)=>{const{__scopeScrollArea:s,sizes:r,hasThumb:a,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...m}=e,p=Zr(Un,s),[x,g]=f.useState(null),w=at(t,M=>g(M)),b=f.useRef(null),v=f.useRef(""),y=p.viewport,j=r.content-r.viewport,_=ls(u),C=ls(c),N=hm(h,10);function S(M){if(b.current){const $=M.clientX-b.current.left,W=M.clientY-b.current.top;d({x:$,y:W})}}return f.useEffect(()=>{const M=$=>{const W=$.target;(x==null?void 0:x.contains(W))&&_($,j)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[y,x,j,_]),f.useEffect(C,[r,C]),jl(x,N),jl(p.content,N),n.jsx(jY,{scope:s,scrollbar:x,hasThumb:a,onThumbChange:ls(o),onThumbPointerUp:ls(i),onThumbPositionChange:C,onThumbPointerDown:ls(l),children:n.jsx(Re.div,{...m,ref:w,style:{position:"absolute",...m.style},onPointerDown:ve(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),b.current=x.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),S(M))}),onPointerMove:ve(e.onPointerMove,S),onPointerUp:ve(e.onPointerUp,M=>{const $=M.target;$.hasPointerCapture(M.pointerId)&&$.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),Qf="ScrollAreaThumb",vT=f.forwardRef((e,t)=>{const{forceMount:s,...r}=e,a=gT(Qf,e.__scopeScrollArea);return n.jsx(Us,{present:s||a.hasThumb,children:n.jsx(NY,{ref:t,...r})})}),NY=f.forwardRef((e,t)=>{const{__scopeScrollArea:s,style:r,...a}=e,o=Zr(Qf,s),i=gT(Qf,s),{onThumbPositionChange:l}=i,c=at(t,h=>i.onThumbChange(h)),d=f.useRef(void 0),u=hm(()=>{d.current&&(d.current(),d.current=void 0)},100);return f.useEffect(()=>{const h=o.viewport;if(h){const m=()=>{if(u(),!d.current){const p=CY(h,l);d.current=p,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[o.viewport,u,l]),n.jsx(Re.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ve(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),x=h.clientX-p.left,g=h.clientY-p.top;i.onThumbPointerDown({x,y:g})}),onPointerUp:ve(e.onPointerUp,i.onThumbPointerUp)})});vT.displayName=Qf;var by="ScrollAreaCorner",yT=f.forwardRef((e,t)=>{const s=Zr(by,e.__scopeScrollArea),r=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&r?n.jsx(_Y,{...e,ref:t}):null});yT.displayName=by;var _Y=f.forwardRef((e,t)=>{const{__scopeScrollArea:s,...r}=e,a=Zr(by,s),[o,i]=f.useState(0),[l,c]=f.useState(0),d=!!(o&&l);return jl(a.scrollbarX,()=>{var h;const u=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),jl(a.scrollbarY,()=>{var h;const u=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(u),i(u)}),d?n.jsx(Re.div,{...r,ref:t,style:{width:o,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Jf(e){return e?parseInt(e,10):0}function wT(e,t){const s=e/t;return isNaN(s)?0:s}function fm(e){const t=wT(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-s)*t;return Math.max(r,18)}function SY(e,t,s,r="ltr"){const a=fm(s),o=a/2,i=t||o,l=a-i,c=s.scrollbar.paddingStart+i,d=s.scrollbar.size-s.scrollbar.paddingEnd-l,u=s.content-s.viewport,h=r==="ltr"?[0,u]:[u*-1,0];return bT([c,d],h)(e)}function y1(e,t,s="ltr"){const r=fm(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,i=t.content-t.viewport,l=o-r,c=s==="ltr"?[0,i]:[i*-1,0],d=Cx(e,c);return bT([0,i],[0,l])(d)}function bT(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(s-e[0])}}function jT(e,t){return e>0&&e<t}var CY=(e,t=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const o={left:e.scrollLeft,top:e.scrollTop},i=s.left!==o.left,l=s.top!==o.top;(i||l)&&t(),s=o,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function hm(e,t){const s=ls(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(s,t)},[s,t])}function jl(e,t){const s=ls(t);ws(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(s)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,s])}var NT=fT,kY=mT,EY=yT;const Ta=f.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(NT,{ref:r,className:ee("relative overflow-hidden",e),...s,children:[n.jsx(kY,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(_T,{}),n.jsx(EY,{})]}));Ta.displayName=NT.displayName;const _T=f.forwardRef(({className:e,orientation:t="vertical",...s},r)=>n.jsx(yy,{ref:r,orientation:t,className:ee("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:n.jsx(vT,{className:"relative flex-1 rounded-full bg-border"})}));_T.displayName=yy.displayName;var mm="Checkbox",[PY,aQ]=Dr(mm),[TY,jy]=PY(mm);function AY(e){const{__scopeCheckbox:t,checked:s,children:r,defaultChecked:a,disabled:o,form:i,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=e,[m,p]=$n({prop:s,defaultProp:a??!1,onChange:c,caller:mm}),[x,g]=f.useState(null),[w,b]=f.useState(null),v=f.useRef(!1),y=x?!!i||!!x.closest("form"):!0,j={checked:m,disabled:o,setChecked:p,control:x,setControl:g,name:l,form:i,value:u,hasConsumerStoppedPropagationRef:v,required:d,defaultChecked:eo(a)?!1:a,isFormControl:y,bubbleInput:w,setBubbleInput:b};return n.jsx(TY,{scope:t,...j,children:MY(h)?h(j):r})}var ST="CheckboxTrigger",CT=f.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:s,...r},a)=>{const{control:o,value:i,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:x}=jy(ST,e),g=at(a,u),w=f.useRef(c);return f.useEffect(()=>{const b=o==null?void 0:o.form;if(b){const v=()=>h(w.current);return b.addEventListener("reset",v),()=>b.removeEventListener("reset",v)}},[o,h]),n.jsx(Re.button,{type:"button",role:"checkbox","aria-checked":eo(c)?"mixed":c,"aria-required":d,"data-state":AT(c),"data-disabled":l?"":void 0,disabled:l,value:i,...r,ref:g,onKeyDown:ve(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:ve(s,b=>{h(v=>eo(v)?!0:!v),x&&p&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})})});CT.displayName=ST;var Ny=f.forwardRef((e,t)=>{const{__scopeCheckbox:s,name:r,checked:a,defaultChecked:o,required:i,disabled:l,value:c,onCheckedChange:d,form:u,...h}=e;return n.jsx(AY,{__scopeCheckbox:s,checked:a,defaultChecked:o,disabled:l,required:i,onCheckedChange:d,name:r,form:u,value:c,internal_do_not_use_render:({isFormControl:m})=>n.jsxs(n.Fragment,{children:[n.jsx(CT,{...h,ref:t,__scopeCheckbox:s}),m&&n.jsx(TT,{__scopeCheckbox:s})]})})});Ny.displayName=mm;var kT="CheckboxIndicator",ET=f.forwardRef((e,t)=>{const{__scopeCheckbox:s,forceMount:r,...a}=e,o=jy(kT,s);return n.jsx(Us,{present:r||eo(o.checked)||o.checked===!0,children:n.jsx(Re.span,{"data-state":AT(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});ET.displayName=kT;var PT="CheckboxBubbleInput",TT=f.forwardRef(({__scopeCheckbox:e,...t},s)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:o,defaultChecked:i,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:m,setBubbleInput:p}=jy(PT,e),x=at(s,p),g=oy(o),w=i0(r);f.useEffect(()=>{const v=m;if(!v)return;const y=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(y,"checked").set,C=!a.current;if(g!==o&&_){const N=new Event("click",{bubbles:C});v.indeterminate=eo(o),_.call(v,eo(o)?!1:o),v.dispatchEvent(N)}},[m,g,o,a]);const b=f.useRef(eo(o)?!1:o);return n.jsx(Re.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??b.current,required:l,disabled:c,name:d,value:u,form:h,...t,tabIndex:-1,ref:x,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});TT.displayName=PT;function MY(e){return typeof e=="function"}function eo(e){return e==="indeterminate"}function AT(e){return eo(e)?"indeterminate":e?"checked":"unchecked"}const MT=f.forwardRef(({className:e,...t},s)=>n.jsx(Ny,{ref:s,className:ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(ET,{className:ee("flex items-center justify-center text-current"),children:n.jsx(Fa,{className:"h-4 w-4"})})}));MT.displayName=Ny.displayName;const hi=(e,t)=>{const[s,r]=f.useState(()=>{try{const i=localStorage.getItem(`form_persist_${e}`);return i?JSON.parse(i):t}catch(i){return console.warn(`Error loading form persistence for ${e}:`,i),t}});f.useEffect(()=>{try{localStorage.setItem(`form_persist_${e}`,JSON.stringify(s))}catch(i){console.warn(`Error saving form persistence for ${e}:`,i)}},[e,s]);const a=f.useCallback(()=>{try{localStorage.removeItem(`form_persist_${e}`),r(t)}catch(i){console.warn(`Error clearing form persistence for ${e}:`,i)}},[e,t]),o=f.useCallback((i,l)=>{r(c=>({...c,[i]:l}))},[]);return[s,r,a,o]},ac={0:"Dom",1:"Seg",2:"Ter",3:"Qua",4:"Qui",5:"Sex",6:"Sb"},w1=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"],b1=[];for(let e=7;e<=23;e++)b1.push(`${String(e).padStart(2,"0")}:00`),b1.push(`${String(e).padStart(2,"0")}:30`);const Op=({dashboardData:e,setActiveTab:t})=>{var tt,gt,fs,hs,en,cr,Is;const{toast:s}=Ct(),[r,a]=f.useState(null),[o,i]=f.useState([]),[l,c]=f.useState([]);f.useState("all");const[d,u]=f.useState({studentsWithoutProfessor:[],studentsWithAvailableClasses:[],packagesExpiringSoon:[],recentNotifications:[],classHistory:[],systemWarnings:[],historicoNotifications:[]}),[h,m]=f.useState(!1),[p,x]=f.useState([]);f.useState(!1);const[g,w]=f.useState(null),[b,v]=f.useState(!1),[y,j]=f.useState(null),[_,C]=f.useState(""),[N,S]=f.useState(!1),M=((tt=e==null?void 0:e.data)==null?void 0:tt.appointments)||[],$=6.11,W=f.useMemo(()=>{const X=M.filter(je=>je.status==="completed"),Z=X.reduce((je,$e)=>je+($e.duration_minutes||30),0),se=Z/30,he=se*$,De={};X.forEach(je=>{var Dt;const $e=je.student_id,ft=((Dt=je.student)==null?void 0:Dt.full_name)||"Aluno N/A",Ue=je.duration_minutes||30;De[$e]||(De[$e]={name:ft,typicalDuration:Ue,totalMinutes:0,units:0,earnings:0,sessions:0}),De[$e].totalMinutes+=Ue,De[$e].sessions+=1});const Ze=Object.values(De).map(je=>{const $e=je.totalMinutes/30;return{...je,units:$e,earnings:$e*$}});return{totalEarnings:he,totalMinutes:Z,totalUnits:se,groupedList:Ze}},[M]),R=X=>{const Z=Math.floor(X/60),se=X%60;return`${Z}h ${String(se).padStart(2,"0")}m`},[Y,D]=f.useState(null),[P,A]=f.useState(!1),[V,k]=f.useState(1),[E,T,z]=hi("vincular_student_prefs",{days:[],time:"08:00"}),[O,q]=f.useState([]),[L,G]=f.useState(!1),[B,H]=f.useState(!1),[J,ae]=f.useState(null),[re,ce]=f.useState(""),[pe,Ce]=f.useState(null),[et,F]=f.useState(!1),[oe,ye]=f.useState([]),[be,_e]=f.useState(!1),We=e==null?void 0:e.professorId,Ye=(e==null?void 0:e.data)||{},Ke=(e==null?void 0:e.loading)||!1,Q=e==null?void 0:e.onUpdate,Se=(e==null?void 0:e.isSuperadmin)||!1,Ne=(e==null?void 0:e.showPainelView)||!1;e!=null&&e.showHomeView;const Oe=(Ye==null?void 0:Ye.appointments)||[];Ye!=null&&Ye.allProfiles;const xt=(Ye==null?void 0:Ye.students)||[],jt=(Ye==null?void 0:Ye.professors)||[],ut=(Ye==null?void 0:Ye.allBillings)||[],Wt=(Ye==null?void 0:Ye.classSlots)||[];YE(We,{status:["read","accepted","rejected","archived"]});const pt=f.useMemo(()=>{if(!Oe||Oe.length===0)return null;const X=dt(),Z=Oe.filter(se=>{if(!se.class_datetime)return!1;const he=new Date(se.class_datetime),De=se.status;return he>=X&&["scheduled","rescheduled"].includes(De)}).sort((se,he)=>new Date(se.class_datetime)-new Date(he.class_datetime));return Z.length>0?Z[0]:null},[Oe]),Ps=f.useMemo(()=>{if(!Oe||Oe.length===0)return[];const X=dt();return Oe.filter(Z=>{if(!Z.class_datetime)return!1;const se=new Date(Z.class_datetime),he=Z.status;return se>=X&&["scheduled","rescheduled"].includes(he)}).sort((Z,se)=>new Date(Z.class_datetime)-new Date(se.class_datetime))},[Oe]);f.useEffect(()=>{Array.isArray(Ye==null?void 0:Ye.scheduleRequests)?i(Ye.scheduleRequests):i([])},[Ye==null?void 0:Ye.scheduleRequests]),f.useEffect(()=>{if(!Oe||Oe.length===0){c([]);return}const X=dt(),Z=new Date(X.getTime()+24*60*60*1e3),se=Oe.filter(he=>{if(!he.class_datetime)return!1;const De=new Date(he.class_datetime),Ze=he.status;return De>=X&&De<=Z&&["scheduled","rescheduled"].includes(Ze)}).sort((he,De)=>new Date(he.class_datetime)-new Date(De.class_datetime));c(se)},[Oe]);const Ot=f.useCallback(async()=>{var X;if(Se){m(!0);try{const Z=dt(),se=xt.filter(kt=>kt.is_active!==!1&&!kt.assigned_professor_id),{data:he,error:De}=await I.from("appointments").select(`
            *,
            student:profiles!student_id(full_name),
            professor:profiles!professor_id(full_name)
          `).in("status",["completed","missed","rescheduled"]).order("class_datetime",{ascending:!1}).limit(50);De&&console.error("Erro classHistory:",De);const{data:Ze,error:je}=await I.from("admin_notifications").select("*").in("type",["error","alert","system_failure"]).eq("status","active").order("created_at",{ascending:!1});je&&console.error("Erro warnings:",je);const{data:$e}=await I.from("admin_notifications").select("details").eq("type","expiry_seen"),ft=new Set;$e==null||$e.forEach(kt=>{var ms;(ms=kt.details)!=null&&ms.billing_id&&ft.add(kt.details.billing_id)});const Ue=[];for(const kt of ut){const ms=new Date(kt.end_date),He=HC(ms,Z);if(He>=0&&He<=5){if(ft.has(kt.id))continue;const Te=xt.find(as=>as.id===kt.user_id);Te&&Te.is_active!==!1&&Ue.push({student:Te,billing:kt,daysUntilExpiry:He,packageName:((X=kt.packages)==null?void 0:X.name)||"Pacote"})}}const{data:Dt,error:ns}=await I.from("admin_notifications").select("*").in("status",["seen","resolved","archived"]).order("resolved_at",{ascending:!1,nullsFirst:!1}).limit(50);ns&&console.error("Erro history:",ns),u({studentsWithoutProfessor:se,classHistory:he||[],systemWarnings:Ze||[],packagesExpiringSoon:Ue.sort((kt,ms)=>kt.daysUntilExpiry-ms.daysUntilExpiry),historicoNotifications:Dt||[]})}catch(Z){console.error("Erro ao carregar pendncias:",Z),s({variant:"destructive",title:"Erro ao carregar pendncias",description:Z.message})}finally{m(!1)}}},[Se,xt,ut,Oe,Wt,s]);f.useEffect(()=>{Ot()},[Ot]),f.useMemo(()=>{var X,Z,se,he;return{withoutProfessor:d.studentsWithoutProfessor.length,classHistory:((X=d.classHistory)==null?void 0:X.length)||0,expiring:d.packagesExpiringSoon.length,warnings:((Z=d.systemWarnings)==null?void 0:Z.length)||0,historico:((se=d.historicoNotifications)==null?void 0:se.length)||0,total:d.studentsWithoutProfessor.length+d.packagesExpiringSoon.length+(((he=d.systemWarnings)==null?void 0:he.length)||0)}},[d]);const ne=async(X,Z)=>{var se;w(`seen-${X}-${Z.id||((se=Z.billing)==null?void 0:se.id)}`);try{if(X==="expiring"){const{error:he}=await I.from("admin_notifications").insert({type:"expiry_seen",title:"Alerta de Vencimento Visto",message:`Pacote de ${Z.student.full_name} vencendo em ${Z.daysUntilExpiry} dias.`,details:{billing_id:Z.billing.id,student_id:Z.student.id},student_id:Z.student.id,status:"seen",resolved_at:new Date().toISOString()});if(he)throw he;u(De=>({...De,packagesExpiringSoon:De.packagesExpiringSoon.filter(Ze=>Ze.billing.id!==Z.billing.id)}))}else if(X==="warning"){const{error:he}=await I.from("admin_notifications").update({status:"seen",resolved_at:new Date().toISOString()}).eq("id",Z.id);if(he)throw he;u(De=>({...De,systemWarnings:De.systemWarnings.filter(Ze=>Ze.id!==Z.id)}))}s({title:"Marcado como visto",description:"Item movido para o Histrico."})}catch(he){console.error(he),s({variant:"destructive",title:"Erro ao marcar como visto"})}finally{w(null)}},fe=X=>{let Z=X.preferred_schedule||{};const se=Oe.filter($e=>$e.student_id===X.id&&["scheduled","rescheduled","pending"].includes($e.status)&&new Date($e.class_datetime)>=dt());if(se.length>0){const $e={...Z};se.forEach(ft=>{const Ue=new Date(ft.class_datetime),ns=new Intl.DateTimeFormat("en-US",{timeZone:"America/Sao_Paulo",hour12:!1,hour:"2-digit",minute:"2-digit",weekday:"long"}).formatToParts(Ue),kt=Ts=>{var Hs;return(Hs=ns.find(Qs=>Qs.type===Ts))==null?void 0:Hs.value},ms=kt("hour"),He=kt("minute"),Te=kt("weekday").toLowerCase(),qt={sunday:0,monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6}[Te],It=`${ms}:${He}`;qt!==void 0&&!$e[qt]&&($e[qt]=It)}),Z=$e}const he={...X,preferred_schedule:Z};j(he),C(""),D(null),k(1);const De=Object.keys(Z).map(Number).sort(($e,ft)=>$e-ft),Ze=De[0],je=Ze!==void 0?Z[Ze]:"08:00";T({days:De,time:je}),q([]),v(!0)},Le=async()=>{let X={};E.days.forEach(se=>{const he=y==null?void 0:y.preferred_schedule,De=he&&(he[se]||he[String(se)])||E.time;De&&(X[se]=De)});const Z=Object.keys(X).map(Number);if([...new Set([...Z,...Z.map(String)])],Z.length===0){s({variant:"destructive",title:"Sem preferncias",description:"Defina os dias/horrios preferidos do aluno no perfil ou selecione os dias abaixo."});return}G(!0);try{const se={},{data:he}=await I.from("profiles").select("id, full_name").eq("role","professor").eq("is_active",!0),De=(he||[]).map(Ue=>Ue.id),Ze=dt(),{data:je}=await I.from("appointments").select("professor_id, student_id, class_datetime, duration_minutes").in("professor_id",De).in("status",["scheduled","rescheduled"]).gte("class_datetime",Ze.toISOString()),$e={};(je||[]).forEach(Ue=>{const Dt=new Date(Ue.class_datetime),kt=new Intl.DateTimeFormat("en-US",{timeZone:"America/Sao_Paulo",hour12:!1,hour:"2-digit",minute:"2-digit",weekday:"long"}).formatToParts(Dt),ms=It=>{var Ts;return(Ts=kt.find(Hs=>Hs.type===It))==null?void 0:Ts.value},Te={sunday:0,monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6}[ms("weekday").toLowerCase()],as=`${ms("hour")}:${ms("minute")}`,qt=`${Ue.professor_id}-${Te}-${as}`;$e[qt]=Ue.student_id});for(const[Ue,Dt]of Object.entries(X)){const ns=Number(Ue),[kt,ms]=Dt.split(":").map(Number),He=`${String(kt).padStart(2,"0")}:${String(ms).padStart(2,"0")}:00`,Te=`${String(kt).padStart(2,"0")}:${String(ms).padStart(2,"0")}`,{data:as}=await I.from("class_slots").select("professor_id, professor:professor_id(id, full_name)").eq("day_of_week",ns).eq("start_time",He).eq("status","active");(as||[]).forEach(qt=>{const It=qt.professor_id,Ts=`${It}-${ns}-${Te}`,Hs=$e[Ts];if(Hs&&Hs!==(y==null?void 0:y.id)){console.log(`[Match] Slot ${Ts} ocupado por outro aluno, ignorando`);return}se[It]||(se[It]={professor:qt.professor,matchedDays:new Set,matchedSlots:[],totalSlotsRequired:Z.length}),se[It].matchedDays.add(ns),se[It].matchedSlots.push({day_of_week:ns,start_time:Dt})})}const ft=Object.values(se).map(Ue=>({...Ue,matchedDaysCount:Ue.matchedDays.size,matchPercentage:Math.round(Ue.matchedDays.size/Ue.totalSlotsRequired*100)})).filter(Ue=>Ue.matchPercentage>0).sort((Ue,Dt)=>Dt.matchPercentage-Ue.matchPercentage);q(ft),k(2),ft.length===0&&s({variant:"destructive",title:"Nenhum professor disponvel",description:"Nenhum professor possui os horrios solicitados com status ATIVO (azul) e sem aulas agendadas."})}catch(se){console.error("Erro ao buscar professores:",se),s({variant:"destructive",title:"Erro ao buscar",description:se.message})}finally{G(!1)}},Ve=async X=>{if(!X){D(null);return}try{const{data:Z,error:se}=await I.from("class_slots").select("*").eq("professor_id",X).order("day_of_week",{ascending:!0}).order("start_time",{ascending:!0});if(se)throw se;const he=Z||[],De=he.filter(Ue=>Ue.status==="active"),Ze=he.filter(Ue=>Ue.status==="filled"),je={};w1.forEach((Ue,Dt)=>{je[Dt]={name:Ue,active:De.filter(ns=>ns.day_of_week===Dt),filled:Ze.filter(ns=>ns.day_of_week===Dt),total:he.filter(ns=>ns.day_of_week===Dt)}});const ft=[...new Set(De.map(Ue=>Ue.day_of_week))].map(Ue=>w1[Ue]).join(", ");D({totalSlots:De.length,filledSlots:Ze.length,daysCovered:ft,hasAvailability:De.length>0,slotsByDay:je})}catch(Z){console.error("Erro ao verificar disponibilidade:",Z),D(null)}};f.useEffect(()=>{_&&Ve(_)},[_]);const te=async()=>{var X;if(!y||!_){s({variant:"destructive",title:"Erro",description:"Selecione um professor para vincular."});return}A(!0);try{const Z=dt(),{data:se}=await I.from("appointments").select("class_datetime, student_id, student:profiles!student_id(full_name)").eq("professor_id",_).in("status",["scheduled","rescheduled"]).gte("class_datetime",Z.toISOString()),he={};(se||[]).forEach(He=>{var jn;const Te=new Date(He.class_datetime),qt=new Intl.DateTimeFormat("en-US",{timeZone:"America/Sao_Paulo",hour12:!1,hour:"2-digit",minute:"2-digit",weekday:"long"}).formatToParts(Te),It=Ir=>{var Hn;return(Hn=qt.find(Lr=>Lr.type===Ir))==null?void 0:Hn.value},Hs={sunday:0,monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6}[It("weekday").toLowerCase()],Qs=`${It("hour")}:${It("minute")}`,ya=`${Hs}-${Qs}`;he[ya]={studentId:He.student_id,studentName:((jn=He.student)==null?void 0:jn.full_name)||"Outro aluno"}});const De=[],Ze={0:"Domingo",1:"Segunda",2:"Tera",3:"Quarta",4:"Quinta",5:"Sexta",6:"Sbado"};for(const He of E.days){const Te=E.time,as=`${He}-${Te}`,qt=he[as];qt&&qt.studentId!==y.id&&De.push({day:Ze[He],time:Te,occupiedBy:qt.studentName})}if(De.length>0){const He=De.map(Te=>`${Te.day} s ${Te.time} (ocupado por ${Te.occupiedBy})`).join(", ");s({variant:"destructive",title:"Conflito de Horrio!",description:`No  possvel vincular. Os seguintes horrios j esto ocupados: ${He}`}),A(!1);return}const je=jt.find(He=>He.id===_),$e=y.assigned_professor_id,ft=(X=jt.find(He=>He.id===$e))==null?void 0:X.full_name,Ue={};E.days.forEach(He=>{Ue[He]=E.time});const{data:Dt,error:ns}=await I.from("profiles").update({assigned_professor_id:null,pending_professor_id:_,pending_professor_status:"aguardando_aprovacao",pending_professor_requested_at:new Date().toISOString(),preferred_schedule:Ue}).eq("id",y.id).select();if(ns||!Dt||Dt.length===0)throw ns||new Error("Falha ao atualizar perfil do aluno.");const kt={type:"vinculacao",is_recurring:!1,student_name:y.full_name,old_professor_id:$e,old_professor_name:ft,preferred_schedule:Ue,days:E.days,time:E.time},{error:ms}=await I.from("solicitudes_clase").insert({alumno_id:y.id,profesor_id:_,horarios_propuestos:JSON.stringify(kt),status:"Pendiente",is_recurring:!1});if(ms)throw ms;u(He=>({...He,studentsWithoutProfessor:He.studentsWithoutProfessor.map(Te=>Te.id===y.id?{...Te,pending_professor_id:_,pending_professor_status:"aguardando_aprovacao"}:Te)})),v(!1),j(null),C(""),D(null),k(1),z(),q([]),await I.from("admin_notifications").insert({type:"assignment_resolved",message:`Vnculo solicitado: ${y.full_name} -> ${je==null?void 0:je.full_name}`,student_id:y.id,professor_id:_,status:"resolved",created_at:new Date,resolved_at:new Date}),s({title:"Solicitao enviada!",description:`Aguardando aprovao de ${(je==null?void 0:je.full_name)||"Professor"}. A solicitao aparecer na tela inicial do professor.`}),Q==null||Q()}catch(Z){console.error("Erro ao enviar solicitao:",Z),s({variant:"destructive",title:"Erro ao enviar solicitao",description:Z.message})}finally{A(!1)}},ie=async(X,Z)=>{var $e,ft,Ue,Dt,ns,kt,ms;a(X);const se=o.find(He=>He.solicitud_id===X);if(!se){s({variant:"destructive",title:"Erro",description:"Solicitao no encontrada."}),a(null);return}let he=null;try{he=JSON.parse(se.horarios_propuestos)}catch{}const De=(he==null?void 0:he.type)==="vinculacao",{error:Ze}=await I.from("solicitudes_clase").update({status:Z}).eq("solicitud_id",X);if(Ze){s({variant:"destructive",title:"Erro ao atualizar",description:Ze.message}),a(null);return}if(De){const He=se.alumno_id;if(Z==="Aceita")try{const{error:Te}=await I.from("profiles").update({assigned_professor_id:We,pending_professor_id:null,pending_professor_status:null,pending_professor_requested_at:null}).eq("id",He);if(Te)throw Te;const{data:as,error:qt}=await I.rpc("transfer_student_data",{p_student_id:He,p_professor_id:We});if(qt)throw console.error("Erro na RPC transfer_student_data:",qt),new Error("Falha ao transferir aulas e dados do aluno. Verifique se a funo RPC existe.");const It=as||{appointments:0,logs:0,blocked_slots:0,released_slots:0};await I.from("admin_notifications").insert({type:"assignment_resolved",message:`Vinculao aprovada: ${($e=se.profile)==null?void 0:$e.full_name}`,student_id:He,professor_id:We,status:"resolved",created_at:new Date,resolved_at:new Date}),s({variant:"default",title:"Vinculao Aprovada!",description:`${((ft=se.profile)==null?void 0:ft.full_name)||"Aluno"} vinculado. (Aulas: ${It.appointments}, Liberados: ${It.released_slots}, Bloqueados: ${It.blocked_slots})`})}catch(Te){await I.from("solicitudes_clase").update({status:"Pendiente"}).eq("solicitud_id",X),s({variant:"destructive",title:"Erro ao vincular",description:Te.message})}else if(Z==="Rejeitada")try{const{error:Te}=await I.from("profiles").update({assigned_professor_id:null,pending_professor_id:null,pending_professor_status:"rejeitado",pending_professor_requested_at:null}).eq("id",He);if(Te)throw Te;s({variant:"destructive",title:"Vinculao Rejeitada",description:`${((Ue=se.profile)==null?void 0:Ue.full_name)||"Aluno"} continua sem professor vinculado e reaparecer nas pendncias.`})}catch(Te){s({variant:"destructive",title:"Erro ao rejeitar",description:Te.message})}Q&&Q(X),a(null);return}if((he==null?void 0:he.type)==="atribuicao_aulas"){const He=se.alumno_id;if(Z==="Aceita")try{const Te=he,{error:as}=await I.from("billing").insert({user_id:He,package_id:Te.package_id,amount_paid:Te.price,purchase_date:Te.start_date,end_date:Te.end_date,custom_package_name:Te.is_recurring?Te.package_name:null});if(as)throw as;const{error:qt}=await I.from("assigned_packages_log").insert({professor_id:We,student_id:He,package_id:Te.package_id,observation:Te.observation||"",assigned_classes:Te.classes_count,custom_package_name:Te.is_recurring?Te.package_name:null,status:"Ativo"});if(qt)throw qt;if(Te.is_recurring&&Te.days&&Te.days.length>0){const It=[],Ts=ze(Te.start_date),Hs=ze(Te.end_date);let Qs=dt()>Ts?dt():Ts,ya=0;const jn=Te.duration_minutes||30;for(;ya<Te.classes_count&&Qs<=Hs;){const Ir=Hr(Qs);if(Te.days.includes(Ir)){const Hn=((Dt=Te.day_times)==null?void 0:Dt[Ir])||Te.time||"08:00",[Lr,Bd]=Hn.split(":").map(Number),wo=new Date(Qs.getFullYear(),Qs.getMonth(),Qs.getDate(),Lr,Bd,0);It.push({student_id:He,professor_id:We,class_datetime:wo.toISOString(),class_slot_id:null,status:"scheduled",duration_minutes:jn}),ya++}Qs=Qa(Qs,{days:1})}if(It.length>0){const{error:Ir}=await I.from("appointments").insert(It);if(Ir)throw Ir}}await I.from("profiles").update({assigned_professor_id:We,pending_professor_id:null,pending_professor_status:null,pending_professor_requested_at:null,preferred_schedule:Te.day_times||{}}).eq("id",He),s({variant:"default",title:"Aulas Aprovadas!",description:`Pacote "${Te.package_name}" criado com ${Te.classes_count} aulas para ${((ns=se.profile)==null?void 0:ns.full_name)||"Aluno"}.`})}catch(Te){await I.from("solicitudes_clase").update({status:"Pendiente"}).eq("solicitud_id",X),s({variant:"destructive",title:"Erro ao aprovar aulas",description:Te.message})}else if(Z==="Rejeitada")try{await I.from("profiles").update({pending_professor_id:null,pending_professor_status:"rejeitado",pending_professor_requested_at:null}).eq("id",He),s({variant:"destructive",title:"Aulas Rejeitadas",description:`${((kt=se.profile)==null?void 0:kt.full_name)||"Aluno"} no ter aulas criadas. Reaparecer nas pendncias.`})}catch(Te){s({variant:"destructive",title:"Erro ao rejeitar",description:Te.message})}Q&&Q(X),a(null);return}if(Z==="Aceita"&&se.is_recurring){if(typeof se.horarios_propuestos!="string"||!se.horarios_propuestos){s({variant:"destructive",title:"Erro de Agendamento",description:"Formato de horrio invlido."}),a(null);return}try{const He=JSON.parse(se.horarios_propuestos),Te=se.alumno_id,{data:as,error:qt}=await I.from("billing").select("end_date, packages(number_of_classes, class_duration_minutes)").eq("user_id",Te).gte("end_date",dt().toISOString()).order("purchase_date",{ascending:!1}).limit(1).single();if(qt||!as)throw new Error("Fatura ativa do aluno no encontrada.");const It=ze(as.end_date),Ts=as.packages.number_of_classes,Hs=as.packages.class_duration_minutes,Qs=Math.ceil(Hs/15),{data:ya,error:jn}=await I.from("class_slots").select("id, day_of_week, start_time, status").eq("professor_id",We);if(jn)throw jn;const Ir=[],Hn=new Set;let Lr=dt(),Bd=0;for(;Lr<=It&&Bd<Ts;){const wo=Hr(Lr);if(He.days.includes(wo)){const $l=He.time,$A=qh($l,"HH:mm:ss",Lr),vm=[];let Ty=!0;for(let Fl=0;Fl<Qs;Fl++){const ym=le(Qa($A,{minutes:Fl*15}),"HH:mm:ss"),Vl=ya.find(zd=>zd.day_of_week===wo&&zd.start_time===ym);if(!Vl||Vl.status!=="active"){Ty=!1;break}vm.push(Vl)}if(Ty){const Fl=vm[0],[ym,Vl]=$l.split(":").map(Number),zd=new Date(Lr.getFullYear(),Lr.getMonth(),Lr.getDate(),ym,Vl,0);Ir.push({student_id:Te,professor_id:We,class_datetime:zd.toISOString(),class_slot_id:Fl.id,status:"scheduled",duration_minutes:Hs}),vm.forEach(FA=>Hn.add(FA.id)),Bd++}}Lr=Qa(Lr,{days:1})}if(Ir.length>0){const{error:wo}=await I.from("appointments").insert(Ir,{onConflict:"class_slot_id, class_datetime"});if(wo)throw new Error(`Falha ao criar aulas: ${wo.message}`);if(Hn.size>0){const{error:$l}=await I.from("class_slots").update({status:"filled"}).in("id",Array.from(Hn));if($l)throw new Error(`Falha ao bloquear horrios: ${$l.message}`)}s({variant:"default",title:"Solicitao Aceita!",description:`${Ir.length} aulas agendadas e ${Hn.size} horrios bloqueados.`})}else s({variant:"warning",title:"Aulas no agendadas",description:"Nenhum horrio correspondente foi encontrado para criar as aulas."})}catch(He){await I.from("solicitudes_clase").update({status:"Pendiente"}).eq("solicitud_id",X),s({variant:"destructive",title:"Erro ao processar agendamento",description:He.message})}}else if(Z==="Aceita"&&!se.is_recurring)try{const He=JSON.parse(se.horarios_propuestos),Te=se.alumno_id,{data:as,error:qt}=await I.from("billing").select("packages(class_duration_minutes)").eq("user_id",Te).gte("end_date",dt().toISOString()).order("purchase_date",{ascending:!1}).limit(1).single();if(qt||!as)throw new Error("Fatura ativa do aluno no encontrada.");const It=((ms=as.packages)==null?void 0:ms.class_duration_minutes)||30,Ts=ze(He.date),[Hs,Qs]=He.time.split(":").map(Number),ya=new Date(Ts.getFullYear(),Ts.getMonth(),Ts.getDate(),Hs,Qs,0),{error:jn}=await I.from("appointments").insert({student_id:Te,professor_id:We,class_datetime:ya.toISOString(),status:"scheduled",duration_minutes:It});if(jn)throw new Error(`Falha ao criar aula: ${jn.message}`);s({variant:"default",title:"Aula Pontual Agendada!",description:`Aula agendada para ${le(Ts,"dd/MM/yyyy")} s ${He.time.substring(0,5)}.`})}catch(He){await I.from("solicitudes_clase").update({status:"Pendiente"}).eq("solicitud_id",X),s({variant:"destructive",title:"Erro ao processar aula pontual",description:He.message})}else Z==="Rejeitada"&&s({variant:"destructive",title:"Solicitao Rejeitada"});Q&&Q(X),a(null)},U=X=>{var Z;try{if(!X||typeof X!="string"||!X.startsWith("{"))return n.jsx("p",{className:"text-sm text-slate-500",children:"Detalhes no disponveis"});const se=JSON.parse(X);return se.type==="vinculacao"?n.jsxs("div",{className:"mt-2 p-2 bg-purple-50 rounded-md border border-purple-200",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-purple-700",children:[n.jsx(Ra,{className:"w-4 h-4"}),n.jsx("span",{className:"font-semibold",children:"Solicitao de Vinculao"})]}),se.old_professor_name&&n.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:["Anteriormente com: ",se.old_professor_name]}),se.days&&se.days.length>0&&n.jsx("div",{className:"flex items-center gap-4 text-xs text-slate-600 mt-1",children:n.jsxs("span",{children:["Horrios: ",se.days.map(he=>ac[he]).join(", ")," s ",se.time]})})]}):se.type==="atribuicao_aulas"?n.jsxs("div",{className:"mt-2 p-2 bg-green-50 rounded-md border border-green-200",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-700",children:[n.jsx(ro,{className:"w-4 h-4"}),n.jsx("span",{className:"font-semibold",children:"Solicitao de Aulas"})]}),n.jsxs("div",{className:"text-xs text-green-600 mt-1 space-y-0.5",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Pacote:"})," ",se.package_name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Aulas:"})," ",se.classes_count," | ",n.jsx("strong",{children:"Valor:"})," R$ ",(Z=se.price)==null?void 0:Z.toFixed(2)]}),se.days&&se.days.length>0&&n.jsxs("p",{children:[n.jsx("strong",{children:"Dias:"})," ",se.days.map(he=>ac[he]).join(", ")]})]})]}):se.is_recurring?n.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-700 mt-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(tr,{className:"w-4 h-4 text-sky-600"}),n.jsx("span",{className:"font-semibold",children:se.time.substring(0,5)})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tc,{className:"w-4 h-4 text-sky-600"}),n.jsx("span",{className:"font-semibold",children:se.days.map(he=>ac[he]).join(", ")})]})]}):n.jsx("p",{className:"text-sm text-slate-500",children:"Aula individual"})}catch{return n.jsx("p",{className:"text-xs text-red-500",children:"Erro ao ler detalhes"})}},ue=async X=>{ae(X),ce(""),Ce(null),H(!0),_e(!0);try{const{data:Z}=await I.from("class_materials").select("*").eq("appointment_id",X.id).order("created_at",{ascending:!1});ye(Z||[])}catch(Z){console.error("Erro ao carregar materiais:",Z)}finally{_e(!1)}},ke=X=>{var se;const Z=(se=X.target.files)==null?void 0:se[0];if(Z){if(Z.type!=="application/pdf"){s({title:"Arquivo invlido",description:"Por favor, selecione um arquivo PDF.",variant:"destructive"});return}Ce(Z)}},qe=async()=>{var X;if(!re.trim()){s({title:"Nome obrigatrio",description:"Por favor, insira o nome do material.",variant:"destructive"});return}if(!pe){s({title:"Arquivo obrigatrio",description:"Por favor, selecione um arquivo PDF.",variant:"destructive"});return}if(!(J!=null&&J.id)||!(J!=null&&J.student_id)){s({title:"Erro",description:"Informaes da aula no encontradas.",variant:"destructive"});return}F(!0);try{const{data:{user:Z}}=await I.auth.getUser();if(!Z)throw new Error("Usurio no autenticado");const se=pe.name.split(".").pop(),he=`${J.id}_${Date.now()}.${se}`,De=`class-materials/${Z.id}/${he}`,{data:Ze,error:je}=await I.storage.from("class-materials").upload(De,pe,{cacheControl:"3600",upsert:!1});if(je)throw new Error(`Erro no upload: ${je.message}`);const{data:$e}=I.storage.from("class-materials").getPublicUrl(De),ft=$e==null?void 0:$e.publicUrl,{error:Ue}=await I.from("class_materials").insert({appointment_id:J.id,student_id:J.student_id,professor_id:Z.id,material_name:re.trim(),file_name:pe.name,file_url:ft,file_size_bytes:pe.size});if(Ue)throw await I.storage.from("class-materials").remove([De]),new Error(`Erro ao salvar: ${Ue.message}`);s({title:"Material enviado!",description:`"${re}" foi adicionado com sucesso para ${((X=J.student)==null?void 0:X.full_name)||"o aluno"}.`});const{data:Dt}=await I.from("class_materials").select("*").eq("appointment_id",J.id).order("created_at",{ascending:!1});ye(Dt||[]),ce(""),Ce(null),Q&&Q()}catch(Z){console.error("Erro ao enviar PDF:",Z),s({title:"Erro ao enviar",description:Z.message||"Ocorreu um erro ao enviar o material. Tente novamente.",variant:"destructive"})}finally{F(!1)}},rt=()=>{if(!Se)return null;const X=d.studentsWithoutProfessor||[],Z=d.classHistory||[],se=d.packagesExpiringSoon||[],he=d.systemWarnings||[],De=[...d.historicoNotifications||[],...p],Ze=je=>je?je.length:0;return n.jsxs(wt,{className:"mb-6 border-l-4 border-purple-500 shadow-sm",children:[n.jsx(Cs,{className:"pb-3 bg-slate-50/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(_b,{className:"h-6 w-6 text-purple-600"})}),n.jsxs("div",{children:[n.jsx(ks,{className:"text-lg text-slate-800",children:"Painel Administrativo"}),n.jsx(Wr,{children:"Central de controle e monitoramento"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ge,{variant:"outline",className:"text-purple-700 border-purple-300 bg-purple-50",children:[Ze(X)+Ze(se)+Ze(he)," pendncia(s)"]}),n.jsx(K,{variant:"ghost",size:"icon",onClick:Ot,disabled:h,className:ee("h-8 w-8 hover:bg-purple-100 text-purple-600",h&&"animate-spin"),children:n.jsx(Ah,{className:"h-4 w-4"})})]})]})}),n.jsx(bt,{className:"pt-0 px-0",children:n.jsxs(tl,{defaultValue:"sem_prof",className:"w-full",children:[n.jsx("div",{className:"px-6 border-b bg-white sticky top-0 z-10",children:n.jsxs(yl,{className:"w-full justify-start h-12 bg-transparent p-0 gap-6",children:[n.jsx(zr,{value:"sem_prof",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-purple-600 rounded-none h-full px-0 pb-0 text-slate-500 data-[state=active]:text-purple-700",children:n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx(fl,{className:"h-4 w-4"}),n.jsx("span",{children:"Sem Prof"}),Ze(X)>0&&n.jsx(ge,{variant:"secondary",className:"bg-red-100 text-red-700 h-5 px-1.5 min-w-[1.25rem] text-[10px] flex justify-center items-center",children:Ze(X)})]})}),n.jsx(zr,{value:"aulas",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-purple-600 rounded-none h-full px-0 pb-0 text-slate-500 data-[state=active]:text-purple-700",children:n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx(Ka,{className:"h-4 w-4"}),n.jsx("span",{children:"Aulas"})]})}),n.jsx(zr,{value:"vencendo",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-purple-600 rounded-none h-full px-0 pb-0 text-slate-500 data-[state=active]:text-purple-700",children:n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx(tr,{className:"h-4 w-4"}),n.jsx("span",{children:"Vencendo"}),Ze(se)>0&&n.jsx(ge,{variant:"secondary",className:"bg-amber-100 text-amber-700 h-5 px-1.5 min-w-[1.25rem] text-[10px] flex justify-center items-center",children:Ze(se)})]})}),n.jsx(zr,{value:"avisos",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-purple-600 rounded-none h-full px-0 pb-0 text-slate-500 data-[state=active]:text-purple-700",children:n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx(Xa,{className:"h-4 w-4"}),n.jsx("span",{children:"Avisos"}),Ze(he)>0&&n.jsx(ge,{variant:"secondary",className:"bg-orange-100 text-orange-700 h-5 px-1.5 min-w-[1.25rem] text-[10px] flex justify-center items-center",children:Ze(he)})]})}),n.jsx(zr,{value:"historico",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-purple-600 rounded-none h-full px-0 pb-0 text-slate-500 data-[state=active]:text-purple-700 ml-auto",children:n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx(m3,{className:"h-4 w-4"}),n.jsx("span",{children:"Histrico"})]})})]})}),h?n.jsxs("div",{className:"flex justify-center items-center py-12",children:[n.jsx(Fe,{className:"h-8 w-8 animate-spin text-purple-600"}),n.jsx("span",{className:"ml-3 text-sm text-slate-500",children:"Atualizando painel..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Ms,{value:"sem_prof",className:"p-0",children:n.jsx(Ta,{className:"h-[300px] w-full",children:n.jsx("div",{className:"p-6",children:X.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center text-slate-500",children:[n.jsx(Bu,{className:"h-12 w-12 text-green-100 text-green-500 mb-2"}),n.jsx("p",{children:"Tudo certo! Todos os alunos tm professor."})]}):n.jsx("div",{className:"space-y-3",children:X.map(je=>{var $e;return n.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border shadow-sm hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(sr,{className:"h-10 w-10 border",children:n.jsx(rr,{className:"bg-purple-100 text-purple-700 font-bold",children:($e=je.full_name)==null?void 0:$e[0]})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-800",children:je.full_name}),n.jsx("p",{className:"text-sm text-slate-500",children:"Aguardando vinculao"})]})]}),n.jsxs(K,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white",onClick:()=>fe(je),children:[n.jsx(Ra,{className:"h-4 w-4 mr-2"}),"Vincular"]})]},je.id)})})})})}),n.jsx(Ms,{value:"aulas",className:"p-0",children:n.jsx(Ta,{className:"h-[300px] w-full",children:n.jsx("div",{className:"p-6",children:Z.length===0?n.jsx("div",{className:"text-center py-8 text-slate-500",children:"Nenhuma aula recente registrada."}):n.jsx("div",{className:"space-y-3",children:Z.map(je=>{var $e;return n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg text-sm",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:ee("p-1.5 rounded-full",je.status==="completed"?"bg-green-100 text-green-600":je.status==="missed"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"),children:je.status==="completed"?n.jsx(Fa,{className:"h-4 w-4"}):je.status==="missed"?n.jsx(Gr,{className:"h-4 w-4"}):n.jsx(is,{className:"h-4 w-4"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-slate-700",children:($e=je.student)==null?void 0:$e.full_name}),n.jsx("p",{className:"text-xs text-slate-500",children:le(new Date(je.class_datetime),"dd 'de' MMMM 's' HH:mm",{locale:ot})})]})]}),n.jsx(ge,{variant:"outline",className:"capitalize",children:je.status})]},je.id)})})})})}),n.jsx(Ms,{value:"vencendo",className:"p-0",children:n.jsx(Ta,{className:"h-[300px] w-full",children:n.jsx("div",{className:"p-6",children:se.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center text-slate-500",children:[n.jsx(Bu,{className:"h-10 w-10 text-slate-200 mb-2"}),n.jsx("p",{children:"Nenhum pacote vencendo em breve."})]}):n.jsx("div",{className:"space-y-3",children:se.map(je=>{var $e,ft;return n.jsxs("div",{className:"flex items-center justify-between p-4 bg-amber-50/50 border border-amber-100 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Th,{className:"h-8 w-8 text-amber-500 opacity-80"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-slate-800",children:je.custom_package_name||(($e=je.package_def)==null?void 0:$e.name)||"Pacote"}),n.jsxs("p",{className:"text-sm text-slate-600",children:["Aluno: ",(ft=je.student)==null?void 0:ft.full_name]}),n.jsxs("p",{className:"text-xs text-amber-600 font-medium mt-0.5",children:["Vence ",Gu(new Date(je.expiration_date),{locale:ot,addSuffix:!0})]})]})]}),n.jsxs(K,{variant:"outline",size:"sm",onClick:()=>{var Ue;return ne({type:"package_expiration",message:`Pacote expirando visto: ${(Ue=je.student)==null?void 0:Ue.full_name}`,details:{package_id:je.id},student_id:je.student_id})},disabled:g,className:"text-amber-700 border-amber-200 hover:bg-amber-100",children:[n.jsx(ii,{className:"h-4 w-4 mr-2"}),"Marcar Visto"]})]},je.id)})})})})}),n.jsx(Ms,{value:"avisos",className:"p-0",children:n.jsx(Ta,{className:"h-[300px] w-full",children:n.jsx("div",{className:"p-6",children:he.length===0?n.jsx("div",{className:"text-center py-8 text-slate-500",children:"Nenhum aviso do sistema."}):n.jsx("div",{className:"space-y-3",children:he.map(je=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50/50 border border-red-100 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Xa,{className:"h-5 w-5 text-red-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-slate-800",children:je.message}),n.jsx("p",{className:"text-xs text-slate-500",children:Gu(new Date(je.created_at),{locale:ot,addSuffix:!0})})]})]}),n.jsx(K,{variant:"ghost",size:"sm",onClick:()=>ne(je),disabled:g,className:"text-red-600 hover:bg-red-100",children:"Resolvido"})]},je.id))})})})}),n.jsx(Ms,{value:"historico",className:"p-0",children:n.jsx(Ta,{className:"h-[300px] w-full",children:n.jsx("div",{className:"p-6",children:De.length===0?n.jsxs("div",{className:"text-center py-8 text-slate-500",children:[n.jsx(Ka,{className:"h-8 w-8 mx-auto text-slate-300 mb-2"}),n.jsx("p",{children:"Histrico vazio."})]}):n.jsx("div",{className:"space-y-2",children:De.map((je,$e)=>n.jsx("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded border border-slate-100 opacity-75 grayscale-[0.5] hover:opacity-100 transition-opacity",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-1.5 bg-slate-200 rounded-full",children:n.jsx(Fa,{className:"h-3 w-3 text-slate-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-700",children:je.message||je.titulo||"Item resolvido"}),n.jsxs("p",{className:"text-xs text-slate-500",children:["Resolvido ",je.resolved_at?le(new Date(je.resolved_at),"dd/MM HH:mm"):"Recentemente"]})]})]})},je.id||$e))})})})})]})]})})]})};if(Ne&&Se)return n.jsx("div",{className:"w-full",children:n.jsxs("div",{className:"w-full px-4 lg:px-8",children:[rt(),n.jsx(Qt,{open:b,onOpenChange:v,children:n.jsxs(Vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsxs(zt,{className:"flex items-center gap-2",children:[n.jsx(Ra,{className:"h-5 w-5 text-green-600"}),"Vincular Professor ao Aluno",n.jsxs(ge,{variant:"outline",className:"ml-2",children:["Passo ",V," de 2"]})]}),n.jsx(ds,{children:V===1?"Informe as preferncias de horrio do aluno para encontrar professores compatveis":"Selecione um professor da lista de compatveis"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(sr,{className:"h-12 w-12",children:n.jsx(rr,{className:"bg-blue-100 text-blue-700 text-lg font-bold",children:(gt=y==null?void 0:y.full_name)==null?void 0:gt[0]})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-lg",children:y==null?void 0:y.full_name}),n.jsxs("p",{className:"text-sm text-slate-500",children:["Cdigo: ",(y==null?void 0:y.student_code)||"N/A"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Idioma"}),n.jsx("p",{className:"font-medium text-slate-800",children:"Espaol"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Nvel"}),n.jsx("p",{className:"font-medium text-slate-800",children:(y==null?void 0:y.spanish_level)||"A definir"})]}),(y==null?void 0:y.phone)&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500",children:"Telefone"}),n.jsx("p",{className:"font-medium text-slate-800",children:y==null?void 0:y.phone})]}),(y==null?void 0:y.email)&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500",children:"E-mail"}),n.jsx("p",{className:"font-medium text-slate-800",children:y==null?void 0:y.email})]})]})]}),V===1&&n.jsx("div",{className:"text-center py-4 text-slate-600",children:n.jsx("p",{className:"text-sm",children:'Clique em "Buscar Professores" para ver os professores disponveis para este aluno.'})}),V===2&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[n.jsx("p",{className:"text-sm text-blue-800 font-semibold mb-2",children:"Agenda Desejada pelo Aluno:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:E.days.length>0?E.days.map(X=>{var Z;return n.jsxs(ge,{variant:"outline",className:"bg-white border-blue-300 text-blue-700",children:[ac[X]," s ",((Z=y==null?void 0:y.preferred_schedule)==null?void 0:Z[X])||E.time]},X)}):n.jsx("span",{className:"text-xs text-slate-500 italic",children:"Nenhuma preferncia definida"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Ie,{className:"text-base font-semibold",children:["Professores Compatveis (",O.length,")"]}),O.length>0?n.jsx(Ta,{className:"h-[250px]",children:n.jsx("div",{className:"space-y-2 pr-4",children:O.map((X,Z)=>{var se,he,De,Ze,je;return n.jsxs("div",{onClick:()=>{var $e;C(($e=X.professor)==null?void 0:$e.id)},className:ee("p-3 rounded-lg border-2 cursor-pointer transition-all",_===((se=X.professor)==null?void 0:se.id)?"bg-green-50 border-green-500":"bg-white border-slate-200 hover:border-slate-400"),children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(sr,{className:"h-10 w-10",children:n.jsx(rr,{className:ee(X.matchPercentage===100?"bg-green-500 text-white":X.matchPercentage>=50?"bg-yellow-500 text-white":"bg-slate-500 text-white"),children:(De=(he=X.professor)==null?void 0:he.full_name)==null?void 0:De[0]})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:(Ze=X.professor)==null?void 0:Ze.full_name}),n.jsxs("p",{className:"text-xs text-slate-500",children:[X.matchedDaysCount," de ",X.totalDaysRequested," dias disponveis"]})]})]}),n.jsxs(ge,{className:ee("text-sm",X.matchPercentage===100?"bg-green-500":X.matchPercentage>=50?"bg-yellow-500":"bg-orange-500"),children:[X.matchPercentage,"% match"]})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[X.matchedSlots.slice(0,6).map(($e,ft)=>{var Ue;return n.jsxs(ge,{variant:"outline",className:"text-xs bg-green-50",children:[ac[$e.day_of_week]," ",(Ue=$e.start_time)==null?void 0:Ue.substring(0,5)]},ft)}),X.matchedSlots.length>6&&n.jsxs(ge,{variant:"outline",className:"text-xs",children:["+",X.matchedSlots.length-6]})]})]},((je=X.professor)==null?void 0:je.id)||Z)})})}):n.jsxs(Vn,{variant:"destructive",children:[n.jsx(Xa,{className:"h-4 w-4"}),n.jsx(pa,{children:"Nenhum professor encontrado"}),n.jsx(Bn,{children:"Tente ajustar os dias ou horrio de preferncia."})]})]}),_&&Y&&n.jsxs(Vn,{className:"bg-green-50 border-green-200",children:[n.jsx(Bu,{className:"h-4 w-4 text-green-600"}),n.jsxs(Bn,{className:"text-green-800",children:[n.jsx("strong",{children:(fs=jt.find(X=>X.id===_))==null?void 0:fs.full_name})," - Disponvel: ",Y.daysCovered]})]})]})]}),n.jsx(Ds,{className:"gap-2",children:V===1?n.jsxs(n.Fragment,{children:[n.jsx(K,{variant:"outline",onClick:()=>v(!1),children:"Cancelar"}),n.jsx(K,{onClick:Le,disabled:E.days.length===0||L,className:"bg-blue-600 hover:bg-blue-700",children:L?n.jsxs(n.Fragment,{children:[n.jsx(Fe,{className:"h-4 w-4 mr-2 animate-spin"}),"Buscando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(li,{className:"h-4 w-4 mr-2"}),"Buscar Professores"]})})]}):n.jsxs(n.Fragment,{children:[n.jsx(K,{variant:"outline",onClick:()=>k(1),children:"Voltar"}),n.jsx(K,{onClick:te,disabled:!_||P,className:"bg-green-600 hover:bg-green-700",children:P?n.jsxs(n.Fragment,{children:[n.jsx(Fe,{className:"h-4 w-4 mr-2 animate-spin"}),"Vinculando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ra,{className:"h-4 w-4 mr-2"}),"Vincular Professor"]})})]})})]})})]})});const nt=f.useMemo(()=>{const X=dt(),Z=new Date(X.getFullYear(),X.getMonth(),1),se=new Date(X.getFullYear(),X.getMonth()+1,0,23,59,59),he=Oe.filter(ft=>{const Ue=new Date(ft.class_datetime);return Ue>=Z&&Ue<=se}),De=he.filter(ft=>ft.status==="completed").length,Ze=he.filter(ft=>ft.status==="missed").length,je=he.filter(ft=>["scheduled","rescheduled"].includes(ft.status)).length,$e=he.length||1;return{total:$e,completed:De,missed:Ze,scheduled:je,completedPercent:Math.round(De/$e*100),missedPercent:Math.round(Ze/$e*100),scheduledPercent:Math.round(je/$e*100)}},[Oe]);return n.jsx("div",{className:"w-full",children:n.jsxs("div",{className:"w-full px-4 lg:px-8",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-6",children:[rt(),n.jsxs(wt,{className:"shadow-sm h-[400px] flex flex-col border-l-4 border-l-sky-500",children:[n.jsxs(Cs,{className:"pb-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(ks,{className:"text-lg font-bold text-slate-800",children:"Solicitaes Pendentes"}),n.jsxs(ge,{className:ee("px-3 py-1 text-sm font-semibold",o.length>0?"bg-sky-500 text-white":"bg-slate-100 text-slate-600"),children:[o.length," pendentes"]})]}),n.jsx(Wr,{children:"Solicitaes de aulas aguardando sua aprovao"})]}),n.jsx(bt,{className:"flex-1 overflow-y-auto",children:Ke?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx(Fe,{className:"w-6 h-6 animate-spin text-slate-400"})}):o.length>0?n.jsx("div",{className:"space-y-3",children:o.map(X=>{var Z,se,he,De;return n.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(sr,{className:"h-10 w-10",children:[n.jsx(Jr,{src:(Z=X.profile)==null?void 0:Z.avatar_url}),n.jsx(rr,{className:"bg-blue-100 text-blue-700",children:(he=(se=X.profile)==null?void 0:se.full_name)==null?void 0:he[0]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-slate-800",children:(De=X.profile)==null?void 0:De.full_name}),U(X.horarios_propuestos)]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(K,{size:"sm",variant:"outline",className:"text-green-600 border-green-600 hover:bg-green-50",onClick:()=>ie(X.solicitud_id,"Aceita"),disabled:r===X.solicitud_id,children:r===X.solicitud_id?n.jsx(Fe,{className:"w-4 h-4 animate-spin"}):n.jsx(Fa,{className:"w-4 h-4"})}),n.jsx(K,{size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",onClick:()=>ie(X.solicitud_id,"Rejeitada"),disabled:r===X.solicitud_id,children:r===X.solicitud_id?n.jsx(Fe,{className:"w-4 h-4 animate-spin"}):n.jsx(Gr,{className:"w-4 h-4"})})]})]},X.solicitud_id)})}):n.jsxs("div",{className:"text-center py-10",children:[n.jsx(g3,{className:"w-16 h-16 mx-auto mb-3 text-slate-300"}),n.jsx("p",{className:"text-slate-500",children:"No h solicitaes pendentes no momento"})]})})]}),n.jsxs(wt,{className:"shadow-sm h-[400px] flex flex-col border-l-4 border-l-sky-500",children:[n.jsxs(Cs,{className:"pb-3",children:[n.jsx(ks,{className:"text-lg font-bold text-slate-800",children:"Aulas em seguida"}),n.jsx(Wr,{children:"Prximas aulas agendadas"})]}),n.jsx(bt,{className:"flex-1 overflow-y-auto",children:Ke?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx(Fe,{className:"w-6 h-6 animate-spin text-slate-400"})}):Ps.length>0?n.jsx("div",{className:"space-y-4",children:Ps.slice(0,5).map(X=>{var Ze,je;const Z=ze(X.class_datetime),se=le(Z,"EEEE, d 'de' MMMM",{locale:ot}),he=le(Z,"HH:mm"),De=le(new Date(Z.getTime()+(X.duration_minutes||30)*6e4),"HH:mm");return n.jsxs("div",{className:"p-4 border rounded-lg bg-white hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-bold text-sky-700",children:["Espaol - ",((Ze=X.student)==null?void 0:Ze.spanish_level)||"Bsico"]}),n.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[n.jsx("span",{className:"font-medium",children:"Aluno:"})," ",((je=X.student)==null?void 0:je.full_name)||"N/A"]}),n.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-slate-500",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(tc,{className:"w-3 h-3"}),se]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(tr,{className:"w-3 h-3"}),he," - ",De]})]})]}),n.jsx(ge,{className:"bg-sky-100 text-sky-700 border-sky-200",children:"Efetiva"})]}),n.jsx("div",{className:"mt-3 pt-3 border-t flex justify-end",children:n.jsxs(K,{variant:"ghost",size:"sm",className:"text-slate-500 hover:text-slate-700",onClick:()=>ue(X),children:[n.jsx(Rs,{className:"w-4 h-4 mr-1"}),"Adicionar Material PDF"]})})]},X.id)})}):n.jsxs("div",{className:"text-center py-10",children:[n.jsx(tc,{className:"w-16 h-16 mx-auto mb-3 text-slate-300"}),n.jsx("p",{className:"text-slate-500",children:"Nenhuma aula agendada no momento"})]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(wt,{className:"shadow-sm h-[400px] flex flex-col border-l-4 border-l-sky-500",children:[n.jsx(Cs,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ks,{className:"text-lg font-bold text-slate-800",children:"Prxima Aula"}),pt&&n.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Comea ",Gu(new Date(pt.class_datetime),{locale:ot,addSuffix:!0})]})]}),pt&&n.jsx(ge,{className:"bg-sky-100 text-sky-700 border-sky-200",children:"Efetiva"})]})}),n.jsx(bt,{className:"flex-1 overflow-y-auto",children:Ke?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx(Fe,{className:"w-6 h-6 animate-spin text-slate-400"})}):pt?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-xl font-bold text-sky-700",children:["Espaol - ",((hs=pt.student)==null?void 0:hs.spanish_level)||"Bsico"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-400 uppercase font-semibold",children:"Aluno"}),n.jsx("p",{className:"font-semibold text-slate-800 uppercase",children:((en=pt.student)==null?void 0:en.full_name)||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-400 uppercase font-semibold",children:"Durao"}),n.jsxs("p",{className:"font-semibold text-slate-800",children:[pt.duration_minutes||45,"m"]})]})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[n.jsx(tc,{className:"w-4 h-4 text-slate-400"}),le(new Date(pt.class_datetime),"EEEE, d 'de' MMMM",{locale:ot})]}),n.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[n.jsx(tr,{className:"w-4 h-4 text-slate-400"}),le(new Date(pt.class_datetime),"HH'h'mm")," - ",le(new Date(new Date(pt.class_datetime).getTime()+(pt.duration_minutes||45)*6e4),"HH'h'mm")]}),n.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[n.jsx("span",{className:"text-xs uppercase font-semibold text-slate-400",children:"Nvel:"}),n.jsx("span",{children:((cr=pt.student)==null?void 0:cr.spanish_level)||"Intermedirio"})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsxs(K,{variant:"outline",className:"flex-1",onClick:()=>ue(pt),children:[n.jsx(Rs,{className:"w-4 h-4 mr-2"}),"PDF Aulas"]}),n.jsx(K,{asChild:!0,className:"flex-1 bg-emerald-500 hover:bg-emerald-600",children:n.jsx("a",{href:(e==null?void 0:e.meeting_link)||"https://meet.google.com/tmi-xwmg-kua",target:"_blank",rel:"noopener noreferrer",children:"Iniciar Aula"})})]})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(tc,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),n.jsx("p",{className:"text-slate-500",children:"Nenhuma aula agendada"})]})})]}),n.jsxs(wt,{className:"shadow-sm h-[400px] flex flex-col border-l-4 border-l-sky-500",children:[n.jsxs(Cs,{className:"pb-3",children:[n.jsx(ks,{className:"text-lg font-bold text-slate-800",children:"Aulas no ms"}),n.jsx(Wr,{children:"Total por status referente a todas as aulas do professor"})]}),n.jsx(bt,{className:"flex-1",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Fa,{className:"w-4 h-4 text-emerald-500"}),n.jsxs("span",{className:"text-slate-600",children:[nt.completed,"/",nt.total," Completas"]})]}),n.jsxs("span",{className:"font-semibold text-slate-700",children:[nt.completedPercent,"%"]})]}),n.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2",children:n.jsx("div",{className:"bg-emerald-500 h-2 rounded-full transition-all duration-500",style:{width:`${nt.completedPercent}%`}})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fl,{className:"w-4 h-4 text-orange-500"}),n.jsxs("span",{className:"text-slate-600",children:[nt.missed,"/",nt.total," Falta Aluno"]})]}),n.jsxs("span",{className:"font-semibold text-slate-700",children:[nt.missedPercent,"%"]})]}),n.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2",children:n.jsx("div",{className:"bg-orange-500 h-2 rounded-full transition-all duration-500",style:{width:`${nt.missedPercent}%`}})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(is,{className:"w-4 h-4 text-sky-500"}),n.jsxs("span",{className:"text-slate-600",children:[nt.scheduled,"/",nt.total," Aulas Agendadas"]})]}),n.jsxs("span",{className:"font-semibold text-slate-700",children:[nt.scheduledPercent,"%"]})]}),n.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2",children:n.jsx("div",{className:"bg-sky-500 h-2 rounded-full transition-all duration-500",style:{width:`${nt.scheduledPercent}%`}})})]})]})})]})]})]}),n.jsxs("div",{className:"mt-10",children:[n.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-6",children:"Atalhos Rpidos"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(wt,{className:"hover:shadow-md transition-all cursor-pointer group border-slate-200",onClick:()=>S(!0),children:n.jsxs(bt,{className:"p-6 flex flex-col items-center text-center",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:n.jsx(td,{className:"w-6 h-6 text-emerald-600"})}),n.jsx("h3",{className:"font-bold text-slate-800 mb-1",children:"My Earnings"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Detalhes de ganhos por aulas agendadas"})]})}),n.jsx(wt,{className:"hover:shadow-md transition-all cursor-pointer group border-slate-200",onClick:()=>t&&t("servicos"),children:n.jsxs(bt,{className:"p-6 flex flex-col items-center text-center",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-sky-100 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:n.jsx(_b,{className:"w-6 h-6 text-sky-600"})}),n.jsx("h3",{className:"font-bold text-slate-800 mb-1",children:"Servios"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Acessar ferramentas e servios disponveis"})]})}),n.jsx(wt,{className:"hover:shadow-md transition-all cursor-pointer group border-slate-200",onClick:()=>t&&t("avisos"),children:n.jsxs(bt,{className:"p-6 flex flex-col items-center text-center",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-rose-100 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:n.jsx(sd,{className:"w-6 h-6 text-rose-600"})}),n.jsx("h3",{className:"font-bold text-slate-800 mb-1",children:"Avisos"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Ver comunicados e notcias importantes"})]})}),n.jsx(wt,{className:"hover:shadow-md transition-all cursor-pointer group border-slate-200",onClick:()=>t&&t("agenda"),children:n.jsxs(bt,{className:"p-6 flex flex-col items-center text-center",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-sky-100 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:n.jsx(is,{className:"w-6 h-6 text-sky-600"})}),n.jsx("h3",{className:"font-bold text-slate-800 mb-1",children:"Agenda"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Visualize sua escala de aulas agendadas"})]})})]})]}),n.jsx(Qt,{open:b,onOpenChange:v,children:n.jsx(Vt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:n.jsx(Bt,{children:n.jsxs(zt,{className:"flex items-center gap-2",children:[n.jsx(Ra,{className:"h-5 w-5 text-green-600"}),"Vincular Professor ao Aluno",n.jsxs(ge,{variant:"outline",className:"ml-2",children:["Passo ",V," de 2"]})]})})})}),n.jsx(Qt,{open:B,onOpenChange:H,children:n.jsxs(Vt,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsxs(zt,{className:"flex items-center gap-2",children:[n.jsx(Rs,{className:"h-5 w-5 text-sky-600"}),"Adicionar Material PDF"]}),n.jsx(ds,{children:((Is=J==null?void 0:J.student)==null?void 0:Is.full_name)&&n.jsxs("span",{children:["Material para aula com ",n.jsx("strong",{children:J.student.full_name})]})})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{htmlFor:"pdf-name",children:"Nome do Material *"}),n.jsx(Je,{id:"pdf-name",placeholder:"Ex: Exerccios Captulo 5",value:re,onChange:X=>ce(X.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{htmlFor:"pdf-file",children:"Arquivo PDF *"}),n.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center hover:border-sky-400 transition-colors",children:[n.jsx("input",{type:"file",id:"pdf-file",accept:".pdf,application/pdf",className:"hidden",onChange:ke}),n.jsxs("label",{htmlFor:"pdf-file",className:"cursor-pointer",children:[n.jsx(Pf,{className:"w-10 h-10 mx-auto mb-2 text-slate-400"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Clique para selecionar ou arraste o arquivo"}),n.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Apenas arquivos PDF"})]})]}),pe&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-sky-50 rounded-lg border border-sky-200",children:[n.jsx(Rs,{className:"w-5 h-5 text-sky-600"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:pe.name}),n.jsxs("p",{className:"text-xs text-slate-500",children:[(pe.size/1024).toFixed(1)," KB"]})]}),n.jsx(K,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ce(null),className:"text-slate-400 hover:text-red-500",children:n.jsx(Gr,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"pt-4 border-t",children:[n.jsxs("h4",{className:"text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2",children:[n.jsx(Ka,{className:"w-4 h-4"}),"Materiais j enviados nesta aula"]}),be?n.jsx("div",{className:"flex justify-center py-4",children:n.jsx(Fe,{className:"w-6 h-6 animate-spin text-slate-300"})}):oe.length>0?n.jsx("div",{className:"space-y-2 max-h-[180px] overflow-y-auto pr-2 custom-scrollbar",children:oe.map(X=>n.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-md bg-slate-50 border border-slate-100 group",children:[n.jsx("div",{className:"p-1.5 bg-white rounded border border-slate-200",children:n.jsx(Rs,{className:"w-4 h-4 text-slate-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-slate-700 truncate",title:X.material_name,children:X.material_name}),n.jsx("p",{className:"text-[10px] text-slate-400 truncate",children:X.file_name})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(K,{variant:"ghost",size:"icon",className:"h-7 w-7 text-slate-400 hover:text-sky-600",asChild:!0,children:n.jsx("a",{href:X.file_url,target:"_blank",rel:"noopener noreferrer",children:n.jsx(kh,{className:"w-3.5 h-3.5"})})}),n.jsx(K,{variant:"ghost",size:"icon",className:"h-7 w-7 text-slate-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",onClick:async()=>{if(window.confirm("Excluir este material?"))try{const Z=X.file_url.split("/public/class-materials/")[1];Z&&await I.storage.from("class-materials").remove([Z]);const{error:se}=await I.from("class_materials").delete().eq("id",X.id);if(se)throw se;ye(he=>he.filter(De=>De.id!==X.id)),s({title:"Material removido"})}catch(Z){console.error(Z),s({title:"Erro ao remover",variant:"destructive"})}},children:n.jsx(ul,{className:"w-3.5 h-3.5"})})]})]},X.id))}):n.jsx("p",{className:"text-xs text-center py-4 text-slate-400 bg-slate-50 rounded-md border border-dashed",children:"Nenhum material enviado para esta aula."})]})]}),n.jsxs(Ds,{children:[n.jsx(K,{onClick:()=>H(!1),children:"Fechar"}),n.jsx(K,{onClick:qe,className:"bg-sky-600 hover:bg-sky-700",disabled:et||!re.trim()||!pe,children:et?n.jsxs(n.Fragment,{children:[n.jsx(Fe,{className:"mr-2 h-4 w-4 animate-spin"})," Enviando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Pf,{className:"mr-2 h-4 w-4"})," Enviar Material"]})})]})]})}),n.jsx(Qt,{open:N,onOpenChange:S,children:n.jsxs(Vt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsxs(zt,{className:"flex items-center gap-2 text-2xl font-bold text-slate-800",children:[n.jsx(td,{className:"h-6 w-6 text-emerald-600"}),"MY EARNINGS"]}),n.jsxs(ds,{children:["Detalhamento de ganhos baseados em aulas completadas (Taxa: R$ ",$.toFixed(2)," / 30 min)"]})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx(wt,{className:"bg-emerald-600 text-white border-none shadow-sm",children:n.jsxs(bt,{className:"p-4 flex flex-col items-center justify-center text-center",children:[n.jsx("p",{className:"text-xs font-semibold opacity-80 uppercase mb-1",children:"Ganhos Totais"}),n.jsxs("h3",{className:"text-2xl font-bold",children:["R$ ",W.totalEarnings.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})}),n.jsx(wt,{className:"bg-sky-600 text-white border-none shadow-sm",children:n.jsxs(bt,{className:"p-4 flex flex-col items-center justify-center text-center",children:[n.jsx("p",{className:"text-xs font-semibold opacity-80 uppercase mb-1",children:"Tempo em Aula"}),n.jsx("h3",{className:"text-2xl font-bold",children:R(W.totalMinutes)})]})}),n.jsx(wt,{className:"bg-purple-600 text-white border-none shadow-sm",children:n.jsxs(bt,{className:"p-4 flex flex-col items-center justify-center text-center",children:[n.jsx("p",{className:"text-xs font-semibold opacity-80 uppercase mb-1",children:"Aulas Completadas"}),n.jsx("h3",{className:"text-2xl font-bold",children:W.totalUnits.toFixed(1)})]})})]}),n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs(xn,{children:[n.jsx(vn,{className:"bg-slate-50",children:n.jsxs(ct,{children:[n.jsx(Pe,{className:"text-xs font-bold uppercase",children:"Aluno"}),n.jsx(Pe,{className:"text-xs font-bold uppercase",children:"Durao"}),n.jsx(Pe,{className:"text-xs font-bold uppercase",children:"Tempo Total"}),n.jsx(Pe,{className:"text-xs font-bold uppercase",children:"Qtd (30m)"}),n.jsx(Pe,{className:"text-xs font-bold uppercase",children:"Unitrio"}),n.jsx(Pe,{className:"text-xs font-bold uppercase text-right",children:"Valor Estimado"})]})}),n.jsx(yn,{children:W.groupedList.length>0?W.groupedList.map((X,Z)=>n.jsxs(ct,{children:[n.jsx(xe,{className:"font-medium text-slate-700",children:X.name}),n.jsxs(xe,{children:[X.typicalDuration," min"]}),n.jsx(xe,{children:R(X.totalMinutes)}),n.jsx(xe,{children:n.jsx(ge,{variant:"outline",children:X.units.toFixed(1)})}),n.jsxs(xe,{className:"text-slate-500",children:["R$ ",$.toFixed(2)]}),n.jsxs(xe,{className:"text-right font-bold text-emerald-600",children:["R$ ",X.earnings.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]},Z)):n.jsx(ct,{children:n.jsx(xe,{colSpan:6,className:"text-center py-8 text-slate-400",children:"Nenhuma aula concluda encontrada."})})})]})})]}),n.jsx(Ds,{children:n.jsx(K,{variant:"outline",onClick:()=>S(!1),children:"Fechar"})})]})})]})})},yo=f.forwardRef(({className:e,...t},s)=>n.jsx("textarea",{className:ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));yo.displayName="Textarea";const Ni=Array.from({length:68},(e,t)=>{const s=420+t*15,r=Math.floor(s/60),a=s%60;return`${String(r).padStart(2,"0")}:${String(a).padStart(2,"0")}`}),RY=({rating:e,setRating:t})=>n.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(s=>n.jsx(Zn,{className:`h-6 w-6 cursor-pointer ${e>=s?"text-yellow-400 fill-yellow-400":"text-gray-300"}`,onClick:()=>t&&t(s)},s))}),OY=({appointment:e,isOpen:t,onClose:s,onFeedbackSent:r})=>{var x,g,w,b;const{toast:a}=Ct(),[o,i]=f.useState(!1),[l,c,d,u]=hi("feedback_draft",{ratings:{fala:0,leitura:0,escrita:0,compreensao:0,audicao:0,gramatica:0,pronuncia:0,vocabulario:0},comment:""}),h=(v,y)=>{u("ratings",{...l.ratings,[v]:y})},m=()=>{d()},p=async()=>{var j,_;const v=l.ratings,y=l.comment;if(Object.values(v).some(C=>C===0)){a({variant:"destructive",title:"Avaliao incompleta",description:"Por favor, preencha todas as estrelas."});return}i(!0);try{const{data:C,error:N}=await I.from("class_feedback").insert([{appointment_id:e.id,professor_id:e.professor_id,student_id:e.student_id,comment:y,...v}]).select().single();if(N)throw N;const{error:S}=await I.from("appointments").update({status:"completed",feedback_id:C.id}).eq("id",e.id);if(S)throw S;const{error:M}=await I.from("assigned_packages_log").insert({professor_id:e.professorId,student_id:e.student_id,package_id:e.customPackageId,assigned_classes:-1,status:"completed",observation:`Dbito de aula concluda: ${le(ze(e.class_datetime),"dd/MM/yyyy HH:mm")}`});M&&console.error("Error creating debit log:",M);const{error:$}=await I.from("notifications").insert({user_id:e.student_id,type:"class_feedback",content:{message:`Sua aula de ${(j=e.student)!=null&&j.spanish_level?"Espanhol":"Ingls"} foi avaliada.`,subject:(_=e.student)!=null&&_.spanish_level?"Espanhol":"Ingls",appointmentId:e.id,ratings:v,comment:y}});$&&console.error("Error creating feedback notification:",$),a({variant:"default",title:"Feedback enviado!",description:"O aluno foi notificado sobre a avaliao."}),m(),r(),s()}catch(C){a({variant:"destructive",title:"Erro ao enviar feedback",description:C.message})}finally{i(!1)}};return e?n.jsx(Qt,{open:t,onOpenChange:s,children:n.jsxs(Vt,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Avaliar Aluno"}),n.jsxs(ds,{className:"flex items-center gap-4 pt-2",children:[n.jsxs(sr,{children:[n.jsx(Jr,{src:(x=e.student)==null?void 0:x.avatar_url}),n.jsx(rr,{children:(w=(g=e.student)==null?void 0:g.full_name)==null?void 0:w[0]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold",children:(b=e.student)==null?void 0:b.full_name}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx(is,{className:"h-3 w-3"})," ",le(ze(e.class_datetime),"dd/MM/yyyy"),n.jsx(tr,{className:"h-3 w-3"})," ",le(ze(e.class_datetime),"HH:mm")]})]})]})]}),n.jsxs("div",{className:"space-y-3 py-4 max-h-[50vh] overflow-y-auto pr-2",children:[Object.keys(l.ratings).map(v=>n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("p",{className:"capitalize text-sm font-medium",children:v.replace("_"," ")}),n.jsx(RY,{rating:l.ratings[v],setRating:y=>h(v,y)})]},v)),n.jsx(yo,{placeholder:"Adicione um comentrio sobre o desempenho do Aluno...",value:l.comment,onChange:v=>u("comment",v.target.value),className:"mt-4"})]}),n.jsx(Ds,{children:n.jsx(K,{onClick:p,disabled:o,className:"bg-sky-600 hover:bg-sky-700 text-white",children:o?n.jsxs(n.Fragment,{children:[n.jsx(Fe,{className:"mr-2 h-4 w-4 animate-spin"})," Salvando..."]}):"Salvar"})})]})}):null},DY=({appointment:e,isOpen:t,onClose:s,onReschedule:r})=>{var $,W,R,Y;const{toast:a}=Ct(),[o,i]=f.useState(!1),[l,c,d,u]=hi("reschedule_draft",{newDate:null,newTime:"",observation:""}),h=l.newDate,m=f.useMemo(()=>h?new Date(h):null,[h]),p=l.newTime,x=l.observation,[g,w]=f.useState(Ni.filter(D=>D>="07:00"&&D<="23:30")),[b,v]=f.useState(!1),[y,j]=f.useState(!1),_=e!=null&&e.class_datetime?ze(e.class_datetime):null,C=_&&e.duration_minutes?le(new Date(_.getTime()+e.duration_minutes*6e4),"HH:mm"):"N/A",N=_?`${le(_,"HH:mm")} - ${C}`:"N/A",S=f.useCallback(async D=>{if(!D||!(e!=null&&e.professorId)||!(e!=null&&e.duration_minutes)){w(Ni.filter(B=>B>="07:00"&&B<="23:30"));return}v(!0);const P=le(D,"yyyy-MM-dd"),A=Hr(D),{data:V,error:k}=await I.from("class_slots").select("start_time").eq("professor_id",e.professorId).eq("day_of_week",A).eq("status","active");if(k){console.error("Error fetching preferred slots:",k),v(!1),w(Ni.filter(B=>B>="07:00"&&B<="23:30"));return}const E=new Set(V.map(B=>B.start_time.substring(0,5))),{data:T,error:z}=await I.from("appointments").select("class_datetime, duration_minutes, id").eq("professor_id",e.professorId).in("status",["scheduled","rescheduled","pending"]).gte("class_datetime",`${P}T00:00:00-03:00`).lte("class_datetime",`${P}T23:59:59-03:00`);if(z){console.error("Error fetching day appointments:",z),v(!1),w(Ni.filter(B=>B>="07:00"&&B<="23:30"));return}const O=new Set,q=e.duration_minutes,L=Math.ceil(q/15);T.forEach(B=>{if(B.id===e.id)return;const H=ze(B.class_datetime),J=B.duration_minutes||q,ae=Math.ceil(J/15);for(let re=0;re<ae;re++){const ce=le(new Date(H.getTime()+re*15*6e4),"HH:mm");O.add(ce)}});const G=Ni.filter(B=>{if(B<"07:00"||B>"23:30")return!1;const H=qh(B,"HH:mm",D);if(Df(dt(),H))return!1;for(let J=0;J<L;J++){const ae=le(Qa(H,{minutes:J*15*6e4}),"HH:mm");if(ae>"23:30"||O.has(ae)||!E.has(ae))return!1}return!0});w(G),v(!1)},[e==null?void 0:e.professorId,e==null?void 0:e.duration_minutes,e==null?void 0:e.id]);f.useEffect(()=>{m&&cx(m)?(S(m),u("newTime","")):w(Ni.filter(D=>D>="07:00"&&D<="23:30"))},[h,S]);const M=async()=>{if(!m||!p){a({variant:"destructive",title:"Campos obrigatrios",description:"Selecione uma nova data e um novo horrio."});return}i(!0);try{const[D,P]=p.split(":").map(Number),A=new Date(m.getFullYear(),m.getMonth(),m.getDate(),D,P,0);if(!cx(A))throw new Error("A data e hora selecionadas so invlidas.");const V=A.toISOString(),{error:k}=await I.from("appointments").update({class_datetime:V,status:"scheduled"}).eq("id",e.id);if(k)throw k;const{error:E}=await I.from("assigned_packages_log").insert({professor_id:e.professorId,student_id:e.student_id,package_id:e.customPackageId,assigned_classes:1,status:"rescheduled_credit",observation:`Crdito devolvido pela remarcao (Prof.) da aula original em ${le(ze(e.class_datetime),"dd/MM/yyyy")}. Novo horrio: ${le(m,"dd/MM/yyyy")} ${p}. Motivo: ${x}`});E&&console.error("Error creating credit log:",E),await I.from("notifications").insert({user_id:e.student_id,type:"class_rescheduled",content:{message:`Sua aula foi reagendada pelo professor para ${le(m,"dd/MM/yyyy")} s ${p}.`,newDateTime:V,oldDateTime:e.class_datetime}}),a({variant:"default",title:"Aula Reagendada!",description:`Aula de ${e.student.full_name} reagendada para ${le(m,"dd/MM/yyyy")} s ${p}.`}),d(),r(),s()}catch(D){a({variant:"destructive",title:"Erro ao salvar reagendamento",description:D.message})}finally{i(!1)}};return e?n.jsx(Qt,{open:t,onOpenChange:s,children:n.jsxs(Vt,{className:"sm:max-w-[480px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Reagendar Aula"}),n.jsx(ds,{className:"pt-2",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(sr,{children:[n.jsx(Jr,{src:($=e.student)==null?void 0:$.avatar_url}),n.jsx(rr,{children:(R=(W=e.student)==null?void 0:W.full_name)==null?void 0:R[0]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-slate-800",children:(Y=e.student)==null?void 0:Y.full_name}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx(is,{className:"h-3 w-3"})," ",le(ze(e.class_datetime),"dd/MM/yyyy"),n.jsx(tr,{className:"h-3 w-3"})," ",N]})]})]})})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-sky-600 flex items-center",children:"Nova Data"}),n.jsxs(Oa,{open:y,onOpenChange:j,children:[n.jsx(Da,{asChild:!0,children:n.jsxs(K,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[n.jsx(is,{className:"mr-2 h-4 w-4"}),m?le(m,"dd/MM/yyyy",{locale:ot}):n.jsx("span",{children:"dd/mm/aaaa"})]})}),n.jsx(ea,{className:"w-auto p-0",children:n.jsx(Hi,{mode:"single",selected:m,onSelect:D=>{u("newDate",D?D.toISOString():null),j(!1)},initialFocus:!0,locale:ot,disabled:D=>D<new Date})})]}),n.jsx("h4",{className:"text-sm font-semibold text-sky-600 flex items-center",children:"Novo Horrio"}),n.jsxs(Ut,{onValueChange:D=>u("newTime",D),value:p,disabled:b||!m,children:[n.jsx(At,{className:"w-full",children:n.jsx(Ht,{placeholder:b?"Carregando horrios...":"Selecione um horrio disponvel..."})}),n.jsx(Mt,{className:"max-h-60 overflow-y-auto",children:g.length>0?g.map(D=>n.jsx(we,{value:D,children:D},D)):n.jsx("div",{className:"p-2 text-center text-slate-500",children:m?"Nenhum horrio disponvel nas preferncias.":"Selecione uma data primeiro."})})]}),n.jsx("h4",{className:"text-sm font-semibold text-sky-600 mt-6",children:"Descrio"}),n.jsx(yo,{placeholder:"Descreva o motivo do reagendamento...",value:x,onChange:D=>u("observation",D.target.value)})]}),n.jsx(Ds,{children:n.jsx(K,{onClick:M,disabled:o||!m||!p,className:"bg-sky-600 hover:bg-sky-700",children:o?n.jsxs(n.Fragment,{children:[n.jsx(Fe,{className:"mr-2 h-4 w-4 animate-spin"})," Salvar"]}):"Salvar"})})]})}):null},j1=({dashboardData:e})=>{var te,ie;const{toast:t}=Ct(),[s,r]=f.useState(""),[a,o]=f.useState(null),[i,l]=f.useState("TODAS"),[c,d]=f.useState("all"),[u,h]=f.useState(null),[m,p]=f.useState(!1),[x,g]=f.useState(!1),[w,b]=f.useState(!1),[v,y]=f.useState(""),[j,_]=f.useState(""),[C,N]=f.useState(1),[S,M]=f.useState(10),$=(e==null?void 0:e.data)||{},W=(e==null?void 0:e.loading)||!1,R=e==null?void 0:e.professorId,Y=e==null?void 0:e.onUpdate,D=(e==null?void 0:e.isSuperadmin)||!1,P=$.professors||[],A=$.appointments||[],V=$.packages||[],k=$.can_manage_classes!==!1,E=e==null?void 0:e.globalProfessorFilter,[T,z]=f.useState("all"),O=E&&E!=="all"?E:T,[q,L]=f.useState(null),[G,B]=f.useState(!1),[H,J]=f.useState(!1),[ae,re]=f.useState(null),[ce,pe]=f.useState(""),[Ce,et]=f.useState(null),[F,oe]=f.useState(!1),[ye,be]=f.useState([]),[_e,We]=f.useState(!1);f.useEffect(()=>{(async()=>{if(!D||T==="all"){L(null);return}B(!0);try{const{data:ue,error:ke}=await I.from("class_slots").select("*").eq("professor_id",T).in("status",["active","filled"]);if(ke)throw ke;const qe=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],rt={};for(let tt=0;tt<7;tt++)rt[tt]={name:qe[tt],active:[],filled:[]};(ue||[]).forEach(tt=>{const gt=tt.day_of_week;rt[gt]&&(tt.status==="active"?rt[gt].active.push(tt):tt.status==="filled"&&rt[gt].filled.push(tt))}),Object.keys(rt).forEach(tt=>{rt[tt].active.sort((gt,fs)=>(gt.start_time||"").localeCompare(fs.start_time||"")),rt[tt].filled.sort((gt,fs)=>(gt.start_time||"").localeCompare(fs.start_time||""))});const nt=P.find(tt=>tt.id===T);L({professor:nt,slotsByDay:rt,totalActive:(ue||[]).filter(tt=>tt.status==="active").length,totalFilled:(ue||[]).filter(tt=>tt.status==="filled").length})}catch(ue){console.error("Error loading professor agenda:",ue)}finally{B(!1)}})()},[T,D,P]);const Ye=[{value:"all",label:"Todos os status"},{value:"scheduled",label:"Agendada"},{value:"completed",label:"Concluda"},{value:"missed",label:"Faltou"},{value:"canceled",label:"Cancelada"},{value:"refunded",label:"Reembolsada"}],Ke=()=>{Y&&Y()},Q=async U=>{re(U),pe(""),et(null),J(!0),We(!0);try{const{data:ue}=await I.from("class_materials").select("*").eq("appointment_id",U.id).order("created_at",{ascending:!1});be(ue||[])}catch(ue){console.error("Erro ao carregar materiais:",ue)}finally{We(!1)}},Se=U=>{var ke;const ue=(ke=U.target.files)==null?void 0:ke[0];if(ue){if(ue.type!=="application/pdf"){t({title:"Arquivo invlido",description:"Por favor, selecione um arquivo PDF.",variant:"destructive"});return}et(ue)}},Ne=async()=>{if(!ce.trim()){t({title:"Nome obrigatrio",description:"Por favor, insira o nome do material.",variant:"destructive"});return}if(!Ce){t({title:"Arquivo obrigatrio",description:"Por favor, selecione um arquivo PDF.",variant:"destructive"});return}if(!(ae!=null&&ae.id)||!(ae!=null&&ae.student_id)){t({title:"Erro",description:"Informaes da aula no encontradas.",variant:"destructive"});return}oe(!0);try{const{data:{user:U}}=await I.auth.getUser();if(!U)throw new Error("Usurio no autenticado");const ue=Ce.name.split(".").pop(),ke=`${ae.id}_${Date.now()}.${ue}`,qe=`class-materials/${U.id}/${ke}`,{data:rt,error:nt}=await I.storage.from("class-materials").upload(qe,Ce,{cacheControl:"3600",upsert:!1});if(nt)throw new Error(`Erro no upload: ${nt.message}`);const{data:tt}=I.storage.from("class-materials").getPublicUrl(qe),gt=tt==null?void 0:tt.publicUrl,{error:fs}=await I.from("class_materials").insert({appointment_id:ae.id,student_id:ae.student_id,professor_id:U.id,material_name:ce.trim(),file_name:Ce.name,file_url:gt,file_size_bytes:Ce.size});if(fs)throw await I.storage.from("class-materials").remove([qe]),new Error(`Erro ao salvar: ${fs.message}`);t({title:"Material enviado!",description:`"${ce}" foi adicionado com sucesso.`});const{data:hs}=await I.from("class_materials").select("*").eq("appointment_id",ae.id).order("created_at",{ascending:!1});be(hs||[]),pe(""),et(null),Y&&Y()}catch(U){console.error("Erro ao enviar PDF:",U),t({title:"Erro ao enviar",description:U.message||"Ocorreu um erro ao enviar o material.",variant:"destructive"})}finally{oe(!1)}},Oe=f.useMemo(()=>{var U;return(U=V.find(ue=>ue.name==="Personalizado"))==null?void 0:U.id},[V]),xt=()=>le(dt(),"yyyy-MM-dd"),jt=()=>le(js(dt(),1),"yyyy-MM-dd"),ut=()=>{(v||j)&&l("TODAS"),b(!1),N(1)},Wt=U=>{l(U),o(null),N(1)},pt=async U=>{var qe;if(!window.confirm(`Tem certeza que deseja marcar a aula de ${((qe=U.student)==null?void 0:qe.full_name)||"este aluno"} como FALTA? Esta ao no pode ser desfeita e consumir um crdito do aluno.`))return;const{error:ue}=await I.from("appointments").update({status:"missed"}).eq("id",U.id);if(ue){t({variant:"destructive",title:"Erro ao marcar falta",description:ue.message});return}const{error:ke}=await I.from("assigned_packages_log").insert({professor_id:R,student_id:U.student_id,package_id:Oe,assigned_classes:-1,status:"missed",observation:`Dbito de falta: ${le(ze(U.class_datetime),"dd/MM/yyyy HH:mm")}`});ke&&console.error("Error creating debit log for missed class:",ke),await I.from("notifications").insert({user_id:U.student_id,type:"class_missed",content:{message:`Sua aula de ${le(ze(U.class_datetime),"dd/MM/yyyy")} foi marcada como falta.`}}),t({variant:"default",title:"Aula marcada como falta!"}),Ke()},Ps=U=>{h({...U,customPackageId:Oe,professorId:U.professor_id}),g(!0)},Ot=f.useMemo(()=>(A||[]).filter(U=>{var nt,tt;const ue=!s||((tt=(nt=U.student)==null?void 0:nt.full_name)==null?void 0:tt.toLowerCase().includes(s.toLowerCase()));let ke=!0;if(v||j)if(U.class_datetime){const gt=le(ze(U.class_datetime),"yyyy-MM-dd");v&&j?ke=gt>=v&&gt<=j:v?ke=gt>=v:j&&(ke=gt<=j)}else ke=!1;else a?ke=U.class_datetime&&le(ze(U.class_datetime),"yyyy-MM-dd")===le(new Date(a),"yyyy-MM-dd"):i==="HOJE"?ke=U.class_datetime&&le(ze(U.class_datetime),"yyyy-MM-dd")===xt():i==="AMANHA"&&(ke=U.class_datetime&&le(ze(U.class_datetime),"yyyy-MM-dd")===jt());let qe=!0;c&&c!=="all"&&(qe=U.status===c||c==="canceled"&&(U.status==="canceled"||U.status==="cancelled"));let rt=!0;return D?O!=="all"&&(rt=U.professor_id===O):rt=U.professor_id===R,ue&&ke&&qe&&rt}).sort((U,ue)=>new Date(U.class_datetime)-new Date(ue.class_datetime)),[A,s,a,i,c,v,j,D,R,O]),ne=Math.ceil(Ot.length/S),fe=f.useMemo(()=>{const U=(C-1)*S;return Ot.slice(U,U+S)},[Ot,C,S]);f.useEffect(()=>{N(1)},[s,a,i,c]);const Le=U=>{h({...U,customPackageId:Oe,professorId:R}),p(!0)},Ve=({status:U})=>{switch(U){case"scheduled":return n.jsx(ge,{className:"bg-sky-500 hover:bg-sky-600 text-white",children:"Agendada"});case"completed":return n.jsx(ge,{className:"bg-green-500 hover:bg-green-600 text-white",children:"Concluda"});case"canceled":case"cancelled":return n.jsx(ge,{variant:"destructive",children:"Cancelada"});case"missed":return n.jsx(ge,{className:"bg-orange-500 hover:bg-orange-600 text-white",children:"Faltou"});case"rescheduled":return n.jsx(ge,{className:"bg-purple-500 hover:bg-purple-600 text-white",children:"Reagendada"});case"refunded":return n.jsx(ge,{className:"bg-pink-500 hover:bg-pink-600 text-white",children:"Reembolsada"});default:return n.jsx(ge,{variant:"secondary",children:U})}};return n.jsxs("div",{className:"w-full px-4 lg:px-8 bg-white p-6 rounded-lg shadow-sm",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-slate-800",children:["Aulas",n.jsxs("span",{className:"ml-2 text-lg font-normal text-slate-500",children:["(",Ot.length," ",Ot.length===1?"aula":"aulas",")"]})]}),n.jsx("p",{className:"text-sm text-slate-500",children:D?"Visualizando todas as aulas de todos os professores e alunos":"Por aqui  possvel visualizar todas as suas aulas."})]}),D&&n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(ge,{className:"bg-sky-500 text-white",children:["Agendadas: ",A.filter(U=>U.status==="scheduled").length]}),n.jsxs(ge,{className:"bg-green-500 text-white",children:["Concludas: ",A.filter(U=>U.status==="completed").length]}),n.jsxs(ge,{className:"bg-orange-500 text-white",children:["Faltas: ",A.filter(U=>U.status==="missed").length]}),n.jsxs(ge,{variant:"destructive",children:["Canceladas: ",A.filter(U=>["canceled","cancelled"].includes(U.status)).length]})]})]})}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[n.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-[300px]",children:[n.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),n.jsx(Je,{placeholder:"Pesquisar por Aluno",value:s,onChange:U=>r(U.target.value),className:"pl-10 border-slate-300 focus:border-sky-500 focus:ring-sky-500"})]}),n.jsxs("div",{className:"flex items-center border rounded-lg overflow-hidden",children:[n.jsx(K,{variant:i==="HOJE"?"default":"ghost",size:"sm",onClick:()=>Wt("HOJE"),className:ee("rounded-none border-r px-4 h-10",i==="HOJE"?"bg-sky-500 hover:bg-sky-600 text-white":"text-slate-600 hover:bg-slate-100"),children:"Hoje"}),n.jsx(K,{variant:i==="AMANHA"?"default":"ghost",size:"sm",onClick:()=>Wt("AMANHA"),className:ee("rounded-none border-r px-4 h-10",i==="AMANHA"?"bg-sky-500 hover:bg-sky-600 text-white":"text-slate-600 hover:bg-slate-100"),children:"Amanh"}),n.jsx(K,{variant:i==="TODAS"?"default":"ghost",size:"sm",onClick:()=>Wt("TODAS"),className:ee("rounded-none px-4 h-10",i==="TODAS"?"bg-sky-500 hover:bg-sky-600 text-white":"text-slate-600 hover:bg-slate-100"),children:"Todas"})]}),n.jsxs(Ut,{value:c,onValueChange:d,children:[n.jsx(At,{className:"w-[220px] border-slate-300",children:n.jsx(Ht,{placeholder:"Selecione o status da aula"})}),n.jsx(Mt,{children:Ye.map(U=>n.jsx(we,{value:U.value,children:U.label},U.value))})]}),D&&P.length>0&&n.jsxs(Ut,{value:T,onValueChange:z,children:[n.jsxs(At,{className:"w-[200px] border-slate-300",children:[n.jsx(Ph,{className:"h-4 w-4 mr-2"}),n.jsx(Ht,{placeholder:"Filtrar professor"})]}),n.jsxs(Mt,{children:[n.jsx(we,{value:"all",children:"Todos os professores"}),P.map(U=>n.jsx(we,{value:U.id,children:U.full_name},U.id))]})]}),n.jsxs(K,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"flex items-center gap-2 h-10 px-4 border-slate-300 text-slate-600 hover:bg-slate-100",children:[n.jsx("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filtros"]})]}),D&&q&&n.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h3",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[n.jsx(is,{className:"h-5 w-5 text-sky-600"}),"Agenda de ",(te=q.professor)==null?void 0:te.full_name]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ge,{className:"bg-green-500 text-white",children:[q.totalActive," disponvel(is)"]}),n.jsxs(ge,{className:"bg-blue-500 text-white",children:[q.totalFilled," ocupado(s)"]})]})]}),G?n.jsx("div",{className:"flex justify-center py-4",children:n.jsx(Fe,{className:"h-6 w-6 animate-spin text-slate-400"})}):n.jsx("div",{className:"grid grid-cols-7 gap-2",children:Object.entries(q.slotsByDay).map(([U,ue])=>n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs font-semibold mb-2 text-slate-700 bg-slate-200 rounded py-1",children:ue.name}),n.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:[ue.active.length>0?ue.active.map((ke,qe)=>{var rt,nt;return n.jsx("div",{className:"text-[10px] px-1 py-0.5 bg-green-100 text-green-700 rounded truncate",title:`Disponvel: ${(rt=ke.start_time)==null?void 0:rt.substring(0,5)}`,children:(nt=ke.start_time)==null?void 0:nt.substring(0,5)},`active-${qe}`)}):null,ue.filled.length>0?ue.filled.map((ke,qe)=>{var rt,nt;return n.jsxs("div",{className:"text-[10px] px-1 py-0.5 bg-blue-100 text-blue-600 rounded truncate",title:`Ocupado: ${(rt=ke.start_time)==null?void 0:rt.substring(0,5)}`,children:[(nt=ke.start_time)==null?void 0:nt.substring(0,5)," "]},`filled-${qe}`)}):null,ue.active.length===0&&ue.filled.length===0&&n.jsx("div",{className:"text-[10px] text-slate-400 py-1",children:"-"})]})]},U))}),n.jsxs("div",{className:"mt-3 flex gap-4 text-xs text-slate-500",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-3 h-3 bg-green-100 rounded"})," Disponvel"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-100 rounded"})," Ocupado"]})]})]}),n.jsx(Qt,{open:w,onOpenChange:b,children:n.jsxs(Vt,{className:"sm:max-w-[450px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Filtros"}),n.jsx(ds,{children:"Filtros tabela de aulas"})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-sky-600",children:"Data de Inicio"}),n.jsx(Je,{type:"date",value:v,onChange:U=>y(U.target.value),className:"border-slate-300",placeholder:"dd/mm/aaaa"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-sky-600",children:"Data Fim"}),n.jsx(Je,{type:"date",value:j,onChange:U=>_(U.target.value),className:"border-slate-300",placeholder:"dd/mm/aaaa"})]})]})}),n.jsxs(Ds,{children:[n.jsx(K,{variant:"outline",onClick:()=>{y(""),_("")},className:"mr-2",children:"Limpar"}),n.jsx(K,{onClick:ut,className:"bg-sky-600 hover:bg-sky-700 text-white",children:"Filtrar"})]})]})}),n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs(xn,{children:[n.jsx(vn,{className:"bg-slate-50",children:n.jsxs(ct,{children:[n.jsx(Pe,{className:"w-[120px]",children:"Cdigo"}),n.jsx(Pe,{children:"Aluno"}),n.jsx(Pe,{children:"Matria"}),n.jsx(Pe,{children:"Tipo de aula"}),n.jsx(Pe,{children:"Data"}),n.jsx(Pe,{children:"Horrio"}),n.jsx(Pe,{children:"Status"}),k&&n.jsx(Pe,{className:"text-right",children:"Aes"})]})}),n.jsx(yn,{children:W?n.jsx(ct,{children:n.jsx(xe,{colSpan:k?"8":"7",className:"text-center p-8",children:n.jsx(Fe,{className:"mx-auto h-6 w-6 animate-spin"})})}):fe.length>0?fe.map(U=>{var rt,nt,tt,gt,fs,hs;const ue=U.class_datetime?ze(U.class_datetime):null,ke=ue&&U.duration_minutes?new Date(ue.getTime()+U.duration_minutes*6e4):null,qe=ue&&ke?`${le(ue,"HH'h'mm")} - ${le(ke,"HH'h'mm")}`:"N/A";return n.jsxs(ct,{children:[n.jsx(xe,{children:n.jsx("span",{className:"font-mono text-xs text-sky-700 bg-sky-50 px-2 py-1 rounded",children:U.class_code||`#${U.id}`})}),n.jsx(xe,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(sr,{className:"h-8 w-8",children:[n.jsx(Jr,{src:(rt=U.student)==null?void 0:rt.avatar_url}),n.jsx(rr,{className:"bg-pink-100 text-pink-600 text-xs",children:((tt=(nt=U.student)==null?void 0:nt.full_name)==null?void 0:tt[0])||"A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-400",children:((gt=U.student)==null?void 0:gt.student_code)||"N/A"}),n.jsx("p",{className:"font-medium text-slate-800",children:((fs=U.student)==null?void 0:fs.full_name)||"N/A"})]})]})}),n.jsx(xe,{className:"text-slate-600",children:(hs=U.student)!=null&&hs.spanish_level?"Espanhol":"Ingls"}),n.jsx(xe,{className:"text-slate-600",children:"Efetiva"}),n.jsx(xe,{children:n.jsxs("div",{className:"flex items-center gap-1 text-slate-600",children:[n.jsx(is,{className:"h-4 w-4 text-slate-400"}),U.class_datetime?le(ze(U.class_datetime),"dd/MM/yyyy"):"N/A"]})}),n.jsx(xe,{children:n.jsxs("div",{className:"flex items-center gap-1 text-slate-600",children:[n.jsx(tr,{className:"h-4 w-4 text-slate-400"}),qe]})}),n.jsx(xe,{children:n.jsx(Ve,{status:U.status})}),k&&n.jsx(xe,{className:"text-right",children:n.jsxs(hd,{children:[n.jsx(md,{asChild:!0,children:n.jsx(K,{variant:"ghost",size:"icon",children:n.jsx(KS,{className:"w-4 h-4"})})}),n.jsxs(wl,{children:[n.jsxs(mr,{onClick:()=>Q(U),children:[n.jsx(Rs,{className:"mr-2 h-4 w-4"})," PDF Aulas"]}),n.jsxs(mr,{onClick:()=>Le(U),disabled:!["scheduled","rescheduled"].includes(U.status),children:[n.jsx(Zn,{className:"mr-2 h-4 w-4"})," Marcar como Concluda"]}),n.jsxs(mr,{onClick:()=>Ps(U),disabled:!["scheduled","missed","canceled","cancelled"].includes(U.status),children:[n.jsx(rd,{className:"mr-2 h-4 w-4"})," Reagendar"]}),n.jsxs(mr,{onClick:()=>pt(U),disabled:!["scheduled"].includes(U.status),className:"text-orange-600 focus:text-orange-700 focus:bg-orange-50",children:[n.jsx(fl,{className:"mr-2 h-4 w-4"})," Marcar Falta"]})]})]})})]},U.id)}):n.jsx(ct,{children:n.jsx(xe,{colSpan:k?"7":"6",className:"text-center p-8 text-slate-500",children:"Nenhuma aula encontrada com o filtro atual."})})})]})}),n.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm text-slate-600",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("span",{children:["Total: ",Ot.length]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:"por pgina:"}),n.jsxs(Ut,{value:String(S),onValueChange:U=>M(Number(U)),children:[n.jsx(At,{className:"w-[70px] h-8 border-slate-300",children:n.jsx(Ht,{})}),n.jsxs(Mt,{children:[n.jsx(we,{value:"5",children:"5"}),n.jsx(we,{value:"10",children:"10"}),n.jsx(we,{value:"20",children:"20"}),n.jsx(we,{value:"50",children:"50"})]})]})]}),n.jsx("span",{className:"min-w-[80px] text-center",children:Ot.length>0?`${(C-1)*S+1} - ${Math.min(C*S,Ot.length)}`:"0 - 0"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(K,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>N(1),disabled:C===1,children:n.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})}),n.jsx(K,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>N(U=>Math.max(1,U-1)),disabled:C===1,children:n.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsx(K,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>N(U=>Math.min(ne,U+1)),disabled:C>=ne,children:n.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),n.jsx(K,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>N(ne),disabled:C>=ne,children:n.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})})]})]})]}),n.jsx(OY,{appointment:u,isOpen:m,onClose:()=>p(!1),onFeedbackSent:Ke}),u&&n.jsx(DY,{appointment:u,isOpen:x,onClose:()=>g(!1),onReschedule:Ke}),n.jsx(Qt,{open:H,onOpenChange:J,children:n.jsxs(Vt,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsxs(zt,{className:"flex items-center gap-2",children:[n.jsx(Rs,{className:"h-5 w-5 text-sky-600"}),"Adicionar Material PDF"]}),n.jsx(ds,{children:((ie=ae==null?void 0:ae.student)==null?void 0:ie.full_name)&&n.jsxs("span",{children:["Material para aula com ",n.jsx("strong",{children:ae.student.full_name})]})})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{htmlFor:"pdf-name",children:"Nome do Material *"}),n.jsx(Je,{id:"pdf-name",placeholder:"Ex: Exerccios Captulo 5",value:ce,onChange:U=>pe(U.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{htmlFor:"pdf-file",children:"Arquivo PDF *"}),n.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center hover:border-sky-400 transition-colors",children:[n.jsx("input",{type:"file",id:"pdf-file",accept:".pdf,application/pdf",className:"hidden",onChange:Se}),n.jsxs("label",{htmlFor:"pdf-file",className:"cursor-pointer",children:[n.jsx(Pf,{className:"w-10 h-10 mx-auto mb-2 text-slate-400"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Clique para selecionar ou arraste o arquivo"}),n.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Apenas arquivos PDF"})]})]}),Ce&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-sky-50 rounded-lg border border-sky-200",children:[n.jsx(Rs,{className:"w-5 h-5 text-sky-600"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:Ce.name}),n.jsxs("p",{className:"text-xs text-slate-500",children:[(Ce.size/1024).toFixed(1)," KB"]})]}),n.jsx(K,{type:"button",variant:"ghost",size:"sm",onClick:()=>et(null),className:"text-slate-400 hover:text-red-500",children:n.jsx(Gr,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"pt-4 border-t",children:[n.jsxs("h4",{className:"text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2",children:[n.jsx(Ka,{className:"w-4 h-4"}),"Materiais j enviados nesta aula"]}),_e?n.jsx("div",{className:"flex justify-center py-4",children:n.jsx(Fe,{className:"w-6 h-6 animate-spin text-slate-300"})}):ye.length>0?n.jsx("div",{className:"space-y-2 max-h-[180px] overflow-y-auto pr-2",children:ye.map(U=>n.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-md bg-slate-50 border border-slate-100 group",children:[n.jsx("div",{className:"p-1.5 bg-white rounded border border-slate-200",children:n.jsx(Rs,{className:"w-4 h-4 text-slate-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-slate-700 truncate",title:U.material_name,children:U.material_name}),n.jsx("p",{className:"text-[10px] text-slate-400 truncate",children:U.file_name})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(K,{variant:"ghost",size:"icon",className:"h-7 w-7 text-slate-400 hover:text-sky-600",asChild:!0,children:n.jsx("a",{href:U.file_url,target:"_blank",rel:"noopener noreferrer",children:n.jsx(kh,{className:"w-3.5 h-3.5"})})}),n.jsx(K,{variant:"ghost",size:"icon",className:"h-7 w-7 text-slate-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",onClick:async()=>{if(window.confirm("Excluir este material?"))try{const ue=U.file_url.split("/public/class-materials/")[1];ue&&await I.storage.from("class-materials").remove([ue]);const{error:ke}=await I.from("class_materials").delete().eq("id",U.id);if(ke)throw ke;be(qe=>qe.filter(rt=>rt.id!==U.id)),t({title:"Material removido"})}catch(ue){console.error(ue),t({title:"Erro ao remover",variant:"destructive"})}},children:n.jsx(ul,{className:"w-3.5 h-3.5"})})]})]},U.id))}):n.jsx("p",{className:"text-xs text-center py-4 text-slate-400 bg-slate-50 rounded-md border border-dashed",children:"Nenhum material enviado para esta aula."})]})]}),n.jsxs(Ds,{children:[n.jsx(K,{onClick:()=>J(!1),children:"Fechar"}),n.jsx(K,{onClick:Ne,className:"bg-sky-600 hover:bg-sky-700",disabled:F||!ce.trim()||!Ce,children:F?n.jsxs(n.Fragment,{children:[n.jsx(Fe,{className:"mr-2 h-4 w-4 animate-spin"})," Enviando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Pf,{className:"mr-2 h-4 w-4"})," Enviar Material"]})})]})]})})]})},IY={0:"Domingo",1:"Segunda",2:"Tera",3:"Quarta",4:"Quinta",5:"Sexta",6:"Sbado"},LY=()=>{const e=[];for(let t=7;t<=23;t++)for(let s=0;s<60&&!(t===23&&s>45);s+=15)e.push(`${String(t).padStart(2,"0")}:${String(s).padStart(2,"0")}`);return e},$Y=LY(),N1=({dashboardData:e})=>{var V,k;const t=e==null?void 0:e.professorId,s=e==null?void 0:e.onUpdate,r=(e==null?void 0:e.loading)||!1,a=(e==null?void 0:e.isSuperadmin)||!1,o=((V=e==null?void 0:e.data)==null?void 0:V.professors)||[],i=e==null?void 0:e.globalProfessorFilter,l=((k=e==null?void 0:e.data)==null?void 0:k.appointments)||[];f.useMemo(()=>kE(),[]);const c=f.useMemo(()=>dt(),[]),[d,u]=f.useState(c),[h,m]=f.useState("week"),[p,x]=f.useState("all"),[g,w]=f.useState(()=>d1()),b=i&&i!=="all"?i:p,v=f.useRef(null),y=f.useRef(null),j=f.useMemo(()=>wr(d,{weekStartsOn:0}),[d]),_=f.useMemo(()=>Wh(d,{weekStartsOn:0}),[d]),C=f.useMemo(()=>{const E=[];for(let T=0;T<7;T++)E.push(js(j,T));return E},[j]),N=f.useMemo(()=>{const E=le(j,"yyyy-MM-dd"),T=le(_,"yyyy-MM-dd");return l.filter(z=>{if(!z.class_datetime)return!1;const O=z.class_datetime.substring(0,10),q=z.status;if(a){if(b!=="all"&&z.professor_id!==b)return!1}else if(z.professor_id!==t)return!1;return O>=E&&O<=T&&["scheduled","completed","rescheduled","missed"].includes(q)})},[l,j,_,a,t,b]);f.useEffect(()=>{const E=setInterval(()=>{w(d1())},6e4);return()=>clearInterval(E)},[]),f.useEffect(()=>{v.current&&y.current&&S()&&setTimeout(()=>{var E;(E=v.current)==null||E.scrollIntoView({behavior:"smooth",block:"center"})},500)},[h]);const S=()=>C.some(E=>$s(E,c)),M=()=>{const[E,T]=g.split(":").map(Number),z=E*60+T,O=7*60,q=24*60;if(z<O||z>q)return null;const L=z-O,G=Math.floor(L/15),H=L%15/15*100;return{slotIndex:G,percentageIntoSlot:H}},$=()=>u(mV(d,1)),W=()=>u(id(d,1)),R=()=>u(hV(d,1)),Y=()=>u(Bs(d,1)),D=(E,T)=>N.filter(z=>{const O=ze(z.class_datetime),q=le(O,"HH:mm");return $s(O,E)&&q===T}),P=E=>`${Math.ceil(E/15)*60}px`,A=E=>{var O,q,L;const T=(O=E.student)==null?void 0:O.spanish_level,z=E.status==="completed"?"bg-green-100 border-green-300":E.status==="rescheduled"?"bg-blue-200 border-blue-400":E.status==="missed"?"bg-red-100 border-red-300":"bg-blue-50 border-blue-200";return n.jsxs("div",{className:ee("absolute left-0 right-0 mx-1 p-2 rounded border text-xs overflow-hidden",z),style:{height:P(E.duration_minutes||30),zIndex:10},children:[n.jsx("div",{className:"font-semibold truncate text-slate-800",children:((q=E.student)==null?void 0:q.full_name)||"Sin nombre"}),n.jsx("div",{className:"text-slate-600 text-[10px]",children:T?"Espanhol":"Ingls"}),a&&n.jsxs("div",{className:"text-slate-500 text-[10px] truncate",children:["Prof: ",((L=o.find(G=>G.id===E.professor_id))==null?void 0:L.full_name)||""]})]},E.id)};return t?n.jsx("div",{className:"w-full px-4 lg:px-8",children:n.jsxs("div",{className:"w-full bg-white rounded-lg shadow-sm",children:[n.jsxs("div",{className:"p-4 border-b flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Horrios de Aula"}),a&&o.length>0&&n.jsxs(Ut,{value:p,onValueChange:x,children:[n.jsxs(At,{className:"w-[200px]",children:[n.jsx(Ph,{className:"h-4 w-4 mr-2"}),n.jsx(Ht,{placeholder:"Filtrar professor"})]}),n.jsxs(Mt,{children:[n.jsx(we,{value:"all",children:"Todos os professores"}),o.map(E=>n.jsx(we,{value:E.id,children:E.full_name},E.id))]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-2 border rounded-lg px-2 py-1",children:[n.jsx(K,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:R,children:n.jsx(ex,{className:"h-4 w-4"})}),n.jsx("span",{className:"text-sm font-medium min-w-[120px] text-center",children:le(d,"MMMM yyyy",{locale:ot})}),n.jsx(K,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:Y,children:n.jsx(dl,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex items-center gap-2 border rounded-lg px-2 py-1",children:[n.jsx(K,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:$,children:n.jsx(ex,{className:"h-4 w-4"})}),n.jsxs("span",{className:"text-sm font-medium min-w-[200px] text-center",children:[le(j,"dd",{locale:ot})," de ",le(j,"MMMM",{locale:ot})," - ",le(_,"dd",{locale:ot})," de ",le(_,"MMMM yyyy",{locale:ot})]}),n.jsx(K,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:W,children:n.jsx(dl,{className:"h-4 w-4"})})]}),n.jsxs(K,{onClick:()=>{s&&s()},className:"bg-blue-500 hover:bg-blue-600 text-white",size:"sm",children:[n.jsx(Ah,{className:"h-4 w-4 mr-2"}),"Atualizar Horrios"]}),n.jsxs("div",{className:"flex border rounded-lg",children:[n.jsx(K,{variant:h==="week"?"default":"ghost",size:"icon",className:ee("h-8 w-8",h==="week"&&"bg-sky-600"),onClick:()=>m("week"),children:n.jsx(E3,{className:"h-4 w-4"})}),n.jsx(K,{variant:h==="list"?"default":"ghost",size:"icon",className:ee("h-8 w-8",h==="list"&&"bg-sky-600"),onClick:()=>m("list"),children:n.jsx(A3,{className:"h-4 w-4"})})]})]})]}),h==="week"&&n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("div",{className:"min-w-[1000px] mx-auto",children:[n.jsxs("div",{className:"grid grid-cols-8 border-b bg-slate-50",style:{gridTemplateColumns:"80px repeat(7, 1fr)"},children:[n.jsx("div",{className:"p-2 text-center text-sm font-medium text-slate-600 border-r",children:"Horrio"}),C.map((E,T)=>{const z=uH(E);return n.jsxs("div",{className:ee("p-2 text-center border-r last:border-r-0",z?"bg-orange-100 border-b-2 border-orange-500":""),children:[n.jsxs("div",{className:ee("text-sm font-medium",z?"text-orange-700 font-bold":"text-slate-700"),children:[IY[Hr(E)],z&&n.jsx("span",{className:"ml-1 text-xs bg-orange-500 text-white px-1.5 py-0.5 rounded",children:"HOJE"})]}),n.jsx("div",{className:ee("text-xs mt-0.5",z?"text-orange-600 font-bold":"text-slate-500"),children:le(E,"dd/MM")})]},T)})]}),n.jsx("div",{ref:y,className:"relative",style:{maxHeight:"600px",overflowY:"auto"},children:r?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx(Fe,{className:"h-8 w-8 animate-spin text-sky-600"})}):$Y.map((E,T)=>{const z=M(),O=z&&z.slotIndex===T;return n.jsxs("div",{className:"grid grid-cols-8 border-b hover:bg-slate-50 relative",style:{minHeight:"60px",gridTemplateColumns:"80px repeat(7, 1fr)"},ref:O?v:null,children:[O&&S()&&n.jsx("div",{className:"absolute left-0 right-0 z-20 pointer-events-none",style:{top:`${z.percentageIntoSlot}%`},children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-[80px] flex items-center justify-end pr-1",children:n.jsx("span",{className:"text-[10px] text-red-600 font-bold bg-red-100 px-1 rounded",children:g})}),n.jsx("div",{className:"flex-1 h-0.5 bg-red-500 relative",children:n.jsx("div",{className:"absolute left-0 -top-1 w-2 h-2 bg-red-500 rounded-full"})})]})}),n.jsx("div",{className:"p-2 text-center text-xs text-slate-600 border-r bg-slate-50 font-medium",children:E}),C.map((q,L)=>{const G=$s(q,c),B=D(q,E);return n.jsx("div",{className:ee("relative border-r last:border-r-0",G&&"bg-orange-50/50"),style:{minHeight:"60px"},children:B.map(H=>A(H))},L)})]},E)})})]})}),h==="list"&&n.jsx("div",{className:"p-4",children:r?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx(Fe,{className:"h-8 w-8 animate-spin text-sky-600"})}):N.length>0?n.jsx("div",{className:"space-y-2",children:N.map(E=>{var q,L;const T=ze(E.class_datetime),z=E.status==="completed"?"bg-green-100 border-green-300":E.status==="rescheduled"?"bg-blue-200 border-blue-400":E.status==="missed"?"bg-red-100 border-red-300":"bg-blue-50 border-blue-200",O=E.status==="missed"?"text-red-800":"text-slate-800";return n.jsx("div",{className:`p-4 border-2 rounded-lg hover:shadow-md transition-shadow ${z}`,children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("div",{className:`font-semibold ${O}`,children:((q=E.student)==null?void 0:q.full_name)||"Sin nombre"}),n.jsx("div",{className:"text-sm text-slate-600",children:(L=E.student)!=null&&L.spanish_level?"Espanhol":"Ingls"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:`text-sm font-medium ${O}`,children:le(T,"dd/MM/yyyy")}),n.jsxs("div",{className:"text-sm text-slate-600",children:[le(T,"HH:mm")," (",E.duration_minutes||30," min)"]})]})]})},E.id)})}):n.jsx("div",{className:"text-center py-12 text-slate-500",children:"Nenhuma aula agendada para esta semana."})})]})}):n.jsx("div",{className:"flex justify-center p-8",children:n.jsx(Fe,{className:"h-8 w-8 animate-spin text-sky-600"})})},RT={0:"Dom",1:"Seg",2:"Ter",3:"Qua",4:"Qui",5:"Sex",6:"Sb"},No={0:"Domingo",1:"Segunda",2:"Tera",3:"Quarta",4:"Quinta",5:"Sexta",6:"Sbado"},FY=()=>{const e=[];for(let t=7;t<=23;t++)for(let s=0;s<60&&!(t===23&&s>45);s+=15)e.push(`${String(t).padStart(2,"0")}:${String(s).padStart(2,"0")}`);return e},VY=FY(),BY=({student:e,isOpen:t,onClose:s,onUpdate:r,professorId:a,scheduledAppointments:o})=>{const{toast:i}=Ct(),[l,c]=f.useState(!1),[d,u]=f.useState(!1),[h,m]=f.useState([]),[p,x]=f.useState({0:{enabled:!1,time:"08:00"},1:{enabled:!1,time:"08:00"},2:{enabled:!1,time:"08:00"},3:{enabled:!1,time:"08:00"},4:{enabled:!1,time:"08:00"},5:{enabled:!1,time:"08:00"},6:{enabled:!1,time:"08:00"}});f.useMemo(()=>{if(o&&o.length>0){const y={};for(let j=0;j<7;j++)y[j]={enabled:!1,time:"08:00"};o.forEach(j=>{const _=ze(j.class_datetime),C=Hr(_),N=le(_,"HH:mm");y[C].enabled||(y[C]={enabled:!0,time:N})}),x(y)}},[o]),f.useEffect(()=>{const j=setTimeout(async()=>{var N,S;if(!a||!t)return;const _=Object.entries(p).filter(([M,$])=>$.enabled);if(_.length===0){m([]);return}u(!0);const C=[];try{const{data:M,error:$}=await I.from("class_slots").select("day_of_week, start_time, status").eq("professor_id",a);if($)throw $;const{data:W,error:R}=await I.from("appointments").select("class_datetime, duration_minutes, student_id, student:profiles!student_id(full_name)").eq("professor_id",a).neq("student_id",e==null?void 0:e.id).in("status",["scheduled","rescheduled"]).gte("class_datetime",dt().toISOString());if(R)throw R;const{data:Y,error:D}=await I.from("appointments").select("class_datetime").eq("professor_id",a).eq("student_id",e==null?void 0:e.id).in("status",["scheduled","rescheduled"]).gte("class_datetime",dt().toISOString());if(D)throw D;const P=new Set;(Y||[]).forEach(A=>{const V=ze(A.class_datetime),k=Hr(V),E=`${String(V.getHours()).padStart(2,"0")}:${String(V.getMinutes()).padStart(2,"0")}`;P.add(`${k}-${E}`)});for(const[A,V]of _){const k=parseInt(A),[E,T]=V.time.split(":").map(Number),z=`${String(E).padStart(2,"0")}:${String(T).padStart(2,"0")}`,O=`${k}-${z}`,q=(M||[]).find(G=>{var H;return G.day_of_week!==k?!1:((H=G.start_time)==null?void 0:H.substring(0,5))===z});if(console.log(`[ConflictCheck] Dia ${k}, Horrio ${V.time}:`,{matchingSlot:q?{status:q.status}:"NO ENCONTRADO",isOwnSlot:P.has(O),totalSlots:(M||[]).length}),P.has(O)){console.log(`[ConflictCheck] Aluno j ocupa ${O} - ignorando verificao`);continue}if(!q){C.push({day:No[k],time:V.time,reason:"slot_unavailable",existingStudent:"Horrio no disponvel"});continue}if(q.status==="inactive"){C.push({day:No[k],time:V.time,reason:"slot_inactive",existingStudent:"Horrio desativado pelo professor"});continue}if(q.status==="filled"){C.push({day:No[k],time:V.time,reason:"slot_filled_other",existingStudent:"Ocupado por outro aluno"});continue}const L=(W||[]).filter(G=>{const B=ze(G.class_datetime),H=Hr(B),J=B.getHours(),ae=B.getMinutes(),re=G.duration_minutes||30;if(H!==k)return!1;const ce=E*60+T,pe=ce+30,Ce=J*60+ae,et=Ce+re;return ce<et&&pe>Ce});L.length>0&&C.push({day:No[k],time:V.time,reason:"appointment_conflict",existingStudent:((S=(N=L[0])==null?void 0:N.student)==null?void 0:S.full_name)||"Outro aluno"})}m(C)}catch(M){console.error("Erro ao verificar conflitos:",M)}finally{u(!1)}},500);return()=>clearTimeout(j)},[p,a,e==null?void 0:e.id,t]);const g=y=>{x(j=>({...j,[y]:{...j[y],enabled:!j[y].enabled}}))},w=(y,j)=>{x(_=>({..._,[y]:{..._[y],time:j}}))},b=async()=>{const y=Object.entries(p).filter(([$,W])=>W.enabled);if(y.length===0){i({variant:"destructive",title:"Campos obrigatrios",description:"Selecione pelo menos um dia da semana."});return}if(h.length>0){i({variant:"destructive",title:"Conflitos detectados",description:`Existem ${h.length} conflito(s) de horrio com a agenda do professor. Escolha horrios diferentes para continuar.`});return}const j=y.map(([$,W])=>`${No[$]} s ${W.time}`).join(`
`),_=dt(),C=new Date(_.getTime()+15*60*1e3),N=o.filter($=>{const W=ze($.class_datetime),R=["scheduled","rescheduled"].includes($.status),Y=W>C;return R&&Y}).length,S=o.length-N;if(N===0){i({variant:"destructive",title:"Nenhuma aula elegvel",description:'No h aulas agendadas futuras para alterar. Aulas passadas ou com status diferente de "agendada/reagendada" no podem ser modificadas.'});return}const M=`Tem certeza que deseja alterar o horrio das aulas de ${e.full_name}?

Novos horrios:
${j}

 ${N} aula(s) sero reagendadas.`+(S>0?`
 ${S} aula(s) sero mantidas (passadas ou com outro status).`:"");if(window.confirm(M)){c(!0);try{const $=dt(),W=new Date($.getTime()+15*60*1e3),R=o.filter(T=>{const z=ze(T.class_datetime),O=["scheduled","rescheduled"].includes(T.status),q=z>W;return O&&q});if(R.length===0){i({variant:"destructive",title:"Nenhuma aula elegvel",description:'No h aulas agendadas futuras para alterar. Aulas passadas ou com status diferente de "agendada/reagendada" no podem ser modificadas.'}),c(!1);return}const Y=o.length-R.length;Y>0&&console.log(`${Y} aulas sero mantidas (passadas ou com status diferente)`);const D={};R.forEach(T=>{const z=ze(T.class_datetime),O=le(z,"yyyy-ww");D[O]||(D[O]=[]),D[O].push(T)});const P=[];for(const[T,z]of Object.entries(D)){z.sort((H,J)=>new Date(H.class_datetime)-new Date(J.class_datetime));const O=z[0],q=ze(O.class_datetime),L=Hr(q),G=new Date(q);G.setDate(G.getDate()-L);const B=[];y.forEach(([H,J])=>{const ae=new Date(G);ae.setDate(ae.getDate()+parseInt(H));const[re,ce]=J.time.split(":").map(Number);ae.setHours(re,ce,0,0),ae>W&&B.push(ae)}),B.sort((H,J)=>H-J),z.forEach((H,J)=>{J<B.length?P.push({id:H.id,class_datetime:B[J].toISOString()}):P.push({id:H.id,status:"cancelled"})})}for(const T of P){const{error:z}=await I.from("appointments").update(T.status?{status:T.status}:{class_datetime:T.class_datetime}).eq("id",T.id);if(z)throw z}const A={};y.forEach(([T,z])=>{A[T]=z.time}),await I.from("profiles").update({preferred_schedule:A}).eq("id",e.id);const V=P.filter(T=>!T.status).length,k=P.filter(T=>T.status).length,E=o.length-R.length;i({title:"Horrios atualizados!",description:`${V} aula(s) reagendada(s)`+(k>0?`, ${k} cancelada(s)`:"")+(E>0?`. ${E} aula(s) mantida(s) sem alterao.`:".")}),r(),s()}catch($){console.error("Error updating schedule:",$),i({variant:"destructive",title:"Erro ao atualizar horrios",description:$.message})}finally{c(!1)}}};if(!e)return null;const v=Object.entries(p).filter(([y,j])=>j.enabled);return n.jsx(Qt,{open:t,onOpenChange:s,children:n.jsxs(Vt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Alterar Dias e Horrios"}),n.jsxs(ds,{children:["Alterar os dias da semana e horrios das aulas agendadas de ",e.full_name]})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[n.jsxs("p",{className:"text-sm font-medium text-slate-700 mb-1",children:["Aulas agendadas: ",o.length]}),n.jsx("p",{className:"text-xs text-slate-500",children:'Somente aulas com status "agendada" sero alteradas'})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Ie,{className:"text-base font-semibold",children:"Dias da Semana e Horrios"}),n.jsx("div",{className:"space-y-2",children:Object.entries(No).map(([y,j])=>{const _=parseInt(y),C=p[_];return n.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-slate-50",children:[n.jsx(MT,{id:`day-${_}`,checked:C.enabled,onCheckedChange:()=>g(_)}),n.jsx("label",{htmlFor:`day-${_}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer flex-1",children:j}),n.jsxs(Ut,{value:C.time,onValueChange:N=>w(_,N),disabled:!C.enabled,children:[n.jsx(At,{className:`w-[120px] ${!C.enabled&&"opacity-50"}`,children:n.jsx(Ht,{})}),n.jsx(Mt,{className:"max-h-60",children:VY.map(N=>n.jsx(we,{value:N,children:N},N))})]})]},_)})})]}),d&&n.jsxs("div",{className:"flex items-center gap-2 py-2 text-slate-500",children:[n.jsx(Fe,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{className:"text-sm",children:"Verificando disponibilidade do professor..."})]}),!d&&h.length>0&&n.jsxs(Vn,{variant:"destructive",className:"border-red-300 bg-red-50",children:[n.jsx(Xa,{className:"h-4 w-4"}),n.jsx(pa,{className:"text-red-800",children:"Conflitos de Agenda Detectados"}),n.jsxs(Bn,{className:"text-red-700",children:[n.jsx("p",{className:"mb-2",children:"Os seguintes horrios j esto ocupados na agenda do professor:"}),n.jsx("ul",{className:"space-y-1",children:h.map((y,j)=>n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"font-bold",children:[" ",y.day," s ",y.time]}),n.jsxs("span",{className:"text-xs",children:[" ocupado por: ",y.existingStudent]})]},j))}),n.jsx("p",{className:"mt-3 text-sm font-medium",children:" Escolha horrios diferentes para continuar."})]})]}),v.length>0&&h.length===0&&!d&&n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[n.jsx("p",{className:"text-sm font-medium text-green-900 mb-2",children:" Novos horrios (sem conflitos):"}),n.jsx("div",{className:"space-y-1",children:v.map(([y,j])=>n.jsxs("p",{className:"text-sm text-green-700",children:[" ",No[y]," s ",j.time]},y))})]})]}),n.jsxs(Ds,{children:[n.jsx(K,{variant:"outline",onClick:s,children:"Cancelar"}),n.jsx(K,{onClick:b,disabled:l||v.length===0||h.length>0||d,className:"bg-sky-600 hover:bg-sky-700",children:l?n.jsxs(n.Fragment,{children:[n.jsx(Fe,{className:"mr-2 h-4 w-4 animate-spin"})," Salvando..."]}):d?n.jsxs(n.Fragment,{children:[n.jsx(Fe,{className:"mr-2 h-4 w-4 animate-spin"})," Verificando..."]}):"Salvar Alteraes"})]})]})})},zY=({student:e,isOpen:t,onClose:s,onUpdate:r,professors:a,classSlots:o,currentProfessorId:i})=>{const{toast:l}=Ct(),[c,d]=f.useState(null),[u,h]=f.useState([]),[m,p]=f.useState(!1),[x,g]=f.useState(!0);f.useEffect(()=>{if(!t||!e||!a.length)return;g(!0),(()=>{const j=e.daySchedules||{},_=Object.keys(j);if(_.length===0){h([]),g(!1);return}const C=a.filter(N=>N.id!==e.assigned_professor_id).map(N=>{const S=(o||[]).filter(W=>W.professor_id===N.id&&W.status==="active");let M=0;_.forEach(W=>{const R=j[W];S.some(D=>{const P=D.start_time.substring(0,5);return D.day_of_week===parseInt(W)&&P===R})&&M++});const $=Math.round(M/_.length*100);return{professor:N,matchPercentage:$,matchingSlots:M,totalSlots:_.length}}).filter(N=>N.matchPercentage===100).sort((N,S)=>S.matchPercentage-N.matchPercentage);h(C),g(!1)})()},[t,e,a,o]);const w=async()=>{var j;if(!(!c||!e||!window.confirm(`Tem certeza que deseja iniciar a transferncia de ${e.full_name} para ${c.full_name}?

O aluno perder o vnculo atual e o novo professor precisar APROVAR a transferncia.

Isso afetar todas as aulas agendadas, remarcadas e com falta do aluno.`))){p(!0);try{const _=e.assigned_professor_id,C=((j=a.find(W=>W.id===_))==null?void 0:j.full_name)||"Desconhecido",{error:N}=await I.rpc("transfer_student_data",{p_student_id:e.id,p_professor_id:null});if(N)throw N;const{error:S}=await I.from("profiles").update({pending_professor_id:c.id,pending_professor_status:"aguardando_aprovacao",pending_professor_requested_at:new Date().toISOString()}).eq("id",e.id);if(S)throw S;const M={type:"vinculacao",is_recurring:!1,student_name:e.full_name,old_professor_id:_,old_professor_name:C,preferred_schedule:e.preferred_schedule||e.daySchedules,days:Object.keys(e.daySchedules||{}).map(Number),time:Object.values(e.daySchedules||{})[0]||"08:00"},{error:$}=await I.from("solicitudes_clase").insert({alumno_id:e.id,profesor_id:c.id,horarios_propuestos:JSON.stringify(M),status:"Pendiente",is_recurring:!1});$&&console.error("Error creating solicitation:",$),l({title:"Solicitao de transferncia enviada!",description:`Aguardando aprovao de ${c.full_name}. A solicitao aparecer na tela inicial do professor.`}),r(),s(),d(null)}catch(_){console.error("Error changing professor:",_),l({variant:"destructive",title:"Erro ao alterar professor",description:_.message})}finally{p(!1)}}};if(!e)return null;const b=async()=>{if(!(!e||!window.confirm(`Tem certeza que deseja DESVINCULAR ${e.full_name}?

O aluno ficar sem professor e os horrios na agenda do professor antigo sero LIBERADOS imediatamente.`))){p(!0);try{const{error:j}=await I.rpc("transfer_student_data",{p_student_id:e.id,p_professor_id:null});if(j)throw j;l({title:"Aluno desvinculado!",description:"Vnculo removido e horrios liberados com sucesso."}),r(),s()}catch(j){console.error("Erro ao desvincular:",j),l({variant:"destructive",title:"Erro ao desvincular",description:j.message})}finally{p(!1)}}},v=u.find(y=>y.professor.id===(c==null?void 0:c.id));return n.jsx(Qt,{open:t,onOpenChange:s,children:n.jsxs(Vt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Alterar Professor Vinculado"}),n.jsxs(ds,{children:["Transferir ",e.full_name," para outro professor compatvel"]})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-sm text-slate-700 mb-2",children:"Horrios do Aluno:"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[Object.entries(e.daySchedules||{}).map(([y,j])=>n.jsxs(ge,{variant:"outline",className:"text-xs",children:[RT[y]," - ",j]},y)),Object.keys(e.daySchedules||{}).length===0&&n.jsx("span",{className:"text-xs text-slate-500",children:"Nenhum horrio definido"})]})]}),x?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(Fe,{className:"h-6 w-6 animate-spin text-purple-600"}),n.jsx("span",{className:"ml-2 text-sm text-slate-600",children:"Calculando compatibilidade..."})]}):u.length===0?n.jsxs("div",{className:"text-center py-8 text-slate-500",children:[n.jsx(fl,{className:"h-12 w-12 mx-auto mb-3 text-slate-300"}),n.jsx("p",{className:"font-medium",children:"Nenhum professor compatvel encontrado"}),n.jsx("p",{className:"text-sm mt-1",children:"Os horrios do aluno no coincidem com nenhum professor disponvel"})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm text-slate-700",children:"Professores Disponveis:"}),u.map(({professor:y,matchPercentage:j,matchingSlots:_,totalSlots:C})=>{const N=j===100,S=(c==null?void 0:c.id)===y.id;return n.jsxs("div",{onClick:()=>N&&d(y),className:`border p-3 rounded-lg transition-all ${N?"cursor-pointer hover:bg-purple-50 hover:border-purple-300":"opacity-50 cursor-not-allowed"} ${S?"border-purple-600 bg-purple-50":""}`,children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[S&&n.jsx(rx,{className:"h-4 w-4 text-purple-600"}),n.jsx("span",{className:"font-medium text-slate-800",children:y.full_name})]}),n.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[_," de ",C," horrios compatveis"]})]}),n.jsxs(ge,{variant:N?"default":"secondary",className:N?"bg-green-600":"",children:[j,"%"]})]}),!N&&n.jsx("p",{className:"text-xs text-orange-600 mt-2",children:" Compatibilidade parcial - no  possvel transferir"})]},y.id)})]}),v&&n.jsxs("div",{className:"bg-green-50 border border-green-200 p-3 rounded-lg",children:[n.jsxs("p",{className:"text-sm text-green-800",children:[" Professor ",n.jsx("strong",{children:v.professor.full_name})," selecionado"]}),n.jsxs("p",{className:"text-xs text-green-700 mt-1",children:["Compatibilidade: ",v.matchPercentage,"% (",v.matchingSlots,"/",v.totalSlots," horrios)"]})]})]}),n.jsxs(Ds,{className:"flex sm:justify-between items-center w-full",children:[n.jsxs(K,{type:"button",variant:"ghost",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:b,disabled:m,children:[n.jsx(fl,{className:"mr-2 h-4 w-4"}),"Desvincular"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(K,{variant:"outline",onClick:s,disabled:m,children:"Cancelar"}),n.jsx(K,{onClick:w,disabled:!c||m,className:"bg-purple-600 hover:bg-purple-700",children:m?n.jsxs(n.Fragment,{children:[n.jsx(Fe,{className:"mr-2 h-4 w-4 animate-spin"})," Processando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ah,{className:"mr-2 h-4 w-4"})," Confirmar Alterao"]})})]})]})]})})},_1=({dashboardData:e})=>{const{toast:t}=Ct(),[s,r]=f.useState(""),[a,o]=f.useState(null),[i,l]=f.useState(!1),[c,d]=f.useState(!1),[u,h]=f.useState(!1),[m,p,x]=hi("student_message_form",{title:"",content:"",priority:"normal"}),{title:g,content:w,priority:b}=m,v=(B,H)=>p(J=>({...J,[B]:H})),[y,j]=f.useState(!1),_=(e==null?void 0:e.data)||{},C=(e==null?void 0:e.loading)||!1,N=e==null?void 0:e.professorId,S=e==null?void 0:e.onUpdate,M=(e==null?void 0:e.isSuperadmin)||!1,$=_.professors||[],W=_.can_manage_students!==!1,R=e==null?void 0:e.globalProfessorFilter,[Y,D]=f.useState("all"),P=R&&R!=="all"?R:Y,A=_.students||[],V=_.allBillings||[],k=_.appointments||[],E=_.assignedLogs||[],z=f.useMemo(()=>!A||!V||!k||!E?[]:A.map(B=>{const H=k.filter(F=>F.student_id===B.id),J=H.filter(F=>F.status==="scheduled"),ae={};J.forEach(F=>{const oe=ze(F.class_datetime),ye=Hr(oe),be=le(oe,"HH:mm");ae[ye]||(ae[ye]=be)});const ce=E.filter(F=>F.student_id===B.id&&F.status!=="Cancelado").reduce((F,oe)=>F+(oe.assigned_classes||0),0),pe=H.filter(F=>["scheduled","completed","missed"].includes(F.status)).length,Ce=ce-pe,et=J.length;return{...B,availableClasses:Math.max(0,Ce),scheduledClasses:et,daySchedules:Object.keys(ae).length>0?ae:B.preferred_schedule||{},scheduledAppointments:J}}),[A,V,k,E]).filter(B=>{var J;const H=(J=B.full_name)==null?void 0:J.toLowerCase().includes(s.toLowerCase());return M?P!=="all"?P==="none"?H&&!B.assigned_professor_id:H&&B.assigned_professor_id===P:H:H&&B.assigned_professor_id===N});f.useEffect(()=>{console.log("AlunosTab Total Students:",A.length),console.log("AlunosTab Filtered Students:",z.length),console.log("AlunosTab Filter:",P)},[A.length,z.length,P]);const O=B=>{o(B),l(!0)},q=B=>{o(B),d(!0)},L=B=>{o(B),h(!0)},G=async()=>{if(!g.trim()||!w.trim()){t({variant:"destructive",title:"Campos obrigatrios",description:"Preencha o ttulo e a mensagem."});return}j(!0);try{const{error:B}=await I.from("student_messages").insert({professor_id:N,student_id:a.id,title:g,message:w,priority:b});if(B)throw B;await I.from("notifications").insert({user_id:a.id,type:"professor_message",content:{message:`Nova mensagem do professor: ${g}`,priority:b}}),t({title:"Mensagem enviada!",description:`Mensagem enviada para ${a.full_name}.`}),l(!1),x()}catch(B){t({variant:"destructive",title:"Erro ao enviar mensagem",description:B.message})}finally{j(!1)}};return n.jsx("div",{className:"w-full",children:n.jsx("div",{className:"w-full px-4 lg:px-8",children:n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[n.jsxs("h3",{className:"font-bold mb-4",children:["Gerenciar Alunos (",z.length,")"]}),n.jsxs("div",{className:"flex justify-between items-center mb-4 gap-4 flex-wrap",children:[n.jsxs("div",{className:"relative w-full max-w-sm",children:[n.jsx(li,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-500"}),n.jsx(Je,{placeholder:"Buscar por nome...",value:s,onChange:B=>r(B.target.value),className:"pl-10"})]}),M&&$.length>0&&n.jsxs(Ut,{value:Y,onValueChange:D,children:[n.jsxs(At,{className:"w-[200px]",children:[n.jsx(Ph,{className:"h-4 w-4 mr-2"}),n.jsx(Ht,{placeholder:"Filtrar professor"})]}),n.jsxs(Mt,{children:[n.jsx(we,{value:"all",children:"Todos os professores"}),n.jsx(we,{value:"none",children:"Sem Professor Vinculado"}),$.map(B=>n.jsx(we,{value:B.id,children:B.full_name},B.id))]})]})]}),n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs(xn,{children:[n.jsx(vn,{className:"bg-slate-50",children:n.jsxs(ct,{children:[n.jsx(Pe,{children:"Cdigo"}),n.jsx(Pe,{children:"Nome"}),n.jsx(Pe,{children:"Idade"}),n.jsx(Pe,{children:"Nvel"}),n.jsx(Pe,{children:"Professor"}),n.jsx(Pe,{children:"Dias de Aula"}),n.jsx(Pe,{children:"Aulas Agendadas"}),n.jsx(Pe,{children:"Estado"}),n.jsx(Pe,{children:"Membro Desde"}),W&&n.jsx(Pe,{className:"text-right",children:"Aes"})]})}),n.jsx(yn,{children:C?n.jsx(ct,{children:n.jsx(xe,{colSpan:W?"10":"9",className:"text-center",children:n.jsx(Fe,{className:"mx-auto my-4 h-6 w-6 animate-spin"})})}):z.length>0?z.map(B=>{var H,J;return n.jsxs(ct,{children:[n.jsx(xe,{className:"font-mono text-sm text-slate-600",children:B.student_code||"-"}),n.jsx(xe,{className:"font-medium",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(sr,{className:"h-8 w-8",children:[n.jsx(Jr,{src:B.avatar_url}),n.jsx(rr,{children:((H=B.full_name)==null?void 0:H[0])||"A"})]}),B.full_name]})}),n.jsx(xe,{children:B.age||"N/A"}),n.jsx(xe,{children:B.spanish_level||"N/A"}),n.jsx(xe,{children:((J=$.find(ae=>ae.id===B.assigned_professor_id))==null?void 0:J.full_name)||""}),n.jsx(xe,{children:Object.keys(B.daySchedules).length>0?n.jsx("div",{className:"flex flex-col gap-1",children:Object.entries(B.daySchedules).sort(([ae],[re])=>parseInt(ae)-parseInt(re)).map(([ae,re])=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ge,{variant:"outline",className:"text-xs",children:RT[ae]}),n.jsxs("span",{className:"text-xs text-slate-600",children:[n.jsx(tr,{className:"inline h-3 w-3 mr-1"}),re]})]},ae))}):n.jsx("span",{className:"text-xs text-slate-400",children:"Sem aulas"})}),n.jsx(xe,{children:n.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[n.jsx(Th,{className:"h-4 w-4 text-sky-500"}),B.scheduledClasses]})}),n.jsx(xe,{children:n.jsxs("div",{className:"flex flex-col gap-1 items-start",children:[B.is_active!==!1?n.jsx(ge,{className:"bg-green-100 text-green-800 hover:bg-green-200",children:"Ativo"}):n.jsx(ge,{variant:"destructive",children:"Inativo"}),B.pending_professor_status==="rejeitado"&&n.jsx(ge,{variant:"outline",className:"text-xs bg-red-50 text-red-600 border-red-200",children:"Rejeitado"})]})}),n.jsx(xe,{children:le(new Date(B.created_at),"dd/MM/yyyy")}),W&&n.jsx(xe,{className:"text-right",children:n.jsxs(hd,{children:[n.jsx(md,{asChild:!0,children:n.jsx(K,{variant:"ghost",size:"icon",children:n.jsx(KS,{className:"h-4 w-4"})})}),n.jsxs(wl,{align:"end",children:[B.scheduledAppointments.length>0&&n.jsxs(n.Fragment,{children:[n.jsxs(mr,{onClick:()=>q(B),children:[n.jsx(is,{className:"mr-2 h-4 w-4 text-blue-600"}),"Alterar Dias/Horrios"]}),n.jsx(Uo,{})]}),n.jsxs(mr,{onClick:()=>L(B),children:[n.jsx(Ah,{className:"mr-2 h-4 w-4 text-purple-600"}),"Alterar Professor Vinculado"]}),n.jsx(Uo,{}),n.jsxs(mr,{onClick:()=>O(B),children:[n.jsx(Qr,{className:"mr-2 h-4 w-4 text-sky-600"}),"Enviar Mensagem"]})]})]})})]},B.id)}):n.jsx(ct,{children:n.jsx(xe,{colSpan:W?"10":"9",className:"text-center py-8 text-slate-500",children:"Nenhum aluno encontrado."})})})]})}),n.jsx(Qt,{open:i,onOpenChange:l,children:n.jsxs(Vt,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsxs(zt,{children:["Enviar Mensagem para ",a==null?void 0:a.full_name]}),n.jsx(ds,{children:"A mensagem aparecer no painel do aluno como um aviso importante."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{htmlFor:"title",children:"Ttulo da Mensagem"}),n.jsx(Je,{id:"title",placeholder:"Ex: Tarefa da prxima aula",value:g,onChange:B=>v("title",B.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{htmlFor:"message",children:"Mensagem"}),n.jsx(yo,{id:"message",placeholder:"Digite sua mensagem...",value:w,onChange:B=>v("content",B.target.value),rows:5})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{htmlFor:"priority",children:"Prioridade"}),n.jsxs(Ut,{value:b,onValueChange:B=>v("priority",B),children:[n.jsx(At,{id:"priority",children:n.jsx(Ht,{})}),n.jsxs(Mt,{children:[n.jsx(we,{value:"normal",children:"Normal"}),n.jsx(we,{value:"important",children:"Importante"}),n.jsx(we,{value:"urgent",children:"Urgente"})]})]})]})]}),n.jsx(Ds,{children:n.jsx(K,{onClick:G,disabled:y,className:"bg-sky-500 hover:bg-sky-600",children:y?n.jsxs(n.Fragment,{children:[n.jsx(Fe,{className:"mr-2 h-4 w-4 animate-spin"})," Enviando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Al,{className:"mr-2 h-4 w-4"})," Enviar Mensagem"]})})})]})}),n.jsx(BY,{student:a,isOpen:c,onClose:()=>d(!1),onUpdate:S,professorId:(a==null?void 0:a.assigned_professor_id)||N,scheduledAppointments:(a==null?void 0:a.scheduledAppointments)||[]}),n.jsx(zY,{student:a,isOpen:u,onClose:()=>h(!1),onUpdate:S,professors:$,classSlots:_.allClassSlots||_.classSlots||[],currentProfessorId:N})]})})})},UY=({activeChat:e,professorId:t,professorName:s,onBack:r})=>{var b;const[a,o]=f.useState([]),[i,l]=f.useState(""),[c,d]=f.useState(!0),[u,h]=f.useState(!1),m=f.useRef(null),{toast:p}=Ct(),x=()=>{var v;return(v=m.current)==null?void 0:v.scrollIntoView({behavior:"smooth"})},g=f.useCallback(async()=>{if(!(e!=null&&e.chat_id))return;d(!0);const{data:v,error:y}=await I.from("mensajes").select("*").eq("chat_id",e.chat_id).order("enviado_en",{ascending:!0});if(y)p({variant:"destructive",title:"Erro ao carregar mensagens."});else{o(v||[]);const{error:j,count:_}=await I.from("mensajes").update({leido:!0}).eq("chat_id",e.chat_id).neq("remitente_id",t).eq("leido",!1);j&&console.error("Erro ao marcar mensagens como lidas:",j)}d(!1)},[e,p,t]);f.useEffect(()=>{g();const v=I.channel(`professor-chat-${e.chat_id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"mensajes",filter:`chat_id=eq.${e.chat_id}`},y=>{y.new.remitente_id!==t&&o(j=>[...j,y.new])}).subscribe();return()=>I.removeChannel(v)},[e,g,t]),f.useEffect(x,[a]);const w=async v=>{if(v.preventDefault(),!i.trim())return;h(!0);const y=i;l("");const j={mensaje_id:`temp-${Date.now()}`,chat_id:e.chat_id,remitente_id:t,contenido:y,enviado_en:dt().toISOString()};o(C=>[...C,j]);const{error:_}=await I.from("mensajes").insert({chat_id:e.chat_id,remitente_id:t,contenido:y.trim()});_?(p({variant:"destructive",title:"Erro ao enviar",description:_.message}),o(C=>C.filter(N=>N.mensaje_id!==j.mensaje_id)),l(y)):await I.from("notifications").insert({user_id:e.alumno_id,type:"new_message",content:{message:`Nova mensagem de ${s}`,senderName:s,chatId:e.chat_id}}),h(!1)};return n.jsx("div",{className:"w-full",children:n.jsx("div",{className:"w-full px-4 lg:px-8",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm flex flex-col h-[75vh]",children:[n.jsxs("header",{className:"p-4 border-b flex items-center gap-4 sticky top-0 bg-white z-10",children:[n.jsx(K,{variant:"ghost",size:"icon",onClick:r,children:n.jsx(Jv,{className:"w-5 h-5"})}),n.jsxs(sr,{children:[n.jsx(Jr,{src:e.alumno_avatar_url}),n.jsx(rr,{children:((b=e.alumno_full_name)==null?void 0:b[0])||"A"})]}),n.jsx("h3",{className:"font-bold",children:e.alumno_full_name})]}),n.jsxs("main",{className:"flex-1 p-4 overflow-y-auto bg-slate-50 space-y-4",children:[c?n.jsx("div",{className:"flex justify-center items-center h-full",children:n.jsx(Fe,{className:"w-8 h-8 animate-spin text-sky-600"})}):a.length>0?a.map(v=>{const y=v.remitente_id===t;return n.jsx("div",{className:ee("flex",y?"justify-end":"justify-start"),children:n.jsx("div",{className:ee("rounded-lg px-4 py-2 max-w-[80%]",y?"bg-sky-600 text-white":"bg-slate-200 text-slate-800"),children:n.jsx("p",{className:"text-sm",children:v.contenido})})},v.mensaje_id)}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-slate-400",children:[n.jsx("p",{children:"Nenhuma mensagem nesta conversa ainda."}),n.jsx("p",{className:"text-sm",children:"Envie a primeira mensagem para comear."})]}),n.jsx("div",{ref:m})]}),n.jsx("footer",{className:"p-4 border-t bg-white",children:n.jsxs("form",{onSubmit:w,className:"flex gap-2",children:[n.jsx(Je,{value:i,onChange:v=>l(v.target.value),placeholder:"Digite sua mensagem...",autoComplete:"off",disabled:u}),n.jsx(K,{type:"submit",disabled:u||!i.trim(),children:u?n.jsx(Fe,{className:"w-4 h-4 animate-spin"}):n.jsx(Al,{className:"w-4 h-4"})})]})})]})})})},S1=({dashboardData:e})=>{var A,V,k,E;const t=e==null?void 0:e.professorId,s=(e==null?void 0:e.professorName)||"Professor",r=(e==null?void 0:e.isSuperadmin)||!1,a=(e==null?void 0:e.globalProfessorFilter)||"all",o=e==null?void 0:e.filteredProfessorId,i=((A=e==null?void 0:e.data)==null?void 0:A.chatList)||[],l=((V=e==null?void 0:e.data)==null?void 0:V.students)||[],c=((k=e==null?void 0:e.data)==null?void 0:k.appointments)||[],d=((E=e==null?void 0:e.data)==null?void 0:E.allBillings)||[],u=(e==null?void 0:e.loading)||!1,h=r&&a!=="all"?o:t,[m,p]=f.useState([]),[x,g]=f.useState(null),[w,b]=f.useState({}),[v,y]=f.useState(!1),[j,_]=f.useState(""),[C,N]=f.useState(!1),{toast:S}=Ct(),M=f.useMemo(()=>{if(r&&a==="all")return l;const T=new Set(c.filter(q=>q.professor_id===h).map(q=>q.student_id)),z=new Set(d.filter(q=>q.professor_id===h).map(q=>q.user_id)),O=new Set([...T,...z]);return l.filter(q=>O.has(q.id))},[l,c,d,h,r,a]),$=f.useMemo(()=>{const T=new Set(m.map(z=>z.alumno_id));return M.filter(z=>!T.has(z.id))},[m,M]),W=f.useMemo(()=>{if(!j.trim())return $;const T=j.toLowerCase();return $.filter(z=>{var O,q;return((O=z.full_name)==null?void 0:O.toLowerCase().includes(T))||((q=z.email)==null?void 0:q.toLowerCase().includes(T))})},[$,j]),R=async T=>{if(!h){S({variant:"destructive",title:"Erro",description:"No foi possvel identificar o professor."});return}N(!0);try{const{data:z}=await I.from("chats").select("*").eq("alumno_id",T.id).eq("profesor_id",h).maybeSingle();if(z){g({...z,alumno_full_name:T.full_name,alumno_avatar_url:T.avatar_url}),y(!1);return}const{data:O,error:q}=await I.from("chats").insert({alumno_id:T.id,profesor_id:h}).select().single();if(q)throw q;const L={...O,alumno_full_name:T.full_name,alumno_avatar_url:T.avatar_url,last_message_content:null,last_message_time:null};p(G=>[L,...G]),g(L),y(!1),_(""),S({title:"Conversa iniciada!",description:`Voc pode agora enviar mensagens para ${T.full_name}.`})}catch(z){console.error("Erro ao criar chat:",z),S({variant:"destructive",title:"Erro ao criar conversa",description:z.message})}finally{N(!1)}},Y=f.useCallback(async()=>{if(t){if(i.length>0&&!u){p(i);return}if(!u&&i.length===0){const T=r?a==="all"?null:a:t,{data:z,error:O}=await I.rpc("get_chat_list_v2",{p_prof_id:T});if(O)if(console.error("Error fetching chat list:",O),O.code==="PGRST202"&&!r){const{data:q}=await I.rpc("get_professor_chat_list",{p_id:t});p(q||[])}else S({variant:"destructive",title:"Erro ao carregar conversas",description:O.message});else p(z||[])}}},[t,i,u,S,r,a]),D=f.useCallback(async()=>{if(!h||m.length===0)return;const T=m.map(O=>O.chat_id),z={};for(const O of T){const{count:q,error:L}=await I.from("mensajes").select("mensaje_id",{count:"exact",head:!0}).eq("chat_id",O).neq("remitente_id",h).eq("leido",!1);L||(z[O]=q||0)}b(z)},[h,m]);f.useEffect(()=>{if(i.length>0&&m.length===0&&p(i),!t)return;const T=O=>{Y(),D()},z=I.channel("professor-chat-list").on("postgres_changes",{event:"INSERT",schema:"public",table:"mensajes"},T).on("postgres_changes",{event:"INSERT",schema:"public",table:"chats",filter:r?void 0:`profesor_id=eq.${t}`},T).subscribe();return()=>I.removeChannel(z)},[t,Y,D,i,r]),f.useEffect(()=>{m.length>0&&D()},[m,D]);const P=f.useCallback(()=>{g(null),D()},[D]);return x?n.jsx(UY,{activeChat:x,professorId:h,professorName:s,onBack:P}):n.jsx("div",{className:"w-full",children:n.jsx("div",{className:"w-full px-4 lg:px-8",children:n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-xl font-bold",children:"Conversas com Alunos"}),n.jsxs(Qt,{open:v,onOpenChange:y,children:[n.jsx(p2,{asChild:!0,children:n.jsxs(K,{variant:"default",size:"sm",className:"bg-sky-600 hover:bg-sky-700",disabled:$.length===0,children:[n.jsx(Ra,{className:"w-4 h-4 mr-2"}),"Nova Conversa"]})}),n.jsxs(Vt,{className:"sm:max-w-[425px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Iniciar Nova Conversa"}),n.jsx(ds,{children:"Selecione um aluno para iniciar uma nova conversa."})]}),n.jsxs("div",{className:"relative mb-4",children:[n.jsx(li,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),n.jsx(Je,{placeholder:"Buscar aluno...",value:j,onChange:T=>_(T.target.value),className:"pl-10"})]}),n.jsx("div",{className:"max-h-[300px] overflow-y-auto space-y-2",children:W.length>0?W.map(T=>{var z;return n.jsxs("div",{onClick:()=>!C&&R(T),className:ee("flex items-center gap-3 p-3 rounded-lg border hover:bg-slate-50 cursor-pointer transition-colors",C&&"opacity-50 cursor-not-allowed"),children:[n.jsxs(sr,{className:"h-10 w-10",children:[n.jsx(Jr,{src:T.avatar_url}),n.jsx(rr,{className:"bg-sky-100 text-sky-600",children:((z=T.full_name)==null?void 0:z[0])||"A"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-slate-800",children:T.full_name}),n.jsx("p",{className:"text-xs text-slate-500",children:T.email})]}),C?n.jsx(Fe,{className:"w-4 h-4 animate-spin text-sky-600"}):n.jsx(Qr,{className:"w-4 h-4 text-slate-400"})]},T.id)}):n.jsx("div",{className:"text-center text-slate-500 py-8",children:j?n.jsxs("p",{children:['Nenhum aluno encontrado com "',j,'"']}):n.jsx("p",{children:"Todos os alunos j possuem uma conversa iniciada."})})})]})]})]}),n.jsx("div",{className:"space-y-2 max-h-[70vh] overflow-y-auto",children:u?n.jsx("div",{className:"flex justify-center py-10",children:n.jsx(Fe,{className:"w-8 h-8 animate-spin text-sky-600"})}):m.length>0?m.map(T=>{var z;return n.jsxs("div",{onClick:()=>g(T),className:ee("flex items-start gap-4 p-3 rounded-lg hover:bg-slate-100 cursor-pointer transition-colors border shadow-sm bg-white",w[T.chat_id]>0&&"bg-sky-50 border-sky-200"),children:[n.jsxs(sr,{className:"h-10 w-10",children:[n.jsx(Jr,{src:T.alumno_avatar_url}),n.jsx(rr,{children:((z=T.alumno_full_name)==null?void 0:z[0])||"A"})]}),n.jsxs("div",{className:"flex-1 overflow-hidden",children:[n.jsxs("div",{className:"flex justify-between items-center mb-0.5",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("p",{className:ee("font-bold text-slate-800 truncate leading-none mb-1",w[T.chat_id]>0&&"text-sky-800"),children:T.alumno_full_name}),r&&n.jsxs("span",{className:"text-[10px] text-slate-400 font-medium uppercase tracking-tight",children:["Professor: ",T.profesor_full_name||"Desconhecido"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[w[T.chat_id]>0&&n.jsx("span",{className:"bg-sky-600 text-white text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:w[T.chat_id]}),T.last_message_time&&n.jsx("p",{className:"text-[10px] text-slate-400 flex-shrink-0 font-medium",children:JC(new Date(T.last_message_time),{addSuffix:!0,locale:ot})})]})]}),n.jsx("p",{className:ee("text-xs truncate max-w-[90%]",w[T.chat_id]>0?"text-slate-700 font-semibold":"text-slate-500"),children:T.last_message_content||"Nenhuma mensagem ainda."})]})]},T.chat_id)}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center text-slate-500",children:[n.jsx(Qr,{className:"w-16 h-16 mb-4 opacity-20"}),n.jsx("p",{className:"text-lg",children:"Nenhuma conversa iniciada."}),n.jsx("p",{className:"text-sm mb-4",children:'Clique em "Nova Conversa" para enviar uma mensagem a um aluno.'}),$.length>0&&n.jsxs(K,{variant:"outline",onClick:()=>y(!0),className:"mt-2",children:[n.jsx(Ra,{className:"w-4 h-4 mr-2"}),"Iniciar Conversa"]})]})})]})})})};var pm="Switch",[HY,oQ]=Dr(pm),[WY,qY]=HY(pm),OT=f.forwardRef((e,t)=>{const{__scopeSwitch:s,name:r,checked:a,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[m,p]=f.useState(null),x=at(t,y=>p(y)),g=f.useRef(!1),w=m?u||!!m.closest("form"):!0,[b,v]=$n({prop:a,defaultProp:o??!1,onChange:d,caller:pm});return n.jsxs(WY,{scope:s,checked:b,disabled:l,children:[n.jsx(Re.button,{type:"button",role:"switch","aria-checked":b,"aria-required":i,"data-state":$T(b),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onClick:ve(e.onClick,y=>{v(j=>!j),w&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})}),w&&n.jsx(LT,{control:m,bubbles:!g.current,name:r,value:c,checked:b,required:i,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});OT.displayName=pm;var DT="SwitchThumb",IT=f.forwardRef((e,t)=>{const{__scopeSwitch:s,...r}=e,a=qY(DT,s);return n.jsx(Re.span,{"data-state":$T(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});IT.displayName=DT;var GY="SwitchBubbleInput",LT=f.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:r=!0,...a},o)=>{const i=f.useRef(null),l=at(i,o),c=oy(s),d=i0(t);return f.useEffect(()=>{const u=i.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==s&&p){const x=new Event("click",{bubbles:r});p.call(u,s),u.dispatchEvent(x)}},[c,s,r]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});LT.displayName=GY;function $T(e){return e?"checked":"unchecked"}var FT=OT,YY=IT;const Rx=f.forwardRef(({className:e,...t},s)=>n.jsx(FT,{className:ee("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:n.jsx(YY,{className:ee("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Rx.displayName=FT.displayName;var C1=1,KY=.9,XY=.8,QY=.17,Dp=.1,Ip=.999,JY=.9999,ZY=.99,eK=/[\\\/_+.#"@\[\(\{&]/,tK=/[\\\/_+.#"@\[\(\{&]/g,sK=/[\s-]/,VT=/[\s-]/g;function Ox(e,t,s,r,a,o,i){if(o===t.length)return a===e.length?C1:ZY;var l=`${a},${o}`;if(i[l]!==void 0)return i[l];for(var c=r.charAt(o),d=s.indexOf(c,a),u=0,h,m,p,x;d>=0;)h=Ox(e,t,s,r,d+1,o+1,i),h>u&&(d===a?h*=C1:eK.test(e.charAt(d-1))?(h*=XY,p=e.slice(a,d-1).match(tK),p&&a>0&&(h*=Math.pow(Ip,p.length))):sK.test(e.charAt(d-1))?(h*=KY,x=e.slice(a,d-1).match(VT),x&&a>0&&(h*=Math.pow(Ip,x.length))):(h*=QY,a>0&&(h*=Math.pow(Ip,d-a))),e.charAt(d)!==t.charAt(o)&&(h*=JY)),(h<Dp&&s.charAt(d-1)===r.charAt(o+1)||r.charAt(o+1)===r.charAt(o)&&s.charAt(d-1)!==r.charAt(o))&&(m=Ox(e,t,s,r,d+1,o+2,i),m*Dp>h&&(h=m*Dp)),h>u&&(u=h),d=s.indexOf(c,d+1);return i[l]=u,u}function k1(e){return e.toLowerCase().replace(VT," ")}function rK(e,t,s){return e=s&&s.length>0?`${e+" "+s.join(" ")}`:e,Ox(e,t,k1(e),k1(t),0,0,{})}var oc='[cmdk-group=""]',Lp='[cmdk-group-items=""]',nK='[cmdk-group-heading=""]',BT='[cmdk-item=""]',E1=`${BT}:not([aria-disabled="true"])`,Dx="cmdk-item-select",Si="data-value",aK=(e,t,s)=>rK(e,t,s),zT=f.createContext(void 0),Fd=()=>f.useContext(zT),UT=f.createContext(void 0),_y=()=>f.useContext(UT),HT=f.createContext(void 0),WT=f.forwardRef((e,t)=>{let s=Ci(()=>{var O,q;return{search:"",value:(q=(O=e.value)!=null?O:e.defaultValue)!=null?q:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Ci(()=>new Set),a=Ci(()=>new Map),o=Ci(()=>new Map),i=Ci(()=>new Set),l=qT(e),{label:c,children:d,value:u,onValueChange:h,filter:m,shouldFilter:p,loop:x,disablePointerSelection:g=!1,vimBindings:w=!0,...b}=e,v=Vs(),y=Vs(),j=Vs(),_=f.useRef(null),C=gK();ei(()=>{if(u!==void 0){let O=u.trim();s.current.value=O,N.emit()}},[u]),ei(()=>{C(6,Y)},[]);let N=f.useMemo(()=>({subscribe:O=>(i.current.add(O),()=>i.current.delete(O)),snapshot:()=>s.current,setState:(O,q,L)=>{var G,B,H,J;if(!Object.is(s.current[O],q)){if(s.current[O]=q,O==="search")R(),$(),C(1,W);else if(O==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ae=document.getElementById(j);ae?ae.focus():(G=document.getElementById(v))==null||G.focus()}if(C(7,()=>{var ae;s.current.selectedItemId=(ae=D())==null?void 0:ae.id,N.emit()}),L||C(5,Y),((B=l.current)==null?void 0:B.value)!==void 0){let ae=q??"";(J=(H=l.current).onValueChange)==null||J.call(H,ae);return}}N.emit()}},emit:()=>{i.current.forEach(O=>O())}}),[]),S=f.useMemo(()=>({value:(O,q,L)=>{var G;q!==((G=o.current.get(O))==null?void 0:G.value)&&(o.current.set(O,{value:q,keywords:L}),s.current.filtered.items.set(O,M(q,L)),C(2,()=>{$(),N.emit()}))},item:(O,q)=>(r.current.add(O),q&&(a.current.has(q)?a.current.get(q).add(O):a.current.set(q,new Set([O]))),C(3,()=>{R(),$(),s.current.value||W(),N.emit()}),()=>{o.current.delete(O),r.current.delete(O),s.current.filtered.items.delete(O);let L=D();C(4,()=>{R(),(L==null?void 0:L.getAttribute("id"))===O&&W(),N.emit()})}),group:O=>(a.current.has(O)||a.current.set(O,new Set),()=>{o.current.delete(O),a.current.delete(O)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:v,inputId:j,labelId:y,listInnerRef:_}),[]);function M(O,q){var L,G;let B=(G=(L=l.current)==null?void 0:L.filter)!=null?G:aK;return O?B(O,s.current.search,q):0}function $(){if(!s.current.search||l.current.shouldFilter===!1)return;let O=s.current.filtered.items,q=[];s.current.filtered.groups.forEach(G=>{let B=a.current.get(G),H=0;B.forEach(J=>{let ae=O.get(J);H=Math.max(ae,H)}),q.push([G,H])});let L=_.current;P().sort((G,B)=>{var H,J;let ae=G.getAttribute("id"),re=B.getAttribute("id");return((H=O.get(re))!=null?H:0)-((J=O.get(ae))!=null?J:0)}).forEach(G=>{let B=G.closest(Lp);B?B.appendChild(G.parentElement===B?G:G.closest(`${Lp} > *`)):L.appendChild(G.parentElement===L?G:G.closest(`${Lp} > *`))}),q.sort((G,B)=>B[1]-G[1]).forEach(G=>{var B;let H=(B=_.current)==null?void 0:B.querySelector(`${oc}[${Si}="${encodeURIComponent(G[0])}"]`);H==null||H.parentElement.appendChild(H)})}function W(){let O=P().find(L=>L.getAttribute("aria-disabled")!=="true"),q=O==null?void 0:O.getAttribute(Si);N.setState("value",q||void 0)}function R(){var O,q,L,G;if(!s.current.search||l.current.shouldFilter===!1){s.current.filtered.count=r.current.size;return}s.current.filtered.groups=new Set;let B=0;for(let H of r.current){let J=(q=(O=o.current.get(H))==null?void 0:O.value)!=null?q:"",ae=(G=(L=o.current.get(H))==null?void 0:L.keywords)!=null?G:[],re=M(J,ae);s.current.filtered.items.set(H,re),re>0&&B++}for(let[H,J]of a.current)for(let ae of J)if(s.current.filtered.items.get(ae)>0){s.current.filtered.groups.add(H);break}s.current.filtered.count=B}function Y(){var O,q,L;let G=D();G&&(((O=G.parentElement)==null?void 0:O.firstChild)===G&&((L=(q=G.closest(oc))==null?void 0:q.querySelector(nK))==null||L.scrollIntoView({block:"nearest"})),G.scrollIntoView({block:"nearest"}))}function D(){var O;return(O=_.current)==null?void 0:O.querySelector(`${BT}[aria-selected="true"]`)}function P(){var O;return Array.from(((O=_.current)==null?void 0:O.querySelectorAll(E1))||[])}function A(O){let q=P()[O];q&&N.setState("value",q.getAttribute(Si))}function V(O){var q;let L=D(),G=P(),B=G.findIndex(J=>J===L),H=G[B+O];(q=l.current)!=null&&q.loop&&(H=B+O<0?G[G.length-1]:B+O===G.length?G[0]:G[B+O]),H&&N.setState("value",H.getAttribute(Si))}function k(O){let q=D(),L=q==null?void 0:q.closest(oc),G;for(;L&&!G;)L=O>0?mK(L,oc):pK(L,oc),G=L==null?void 0:L.querySelector(E1);G?N.setState("value",G.getAttribute(Si)):V(O)}let E=()=>A(P().length-1),T=O=>{O.preventDefault(),O.metaKey?E():O.altKey?k(1):V(1)},z=O=>{O.preventDefault(),O.metaKey?A(0):O.altKey?k(-1):V(-1)};return f.createElement(Re.div,{ref:t,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:O=>{var q;(q=b.onKeyDown)==null||q.call(b,O);let L=O.nativeEvent.isComposing||O.keyCode===229;if(!(O.defaultPrevented||L))switch(O.key){case"n":case"j":{w&&O.ctrlKey&&T(O);break}case"ArrowDown":{T(O);break}case"p":case"k":{w&&O.ctrlKey&&z(O);break}case"ArrowUp":{z(O);break}case"Home":{O.preventDefault(),A(0);break}case"End":{O.preventDefault(),E();break}case"Enter":{O.preventDefault();let G=D();if(G){let B=new Event(Dx);G.dispatchEvent(B)}}}}},f.createElement("label",{"cmdk-label":"",htmlFor:S.inputId,id:S.labelId,style:vK},c),gm(e,O=>f.createElement(UT.Provider,{value:N},f.createElement(zT.Provider,{value:S},O))))}),oK=f.forwardRef((e,t)=>{var s,r;let a=Vs(),o=f.useRef(null),i=f.useContext(HT),l=Fd(),c=qT(e),d=(r=(s=c.current)==null?void 0:s.forceMount)!=null?r:i==null?void 0:i.forceMount;ei(()=>{if(!d)return l.item(a,i==null?void 0:i.id)},[d]);let u=GT(a,o,[e.value,e.children,o],e.keywords),h=_y(),m=lo(C=>C.value&&C.value===u.current),p=lo(C=>d||l.filter()===!1?!0:C.search?C.filtered.items.get(a)>0:!0);f.useEffect(()=>{let C=o.current;if(!(!C||e.disabled))return C.addEventListener(Dx,x),()=>C.removeEventListener(Dx,x)},[p,e.onSelect,e.disabled]);function x(){var C,N;g(),(N=(C=c.current).onSelect)==null||N.call(C,u.current)}function g(){h.setState("value",u.current,!0)}if(!p)return null;let{disabled:w,value:b,onSelect:v,forceMount:y,keywords:j,..._}=e;return f.createElement(Re.div,{ref:ar(o,t),..._,id:a,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!m,"data-disabled":!!w,"data-selected":!!m,onPointerMove:w||l.getDisablePointerSelection()?void 0:g,onClick:w?void 0:x},e.children)}),iK=f.forwardRef((e,t)=>{let{heading:s,children:r,forceMount:a,...o}=e,i=Vs(),l=f.useRef(null),c=f.useRef(null),d=Vs(),u=Fd(),h=lo(p=>a||u.filter()===!1?!0:p.search?p.filtered.groups.has(i):!0);ei(()=>u.group(i),[]),GT(i,l,[e.value,e.heading,c]);let m=f.useMemo(()=>({id:i,forceMount:a}),[a]);return f.createElement(Re.div,{ref:ar(l,t),...o,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},s&&f.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},s),gm(e,p=>f.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":s?d:void 0},f.createElement(HT.Provider,{value:m},p))))}),lK=f.forwardRef((e,t)=>{let{alwaysRender:s,...r}=e,a=f.useRef(null),o=lo(i=>!i.search);return!s&&!o?null:f.createElement(Re.div,{ref:ar(a,t),...r,"cmdk-separator":"",role:"separator"})}),cK=f.forwardRef((e,t)=>{let{onValueChange:s,...r}=e,a=e.value!=null,o=_y(),i=lo(d=>d.search),l=lo(d=>d.selectedItemId),c=Fd();return f.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),f.createElement(Re.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:i,onChange:d=>{a||o.setState("search",d.target.value),s==null||s(d.target.value)}})}),dK=f.forwardRef((e,t)=>{let{children:s,label:r="Suggestions",...a}=e,o=f.useRef(null),i=f.useRef(null),l=lo(d=>d.selectedItemId),c=Fd();return f.useEffect(()=>{if(i.current&&o.current){let d=i.current,u=o.current,h,m=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let p=d.offsetHeight;u.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return m.observe(d),()=>{cancelAnimationFrame(h),m.unobserve(d)}}},[]),f.createElement(Re.div,{ref:ar(o,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":r,id:c.listId},gm(e,d=>f.createElement("div",{ref:ar(i,c.listInnerRef),"cmdk-list-sizer":""},d)))}),uK=f.forwardRef((e,t)=>{let{open:s,onOpenChange:r,overlayClassName:a,contentClassName:o,container:i,...l}=e;return f.createElement(u2,{open:s,onOpenChange:r},f.createElement(f2,{container:i},f.createElement(Q0,{"cmdk-overlay":"",className:a}),f.createElement(J0,{"aria-label":e.label,"cmdk-dialog":"",className:o},f.createElement(WT,{ref:t,...l}))))}),fK=f.forwardRef((e,t)=>lo(s=>s.filtered.count===0)?f.createElement(Re.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),hK=f.forwardRef((e,t)=>{let{progress:s,children:r,label:a="Loading...",...o}=e;return f.createElement(Re.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},gm(e,i=>f.createElement("div",{"aria-hidden":!0},i)))}),jr=Object.assign(WT,{List:dK,Item:oK,Input:cK,Group:iK,Separator:lK,Dialog:uK,Empty:fK,Loading:hK});function mK(e,t){let s=e.nextElementSibling;for(;s;){if(s.matches(t))return s;s=s.nextElementSibling}}function pK(e,t){let s=e.previousElementSibling;for(;s;){if(s.matches(t))return s;s=s.previousElementSibling}}function qT(e){let t=f.useRef(e);return ei(()=>{t.current=e}),t}var ei=typeof window>"u"?f.useEffect:f.useLayoutEffect;function Ci(e){let t=f.useRef();return t.current===void 0&&(t.current=e()),t}function lo(e){let t=_y(),s=()=>e(t.snapshot());return f.useSyncExternalStore(t.subscribe,s,s)}function GT(e,t,s,r=[]){let a=f.useRef(),o=Fd();return ei(()=>{var i;let l=(()=>{var d;for(let u of s){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=r.map(d=>d.trim());o.value(e,l,c),(i=t.current)==null||i.setAttribute(Si,l),a.current=l}),a}var gK=()=>{let[e,t]=f.useState(),s=Ci(()=>new Map);return ei(()=>{s.current.forEach(r=>r()),s.current=new Map},[e]),(r,a)=>{s.current.set(r,a),t({})}};function xK(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function gm({asChild:e,children:t},s){return e&&f.isValidElement(t)?f.cloneElement(xK(t),{ref:t.ref},s(t.props.children)):s(t)}var vK={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const YT=f.forwardRef(({className:e,...t},s)=>n.jsx(jr,{ref:s,className:ee("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));YT.displayName=jr.displayName;const KT=f.forwardRef(({className:e,...t},s)=>n.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[n.jsx(li,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),n.jsx(jr.Input,{ref:s,className:ee("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));KT.displayName=jr.Input.displayName;const XT=f.forwardRef(({className:e,...t},s)=>n.jsx(jr.List,{ref:s,className:ee("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));XT.displayName=jr.List.displayName;const QT=f.forwardRef((e,t)=>n.jsx(jr.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));QT.displayName=jr.Empty.displayName;const JT=f.forwardRef(({className:e,...t},s)=>n.jsx(jr.Group,{ref:s,className:ee("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));JT.displayName=jr.Group.displayName;const yK=f.forwardRef(({className:e,...t},s)=>n.jsx(jr.Separator,{ref:s,className:ee("-mx-1 h-px bg-border",e),...t}));yK.displayName=jr.Separator.displayName;const ZT=f.forwardRef(({className:e,...t},s)=>n.jsx(jr.Item,{ref:s,className:ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled='true']:pointer-events-none data-[disabled='true']:opacity-50",e),...t}));ZT.displayName=jr.Item.displayName;const P1=Array.from({length:68},(e,t)=>{const s=420+t*15,r=Math.floor(s/60),a=s%60;return`${String(r).padStart(2,"0")}:${String(a).padStart(2,"0")}:00`}),wK=({professorId:e,onDelete:t,isSuperadmin:s})=>{const[r,a]=f.useState([]),[o,i]=f.useState(!0),l=f.useCallback(async()=>{let h=I.from("assigned_packages_log").select(`
        id, student_id, package_id, observation, assigned_classes, assigned_at, status, custom_package_name,
        student:profiles!student_id(full_name),
        package:packages(name)
      `);if(e&&e!=="all")h=h.eq("professor_id",e);else if(!s){i(!1);return}const{data:m,error:p}=await h.order("assigned_at",{ascending:!1});if(p){console.error("Error fetching logs:",p),i(!1);return}const x=[...new Set(m.map(v=>v.student_id))],{data:g,error:w}=await I.from("billing").select("id, user_id, package_id, purchase_date, end_date, amount_paid").in("user_id",x);w&&console.error("Error fetching billings:",w);const b=m.map(v=>{const y=(g||[]).filter(j=>j.user_id===v.student_id&&j.package_id===v.package_id&&new Date(j.purchase_date)<=new Date(v.assigned_at)).sort((j,_)=>new Date(_.purchase_date)-new Date(j.purchase_date))[0];return{...v,start_date:(y==null?void 0:y.purchase_date)||null,end_date:(y==null?void 0:y.end_date)||null,total_classes_sent:v.assigned_classes,amount_paid:(y==null?void 0:y.amount_paid)||0}});a(b||[]),i(!1)},[e]);f.useEffect(()=>{l();const h=I.channel("assigned-packages-history").on("postgres_changes",{event:"*",schema:"public",table:"assigned_packages_log"},l).subscribe();return()=>I.removeChannel(h)},[l,e]);const c=async h=>{a(m=>m.map(p=>p.id===h.id?{...p,status:"Cancelado"}:p)),await t(h)},d=({status:h})=>{const m=h==="Cancelado",p=h==="missed"||h==="completed"||h==="rescheduled_credit";let x="default";m&&(x="destructive"),p&&(x="secondary");let g=h;return m&&(g="Desfeito"),h==="missed"&&(g="Falta"),h==="completed"&&(g="Concludo"),h==="rescheduled_credit"&&(g="Crdito Ativo"),n.jsx(ge,{variant:x,children:g})},u=h=>{const m=h||0;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(m)};return n.jsxs(Vt,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[" ",n.jsx(Bt,{children:n.jsx(zt,{children:"Histrico de Pacotes Includos"})}),n.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:n.jsxs(xn,{children:[n.jsx(vn,{children:n.jsxs(ct,{children:[n.jsx(Pe,{children:"Aluno"}),n.jsx(Pe,{children:"Pacote"}),n.jsx(Pe,{children:"Aulas Total"}),n.jsx(Pe,{children:"Preo Pago"})," ",n.jsx(Pe,{children:"Data Incio"}),n.jsx(Pe,{children:"Data Fim"}),n.jsx(Pe,{children:"Data Atribuio"}),n.jsx(Pe,{children:"Status"}),n.jsx(Pe,{children:"Aes"})]})}),n.jsx(yn,{children:o?n.jsx(ct,{children:n.jsx(xe,{colSpan:"9",className:"text-center",children:n.jsx(Fe,{className:"mx-auto my-4 h-6 w-6 animate-spin"})})}):r.length>0?r.map(h=>{var m,p,x;return n.jsxs(ct,{className:h.status==="Cancelado"?"opacity-60 bg-slate-50":"",children:[n.jsx(xe,{children:((m=h.student)==null?void 0:m.full_name)||"N/A"}),n.jsx(xe,{children:h.custom_package_name?n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-semibold text-sky-700",children:h.custom_package_name}),n.jsx("span",{className:"text-xs text-slate-400",children:(p=h.package)==null?void 0:p.name})]}):((x=h.package)==null?void 0:x.name)||"Pacote no encontrado"}),n.jsx(xe,{children:h.total_classes_sent||"N/A"}),n.jsx(xe,{children:u(h.amount_paid)})," ",n.jsx(xe,{children:h.start_date?le(ze(h.start_date),"dd/MM/yyyy"):"N/A"}),n.jsx(xe,{children:h.end_date?le(ze(h.end_date),"dd/MM/yyyy"):"N/A"}),n.jsx(xe,{children:le(ze(h.assigned_at),"dd/MM/yyyy HH:mm",{locale:ot})}),n.jsx(xe,{children:n.jsx(d,{status:h.status})}),n.jsx(xe,{children:h.status==="Ativo"||h.status==="rescheduled_credit"?n.jsx(K,{variant:"destructive",size:"sm",onClick:()=>c(h),children:"Desfazer"}):n.jsx(ge,{variant:"destructive",className:"bg-red-100 text-red-700 hover:bg-red-100 cursor-default",children:"DESFEITO"})})]},h.id)}):n.jsx(ct,{children:n.jsx(xe,{colSpan:"9",className:"text-center py-8 text-slate-500",children:"Nenhum registro encontrado."})})})]})})]})},Ix=({dashboardData:e,hideForm:t=!1,hideTable:s=!1})=>{const{toast:r}=Ct(),a=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"],o=(e==null?void 0:e.data)||{},i=(e==null?void 0:e.loading)||!1,l=e==null?void 0:e.professorId;o.professors;const c=o.students||[],d=o.packages||[];o.classSlots;const u=e==null?void 0:e.onUpdate,h=(e==null?void 0:e.isSuperadmin)||!1,[m,p]=f.useState(l||null);f.useEffect(()=>{l&&l!=="all"?p(l):(l==="all"||l===null&&h)&&p(null)},[l,h]);const x=m,[g,w]=f.useState([]),[b,v]=f.useState(!1),[y,j]=f.useState(!1),[_,C]=f.useState(null),[N,S]=f.useState(null),[M,$]=f.useState(""),[W,R]=f.useState(""),[Y,D,P]=hi("package_assignment_form",{packageName:"",totalClasses:"",duration:"30",dayTimes:{},days:[],price:"",startDate:dt(),endDate:Bs(dt(),1)}),{packageName:A,totalClasses:V,duration:k,dayTimes:E,days:T,price:z,endDate:O,startDate:q}=Y,L=(ne,fe)=>{D(Le=>({...Le,[ne]:fe}))},G=ne=>{D(fe=>{const Le=fe.days.includes(ne),Ve=Le?fe.days.filter(ie=>ie!==ne):[...fe.days,ne].sort((ie,U)=>ie-U),te={...fe.dayTimes};return Le?delete te[ne]:te[ne]="08:00",{...fe,days:Ve,dayTimes:te}})},B=(ne,fe)=>{D(Le=>({...Le,dayTimes:{...Le.dayTimes,[ne]:fe}}))},[H,J]=f.useState(!1),[ae,re]=f.useState(null),[ce,pe]=f.useState([]),[Ce,et]=f.useState({}),[F,oe]=f.useState(dt()),[ye,be]=f.useState(Bs(dt(),1)),_e=c.find(ne=>ne.id===_),We=d.find(ne=>ne.id===parseInt(N)),Ye=(We==null?void 0:We.name)==="Personalizado"||N==="custom-choice";f.useEffect(()=>{if(!N&&d.length>0){const ne=d.find(fe=>fe.name==="Personalizado");ne&&S(ne.id.toString())}},[d,N]);const Ke=Ye,Q=f.useMemo(()=>{if(!Ke||T.length===0)return{possibleClasses:0,requestedClasses:0,isValid:!0,daysInPeriod:0};const ne=parseInt(V,10)||0,fe=q instanceof Date?q:new Date(q),Le=O instanceof Date?O:new Date(O);if(isNaN(fe.getTime())||isNaN(Le.getTime())||fe>Le)return{possibleClasses:0,requestedClasses:ne,isValid:!1,error:"Datas invlidas",daysInPeriod:0};let Ve=0;rF({start:fe,end:Le}).forEach(U=>{const ue=Hr(U);T.includes(ue)&&Ve++});const ie=HC(Le,fe)+1;return{possibleClasses:Ve,requestedClasses:ne,daysInPeriod:ie,isValid:ne<=Ve,exceeds:ne>Ve,shortage:ne-Ve}},[Ke,T,V,q,O]),[Se,Ne]=f.useState(!1),[Oe,xt]=f.useState(0);f.useEffect(()=>{(async()=>{if(w([]),!(!x||x==="all")){Ne(!0);try{const{data:fe,error:Le}=await I.from("class_slots").select("*").eq("professor_id",x);if(Le){console.error("Erro ao buscar slots do professor:",Le),r({variant:"destructive",title:"Erro",description:"No foi possvel carregar os horrios."}),Ne(!1);return}const Ve=new Map;(fe||[]).forEach(ie=>{var ue;const U=((ue=ie.start_time)==null?void 0:ue.length)===5?`${ie.start_time}:00`:ie.start_time;Ve.set(`${ie.day_of_week}-${U}`,ie)});const te=[];for(let ie=0;ie<7;ie++)P1.forEach(U=>{const ue=`${ie}-${U}`,ke=Ve.get(ue);ke?te.push({...ke}):te.push({professor_id:x,day_of_week:ie,start_time:U,status:"inactive"})});w(te)}catch(fe){console.error("Exceo ao buscar slots:",fe)}finally{Ne(!1)}}})()},[x,Oe]),f.useEffect(()=>{const ne=async()=>{if(!x){pe([]),et({});return}const{data:fe,error:Le}=await I.from("appointments").select(`
          id, class_datetime, duration_minutes, status,
          student:profiles!student_id(full_name)
        `).eq("professor_id",x).gte("class_datetime",dt().toISOString()).in("status",["scheduled","pending","rescheduled"]);if(Le){console.error("Error fetching future appointments:",Le);return}pe(fe||[]);const Ve={};(fe||[]).forEach(te=>{var qe;const ie=ze(te.class_datetime),U=Hr(ie);le(ie,"HH:mm:ss");const ue=te.duration_minutes||30,ke=Math.ceil(ue/15);for(let rt=0;rt<ke;rt++){const nt=Qa(ie,{minutes:rt*15}),tt=le(nt,"HH:mm:ss"),gt=`${U}-${tt}`;Ve[gt]={appointmentId:te.id,studentName:(qe=te.student)==null?void 0:qe.full_name,isFirstSlot:rt===0,status:te.status}}}),et(Ve)};et({}),ne()},[x,i]);const jt=(ne,fe)=>{w(Le=>Le.map(Ve=>{if(Ve.day_of_week===ne&&Ve.start_time===fe){const te=Ve.status==="active"?"inactive":"active";return Ve.status==="filled"?Ve:{...Ve,status:te}}return Ve}))},ut=(ne,fe)=>{w(Le=>Le.map(Ve=>Ve.day_of_week===ne&&Ve.status!=="filled"?{...Ve,status:fe?"active":"inactive"}:Ve))},Wt=async()=>{if(!x||x==="all"){r({variant:"destructive",title:"Professor no selecionado",description:"Selecione um professor antes de salvar as alteraes."});return}v(!0);const ne=g.map(fe=>{const{id:Le,created_at:Ve,...te}=fe;return{...te,professor_id:x}});try{const{error:fe}=await I.from("class_slots").upsert(ne,{onConflict:"professor_id, day_of_week, start_time"});if(fe)throw fe;r({variant:"default",title:"Sucesso!",description:"Preferncias de horrio salvas com sucesso."}),xt(Le=>Le+1),u&&u()}catch(fe){console.error("Error saving slots:",fe),r({variant:"destructive",title:"Erro ao salvar",description:`No foi possvel salvar: ${fe.message}`})}finally{v(!1)}},pt=async(ne,fe)=>{const Le=`${ne.day_of_week}-${ne.start_time}`;try{if(fe!=null&&fe.appointmentId){const Ve=fe.studentName||"Aluno desconhecido";if(!window.confirm(`Este horrio est ocupado por: ${Ve}

Ao liberar este horrio:
 O agendamento ser CANCELADO
 O horrio ficar DISPONVEL

Deseja continuar?`))return;re(Le);const{error:te}=await I.from("appointments").update({status:"cancelled"}).eq("id",fe.appointmentId);if(te)throw te;r({title:"Horrio liberado!",description:`O horrio foi liberado. Agendamento de ${Ve} foi cancelado.`})}else{if(!window.confirm(`Deseja liberar este horrio?

O horrio ficar disponvel para novos agendamentos.`))return;re(Le);const{error:Ve}=await I.from("class_slots").update({status:"active"}).eq("id",ne.id);if(Ve)throw Ve;r({title:"Horrio liberado!",description:"O horrio foi liberado com sucesso."})}u&&u()}catch(Ve){console.error("Error liberating slot:",Ve),r({variant:"destructive",title:"Erro ao liberar horrio",description:Ve.message})}finally{re(null)}},Ps=f.useCallback(async ne=>{const{id:fe,student_id:Le,package_id:Ve,professor_id:te,start_date:ie,end_date:U}=ne,ue=te;if(window.confirm(`ATENO: Voc est prestes a desfazer a incluso de um pacote. Isso ir:

1. Marcar o registro como CANCELADO (Permanecer no histrico).
2. REMOVER a fatura ativa correspondente.
3. EXCLUIR TODAS AS AULAS associadas ao pacote (tanto do aluno quanto do professor).
4. LIBERAR OS HORRIOS dos professores.

Confirma a operao?`))try{const{error:ke}=await I.from("assigned_packages_log").update({status:"Cancelado"}).eq("id",fe);if(ke)throw ke;let qe=!1,rt=0,nt=0;const tt=ie?ze(ie):dt(),gt=U?ze(U):null;let fs=I.from("appointments").select("id, class_slot_id").eq("student_id",Le).gte("class_datetime",le(tt,"yyyy-MM-dd'T'00:00:00"));gt&&(fs=fs.lte("class_datetime",le(gt,"yyyy-MM-dd'T'23:59:59"))),ue&&(fs=fs.eq("professor_id",ue));const{data:hs,error:en}=await fs;if(en)throw en;if(hs&&hs.length>0){const Is=hs.map(he=>he.id),X=hs.map(he=>he.class_slot_id).filter(Boolean),{error:Z,count:se}=await I.from("appointments").delete({count:"exact"}).in("id",Is);if(Z)throw Z;if(nt=se,X.length>0){const he=[...new Set(X)],{error:De,count:Ze}=await I.from("class_slots").update({status:"active"},{count:"exact"}).in("id",he);De||(rt=Ze)}}if(ie){const{error:Is}=await I.from("billing").delete().eq("user_id",Le).eq("package_id",Ve).eq("purchase_date",ie);Is||(qe=!0)}else{const{data:Is}=await I.from("billing").select("id").eq("user_id",Le).eq("package_id",Ve).order("purchase_date",{ascending:!1}).limit(1).maybeSingle();if(Is){const{error:X}=await I.from("billing").delete().eq("id",Is.id);X||(qe=!0)}}try{const{error:Is}=await I.from("solicitudes_clase").delete().eq("alumno_id",Le).eq("is_recurring",!0).eq("status","Aceita").gte("updated_at",le(tt,"yyyy-MM-dd'T'00:00:00"));Is&&console.warn("Erro ao limpar solicitaes:",Is)}catch(Is){console.warn("Ignorando erro limpeza solicitao:",Is)}let cr="Pacote desfeito com sucesso.";qe&&(cr+=" Fatura removida."),nt>0&&(cr+=` ${nt} aulas removidas (Professor notificvel).`),rt>0&&(cr+=` ${rt} horrios liberados.`),r({variant:"default",title:"Operao Completa",description:cr}),u&&u()}catch(ke){console.error("Error in handleDeleteLog:",ke),r({variant:"destructive",title:"Erro ao desfazer pacote",description:`Ocorreu um erro: ${ke.message}`})}},[x,r,u]),Ot=async ne=>{if(ne.preventDefault(),!_||!N){r({variant:"destructive",title:"Campos obrigatrios",description:"Selecione aluno e pacote."});return}if(!We){r({variant:"destructive",title:"Pacote no encontrado"});return}if(Ke){if(!V||!k||T.length===0||!z||!A){r({variant:"destructive",title:"Campos obrigatrios",description:"Preencha Nome do Pacote, Aulas, Preo e selecione os dias/horrios."});return}if(Q.exceeds){r({variant:"destructive",title:"Perodo insuficiente",description:`O perodo selecionado comporta apenas ${Q.possibleClasses} aulas, mas voc solicitou ${Q.requestedClasses}. Aumente o perodo ou reduza o nmero de aulas.`});return}}J(!0);try{const fe=Ke?parseInt(V,10):We.number_of_classes,Le=Ke?parseFloat(z):We.price,Ve=Ke?q:F,te=Ke?O:ye,ie=Ve instanceof Date?Ve:new Date(Ve),U=te instanceof Date?te:new Date(te);if(isNaN(ie.getTime())||isNaN(U.getTime()))throw new Error("Datas invlidas. Verifique a data de incio e fim.");const ue=Ke?parseInt(k,10):30,ke=Math.ceil(ue/15);let qe=[],rt=0;if(Ke){let gt=[],fs=[],hs=new Date(ie),en=0;for(;en<fe&&hs<=U;){const cr=Hr(hs);if(T.includes(cr)){const X=`${E[cr]}:00`,se=qh(X,"HH:mm:ss",hs),he=Qa(se,{minutes:ue});let De=!1,Ze=!1;qe.push({student_id:_,professor_id:null,class_datetime:se.toISOString(),class_slot_id:null,status:"scheduled",duration_minutes:ue}),en++}hs=Qa(hs,{days:1})}if(qe.length===0)throw new Error("No foi possvel agendar nenhuma aula no perodo selecionado. Verifique os dias escolhidos.")}const{error:nt}=await I.from("billing").insert({user_id:_,package_id:We.id,amount_paid:Le,purchase_date:le(ie,"yyyy-MM-dd"),end_date:le(U,"yyyy-MM-dd"),custom_package_name:Ke?A:null});if(nt)throw nt;const{error:tt}=await I.from("assigned_packages_log").insert({professor_id:null,student_id:_,package_id:We.id,observation:W,assigned_classes:fe,custom_package_name:Ke?A:null,status:"Ativo"});if(tt)throw tt;if(qe.length>0){const{error:gt}=await I.from("appointments").insert(qe);if(gt)throw gt}Ke&&await I.from("profiles").update({preferred_schedule:E}).eq("id",_),r({title:"Pacote Criado (Pendncia)",description:`Pacote "${Ke?A:We.name}" criado com ${qe.length} aulas. ATENO: Aluno sem professor vinculado.`}),C(null),R(""),P(),u&&u()}catch(fe){console.error("Erro na atribuio:",fe),r({variant:"destructive",title:"Erro",description:fe.message})}finally{J(!1)}};return f.useEffect(()=>{Ke||be(Bs(F,1))},[F,Ke]),n.jsx("div",{className:"w-full",children:n.jsxs("div",{className:"w-full space-y-8",children:[!t&&n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Incluir Aulas para Aluno"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Atribua pacotes de aulas e agende horrios automaticamente"})]}),n.jsxs(Qt,{children:[n.jsx(p2,{asChild:!0,children:n.jsxs(K,{variant:"outline",disabled:!x&&!h,children:[n.jsx(Ka,{className:"mr-2 h-4 w-4"})," Ver Histrico"]})}),n.jsx(wK,{professorId:x,onDelete:Ps,isSuperadmin:h})]})]}),n.jsxs("form",{onSubmit:Ot,className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{children:"Aluno"}),n.jsxs(Oa,{open:y,onOpenChange:j,children:[n.jsx(Da,{asChild:!0,children:n.jsxs(K,{variant:"outline",role:"combobox","aria-expanded":y,className:"w-full justify-between font-normal",children:[_e?_e.full_name:"Selecione o aluno...",n.jsx(y3,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),n.jsx(ea,{className:"w-[--radix-popover-trigger-width] p-0",children:n.jsxs(YT,{children:[n.jsx(KT,{placeholder:"Buscar alumno..."}),n.jsxs(XT,{children:[n.jsx(QT,{children:"Nenhum alumno encontrado."}),n.jsx(JT,{children:c.map(ne=>n.jsxs(ZT,{value:ne.full_name,onSelect:()=>{C(ne.id),j(!1)},children:[n.jsx(Fa,{className:ee("mr-2 h-4 w-4",_===ne.id?"opacity-100":"opacity-0")}),ne.full_name]},ne.id))})]})]})})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs(Ut,{onValueChange:ne=>{S(ne),$("")},value:N||"",children:[n.jsx(At,{children:n.jsx(Ht,{placeholder:"Selecione um pacote"})}),n.jsx(Mt,{children:d.map(ne=>n.jsx(we,{value:ne.id.toString(),children:ne.name},ne.id))})]}),!Ke&&n.jsxs(Oa,{children:[n.jsx(Da,{asChild:!0,children:n.jsxs(K,{variant:"outline",className:ee("w-full justify-start text-left font-normal",!F&&"text-muted-foreground"),children:[n.jsx(is,{className:"mr-2 h-4 w-4"}),F?le(F,"PPP",{locale:ot}):n.jsx("span",{children:"Data de Incio"})]})}),n.jsx(ea,{className:"w-auto p-0",children:n.jsx(Hi,{mode:"single",selected:F,onSelect:oe,initialFocus:!0,locale:ot})})]}),!Ke&&n.jsxs(Oa,{children:[n.jsx(Da,{asChild:!0,children:n.jsxs(K,{variant:"outline",className:ee("w-full justify-start text-left font-normal",!ye&&"text-muted-foreground"),children:[n.jsx(is,{className:"mr-2 h-4 w-4"}),ye?le(ye,"PPP",{locale:ot}):n.jsx("span",{children:"Data de Fim"})]})}),n.jsx(ea,{className:"w-auto p-0",children:n.jsx(Hi,{mode:"single",selected:ye,onSelect:be,initialFocus:!0,locale:ot})})]})]}),Ke?n.jsxs(Qe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"space-y-4 overflow-hidden p-4 border border-sky-300 rounded-lg bg-sky-50",children:[n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{htmlFor:"pck-name",children:"Nome do Pacote (Exibido nas Faturas)"}),n.jsx(Je,{id:"pck-name",placeholder:"Ex: Espanhol Iniciante Intensivo",value:A||"",onChange:ne=>L("packageName",ne.target.value),required:!0})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{htmlFor:"pck-price",children:"Preo Pago (R$)"}),n.jsx(Je,{id:"pck-price",type:"number",placeholder:"Ex: 500.00",value:z||"",onChange:ne=>L("price",ne.target.value),required:!0,min:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{htmlFor:"pck-total-classes",children:"Total de Aulas"}),n.jsx(Je,{id:"pck-total-classes",type:"number",placeholder:"Ex: 12",value:V||"",onChange:ne=>L("totalClasses",ne.target.value),required:!0,min:"1"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{htmlFor:"pck-start-date",children:"Data de Incio"}),n.jsxs(Oa,{children:[n.jsx(Da,{asChild:!0,children:n.jsxs(K,{variant:"outline",className:ee("w-full justify-start text-left font-normal"),children:[n.jsx(is,{className:"mr-2 h-4 w-4"}),le(q,"PPP",{locale:ot})]})}),n.jsx(ea,{className:"w-auto p-0",children:n.jsx(Hi,{mode:"single",selected:q,onSelect:ne=>L("startDate",ne),initialFocus:!0,locale:ot})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{children:"Validade (Trmino)"}),n.jsxs(Oa,{children:[n.jsx(Da,{asChild:!0,children:n.jsxs(K,{variant:"outline",className:ee("w-full justify-start text-left font-normal"),children:[n.jsx(is,{className:"mr-2 h-4 w-4"}),le(O,"PPP",{locale:ot})]})}),n.jsx(ea,{className:"w-auto p-0",children:n.jsx(Hi,{mode:"single",selected:O,onSelect:ne=>L("endDate",ne),initialFocus:!0,locale:ot})})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{htmlFor:"pck-duration",children:"Durao de cada Aula (Minutos)"}),n.jsxs(Ut,{onValueChange:ne=>L("duration",ne),value:k,required:!0,children:[n.jsx(At,{id:"pck-duration",children:n.jsx(Ht,{placeholder:"Durao"})}),n.jsxs(Mt,{children:[n.jsx(we,{value:"30",children:"30 Minutos"}),n.jsx(we,{value:"45",children:"45 Minutos"}),n.jsx(we,{value:"60",children:"60 Minutos"})]})]})]})}),n.jsxs("div",{className:"space-y-4 pt-2",children:[n.jsx(Ie,{className:"text-sky-800 font-bold",children:"Configurao da Agenda Semanal"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm text-slate-600",children:"Selecione os dias e o horrio especfico para cada um:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((ne,fe)=>n.jsx(K,{type:"button",variant:T.includes(fe)?"default":"outline",size:"sm",onClick:()=>G(fe),className:ee(T.includes(fe)?"bg-sky-600":""),children:ne.substring(0,3)},fe))})]}),T.length>0&&n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-4 border-t pt-4",children:T.map(ne=>n.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white rounded border border-sky-200",children:[n.jsx(ge,{className:"w-12 justify-center bg-sky-100 text-sky-700 hover:bg-sky-100",children:a[ne].substring(0,3)}),n.jsxs(Ut,{value:E[ne]||"08:00",onValueChange:fe=>B(ne,fe),children:[n.jsx(At,{className:"h-8",children:n.jsx(Ht,{})}),n.jsx(Mt,{className:"max-h-60",children:P1.filter((fe,Le)=>Le%2===0).map(fe=>n.jsx(we,{value:fe.substring(0,5),children:fe.substring(0,5)},fe.substring(0,5)))})]})]},ne))}),T.length===0&&n.jsx("p",{className:"text-red-500 text-sm",children:"Selecione pelo menos um dia para agendar as aulas."}),T.length>0&&V&&n.jsx("div",{className:"mt-4",children:Q.exceeds?n.jsxs(Vn,{variant:"destructive",className:"border-red-300 bg-red-50",children:[n.jsx(Xa,{className:"h-4 w-4"}),n.jsx(pa,{className:"text-red-800",children:"Perodo Insuficiente"}),n.jsxs(Bn,{className:"text-red-700",children:[n.jsxs("p",{children:["O perodo selecionado (",n.jsxs("strong",{children:[Q.daysInPeriod," dias"]}),") comporta apenas ",n.jsxs("strong",{children:[Q.possibleClasses," aulas"]})," nos dias escolhidos."]}),n.jsxs("p",{className:"mt-1",children:["Voc solicitou ",n.jsxs("strong",{children:[Q.requestedClasses," aulas"]}),". Faltam ",n.jsxs("strong",{children:[Q.shortage," aulas"]}),"."]}),n.jsx("p",{className:"mt-2 text-sm font-medium",children:" Aumente a data de validade ou reduza o nmero de aulas."})]})]}):Q.possibleClasses>0&&n.jsxs(Vn,{className:"border-green-300 bg-green-50",children:[n.jsx(XS,{className:"h-4 w-4 text-green-600"}),n.jsx(pa,{className:"text-green-800",children:"Validao OK"}),n.jsxs(Bn,{className:"text-green-700",children:["O perodo de ",n.jsxs("strong",{children:[Q.daysInPeriod," dias"]})," comporta at ",n.jsxs("strong",{children:[Q.possibleClasses," aulas"]})," nos dias selecionados. Sero agendadas ",n.jsxs("strong",{children:[Q.requestedClasses," aulas"]}),"."]})]})})]})]},"pck-personal-details"):null,n.jsx(yo,{placeholder:"Observao (motivo da incluso)",value:W,onChange:ne=>R(ne.target.value)}),n.jsx(K,{type:"submit",className:"w-full bg-sky-600 hover:bg-sky-700",disabled:H||Ke&&Q.exceeds,children:H?n.jsxs(n.Fragment,{children:[n.jsx(Fe,{className:"mr-2 h-4 w-4 animate-spin"})," Incluindo..."]}):"Incluir Pacote"})]})]}),!s&&n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold",children:"Preferncias de Horrios"}),n.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Ative ou desative os horrios de aula para o ciclo semanal."})]}),n.jsx(K,{onClick:Wt,disabled:b,children:b?n.jsxs(n.Fragment,{children:[n.jsx(Fe,{className:"mr-2 h-4 w-4 animate-spin"})," Salvando..."]}):"Salvar Alteraes"})]}),n.jsx("div",{className:"space-y-6 mt-6",children:x?a.map((ne,fe)=>{const Le=g==null?void 0:g.filter(te=>te.day_of_week===fe),Ve=Le==null?void 0:Le.filter(te=>te.status!=="filled").every(te=>te.status==="active");return n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-3 border-b pb-2",children:[n.jsx("h4",{className:"font-semibold text-lg",children:ne}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-slate-500",children:Ve?"Desativar todos":"Ativar todos"}),n.jsx(Rx,{checked:Ve,onCheckedChange:te=>ut(fe,te),"aria-label":`Ativar/desativar todos os horrios de ${ne}`})]})]}),i?n.jsx(Fe,{className:"h-6 w-6 animate-spin"}):n.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4",children:Le==null?void 0:Le.map(te=>{const ie=`${te.day_of_week}-${te.start_time}`,U=Ce[ie],ue=te.status==="filled",ke=!!U,qe=te.status==="active",rt=te.status==="inactive";return n.jsxs("div",{className:ee("flex flex-col gap-1 p-2 rounded-md border",ke||ue?"bg-sky-100 border-sky-300":rt?"bg-slate-200 border-slate-300":"bg-white border-slate-200"),children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:ee("text-sm font-medium",ke||ue?"text-sky-700":rt?"text-slate-500":"text-slate-700"),children:te.start_time.substring(0,5)}),!ke&&!ue&&n.jsx(Rx,{checked:qe,onCheckedChange:()=>jt(te.day_of_week,te.start_time),"aria-label":`Ativar/desativar ${te.start_time}`,className:"h-4 w-7"})]}),(ke||ue)&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-xs text-sky-700 font-medium truncate",children:(U==null?void 0:U.studentName)||"Ocupado"}),n.jsx(K,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs hover:bg-red-100 hover:text-red-700",onClick:()=>pt(te,U),disabled:ae===ie,title:"Clique para liberar este horrio",children:ae===ie?n.jsx(Fe,{className:"h-3 w-3 animate-spin"}):"Liberar"})]})]},te.start_time)})})]},ne)}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-500 border-2 border-dashed rounded-lg",children:[n.jsx(is,{className:"h-12 w-12 mb-4 opacity-20"}),n.jsx("p",{className:"text-lg font-medium",children:"Selecione um professor acima"}),n.jsx("p",{className:"text-sm",children:"Para configurar a agenda de preferncias, escolha um professor no menu suspenso."})]})})]})]})})},Zf=e=>e?e.replace(/\D/g,""):"",bK=e=>{if(!e)return"";const s=Zf(e).substring(0,11);return s.length<=3?s:s.length<=6?`${s.slice(0,3)}.${s.slice(3)}`:s.length<=9?`${s.slice(0,3)}.${s.slice(3,6)}.${s.slice(6)}`:`${s.slice(0,3)}.${s.slice(3,6)}.${s.slice(6,9)}-${s.slice(9)}`},jK=e=>{if(!e)return"";const t=Zf(e);return t.length!==11?e:`${t.slice(0,3)}.***.**${t.slice(9,11)}`},T1=e=>e?e.replace(/\D/g,""):"",A1=e=>e||"",NK=e=>{if(!e)return"";const s=e.replace(/\D/g,"").substring(0,8);return s.length<=5?s:`${s.slice(0,5)}-${s.slice(5)}`},_K=e=>e?e.replace(/\D/g,""):"",SK=({dashboardData:e})=>{var ce,pe,Ce,et;const{toast:t}=Ct(),[s,r]=f.useState("preferencias"),[a,o]=f.useState(""),[i,l]=f.useState("all"),[c,d]=f.useState(!1),[u,h]=f.useState(null),[m,p]=f.useState(!1),[x,g]=f.useState(!1),[w,b]=f.useState(null),[v,y]=f.useState({tabs:[]}),[j,_]=f.useState(!1),[C,N]=f.useState(null);f.useState(null),f.useState(null);const[S,M,$]=hi("admin_user_form",{full_name:"",email:"",password:"",role:"student",is_active:!0,assigned_professor_id:""}),[W,R]=f.useState(""),Y=(e==null?void 0:e.data)||{},D=e==null?void 0:e.onUpdate;e==null||e.professorId;const P=Y.professors||[],A=Y.allProfiles||[],V=Y.students||[],k=Y.roleSettings||[];Y.classSlots;const E=A.filter(F=>{var be,_e,We,Ye;const oe=((be=F.full_name)==null?void 0:be.toLowerCase().includes(a.toLowerCase()))||((_e=F.username)==null?void 0:_e.toLowerCase().includes(a.toLowerCase()))||((We=F.student_code)==null?void 0:We.toLowerCase().includes(a.toLowerCase()))||((Ye=F.cpf)==null?void 0:Ye.includes(Zf(a))),ye=i==="all"||F.role===i;return oe&&ye}),T=(e==null?void 0:e.filteredProfessorId)||"all",z=T==="all"?Y.classSlots||[]:(Y.classSlots||[]).filter(F=>String(F.professor_id)===String(T)),O=()=>{h(null),M({full_name:"",email:"",password:"",role:"student",is_active:!0}),d(!0)},q=async F=>{const{data:oe,error:ye}=await I.from("profiles").select("*").eq("id",F.id).single(),be=oe||F;h(be),M({full_name:be.full_name||"",username:be.username||"",email:be.real_email||be.email||"",phone:be.phone||"",role:be.role||"student",student_code:be.student_code||"",assigned_professor_id:be.assigned_professor_id||"",cpf:be.cpf||"",birth_date:be.birth_date||"",gender:be.gender||"",address_street:be.address_street||"",address_number:be.address_number||"",address_complement:be.address_complement||"",address_neighborhood:be.address_neighborhood||"",address_city:be.address_city||"",address_state:be.address_state||"",address_zip_code:be.address_zip_code||"",registration_status:be.registration_status||"pre_registered",is_active:be.is_active!==!1}),R(""),d(!0)},L=async()=>{var F,oe,ye,be,_e,We,Ye,Ke,Q;if(!S.full_name.trim()||!S.email.trim()){t({title:"Erro",description:"Nome e E-mail so obrigatrios.",variant:"destructive"});return}if(!u&&!S.password){t({title:"Erro",description:"Senha  obrigatria para novos usurios.",variant:"destructive"});return}p(!0);try{if(!u){const{data:Se,error:Ne}=await I.from("profiles").select("full_name, real_email").eq("real_email",S.email.trim()).maybeSingle();if(Se){p(!1),t({title:"E-mail em uso",description:`O e-mail ${S.email} j est vinculado ao usurio: ${Se.full_name}.`,variant:"destructive"});return}}if(u){const Se=u.assigned_professor_id,Ne={full_name:(F=S.full_name)==null?void 0:F.trim(),email:(oe=S.email)==null?void 0:oe.trim().toLowerCase(),phone:T1(S.phone),student_code:((ye=S.student_code)==null?void 0:ye.trim())||null,role:S.role,responsible_name:(be=S.responsible_name)==null?void 0:be.trim(),responsible_phone:T1(S.responsible_phone),academic_level:S.academic_level,spanish_level:S.spanish_level,learning_goals:S.learning_goals,observations:S.observations,cpf:Zf(S.cpf)||null,birth_date:S.birth_date||null,gender:S.gender||null,address_street:S.address_street||null,address_number:S.address_number||null,address_complement:S.address_complement||null,address_neighborhood:S.address_neighborhood||null,address_city:S.address_city||null,address_state:S.address_state||null,address_zip_code:_K(S.address_zip_code)||null,registration_status:S.registration_status||"pre_registered",is_active:S.is_active},{error:Oe}=await I.from("profiles").update(Ne).eq("id",u.id);if(Oe)throw(_e=Oe.message)!=null&&_e.includes("duplicate key")?new Error("J existe outro usurio com estes dados."):Oe;t({title:"Usurio atualizado!",description:"Os dados foram salvos com sucesso."})}else try{const{data:Se,error:Ne}=await I.rpc("admin_create_user",{p_email:S.email.trim().toLowerCase(),p_password:S.password,p_full_name:(S.full_name||"").trim(),p_role:S.role});if(Ne)throw new Error(Ne.message);t({title:"Sucesso!",description:`Usurio criado com sucesso. Senha: ${S.password}`,duration:1e4})}catch(Se){throw console.error("Exception during user creation via RPC:",Se),Se}d(!1),$(),D==null||D()}catch(Se){console.error("Error saving user:",Se);let Ne=Se.message||"Erro desconhecido ao salvar usurio.";(We=Se.message)!=null&&We.includes("duplicate key")?Ne="Este usurio ou e-mail j existe no sistema.":(Ye=Se.message)!=null&&Ye.includes("foreign key")?Ne="O professor selecionado no foi encontrado. Tente selecionar outro.":((Ke=Se.message)!=null&&Ke.includes("network")||(Q=Se.message)!=null&&Q.includes("fetch"))&&(Ne="Erro de conexo. Verifique sua internet e tente novamente."),t({title:"Erro ao criar usurio",description:Ne,variant:"destructive"})}finally{p(!1)}},G=F=>{N(F),_(!0)},B=async()=>{if(C){p(!0);try{const{error:F}=await I.rpc("delete_user_complete",{p_user_id:C.id});if(F)throw F;t({variant:"default",title:"Usurio excludo",description:`O perfil de ${C.full_name} foi removido com sucesso de todas as tabelas.`}),_(!1),N(null),D&&D()}catch(F){console.error("Erro ao excluir usurio:",F),console.error("Erro ao excluir usurio:",F),t({variant:"destructive",title:"Erro ao excluir",description:`Erro tcnico: ${F.message} ${F.details?`(${F.details})`:""}`})}finally{p(!1)}}},H=F=>{const oe=k.find(be=>be.role===F);b(F);const ye=(oe==null?void 0:oe.permissions)||{tabs:[]};ye.actions||(ye.actions={can_manage_classes:F==="professor"||F==="superadmin",can_manage_students:F==="professor"||F==="superadmin"}),y(ye),g(!0)},J=async()=>{p(!0);try{const{error:F}=await I.from("role_settings").upsert({role:w,permissions:v,updated_at:new Date().toISOString()});if(F)throw F;t({title:"Sucesso",description:"Configuraes de perfil atualizadas."}),g(!1),D==null||D()}catch(F){console.error("Error saving role settings:",F),t({title:"Erro",description:"Falha ao salvar configuraes.",variant:"destructive"})}finally{p(!1)}},ae=F=>{const oe=v.tabs||[],ye=oe.includes(F)?oe.filter(be=>be!==F):[...oe,F];y({...v,tabs:ye})},re=F=>{const oe=v.actions||{};y({...v,actions:{...oe,[F]:!oe[F]}})};return n.jsxs("div",{className:"px-4 lg:px-8 space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(zu,{className:"h-8 w-8 text-purple-600"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Administrao"}),n.jsx("p",{className:"text-slate-500",children:"Gerencie usurios, preferncias e perfis de acesso"})]})]}),n.jsxs(tl,{value:s,onValueChange:r,className:"w-full",children:[n.jsxs(yl,{className:"grid w-full grid-cols-3 max-w-md",children:[n.jsxs(zr,{value:"preferencias",className:"flex items-center gap-2",children:[n.jsx(Ef,{className:"h-4 w-4"}),"Preferncias"]}),n.jsxs(zr,{value:"usuarios",className:"flex items-center gap-2",children:[n.jsx(Uu,{className:"h-4 w-4"}),"Usurios"]}),n.jsxs(zr,{value:"perfis",className:"flex items-center gap-2",children:[n.jsx(zu,{className:"h-4 w-4"}),"Perfis"]})]}),n.jsxs(Ms,{value:"preferencias",className:"mt-6 space-y-6",children:[n.jsx(Ix,{hideTable:!0,dashboardData:{...e,professorId:T}}),n.jsxs(wt,{children:[n.jsx(Cs,{children:n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{children:[n.jsx(ks,{children:"Preferncias dos Professores"}),n.jsx(Wr,{children:"Visualize as preferncias de horrios do professor selecionado acima (Filtro Global)"})]})})}),n.jsx(bt,{children:T!=="all"?n.jsx(Ix,{hideForm:!0,dashboardData:{...e,data:{...Y,classSlots:z},professorId:T}}):n.jsxs("div",{className:"text-center py-8 text-slate-500",children:[n.jsx(Ef,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),n.jsx("p",{children:"Selecione um professor no filtro principal (topo da pgina) para ver e editar seus horrios."})]})})]})]}),n.jsx(Ms,{value:"usuarios",className:"mt-6",children:n.jsxs(wt,{children:[n.jsx(Cs,{children:n.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsx(ks,{children:"Gesto de Usurios"}),n.jsx(Wr,{children:"Crie, edite e gerencie todos os usurios do sistema"})]}),n.jsxs("div",{className:"flex gap-3 flex-wrap",children:[n.jsxs(Ut,{value:i,onValueChange:l,children:[n.jsx(At,{className:"w-[180px]",children:n.jsx(Ht,{placeholder:"Filtrar por tipo"})}),n.jsxs(Mt,{children:[n.jsx(we,{value:"all",children:"Todos os tipos"}),n.jsx(we,{value:"student",children:"Alunos"}),n.jsx(we,{value:"professor",children:"Professores"}),n.jsx(we,{value:"superadmin",children:"Administradores"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(li,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),n.jsx(Je,{placeholder:"Nome, cdigo ou CPF...",value:a,onChange:F=>o(F.target.value),className:"pl-10 w-[250px]"})]}),n.jsxs(K,{onClick:O,className:"bg-purple-600 hover:bg-purple-700",children:[n.jsx(Ra,{className:"h-4 w-4 mr-2"}),"Novo Usurio"]})]})]})}),n.jsx(bt,{children:n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs(xn,{children:[n.jsx(vn,{className:"bg-slate-50",children:n.jsxs(ct,{children:[n.jsx(Pe,{children:"Nome"}),n.jsx(Pe,{children:"Telefone"}),n.jsx(Pe,{children:"CPF"}),n.jsx(Pe,{children:"Cdigo"}),n.jsx(Pe,{children:"Tipo"}),n.jsx(Pe,{children:"Status Cadastro"}),n.jsx(Pe,{children:"Professor Vinculado"}),n.jsx(Pe,{children:"Estado"}),n.jsx(Pe,{className:"text-right",children:"Aes"})]})}),n.jsx(yn,{children:E.length>0?E.map(F=>{var oe;return n.jsxs(ct,{children:[n.jsx(xe,{className:"font-medium",children:F.full_name}),n.jsx(xe,{className:"text-slate-500",children:A1(F.phone)||""}),n.jsx(xe,{className:"text-slate-500",children:F.cpf?jK(F.cpf):""}),n.jsx(xe,{children:F.student_code||""}),n.jsx(xe,{children:n.jsx(ge,{variant:F.role==="superadmin"?"destructive":F.role==="professor"?"default":"secondary",children:F.role==="superadmin"?"Admin":F.role==="professor"?"Professor":"Aluno"})}),n.jsx(xe,{children:F.role==="student"?F.registration_status==="complete"?n.jsx(ge,{className:"bg-green-100 text-green-700 border-green-300",children:"Completo"}):n.jsx(ge,{variant:"outline",className:"text-amber-700 border-amber-300",children:"Pr-cadastro"}):n.jsx(ge,{className:"bg-blue-100 text-blue-700 border-blue-300",children:""})}),n.jsx(xe,{children:F.role==="student"&&F.assigned_professor_id&&((oe=P.find(ye=>ye.id===F.assigned_professor_id))==null?void 0:oe.full_name)||""}),n.jsx(xe,{children:F.is_active!==!1?n.jsx(ge,{className:"bg-green-100 text-green-800",children:"Ativo"}):n.jsx(ge,{variant:"destructive",children:"Inativo"})}),n.jsx(xe,{children:F.created_at?le(new Date(F.created_at),"dd/MM/yyyy"):"-"}),n.jsx(xe,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(K,{variant:"ghost",size:"icon",onClick:()=>q(F),title:"Editar / Inativar",children:n.jsx(sp,{className:"h-4 w-4 text-blue-600"})}),n.jsx(K,{variant:"ghost",size:"icon",onClick:()=>G(F),title:"Excluir Usurio",className:"hover:text-red-600",children:n.jsx(ul,{className:"h-4 w-4 text-red-500"})})]})})]},F.id)}):n.jsx(ct,{children:n.jsx(xe,{colSpan:8,className:"text-center py-8 text-slate-500",children:"Nenhum usurio encontrado."})})})]})})})]})}),n.jsx(Ms,{value:"perfis",className:"mt-6",children:n.jsxs(wt,{children:[n.jsxs(Cs,{children:[n.jsx(ks,{children:"Perfis de Acesso"}),n.jsx(Wr,{children:"Gerencie os perfis e permisses de acesso ao sistema"})]}),n.jsxs(bt,{children:[n.jsxs("div",{className:"grid gap-4",children:[n.jsx("div",{className:"border rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-slate-800",children:"Aluno (student)"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Acesso ao portal do aluno"}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:["dashboard","clases","chat","desempenho","faturas"].map(F=>{var ye,be,_e;const oe=(_e=(be=(ye=k.find(We=>We.role==="student"))==null?void 0:ye.permissions)==null?void 0:be.tabs)==null?void 0:_e.includes(F);return n.jsx(ge,{variant:oe?"default":"outline",className:`text-xs capitalize ${oe?"":"opacity-40"}`,children:F},F)})})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(ge,{variant:"secondary",children:[V.length," usurios"]}),n.jsxs(K,{variant:"outline",size:"sm",onClick:()=>H("student"),children:[n.jsx(sp,{className:"h-3.5 w-3.5 mr-1"})," Editar"]})]})]})}),n.jsx("div",{className:"border rounded-lg p-4 border-sky-200 bg-sky-50/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sky-800",children:"Professor (professor)"}),n.jsx("p",{className:"text-sm text-sky-600",children:"Acesso ao painel do professor (dados prprios)"}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:[{id:"inicio",label:"Incio"},{id:"agenda",label:"Agenda"},{id:"conversas",label:"Conversas"},{id:"alunos",label:"Alunos"},{id:"aulas",label:"Aulas"},{id:"preferencias",label:"Preferncias"}].map(F=>{var ye,be,_e;const oe=(_e=(be=(ye=k.find(We=>We.role==="professor"))==null?void 0:ye.permissions)==null?void 0:be.tabs)==null?void 0:_e.includes(F.id);return n.jsx(ge,{variant:oe?"default":"outline",className:`text-xs ${oe?"border-sky-300 text-sky-700 bg-sky-100":"opacity-40 text-slate-400"}`,children:F.label},F.id)})})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(ge,{className:"bg-sky-600",children:[P.length," usurios"]}),n.jsxs(K,{variant:"outline",size:"sm",onClick:()=>H("professor"),children:[n.jsx(sp,{className:"h-3.5 w-3.5 mr-1"})," Editar"]})]})]})}),n.jsx("div",{className:"border rounded-lg p-4 border-purple-200 bg-purple-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-purple-800",children:"Administrador (superadmin)"}),n.jsx("p",{className:"text-sm text-purple-600",children:"Acesso total com viso global e filtro por professor"}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:[{id:"painel",label:"Painel"},{id:"inicio",label:"Incio"},{id:"agenda",label:"Agenda"},{id:"conversas",label:"Conversas"},{id:"alunos",label:"Alunos"},{id:"aulas",label:"Aulas"},{id:"admtab",label:"Administrao"}].map(F=>n.jsx(ge,{variant:"outline",className:"text-xs border-purple-300 text-purple-700 bg-purple-100",children:F.label},F.id))}),n.jsx("p",{className:"text-xs text-purple-500 mt-2",children:"+ Filtro global por professor em todas as abas"})]}),n.jsxs(ge,{variant:"destructive",children:[A.filter(F=>F.role==="superadmin").length," usurios"]})]})})]}),n.jsx("div",{className:"mt-6 p-4 bg-slate-50 rounded-lg",children:n.jsxs("p",{className:"text-sm text-slate-600",children:[n.jsx("strong",{children:"Nota:"})," Superusurios tm acesso a todas as abas com a possibilidade de filtrar por professor especfico. Professores veem apenas seus prprios dados."]})})]})]})})]}),n.jsx(Qt,{open:c,onOpenChange:d,children:n.jsxs(Vt,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:u?"Gerenciar Usurio":"Novo Usurio"}),n.jsx(ds,{children:u?"Gerencie o vnculo com professor e status da conta.":"Preencha os dados do novo usurio."})]}),n.jsxs("div",{className:"grid gap-4 py-4",children:[!u&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Ie,{htmlFor:"full_name",children:"Nome completo *"}),n.jsx(Je,{id:"full_name",value:S.full_name,onChange:F=>M({...S,full_name:F.target.value}),placeholder:"Nome completo do usurio",autoFocus:!0})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Ie,{htmlFor:"email",children:"E-mail *"}),n.jsx(Je,{id:"email",type:"email",value:S.email,onChange:F=>M({...S,email:F.target.value}),placeholder:"usuario@email.com"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Este ser o e-mail de login do usurio."})]}),n.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg space-y-2 border border-purple-200",children:[n.jsx(Ie,{htmlFor:"password_new",className:"text-sm text-purple-700 font-semibold",children:"Senha *"}),n.jsx(Je,{id:"password_new",type:"text",value:S.password,onChange:F=>M({...S,password:F.target.value}),placeholder:"Digite a senha (letras, nmeros, smbolos)",className:"font-mono text-base bg-white border-purple-300"}),n.jsx("p",{className:"text-xs text-purple-600",children:"A senha ser salva exatamente como digitada, respeitando maisculas, minsculas e smbolos."})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Ie,{htmlFor:"role",children:"Perfil de Usurio *"}),n.jsxs(Ut,{value:S.role,onValueChange:F=>M({...S,role:F}),children:[n.jsx(At,{children:n.jsx(Ht,{placeholder:"Selecione um tipo"})}),n.jsxs(Mt,{children:[n.jsx(we,{value:"student",children:"Aluno"}),n.jsx(we,{value:"professor",children:"Professor"})]})]})]})]}),u&&n.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border space-y-1",children:[n.jsx("p",{className:"font-medium text-slate-900",children:u.full_name}),n.jsx("p",{className:"text-sm text-slate-500",children:u.real_email||u.email||"Sin email"}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx(ge,{variant:u.role==="student"?"default":"secondary",children:u.role==="student"?"Aluno":u.role==="professor"?"Professor":"Admin"}),u.student_code&&n.jsxs(ge,{variant:"outline",children:["Cdigo: ",u.student_code]})]})]}),u&&n.jsxs("div",{className:"border-t pt-4 mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h4",{className:"font-semibold text-sm text-slate-700",children:"Dados Complementares"}),u.registration_status==="complete"?n.jsx(ge,{className:"bg-green-100 text-green-700 border-green-300",children:"Cadastro Completo"}):n.jsx(ge,{variant:"outline",className:"text-amber-700 border-amber-300",children:"Pr-cadastro"})]}),n.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Atualize os dados para cadastro completo. Necessrio para contratos e ttulos financeiros."}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Ie,{htmlFor:"edit_phone",children:"Telefone *"}),n.jsx(Je,{id:"edit_phone",value:A1(S.phone),onChange:F=>M({...S,phone:F.target.value}),placeholder:"(00) 00000-0000",maxLength:15})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Ie,{htmlFor:"edit_cpf",children:"CPF"}),n.jsx(Je,{id:"edit_cpf",value:bK(S.cpf),onChange:F=>M({...S,cpf:F.target.value}),placeholder:"000.000.000-00",maxLength:14})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Ie,{htmlFor:"edit_birth_date",children:"Data de Nascimento"}),n.jsx(Je,{id:"edit_birth_date",type:"date",value:S.birth_date,onChange:F=>M({...S,birth_date:F.target.value})})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h5",{className:"font-medium text-sm text-slate-700 mb-3",children:"Endereo"}),n.jsxs("div",{className:"grid gap-3",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("div",{className:"col-span-2 grid gap-2",children:[n.jsx(Ie,{htmlFor:"edit_address_street",children:"Rua"}),n.jsx(Je,{id:"edit_address_street",value:S.address_street,onChange:F=>M({...S,address_street:F.target.value}),placeholder:"Nome da rua"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Ie,{htmlFor:"edit_address_number",children:"Nmero"}),n.jsx(Je,{id:"edit_address_number",value:S.address_number,onChange:F=>M({...S,address_number:F.target.value}),placeholder:"123"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Ie,{htmlFor:"edit_address_complement",children:"Complemento"}),n.jsx(Je,{id:"edit_address_complement",value:S.address_complement,onChange:F=>M({...S,address_complement:F.target.value}),placeholder:"Apto, bloco..."})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Ie,{htmlFor:"edit_address_neighborhood",children:"Bairro"}),n.jsx(Je,{id:"edit_address_neighborhood",value:S.address_neighborhood,onChange:F=>M({...S,address_neighborhood:F.target.value}),placeholder:"Nome do bairro"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Ie,{htmlFor:"edit_address_city",children:"Cidade"}),n.jsx(Je,{id:"edit_address_city",value:S.address_city,onChange:F=>M({...S,address_city:F.target.value}),placeholder:"Cidade"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Ie,{htmlFor:"edit_address_state",children:"Estado"}),n.jsxs(Ut,{value:S.address_state,onValueChange:F=>M({...S,address_state:F}),children:[n.jsx(At,{children:n.jsx(Ht,{placeholder:"UF"})}),n.jsxs(Mt,{children:[n.jsx(we,{value:"AC",children:"AC"}),n.jsx(we,{value:"AL",children:"AL"}),n.jsx(we,{value:"AP",children:"AP"}),n.jsx(we,{value:"AM",children:"AM"}),n.jsx(we,{value:"BA",children:"BA"}),n.jsx(we,{value:"CE",children:"CE"}),n.jsx(we,{value:"DF",children:"DF"}),n.jsx(we,{value:"ES",children:"ES"}),n.jsx(we,{value:"GO",children:"GO"}),n.jsx(we,{value:"MA",children:"MA"}),n.jsx(we,{value:"MT",children:"MT"}),n.jsx(we,{value:"MS",children:"MS"}),n.jsx(we,{value:"MG",children:"MG"}),n.jsx(we,{value:"PA",children:"PA"}),n.jsx(we,{value:"PB",children:"PB"}),n.jsx(we,{value:"PR",children:"PR"}),n.jsx(we,{value:"PE",children:"PE"}),n.jsx(we,{value:"PI",children:"PI"}),n.jsx(we,{value:"RJ",children:"RJ"}),n.jsx(we,{value:"RN",children:"RN"}),n.jsx(we,{value:"RS",children:"RS"}),n.jsx(we,{value:"RO",children:"RO"}),n.jsx(we,{value:"RR",children:"RR"}),n.jsx(we,{value:"SC",children:"SC"}),n.jsx(we,{value:"SP",children:"SP"}),n.jsx(we,{value:"SE",children:"SE"}),n.jsx(we,{value:"TO",children:"TO"})]})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Ie,{htmlFor:"edit_address_zip_code",children:"CEP"}),n.jsx(Je,{id:"edit_address_zip_code",value:NK(S.address_zip_code),onChange:F=>M({...S,address_zip_code:F.target.value}),placeholder:"00000-000",maxLength:9})]})]})]})]})]}),n.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("p",{className:"text-xs text-blue-800",children:[n.jsx("strong",{children:" Nota:"})," As permisses de acesso (Aes em Aulas e Alunos) so configuradas por tipo de perfil na aba ",n.jsx("strong",{children:'"Perfis"'}),"."]})}),u&&n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-orange-50 border-orange-100",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Ie,{className:"text-orange-900",children:"Estado da Conta"}),n.jsx("p",{className:"text-xs text-orange-700",children:S.is_active?"Conta ativa":"Conta inativa"})]}),n.jsx(K,{variant:S.is_active?"destructive":"default",size:"sm",type:"button",onClick:()=>M({...S,is_active:!S.is_active}),children:S.is_active?"Inativar":"Ativar"})]})]}),n.jsxs(Ds,{children:[n.jsx(K,{variant:"outline",type:"button",onClick:()=>d(!1),children:"Cancelar"}),n.jsx(K,{onClick:L,disabled:m,className:"bg-purple-600 hover:bg-purple-700",children:m?n.jsxs(n.Fragment,{children:[n.jsx(Fe,{className:"mr-2 h-4 w-4 animate-spin"})," Salvando..."]}):"Salvar"})]})]})}),n.jsx(Qt,{open:x,onOpenChange:g,children:n.jsxs(Vt,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsxs(zt,{children:["Editar Permisses - ",w]}),n.jsx(ds,{children:"Selecione quais abas e recursos estaro visveis para este papel."})]}),n.jsxs("div",{className:"py-4 space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"text-sm font-semibold text-slate-700 flex items-center gap-2",children:[n.jsx(rx,{className:"h-4 w-4"}),"Abas Visveis"]}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:(w==="student"?["dashboard","clases","chat","desempenho","faturas"]:["inicio","agenda","alunos","aulas","conversas","servicos","financeiro","preferencias","admtab","global"]).map(F=>{var ye,be;const oe={inicio:"Incio",agenda:"Agenda",alunos:"Alunos",aulas:"Aulas",conversas:"Conversas",servicos:"Servios",financeiro:"Financeiro",preferencias:"Preferncias",admtab:"Admin",global:"Global",dashboard:"Dashboard",clases:"Aulas (Aluno)",chat:"Chat",desempenho:"Desempenho",faturas:"Faturas"};return n.jsxs("div",{className:"flex items-center space-x-2 border p-3 rounded-lg hover:bg-slate-50 cursor-pointer",onClick:()=>ae(F),children:[n.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center ${(ye=v.tabs)!=null&&ye.includes(F)?"bg-purple-600 border-purple-600":"border-slate-300"}`,children:((be=v.tabs)==null?void 0:be.includes(F))&&n.jsx(rx,{className:"h-3 w-3 text-white"})}),n.jsx(Ie,{className:"capitalize cursor-pointer flex-1",children:oe[F]||F})]},F)})})]}),w!=="student"&&n.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[n.jsxs("h4",{className:"text-sm font-semibold text-slate-700 flex items-center gap-2",children:[n.jsx(zu,{className:"h-4 w-4"}),"Permisses de Aes"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-slate-50 cursor-pointer",onClick:()=>re("can_manage_classes"),children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(Ie,{className:"cursor-pointer font-medium text-slate-800",children:"Gerenciar Aulas"}),n.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Permitir editar e excluir aulas"})]}),n.jsx("div",{className:`w-11 h-6 rounded-full transition-colors ${(ce=v.actions)!=null&&ce.can_manage_classes?"bg-purple-600":"bg-slate-300"}`,children:n.jsx("div",{className:`w-5 h-5 rounded-full bg-white shadow-sm transition-transform duration-200 mt-0.5 ${(pe=v.actions)!=null&&pe.can_manage_classes?"translate-x-5":"translate-x-0.5"}`})})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-slate-50 cursor-pointer",onClick:()=>re("can_manage_students"),children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(Ie,{className:"cursor-pointer font-medium text-slate-800",children:"Gerenciar Alunos"}),n.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Permitir editar e excluir alunos"})]}),n.jsx("div",{className:`w-11 h-6 rounded-full transition-colors ${(Ce=v.actions)!=null&&Ce.can_manage_students?"bg-purple-600":"bg-slate-300"}`,children:n.jsx("div",{className:`w-5 h-5 rounded-full bg-white shadow-sm transition-transform duration-200 mt-0.5 ${(et=v.actions)!=null&&et.can_manage_students?"translate-x-5":"translate-x-0.5"}`})})]})]})]})]}),n.jsxs(Ds,{children:[n.jsx(K,{variant:"outline",onClick:()=>g(!1),children:"Cancelar"}),n.jsx(K,{onClick:J,disabled:m,className:"bg-purple-600 hover:bg-purple-700",children:m?n.jsx(Fe,{className:"h-4 w-4 animate-spin"}):"Salvar Alteraes"})]})]})}),n.jsx(Qt,{open:j,onOpenChange:_,children:n.jsxs(Vt,{className:"sm:max-w-[400px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsxs(zt,{className:"flex items-center gap-2 text-red-600",children:[n.jsx(ul,{className:"h-5 w-5"}),"Confirmar Excluso"]}),n.jsxs(ds,{children:["Tem certeza que deseja excluir permanentemente o usurio ",n.jsx("strong",{children:C==null?void 0:C.full_name}),"?",n.jsx("br",{}),n.jsx("br",{}),"Esta ao apagar ",n.jsx("strong",{children:"TODOS"})," os dados do usurio (aulas, financeiro, mensagens, histrico).",n.jsx("br",{}),n.jsx("strong",{children:"A operao  irreversvel."})]})]}),n.jsxs(Ds,{className:"gap-2 sm:gap-0",children:[n.jsx(K,{variant:"outline",onClick:()=>_(!1),disabled:m,children:"Cancelar"}),n.jsxs(K,{variant:"destructive",onClick:B,disabled:m,children:[m?n.jsx(Fe,{className:"h-4 w-4 animate-spin mr-2"}):null,"Confirmar Excluso"]})]})]})})]})};function CK(e,t=[]){let s=[];function r(o,i){const l=f.createContext(i);l.displayName=o+"Context";const c=s.length;s=[...s,i];const d=h=>{var b;const{scope:m,children:p,...x}=h,g=((b=m==null?void 0:m[e])==null?void 0:b[c])||l,w=f.useMemo(()=>x,Object.values(x));return n.jsx(g.Provider,{value:w,children:p})};d.displayName=o+"Provider";function u(h,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,x=f.useContext(p);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[d,u]}const a=()=>{const o=s.map(i=>f.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,kK(a,...t)]}function kK(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(o)[`__scope${d}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}var EK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],eA=EK.reduce((e,t)=>{const s=Ch(`Primitive.${t}`),r=f.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Sy="Progress",Cy=100,[PK,iQ]=CK(Sy),[TK,AK]=PK(Sy),tA=f.forwardRef((e,t)=>{const{__scopeProgress:s,value:r=null,max:a,getValueLabel:o=MK,...i}=e;(a||a===0)&&!M1(a)&&console.error(RK(`${a}`,"Progress"));const l=M1(a)?a:Cy;r!==null&&!R1(r,l)&&console.error(OK(`${r}`,"Progress"));const c=R1(r,l)?r:null,d=eh(c)?o(c,l):void 0;return n.jsx(TK,{scope:s,value:c,max:l,children:n.jsx(eA.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":eh(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":nA(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});tA.displayName=Sy;var sA="ProgressIndicator",rA=f.forwardRef((e,t)=>{const{__scopeProgress:s,...r}=e,a=AK(sA,s);return n.jsx(eA.div,{"data-state":nA(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});rA.displayName=sA;function MK(e,t){return`${Math.round(e/t*100)}%`}function nA(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function eh(e){return typeof e=="number"}function M1(e){return eh(e)&&!isNaN(e)&&e>0}function R1(e,t){return eh(e)&&!isNaN(e)&&e<=t&&e>=0}function RK(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Cy}\`.`}function OK(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Cy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var aA=tA,DK=rA;const oA=f.forwardRef(({className:e,value:t,...s},r)=>n.jsx(aA,{ref:r,className:ee("relative h-4 w-full overflow-hidden rounded-full bg-slate-100 dark:bg-slate-800",e),...s,children:n.jsx(DK,{className:"h-full w-full flex-1 bg-slate-900 transition-all dark:bg-slate-50",style:{transform:`translateX(-${100-(t||0)}%)`}})}));oA.displayName=aA.displayName;const IK=()=>{const[e,t]=f.useState(null),[s,r]=f.useState([]),[a,o]=f.useState([]),[i,l]=f.useState([]),[c,d]=f.useState(!0);f.useEffect(()=>{u()},[]);const u=async()=>{d(!0);try{const{data:p}=await I.from("ticket_stats").select("*").single(),{data:x}=await I.from("tickets_by_type").select("*"),{data:g}=await I.from("tickets_by_priority").select("*"),{data:w}=await I.from("daily_ticket_trend").select("*").limit(7);t(p),r(x||[]),o(g||[]),l(w||[])}catch(p){console.error("Error loading reports:",p)}finally{d(!1)}};if(c)return n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx(Fe,{className:"h-8 w-8 animate-spin text-purple-600"})});const h={transfer_student:{label:"Transferncia de Aluno",icon:""},temporary_replacement:{label:"Substituio Temporria",icon:""},system_question:{label:"Queixa sobre o Sistema",icon:""},reschedule_class:{label:"Reagendar Aula",icon:""},change_student_schedule:{label:"Mudana de Horrio",icon:""},schedule_unavailability:{label:"Indisponibilidade",icon:""},confirm_student_info:{label:"Confirmar Informaes",icon:""}},m={low:{label:"Baixa",color:"bg-green-100 text-green-800",icon:""},medium:{label:"Mdia",color:"bg-yellow-100 text-yellow-800",icon:""},high:{label:"Alta",color:"bg-orange-100 text-orange-800",icon:""},urgent:{label:"Urgente",color:"bg-red-100 text-red-800",icon:""}};return n.jsxs("div",{className:"space-y-6 p-6 bg-slate-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-1",children:"Relatrios e Estatsticas"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Dados dos ltimos 30 dias"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(wt,{children:n.jsx(bt,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Total de Tickets"}),n.jsx("p",{className:"text-3xl font-bold text-slate-900",children:(e==null?void 0:e.total_tickets)||0})]}),n.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-full flex items-center justify-center",children:n.jsx(Zv,{className:"h-6 w-6 text-purple-600"})})]})})}),n.jsx(wt,{children:n.jsx(bt,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Tickets Encerrados"}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:(e==null?void 0:e.closed_count)||0}),n.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[(e==null?void 0:e.resolution_rate_percent)||0,"% taxa de resoluo"]})]}),n.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(Bu,{className:"h-6 w-6 text-green-600"})})]})})}),n.jsx(wt,{children:n.jsx(bt,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Tempo Mdio"}),n.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e!=null&&e.avg_resolution_hours?`${Math.round(e.avg_resolution_hours)}h`:"-"}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Tempo de resoluo"})]}),n.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(tr,{className:"h-6 w-6 text-blue-600"})})]})})}),n.jsx(wt,{children:n.jsx(bt,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Violaes de SLA"}),n.jsx("p",{className:"text-3xl font-bold text-red-600",children:(e==null?void 0:e.sla_violations)||0}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Tickets sem resposta no prazo"})]}),n.jsx("div",{className:"h-12 w-12 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx(Xa,{className:"h-6 w-6 text-red-600"})})]})})})]}),n.jsxs(wt,{children:[n.jsx(Cs,{children:n.jsx(ks,{children:"Distribuio por Status"})}),n.jsx(bt,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[n.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:(e==null?void 0:e.pending_count)||0}),n.jsx("p",{className:"text-sm text-yellow-600 font-medium mt-1",children:"Pendentes"})]}),n.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg border border-blue-200",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-700",children:(e==null?void 0:e.open_count)||0}),n.jsx("p",{className:"text-sm text-blue-600 font-medium mt-1",children:"Abertas"})]}),n.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg border border-orange-200",children:[n.jsx("p",{className:"text-2xl font-bold text-orange-700",children:(e==null?void 0:e.awaiting_user_count)||0}),n.jsx("p",{className:"text-sm text-orange-600 font-medium mt-1",children:"Aguardando"})]}),n.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[n.jsx("p",{className:"text-2xl font-bold text-green-700",children:(e==null?void 0:e.closed_count)||0}),n.jsx("p",{className:"text-sm text-green-600 font-medium mt-1",children:"Encerradas"})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(wt,{children:[n.jsxs(Cs,{children:[n.jsx(ks,{children:"Tickets por Tipo"}),n.jsx(Wr,{children:"Distribuio e taxa de resoluo"})]}),n.jsx(bt,{children:n.jsxs("div",{className:"space-y-3",children:[s.map(p=>{const x=h[p.type]||{label:p.type,icon:""},g=p.ticket_count/((e==null?void 0:e.total_tickets)||1)*100;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx("span",{children:x.icon}),n.jsx("span",{children:x.label})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ge,{variant:"outline",className:"text-xs",children:p.ticket_count}),n.jsxs("span",{className:"text-xs text-slate-500",children:[p.resolution_rate,"%"]})]})]}),n.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:n.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all",style:{width:`${g}%`}})})]},p.type)}),s.length===0&&n.jsx("p",{className:"text-center text-slate-500 py-4",children:"Nenhum ticket registrado"})]})})]}),n.jsxs(wt,{children:[n.jsxs(Cs,{children:[n.jsx(ks,{children:"Tickets por Prioridade"}),n.jsx(Wr,{children:"Tempo mdio e violaes de SLA"})]}),n.jsx(bt,{children:n.jsxs("div",{className:"space-y-4",children:[a.map(p=>{const x=m[p.priority]||{label:p.priority,color:"bg-slate-100",icon:""};return n.jsxs("div",{className:`p-3 rounded-lg ${x.color}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("span",{className:"font-medium flex items-center gap-2",children:[n.jsx("span",{children:x.icon}),n.jsx("span",{children:x.label})]}),n.jsx(ge,{variant:"secondary",children:p.ticket_count})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-slate-600",children:"Resolvidos"}),n.jsx("p",{className:"font-semibold",children:p.closed_count})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-slate-600",children:"SLA violado"}),n.jsx("p",{className:"font-semibold text-red-600",children:p.sla_violations||0})]})]}),p.avg_resolution_hours&&n.jsxs("p",{className:"text-xs mt-2 text-slate-600",children:["Tempo mdio: ",n.jsxs("span",{className:"font-semibold",children:[Math.round(p.avg_resolution_hours),"h"]})]})]},p.priority)}),a.length===0&&n.jsx("p",{className:"text-center text-slate-500 py-4",children:"Nenhum ticket registrado"})]})})]})]}),n.jsxs(wt,{children:[n.jsx(Cs,{children:n.jsxs(ks,{className:"flex items-center gap-2",children:[n.jsx(is,{className:"h-5 w-5"}),"Tendncia Diria (ltimos 7 dias)"]})}),n.jsx(bt,{children:n.jsxs("div",{className:"space-y-2",children:[i.map(p=>n.jsxs("div",{className:"flex items-center gap-4 p-2 hover:bg-slate-50 rounded",children:[n.jsx("div",{className:"w-24 text-sm font-medium text-slate-600",children:le(ze(p.date),"dd/MM",{locale:ot})}),n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-6 relative overflow-hidden",children:n.jsx("div",{className:"bg-purple-500 h-6 rounded-full flex items-center justify-end pr-2",style:{width:`${p.tickets_created/Math.max(...i.map(x=>x.tickets_created))*100}%`},children:n.jsx("span",{className:"text-white text-xs font-semibold",children:p.tickets_created})})})})}),n.jsxs("div",{className:"flex gap-2",children:[p.urgent_count>0&&n.jsxs(ge,{className:"bg-red-500 text-white text-xs",children:[" ",p.urgent_count]}),p.high_count>0&&n.jsxs(ge,{className:"bg-orange-500 text-white text-xs",children:[" ",p.high_count]})]})]},p.date)),i.length===0&&n.jsx("p",{className:"text-center text-slate-500 py-4",children:"Nenhum ticket nos ltimos 7 dias"})]})})]})]})},th=[{value:"transfer_student",label:"Transferncia de Aluno",icon:""},{value:"temporary_replacement",label:"Substituio Temporria",icon:""},{value:"system_question",label:"Queixa sobre o Sistema",icon:""},{value:"reschedule_class",label:"Reagendar Aula",icon:""},{value:"change_student_schedule",label:"Mudana de Horrio do Aluno",icon:""},{value:"schedule_unavailability",label:"Indisponibilidade de horrios",icon:""},{value:"confirm_student_info",label:"Confirmar informaes de aluno",icon:""}],sh={pending:{label:"Pendente",color:"bg-yellow-500",textColor:"text-yellow-900",bgLight:"bg-yellow-50"},open:{label:"Aberta",color:"bg-blue-500",textColor:"text-blue-900",bgLight:"bg-blue-50"},awaiting_user:{label:"Aguardando Solicitante",color:"bg-orange-500",textColor:"text-orange-900",bgLight:"bg-orange-50"},closed:{label:"Encerrada",color:"bg-green-500",textColor:"text-green-900",bgLight:"bg-green-50"}},Nl={low:{label:"Baixa",color:"bg-green-500",icon:"",hours:48},medium:{label:"Mdia",color:"bg-yellow-500",icon:"",hours:24},high:{label:"Alta",color:"bg-orange-500",icon:"",hours:12},urgent:{label:"Urgente",color:"bg-red-500",icon:"",hours:4}},iA=({status:e})=>{const t=sh[e]||sh.pending;return n.jsx(ge,{className:`${t.color} hover:${t.color} text-white`,children:t.label})},lA=({priority:e})=>{const t=Nl[e]||Nl.medium;return n.jsxs(ge,{className:`${t.color} text-white text-xs`,children:[t.icon," ",t.label]})},cA=({ticket:e})=>{var o;if(e.status==="closed"||e.first_response_at)return null;const t=J$(new Date,ze(e.created_at)),s=e.expected_response_hours||((o=Nl[e.priority||"medium"])==null?void 0:o.hours)||24,r=t/s*100,a=r>100||e.sla_violated;return n.jsxs("div",{className:"space-y-1 mt-1",children:[n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:a?"text-red-600 font-medium":"text-slate-600",children:a?" SLA Violado":"Aguardando resposta"}),n.jsxs("span",{className:"text-slate-500",children:[t,"h / ",s,"h"]})]}),n.jsx(oA,{value:Math.min(r,100),className:`h-1.5 ${a?"[&>div]:bg-red-500":""}`})]})},LK=({ticketType:e,onSelect:t,disabled:s})=>{const[r,a]=f.useState([]),[o,i]=f.useState(!0);f.useEffect(()=>{l()},[e]);const l=async()=>{i(!0);const{data:c,error:d}=await I.from("ticket_response_templates").select("*").eq("is_active",!0).or(`category.eq.${e},category.is.null`).order("title");d||a(c||[]),i(!1)};return o?n.jsx(K,{variant:"outline",size:"sm",disabled:!0,children:n.jsx(Fe,{className:"h-4 w-4 animate-spin"})}):r.length===0?null:n.jsxs(hd,{children:[n.jsx(md,{asChild:!0,children:n.jsxs(K,{variant:"outline",size:"sm",disabled:s,children:[n.jsx(Rs,{className:"mr-2 h-4 w-4"}),"Templates (",r.length,")"]})}),n.jsxs(wl,{className:"w-80 max-h-96 overflow-y-auto",children:[n.jsx(Xf,{children:"Selecionar Template"}),n.jsx(Uo,{}),r.map(c=>n.jsxs(mr,{onClick:()=>t(c.content),className:"cursor-pointer flex-col items-start",children:[n.jsx("div",{className:"font-medium text-sm",children:c.title}),n.jsxs("div",{className:"text-xs text-slate-500 line-clamp-2 mt-1",children:[c.content.substring(0,100),"..."]})]},c.id))]})]})},$K=({ticketId:e,onUploadComplete:t,disabled:s})=>{const{toast:r}=Ct(),[a,o]=f.useState(!1),i=Kt.useRef(null),l=async c=>{var u;const d=(u=c.target.files)==null?void 0:u[0];if(d){if(d.size>5242880){r({variant:"destructive",title:"Arquivo muito grande",description:"O arquivo deve ter no mximo 5MB"});return}o(!0);try{const h=d.name.split(".").pop(),m=`${e}/${Date.now()}.${h}`,{data:p,error:x}=await I.storage.from("ticket-attachments").upload(m,d);if(x)throw x;const{error:g}=await I.from("ticket_attachments").insert({ticket_id:e,file_name:d.name,file_path:p.path,file_size:d.size,file_type:d.type,uploaded_by:(await I.auth.getUser()).data.user.id});if(g)throw g;r({title:"Arquivo anexado!",description:"O arquivo foi enviado com sucesso"}),t==null||t()}catch(h){console.error("Upload error:",h),r({variant:"destructive",title:"Erro ao enviar arquivo",description:h.message})}finally{o(!1),i.current&&(i.current.value="")}}};return n.jsxs(n.Fragment,{children:[n.jsx("input",{ref:i,type:"file",onChange:l,accept:"image/*,.pdf,.doc,.docx",className:"hidden",disabled:s||a}),n.jsx(K,{variant:"outline",size:"sm",onClick:()=>{var c;return(c=i.current)==null?void 0:c.click()},disabled:s||a,children:a?n.jsxs(n.Fragment,{children:[n.jsx(Fe,{className:"mr-2 h-4 w-4 animate-spin"})," Enviando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(L3,{className:"mr-2 h-4 w-4"})," Anexar"]})})]})},FK=({ticketId:e,canDelete:t})=>{const{toast:s}=Ct(),[r,a]=f.useState([]),[o,i]=f.useState(!0);f.useEffect(()=>{l();const h=()=>l();return window.addEventListener("reloadAttachments",h),()=>window.removeEventListener("reloadAttachments",h)},[e]);const l=async()=>{const{data:h,error:m}=await I.from("ticket_attachments").select(`
                *,
                uploader:profiles!uploaded_by(full_name)
            `).eq("ticket_id",e).order("created_at",{ascending:!0});m||a(h||[]),i(!1)},c=async h=>{try{const{data:m,error:p}=await I.storage.from("ticket-attachments").download(h.file_path);if(p)throw p;const x=URL.createObjectURL(m),g=document.createElement("a");g.href=x,g.download=h.file_name,g.click(),URL.revokeObjectURL(x)}catch(m){s({variant:"destructive",title:"Erro ao baixar arquivo",description:m.message})}},d=async(h,m)=>{if(window.confirm("Deseja remover este anexo?"))try{const{error:p}=await I.from("ticket_attachments").delete().eq("id",h);if(p)throw p;await I.storage.from("ticket-attachments").remove([m]),s({title:"Anexo removido"}),l()}catch(p){s({variant:"destructive",title:"Erro ao remover anexo",description:p.message})}},u=h=>h!=null&&h.startsWith("image/")?n.jsx(P3,{className:"h-4 w-4 text-blue-600"}):h==="application/pdf"?n.jsx(Rs,{className:"h-4 w-4 text-red-600"}):n.jsx(_3,{className:"h-4 w-4 text-slate-600"});return o?n.jsx("div",{className:"text-sm text-slate-500",children:"Carregando anexos..."}):r.length===0?null:n.jsxs("div",{className:"space-y-2 mt-4",children:[n.jsxs(Ie,{className:"text-xs text-slate-500",children:["Anexos (",r.length,")"]}),n.jsx("div",{className:"space-y-2",children:r.map(h=>{var m;return n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-50 rounded border hover:bg-slate-100 transition-colors",children:[u(h.file_type),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium truncate",children:h.file_name}),n.jsxs("p",{className:"text-xs text-slate-500",children:[(h.file_size/1024).toFixed(1)," KB  ",(m=h.uploader)==null?void 0:m.full_name]})]}),n.jsx(K,{variant:"ghost",size:"sm",onClick:()=>c(h),className:"h-8 w-8 p-0",children:n.jsx(tx,{className:"h-4 w-4"})}),t&&n.jsx(K,{variant:"ghost",size:"sm",onClick:()=>d(h.id,h.file_path),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",children:n.jsx(ul,{className:"h-4 w-4"})})]},h.id)})})]})},VK=({isOpen:e,onClose:t,onCreated:s,professorId:r,isSuperadmin:a,allProfiles:o})=>{const{toast:i}=Ct(),[l,c,d]=hi("create_ticket_form",{type:"",priority:"medium",initialMessage:"",selectedProfessor:r||""}),[u,h]=f.useState([]),{type:m,priority:p,initialMessage:x,selectedProfessor:g}=l,w=(N,S)=>c(M=>({...M,[N]:S})),[b,v]=f.useState(!1),[y,j]=f.useState([]);f.useEffect(()=>{a&&e&&_()},[a,e]),f.useEffect(()=>{e&&!a&&w("selectedProfessor",r)},[e,a,r]);const _=async()=>{if(o&&o.length>0){const $=o.filter(W=>W.role&&W.role.toLowerCase()==="professor");$.length===0?j(o.map(W=>({...W,full_name:`${W.full_name} [${W.role||"Sem role"}]`}))):j($);return}const{data:N,error:S}=await I.from("profiles").select("id, full_name, email, role").order("full_name");if(S){console.error("Error loading professors:",S),i({variant:"destructive",title:"Erro ao carregar lista",description:"No foi possvel carregar a lista de professores. Verifique suas permisses."});return}let M=(N||[]).filter($=>$.role&&$.role.toLowerCase()==="professor");M.length===0&&N&&N.length>0&&(M=N.map($=>({...$,full_name:`${$.full_name} [${$.role||"Sem role"}]`}))),j(M)},C=async()=>{if(!m){i({variant:"destructive",title:"Campos obrigatrios",description:"Selecione um tipo de solicitao"});return}if(!x.trim()){i({variant:"destructive",title:"Campos obrigatrios",description:"Escreva uma mensagem"});return}if(a&&!g){i({variant:"destructive",title:"Professor obrigatrio",description:"Selecione o professor para criar o ticket"});return}v(!0);try{const{data:N,error:S}=await I.from("service_tickets").insert({requester_id:g||r,type:m,priority:p,status:"pending"}).select().single();if(S)throw S;const{error:M}=await I.from("service_ticket_messages").insert({ticket_id:N.id,user_id:g||r,message:x});if(M)throw M;if(u.length>0){const $=u.map(async W=>{const R=W.name.split(".").pop(),Y=`${N.id}/${Date.now()}-${Math.random().toString(36).substring(7)}.${R}`,{data:D,error:P}=await I.storage.from("ticket-attachments").upload(Y,W);if(P)throw P;return I.from("ticket_attachments").insert({ticket_id:N.id,file_name:W.name,file_path:D.path,file_size:W.size,file_type:W.type,uploaded_by:g||r})});await Promise.all($)}i({title:"Ticket criado!",description:`Seu ticket ${N.ticket_number} foi criado com sucesso`}),d(),h([]),s(),t()}catch(N){console.error("Error creating ticket:",N),i({variant:"destructive",title:"Erro ao criar ticket",description:N.message})}finally{v(!1)}};return n.jsx(Qt,{open:e,onOpenChange:t,children:n.jsxs(Vt,{className:"sm:max-w-[550px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Novo Ticket de Servio"}),n.jsx(ds,{children:a?"Criar uma solicitao de servio para um professor":"Descreva sua solicitao e nossa equipe entrar em contato"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[a&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{children:"Professor *"}),n.jsxs(Ut,{value:g,onValueChange:N=>w("selectedProfessor",N),children:[n.jsx(At,{children:n.jsx(Ht,{placeholder:"Selecione o professor"})}),n.jsx(Mt,{children:y.map(N=>n.jsxs(we,{value:N.id,children:[N.full_name," (",N.email,")"]},N.id))})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Ie,{children:"Tipo de Solicitao *"}),n.jsxs(Ut,{value:m,onValueChange:N=>w("type",N),children:[n.jsx(At,{className:"mt-1",children:n.jsx(Ht,{placeholder:"Selecionar tipo..."})}),n.jsx(Mt,{children:th.map(N=>n.jsx(we,{value:N.value,children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{children:N.icon}),n.jsx("span",{children:N.label})]})},N.value))})]})]}),n.jsxs("div",{children:[n.jsx(Ie,{children:"Prioridade *"}),n.jsxs(Ut,{value:p,onValueChange:N=>w("priority",N),children:[n.jsx(At,{className:"mt-1",children:n.jsx(Ht,{})}),n.jsx(Mt,{children:Object.entries(Nl).map(([N,S])=>n.jsxs(we,{value:N,children:[S.icon," ",S.label]},N))})]}),n.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Tempo esperado: ",Nl[p].hours,"h"]})]})]}),n.jsxs("div",{children:[n.jsx(Ie,{children:"Mensagem *"}),n.jsx(yo,{placeholder:"Descreva detalhadamente sua solicitao...",value:x,onChange:N=>w("initialMessage",N.target.value),rows:6,className:"mt-1"}),n.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[x.length,"/500 caracteres"]})]}),n.jsxs("div",{children:[n.jsx(Ie,{children:"Anexos"}),n.jsxs("div",{className:"space-y-2 mt-1",children:[n.jsx(Je,{type:"file",multiple:!0,onChange:N=>{N.target.files&&h(S=>[...S,...Array.from(N.target.files)])},className:"cursor-pointer"}),u.length>0&&n.jsx("div",{className:"space-y-1",children:u.map((N,S)=>n.jsxs("div",{className:"flex items-center justify-between text-sm bg-slate-50 p-2 rounded",children:[n.jsx("span",{className:"truncate max-w-[200px]",children:N.name}),n.jsx(K,{variant:"ghost",size:"sm",onClick:()=>h(u.filter((M,$)=>$!==S)),className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",children:n.jsx(Gr,{className:"h-4 w-4"})})]},S))})]})]})]}),n.jsxs(Ds,{children:[n.jsx(K,{variant:"outline",onClick:t,disabled:b,children:"Cancelar"}),n.jsx(K,{onClick:C,disabled:b||!m||!x.trim(),className:"bg-purple-600 hover:bg-purple-700",children:b?n.jsxs(n.Fragment,{children:[n.jsx(Fe,{className:"mr-2 h-4 w-4 animate-spin"})," Criando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(kc,{className:"mr-2 h-4 w-4"})," Criar Ticket"]})})]})]})})},BK=({ticket:e,isOpen:t,onClose:s,onUpdated:r,isSuperadmin:a,currentUserId:o})=>{var S,M,$,W;const{toast:i}=Ct(),[l,c]=f.useState([]),[d,u]=f.useState(""),[h,m]=f.useState((e==null?void 0:e.status)||"pending"),[p,x]=f.useState((e==null?void 0:e.priority)||"medium"),[g,w]=f.useState(!1),[b,v]=f.useState(!0);f.useEffect(()=>{e&&t&&(y(),m(e.status),x(e.priority||"medium"))},[e,t]);const y=async()=>{if(!e)return;v(!0);const{data:R,error:Y}=await I.from("service_ticket_messages").select(`
                *,
                user:profiles(full_name, avatar_url, role)
            `).eq("ticket_id",e.id).order("created_at",{ascending:!0});Y||c(R||[]),v(!1)},j=async()=>{if(d.trim()){w(!0);try{const{error:R}=await I.from("service_ticket_messages").insert({ticket_id:e.id,user_id:o,message:d.trim()});if(R)throw R;u(""),y(),i({title:"Mensagem enviada!",description:"Sua mensagem foi adicionada ao ticket"})}catch(R){i({variant:"destructive",title:"Erro ao enviar mensagem",description:R.message})}finally{w(!1)}}},_=async()=>{if(!(h===e.status&&p===e.priority))try{const R={status:h,closed_at:h==="closed"?new Date().toISOString():null};p!==e.priority&&(R.priority=p);const{error:Y}=await I.from("service_tickets").update(R).eq("id",e.id);if(Y)throw Y;i({title:"Ticket atualizado!",description:`Status: ${sh[h].label}`}),r()}catch(R){i({variant:"destructive",title:"Erro ao atualizar ticket",description:R.message})}};if(!e)return null;const C=th.find(R=>R.value===e.type),N=e.status==="closed";return n.jsx(Qt,{open:t,onOpenChange:s,children:n.jsxs(Vt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Bt,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(sr,{className:"h-10 w-10",children:[n.jsx(Jr,{src:(S=e.requester)==null?void 0:S.avatar_url}),n.jsx(rr,{className:"bg-purple-100 text-purple-600",children:(($=(M=e.requester)==null?void 0:M.full_name)==null?void 0:$[0])||"U"})]}),n.jsxs("div",{children:[n.jsx(zt,{children:(W=e.requester)==null?void 0:W.full_name}),n.jsx("p",{className:"text-sm text-slate-500 font-mono",children:e.ticket_number})]})]}),n.jsx(iA,{status:e.status})]})}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 py-4 border-t border-b bg-slate-50 px-4 rounded-lg",children:[n.jsxs("div",{children:[n.jsx(Ie,{className:"text-xs text-slate-500",children:"Tipo de Solicitao"}),n.jsxs("p",{className:"font-medium flex items-center gap-2 mt-1",children:[n.jsx("span",{children:C==null?void 0:C.icon}),n.jsx("span",{children:(C==null?void 0:C.label)||e.type})]})]}),n.jsxs("div",{children:[n.jsx(Ie,{className:"text-xs text-slate-500",children:"Prioridade"}),n.jsx("div",{className:"mt-1",children:n.jsx(lA,{priority:e.priority||"medium"})})]}),n.jsxs("div",{children:[n.jsx(Ie,{className:"text-xs text-slate-500",children:"Data de Criao"}),n.jsx("p",{className:"font-medium mt-1",children:le(ze(e.created_at),"dd/MM/yyyy 's' HH:mm",{locale:ot})})]})]}),!N&&n.jsx("div",{className:"px-4",children:n.jsx(cA,{ticket:e})}),n.jsxs("div",{className:"px-4",children:[n.jsx(FK,{ticketId:e.id,canDelete:a}),!N&&n.jsx("div",{className:"mt-2",children:n.jsx($K,{ticketId:e.id,onUploadComplete:()=>{const R=new CustomEvent("reloadAttachments");window.dispatchEvent(R)},disabled:g})})]}),a&&!N&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg space-y-3",children:[n.jsx(Ie,{className:"font-semibold text-blue-900",children:"Gerenciar Ticket"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(Ie,{className:"text-xs text-slate-600",children:"Status"}),n.jsxs(Ut,{value:h,onValueChange:m,children:[n.jsx(At,{className:"bg-white mt-1",children:n.jsx(Ht,{})}),n.jsxs(Mt,{children:[n.jsx(we,{value:"pending",children:" Pendente"}),n.jsx(we,{value:"open",children:" Aberta"}),n.jsx(we,{value:"awaiting_user",children:" Aguardando Solicitante"}),n.jsx(we,{value:"closed",children:" Encerrada"})]})]})]}),n.jsxs("div",{children:[n.jsx(Ie,{className:"text-xs text-slate-600",children:"Prioridade"}),n.jsxs(Ut,{value:p,onValueChange:x,children:[n.jsx(At,{className:"bg-white mt-1",children:n.jsx(Ht,{})}),n.jsx(Mt,{children:Object.entries(Nl).map(([R,Y])=>n.jsxs(we,{value:R,children:[Y.icon," ",Y.label]},R))})]})]})]}),n.jsx(K,{onClick:_,disabled:h===e.status&&p===e.priority,className:"bg-blue-600 hover:bg-blue-700 w-full",children:"Atualizar Ticket"})]}),n.jsxs("div",{className:"space-y-4 mt-4",children:[n.jsxs("h4",{className:"font-semibold text-slate-700 flex items-center gap-2",children:[n.jsx(Cf,{className:"h-4 w-4"}),"Histrico de Comunicao"]}),b?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx(Fe,{className:"h-6 w-6 animate-spin text-purple-600"})}):l.length===0?n.jsx("div",{className:"text-center py-8 text-slate-500",children:n.jsx("p",{children:"Nenhuma mensagem ainda"})}):n.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:l.map(R=>{var P,A,V,k,E;const Y=((P=R.user)==null?void 0:P.role)==="superadmin",D=R.user_id===o;return n.jsxs("div",{className:`flex gap-3 ${D?"flex-row-reverse":""}`,children:[n.jsxs(sr,{className:"h-8 w-8 flex-shrink-0",children:[n.jsx(Jr,{src:(A=R.user)==null?void 0:A.avatar_url}),n.jsx(rr,{className:Y?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600",children:((k=(V=R.user)==null?void 0:V.full_name)==null?void 0:k[0])||"U"})]}),n.jsx("div",{className:`flex-1 max-w-[80%] ${D?"items-end":""}`,children:n.jsxs("div",{className:`${D?"bg-purple-100":"bg-slate-100"} p-3 rounded-lg`,children:[n.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[n.jsxs("span",{className:"font-medium text-sm",children:[Y?" ":"",(E=R.user)==null?void 0:E.full_name]}),n.jsx("span",{className:"text-xs text-slate-500",children:le(ze(R.created_at),"dd/MM HH:mm")})]}),n.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:R.message})]})})]},R.id)})})]}),N?n.jsxs("div",{className:"bg-green-50 border border-green-200 p-4 rounded-lg text-center",children:[n.jsx("p",{className:"text-sm text-green-800 font-medium",children:" Este ticket est encerrado"}),n.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Para reabrir, entre em contato com a administrao"})]}):n.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[a&&n.jsx("div",{className:"flex justify-end",children:n.jsx(LK,{ticketType:e.type,onSelect:R=>u(R),disabled:g})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(yo,{placeholder:"Digite sua mensagem...",value:d,onChange:R=>u(R.target.value),rows:3,className:"flex-1",onKeyDown:R=>{R.key==="Enter"&&!R.shiftKey&&(R.preventDefault(),j())}}),n.jsx(K,{onClick:j,disabled:!d.trim()||g,className:"bg-purple-600 hover:bg-purple-700 self-end",children:g?n.jsx(Fe,{className:"h-4 w-4 animate-spin"}):n.jsx(Al,{className:"h-4 w-4"})})]})]})]})})},O1=({dashboardData:e})=>{var W;const{toast:t}=Ct(),[s,r]=f.useState([]),[a,o]=f.useState([]),[i,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(!1),[m,p]=f.useState(!0),[x,g]=f.useState(""),[w,b]=f.useState("all"),[v,y]=f.useState(!1),j=(e==null?void 0:e.isSuperadmin)||!1,_=e==null?void 0:e.professorId;f.useEffect(()=>{C()},[_,j]),f.useEffect(()=>{N()},[s,x,w]),f.useEffect(()=>{if(!_)return;const R=I.channel("service_tickets_changes").on("postgres_changes",{event:"*",schema:"public",table:"service_tickets",filter:j?void 0:`requester_id=eq.${_}`},D=>{var P;if(C(),D.eventType==="INSERT"&&j&&D.new.requester_id!==_&&t({title:" Novo Ticket",description:`Ticket ${D.new.ticket_number} foi criado`}),D.eventType==="UPDATE"&&D.old.status!==D.new.status&&!j){const A=(P=sh[D.new.status])==null?void 0:P.label;t({title:" Ticket Atualizado",description:`Ticket ${D.new.ticket_number} est agora: ${A}`})}}).subscribe(),Y=I.channel("ticket_messages_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"service_ticket_messages"},D=>{if(D.new.user_id!==_){const P=s.find(A=>A.id===D.new.ticket_id);P&&t({title:" Nova Mensagem",description:`Voc recebeu uma resposta no ticket ${P.ticket_number}`})}}).subscribe();return()=>{R.unsubscribe(),Y.unsubscribe()}},[_,j,s,t]);const C=f.useCallback(async()=>{if(_){p(!0);try{let R=I.from("service_tickets").select(`
                    *,
                    requester:profiles!requester_id(full_name, avatar_url, student_code),
                    assigned:profiles!assigned_to(full_name)
                `).order("created_at",{ascending:!1});j||(R=R.eq("requester_id",_));const{data:Y,error:D}=await R;if(D)throw D;r(Y||[])}catch(R){console.error("Error fetching tickets:",R),t({variant:"destructive",title:"Erro ao carregar tickets",description:R.message})}finally{p(!1)}}},[_,j,t]),N=()=>{let R=s;x&&(R=R.filter(Y=>{var P,A,V;const D=((P=th.find(k=>k.value===Y.type))==null?void 0:P.label)||"";return Y.ticket_number.toLowerCase().includes(x.toLowerCase())||D.toLowerCase().includes(x.toLowerCase())||((V=(A=Y.requester)==null?void 0:A.full_name)==null?void 0:V.toLowerCase().includes(x.toLowerCase()))})),w!=="all"&&(R=R.filter(Y=>Y.status===w)),o(R)},S=async R=>{l(R),h(!0)},M=()=>{if(C(),i){const R=s.find(Y=>Y.id===i.id);R&&l(R)}},$={all:s.length,pending:s.filter(R=>R.status==="pending").length,open:s.filter(R=>R.status==="open").length,awaiting_user:s.filter(R=>R.status==="awaiting_user").length,closed:s.filter(R=>R.status==="closed").length};return n.jsx("div",{className:"w-full px-4 lg:px-8",children:n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Servios"}),n.jsx("p",{className:"text-sm text-slate-500",children:j?"Gerenciar tickets de solicitao de todos os professores":"Sistema de solicitaes e suporte para professores"})]}),!j&&n.jsxs(K,{onClick:()=>d(!0),className:"bg-purple-600 hover:bg-purple-700",children:[n.jsx(kc,{className:"mr-2 h-4 w-4"}),"Novo Ticket"]}),j&&n.jsxs(K,{onClick:()=>d(!0),className:"bg-purple-600 hover:bg-purple-700",children:[n.jsx(kc,{className:"mr-2 h-4 w-4"}),"Criar Ticket para Professor"]}),j&&n.jsx(K,{onClick:()=>y(!v),variant:v?"default":"outline",children:v?"Ver Tickets":" Ver Relatrios"})]})}),v&&j?n.jsx(IK,{}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[n.jsxs(ge,{variant:w==="all"?"default":"outline",className:"cursor-pointer",onClick:()=>b("all"),children:["Todos: ",$.all]}),n.jsxs(ge,{variant:w==="pending"?"default":"outline",className:"cursor-pointer bg-yellow-100 text-yellow-800 border-yellow-300",onClick:()=>b("pending"),children:["Pendentes: ",$.pending]}),n.jsxs(ge,{variant:w==="open"?"default":"outline",className:"cursor-pointer bg-blue-100 text-blue-800 border-blue-300",onClick:()=>b("open"),children:["Abertas: ",$.open]}),n.jsxs(ge,{variant:w==="awaiting_user"?"default":"outline",className:"cursor-pointer bg-orange-100 text-orange-800 border-orange-300",onClick:()=>b("awaiting_user"),children:["Aguardando: ",$.awaiting_user]}),n.jsxs(ge,{variant:w==="closed"?"default":"outline",className:"cursor-pointer bg-green-100 text-green-800 border-green-300",onClick:()=>b("closed"),children:["Encerradas: ",$.closed]})]}),n.jsxs("div",{className:"mb-4 relative",children:[n.jsx(li,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),n.jsx(Je,{placeholder:"Buscar por nmero, tipo ou solicitante...",value:x,onChange:R=>g(R.target.value),className:"pl-10 pr-10"}),x&&n.jsx("button",{onClick:()=>g(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:n.jsx(Gr,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs(xn,{children:[n.jsx(vn,{className:"bg-slate-50",children:n.jsxs(ct,{children:[n.jsx(Pe,{children:"Nmero"}),j&&n.jsx(Pe,{children:"Solicitante"}),n.jsx(Pe,{children:"Tipo"}),n.jsx(Pe,{children:"Data de Criao"}),n.jsx(Pe,{children:"Status"}),n.jsx(Pe,{className:"text-right",children:"Aes"})]})}),n.jsx(yn,{children:m?n.jsx(ct,{children:n.jsx(xe,{colSpan:j?6:5,className:"text-center py-8",children:n.jsx(Fe,{className:"h-6 w-6 animate-spin mx-auto"})})}):a.length>0?a.map(R=>{var D,P,A,V,k;const Y=th.find(E=>E.value===R.type);return n.jsxs(ct,{className:"hover:bg-slate-50",children:[n.jsx(xe,{className:"font-mono text-sm font-medium text-purple-600",children:R.ticket_number}),j&&n.jsx(xe,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(sr,{className:"h-7 w-7",children:[n.jsx(Jr,{src:(D=R.requester)==null?void 0:D.avatar_url}),n.jsx(rr,{className:"text-xs",children:(A=(P=R.requester)==null?void 0:P.full_name)==null?void 0:A[0]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:(V=R.requester)==null?void 0:V.full_name}),n.jsx("p",{className:"text-xs text-slate-500",children:(k=R.requester)==null?void 0:k.student_code})]})]})}),n.jsx(xe,{children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{children:Y==null?void 0:Y.icon}),n.jsx("span",{className:"text-sm",children:(Y==null?void 0:Y.label)||R.type})]})}),n.jsx(xe,{className:"text-sm text-slate-600",children:le(ze(R.created_at),"dd/MM/yyyy HH:mm")}),n.jsx(xe,{children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(iA,{status:R.status}),n.jsx(lA,{priority:R.priority||"medium"})]}),n.jsx(cA,{ticket:R})]})}),n.jsx(xe,{className:"text-right",children:n.jsx(K,{variant:"ghost",size:"sm",onClick:()=>S(R),className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",children:"Ver detalhes"})})]},R.id)}):n.jsx(ct,{children:n.jsx(xe,{colSpan:j?6:5,className:"text-center py-12",children:n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx(Cf,{className:"h-12 w-12 text-slate-300"}),n.jsx("p",{className:"text-slate-500 font-medium",children:x||w!=="all"?"Nenhum ticket encontrado com os filtros aplicados":"Nenhum ticket criado ainda"}),!j&&!x&&w==="all"&&n.jsxs(K,{onClick:()=>d(!0),variant:"outline",className:"mt-2",children:[n.jsx(kc,{className:"mr-2 h-4 w-4"}),"Criar primeiro ticket"]})]})})})})]})}),n.jsx(VK,{isOpen:c,onClose:()=>d(!1),onCreated:C,professorId:_,isSuperadmin:j,allProfiles:(W=e==null?void 0:e.data)==null?void 0:W.professors}),n.jsx(BK,{ticket:i,isOpen:u,onClose:()=>h(!1),onUpdated:M,isSuperadmin:j,currentUserId:_})]})]})})},D1=({dashboardData:e})=>{var o;const t=((o=e==null?void 0:e.data)==null?void 0:o.appointments)||[],s=6.11,r=f.useMemo(()=>{const i=t.filter(m=>m.status==="completed"),l=i.reduce((m,p)=>m+(p.duration_minutes||30),0),c=l/30,d=c*s,u={};i.forEach(m=>{var w;const p=m.student_id,x=((w=m.student)==null?void 0:w.full_name)||"Aluno N/A",g=m.duration_minutes||30;u[p]||(u[p]={name:x,typicalDuration:g,totalMinutes:0,units:0,earnings:0,sessions:0}),u[p].totalMinutes+=g,u[p].sessions+=1});const h=Object.values(u).map(m=>{const p=m.totalMinutes/30;return{...m,units:p,earnings:p*s}});return{totalEarnings:d,totalMinutes:l,totalUnits:c,groupedList:h,completedCount:i.length}},[t]),a=i=>{const l=Math.floor(i/60),c=i%60;return`${l}h ${String(c).padStart(2,"0")}m`};return n.jsxs("div",{className:"px-4 lg:px-8 space-y-8 py-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-emerald-100 rounded-xl text-emerald-600",children:n.jsx(td,{className:"h-8 w-8"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-slate-800 uppercase tracking-tight",children:"My Earnings"}),n.jsx("p",{className:"text-slate-500 font-medium",children:"Controle de rendimentos e produtividade"})]})]}),n.jsxs(ge,{variant:"outline",className:"text-sm py-1.5 px-4 bg-white border-slate-200 text-slate-600 shadow-sm self-start md:self-center",children:["Taxa Base: R$ ",s.toFixed(2)," / 30 min"]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[n.jsxs(wt,{className:"border-none shadow-md bg-gradient-to-br from-emerald-500 to-emerald-600 text-white",children:[n.jsx(Cs,{className:"pb-2",children:n.jsx(ks,{className:"text-sm font-medium opacity-90 uppercase",children:"Total de Ganhos"})}),n.jsxs(bt,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-3xl font-bold",children:["R$ ",r.totalEarnings.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),n.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:n.jsx(Zv,{className:"h-6 w-6"})})]}),n.jsx("p",{className:"text-xs mt-2 opacity-80",children:"Ganhos estimados acumulados"})]})]}),n.jsxs(wt,{className:"border-none shadow-md bg-white border-l-4 border-l-sky-500",children:[n.jsx(Cs,{className:"pb-2",children:n.jsx(ks,{className:"text-sm font-medium text-slate-500 uppercase",children:"Tempo em Aula"})}),n.jsxs(bt,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-3xl font-bold text-slate-800",children:a(r.totalMinutes)}),n.jsx("div",{className:"p-2 bg-sky-50 rounded-lg text-sky-600",children:n.jsx(tr,{className:"h-6 w-6"})})]}),n.jsx("p",{className:"text-xs mt-2 text-slate-400",children:"Total de minutos em aulas concludas"})]})]}),n.jsxs(wt,{className:"border-none shadow-md bg-white border-l-4 border-l-purple-500",children:[n.jsx(Cs,{className:"pb-2",children:n.jsx(ks,{className:"text-sm font-medium text-slate-500 uppercase",children:"Quantidade de Aulas"})}),n.jsxs(bt,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-3xl font-bold text-slate-800",children:r.totalUnits.toFixed(1)}),n.jsx("div",{className:"p-2 bg-purple-50 rounded-lg text-purple-600",children:n.jsx(ro,{className:"h-6 w-6"})})]}),n.jsx("p",{className:"text-xs mt-2 text-slate-400",children:"Total de unidades (30 min cada)"})]})]})]}),n.jsxs(wt,{className:"border-none shadow-md overflow-hidden",children:[n.jsxs(Cs,{className:"bg-slate-50/50 border-b",children:[n.jsx(ks,{className:"text-lg font-bold text-slate-800",children:"Histrico por Aluno"}),n.jsx(Wr,{children:"Detalhamento de rendimentos por cada aluno atendido"})]}),n.jsx(bt,{className:"p-0",children:n.jsxs(xn,{children:[n.jsx(vn,{className:"bg-slate-50",children:n.jsxs(ct,{children:[n.jsx(Pe,{className:"font-bold",children:"Aluno"}),n.jsx(Pe,{className:"font-bold",children:"Durao Aula"}),n.jsx(Pe,{className:"font-bold",children:"Tempo Total"}),n.jsx(Pe,{className:"font-bold",children:"Qtd. Total (30m)"}),n.jsx(Pe,{className:"font-bold",children:"Valor Unitrio"}),n.jsx(Pe,{className:"font-bold text-right",children:"Valor Estimado"})]})}),n.jsx(yn,{children:r.groupedList.length>0?r.groupedList.map((i,l)=>n.jsxs(ct,{className:"hover:bg-slate-50 transition-colors",children:[n.jsx(xe,{className:"font-medium text-slate-700",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-slate-100 rounded-lg",children:n.jsx(Mh,{className:"w-4 h-4 text-slate-500"})}),i.name]})}),n.jsxs(xe,{children:[i.typicalDuration," min"]}),n.jsx(xe,{children:a(i.totalMinutes)}),n.jsx(xe,{children:n.jsx(ge,{variant:"secondary",className:"bg-slate-100 text-slate-700",children:i.units.toFixed(1)})}),n.jsxs(xe,{className:"text-slate-500 text-sm",children:["R$ ",s.toFixed(2)]}),n.jsxs(xe,{className:"text-right font-bold text-emerald-600",children:["R$ ",i.earnings.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]},l)):n.jsx(ct,{children:n.jsx(xe,{colSpan:6,className:"text-center py-12 text-slate-400",children:"Nenhuma aula concluda encontrada para calcular rendimentos."})})})]})})]})]})},zK=({dashboardData:e})=>{var E,T,z,O,q;const{toast:t}=Ct(),[s,r]=f.useState([]),[a,o]=f.useState(!0),[i,l]=f.useState(null),[c,d]=f.useState(""),[u,h]=f.useState(""),[m,p]=f.useState("all"),[x,g]=f.useState("all"),[w,b]=f.useState("all"),[v,y]=f.useState(""),[j,_]=f.useState(""),[C,N]=f.useState("");e==null||e.onUpdate,(E=e==null?void 0:e.data)!=null&&E.students;const S=((T=e==null?void 0:e.data)==null?void 0:T.allProfiles)||[],M=f.useCallback(L=>{if(!L)return null;const G=S.find(B=>B.id===L);return(G==null?void 0:G.full_name)||null},[S]),$=L=>({appointments:"Aulas",profiles:"Perfis",billing:"Faturas",packages:"Pacotes",class_slots:"Horrios",solicitudes_clase:"Solicitaes",chats:"Conversas",mensajes:"Mensagens",class_feedback:"Feedbacks",notifications:"Notificaes",assigned_packages_log:"Atribuies de Pacotes",audit_logs:"Auditoria",professor_announcements:"Avisos",financial_titles:"Ttulos Financeiros",student_messages:"Mensagens de Alunos"})[L]||L,W=L=>({class_datetime:"Data/Hora da Aula",status:"Status",student_id:"Aluno",professor_id:"Professor",full_name:"Nome Completo",email:"Email",phone:"Telefone",spanish_level:"Nvel de Espanhol",reschedule_reason:"Motivo do Reagendamento",observation:"Observao",start_time:"Horrio de Incio",end_time:"Horrio de Trmino",day_of_week:"Dia da Semana",package_id:"Pacote",assigned_classes:"Aulas Atribudas",purchase_date:"Data da Compra",expiration_date:"Data de Expirao"})[L]||L,R=L=>{try{const G=L.table_name,B=L.action,H=L.new_data||{},J=L.old_data||{};if(G==="class_slots"){const re=H.day_of_week!==void 0?H.day_of_week:J.day_of_week,ce=["Domingo","Segunda-feira","Tera-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sbado"],pe=re!=null?ce[re]:"(Dia desconhecido)",Ce=H.start_time||J.start_time||"(Sem horrio)";if(B==="INSERT")return`Novo horrio disponvel: ${pe} s ${Ce}`;if(B==="UPDATE")return H.is_available!==void 0&&H.is_available!==J.is_available?`Horrio de ${pe} s ${Ce} marcado como ${H.is_available?"Disponvel":"Indisponvel"}`:H.start_time&&H.start_time!==J.start_time?`Horrio de ${pe} alterado de ${J.start_time} para ${H.start_time}`:`Atualizao no horrio de ${pe} s ${Ce}`;if(B==="DELETE")return`Remoo do horrio: ${pe} s ${Ce}`}if(G==="appointments"){const re=H.class_datetime||J.class_datetime;let ce="";if(re)try{const pe=new Date(re);isNaN(pe.getTime())||(ce=le(pe,"dd/MM 's' HH:mm",{locale:ot}))}catch{ce=""}if(B==="INSERT")return`Aula agendada para ${ce}`;if(B==="UPDATE"){const pe=J.status,Ce=H.status;return Ce&&Ce!==pe?`Status da aula de ${ce} alterado para: ${{scheduled:"Agendada",rescheduled:"Reagendada",completed:"Realizada",cancelled:"Cancelada",no_show:"Falta"}[Ce]||Ce}`:H.meeting_link&&H.meeting_link!==J.meeting_link?`Link da reunio atualizado para a aula de ${ce}`:`Atualizao na aula de ${ce}`}if(B==="DELETE")return`Aula de ${ce} excluda`}if(G==="profiles"){const re=H.full_name||J.full_name||"Usurio";if(B==="INSERT")return`Novo usurio cadastrado: ${re}`;if(B==="UPDATE")return H.full_name!==J.full_name?`Nome alterado de "${J.full_name}" para "${H.full_name}"`:H.role!==J.role?`Funo de ${re} alterada para ${H.role}`:`Dados de ${re} atualizados`;if(B==="DELETE")return`Usurio removido: ${re}`}if(G==="billing"||G==="financial_titles"){const re=H.amount||J.amount,ce=re?`R$ ${re}`:"",pe=H.title_number||J.title_number||"";if(B==="INSERT")return`Novo ttulo financeiro gerado ${pe?`#${pe} `:""}${ce?`(${ce})`:""}`;if(B==="UPDATE")return H.status&&H.status!==J.status?`Status do ttulo ${pe} alterado para ${{pending:"Pendente",effective:"Efetivado",paid:"Pago",cancelled:"Cancelado",overdue:"Vencido",closed:"Encerrado"}[H.status]||H.status}`:`Atualizao no ttulo ${pe} ${ce?`(${ce})`:""}`;if(B==="DELETE")return"Ttulo financeiro removido"}if(G==="packages"){const re=H.name||J.name||"Pacote";if(B==="INSERT")return`Novo pacote criado: ${re}`;if(B==="UPDATE")return`Alterao no pacote: ${re}`;if(B==="DELETE")return`Pacote removido: ${re}`}if(G==="assigned_packages_log"){if(B==="INSERT")return"Pacote atribudo a um aluno";if(B==="DELETE")return"Atribuio de pacote removida"}if(["chats","mensajes","messages","student_messages","class_feedback"].includes(G)){if(G==="class_feedback"){if(B==="INSERT")return"Novo feedback de aula enviado";if(B==="UPDATE")return"Feedback de aula alterado"}if(B==="INSERT")return"Nova mensagem enviada";if(B==="UPDATE")return"Status da mensagem atualizado";if(B==="DELETE")return"Mensagem excluda"}if(G==="notifications"){if(B==="INSERT")return"Nova notificao do sistema";if(B==="UPDATE")return"Notificao marcada como lida/alterada"}if(G==="professor_announcements"){const re=H.title||J.title||"Comunicado";if(B==="INSERT")return`Novo comunicado: "${re}"`;if(B==="UPDATE")return`Comunicado "${re}" atualizado`;if(B==="DELETE")return`Comunicado "${re}" removido`}if(B==="UPDATE"){const re=Object.keys(H).filter(ce=>H[ce]!==J[ce]&&!["id","updated_at","created_at"].includes(ce));if(re.length>0){const ce=re.slice(0,2).map(W).join(", ");return`Alterao em ${$(G)}: ${ce}${re.length>2?"...":""}`}}return`${B==="INSERT"?"Incluso em":B==="UPDATE"?"Alterao em":B==="DELETE"?"Excluso em":"Registro em"} ${$(G)}`}catch{return L.history||"Registro de auditoria"}},Y=(L,G)=>{if(G==null)return"(vazio)";if(L.includes("datetime")||L.includes("date")||L.includes("_at"))try{return le(new Date(G),"dd/MM/yyyy HH:mm",{locale:ot})}catch{return G}if(L==="status")return{scheduled:"Agendado",rescheduled:"Reagendado",completed:"Realizada",cancelled:"Cancelada",no_show:"Falta"}[G]||G;if(L.includes("_id")&&typeof G=="string"&&G.includes("-")){const B=M(G);if(B)return B}return String(G)},D=f.useCallback(async()=>{o(!0);try{let L=I.from("audit_logs").select(`
                    *,
                    profiles:changed_by(full_name, avatar_url)
                `).order("created_at",{ascending:!1}).limit(200);const{data:G,error:B}=await L;if(B)throw B;r(G||[])}catch(L){console.error("Erro ao buscar logs:",L),t({variant:"destructive",title:"Erro ao carregar logs",description:L.message})}finally{o(!1)}},[t]);f.useEffect(()=>{D()},[D]);const P=f.useMemo(()=>s.filter(L=>{var et,F;const G=c===""||L.log_code.toString().includes(c),B=m==="all"||L.changed_by===m,H=x==="all"||L.table_name===x,J=w==="all"||L.action===w,ae=((et=L.old_data)==null?void 0:et.class_code)||((F=L.new_data)==null?void 0:F.class_code)||"",re=u===""||ae.toLowerCase().includes(u.toLowerCase()),ce=v===""||(R(L)||"").toLowerCase().includes(v.toLowerCase())||(L.table_name||"").toLowerCase().includes(v.toLowerCase())||ae.toLowerCase().includes(v.toLowerCase()),pe=j===""||new Date(L.created_at)>=new Date(j),Ce=C===""||new Date(L.created_at)<=new Date(C);return G&&B&&H&&J&&ce&&pe&&Ce&&re}).sort((L,G)=>new Date(G.created_at)-new Date(L.created_at)),[s,c,u,m,x,w,v,j,C]),A=f.useMemo(()=>{const L=[],G=new Set;return s.forEach(B=>{var H;B.changed_by&&!G.has(B.changed_by)&&(G.add(B.changed_by),L.push({id:B.changed_by,name:((H=B.profiles)==null?void 0:H.full_name)||"Desconhecido"}))}),L},[s]),V=f.useMemo(()=>[...new Set(s.map(L=>L.table_name))],[s]),k=()=>{d(""),h(""),p("all"),g("all"),b("all"),y(""),_(""),N("")};return n.jsxs("div",{className:"w-full px-4 lg:px-8 space-y-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[n.jsx(Ka,{className:"h-6 w-6 text-sky-600"}),"Log's de Auditoria"]}),n.jsx("p",{className:"text-slate-500 text-sm",children:"Acompanhe todas as inseres e alteraes realizadas na base de dados."})]}),n.jsxs(K,{variant:"outline",size:"sm",onClick:D,disabled:a,children:[a?n.jsx(Fe,{className:"h-4 w-4 animate-spin mr-2"}):n.jsx(rd,{className:"h-4 w-4 mr-2"}),"Atualizar Logs"]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-100 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(li,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),n.jsx(Je,{placeholder:"Buscar no histrico...",value:v,onChange:L=>y(L.target.value),className:"pl-9 h-9"})]}),n.jsx(Je,{placeholder:"Cdigo (#)",type:"number",value:c,onChange:L=>d(L.target.value),className:"h-9 w-[100px]"}),n.jsx(Je,{placeholder:"Cd. Aula (AULA-...)",value:u,onChange:L=>h(L.target.value),className:"h-9"}),n.jsxs(Ut,{value:m,onValueChange:p,children:[n.jsx(At,{className:"h-9",children:n.jsx(Ht,{placeholder:"Usurio"})}),n.jsxs(Mt,{children:[n.jsx(we,{value:"all",children:"Todos os usurios"}),A.map(L=>n.jsx(we,{value:L.id,children:L.name},L.id))]})]}),n.jsxs(Ut,{value:x,onValueChange:g,children:[n.jsx(At,{className:"h-9",children:n.jsx(Ht,{placeholder:"Tabela"})}),n.jsxs(Mt,{children:[n.jsx(we,{value:"all",children:"Todas as tabelas"}),V.map(L=>n.jsx(we,{value:L,children:L},L))]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Ut,{value:w,onValueChange:b,children:[n.jsx(At,{className:"h-9 flex-1",children:n.jsx(Ht,{placeholder:"Ao"})}),n.jsxs(Mt,{children:[n.jsx(we,{value:"all",children:"Todas as aes"}),n.jsx(we,{value:"INITIAL",children:"Carga Inicial"}),n.jsx(we,{value:"INSERT",children:"Incluses"}),n.jsx(we,{value:"UPDATE",children:"Alteraes"}),n.jsx(we,{value:"DELETE",children:"Excluses"})]})]}),n.jsx(K,{variant:"ghost",size:"icon",onClick:k,title:"Limpar filtros",children:n.jsx(S3,{className:"h-4 w-4 text-slate-500"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Data incio"}),n.jsx(Je,{type:"date",value:j,onChange:L=>_(L.target.value),className:"h-9"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Data fim"}),n.jsx(Je,{type:"date",value:C,onChange:L=>N(L.target.value),className:"h-9"})]})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:n.jsxs(xn,{children:[n.jsx(vn,{className:"bg-slate-50",children:n.jsxs(ct,{children:[n.jsx(Pe,{className:"w-[100px]",children:"Cdigo"}),n.jsx(Pe,{className:"w-[180px]",children:"Data e Hora"}),n.jsx(Pe,{children:"Histrico e Movimentao"}),n.jsx(Pe,{className:"w-[180px]",children:"Usurio"}),n.jsx(Pe,{className:"text-right w-[120px]",children:"Aes"})]})}),n.jsx(yn,{children:a?n.jsx(ct,{children:n.jsxs(xe,{colSpan:5,className:"text-center py-20",children:[n.jsx(Fe,{className:"h-10 w-10 animate-spin mx-auto text-sky-500"}),n.jsx("p",{className:"mt-2 text-slate-500",children:"Buscando auditoria..."})]})}):P.length>0?P.map(L=>{var G,B,H,J,ae,re,ce,pe,Ce;return n.jsxs(ct,{className:"hover:bg-slate-50/50",children:[n.jsxs(xe,{className:"font-mono font-bold text-sky-700",children:["#",L.log_code]}),n.jsx(xe,{className:"text-slate-600 text-sm",children:le(new Date(L.created_at),"dd/MM/yyyy HH:mm",{locale:ot})}),n.jsx(xe,{children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(ge,{variant:L.action==="INITIAL"?"outline":L.action==="INSERT"?"success":L.action==="UPDATE"?"warning":"destructive",className:"text-[10px] uppercase font-bold py-0 h-4",children:L.action==="INITIAL"?"CARGA INICIAL":L.action==="INSERT"?"INCLUSO":L.action==="UPDATE"?"ALTERAO":"EXCLUSO"}),L.table_name==="appointments"&&(((G=L.old_data)==null?void 0:G.class_code)||((B=L.new_data)==null?void 0:B.class_code))&&n.jsx("span",{className:"font-mono text-xs text-sky-700 bg-sky-50 px-2 py-0.5 rounded border border-sky-200",children:((H=L.old_data)==null?void 0:H.class_code)||((J=L.new_data)==null?void 0:J.class_code)}),n.jsx("span",{className:"font-medium text-slate-800",children:R(L)})]}),n.jsxs("span",{className:"text-[10px] text-slate-400 font-mono",children:["ID: ",((ae=L.record_id)==null?void 0:ae.split("-")[0])||"N/A","... | Tabela: ",$(L.table_name)]})]})}),n.jsx(xe,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-6 w-6 rounded-full bg-slate-200 flex items-center justify-center text-[10px] uppercase font-bold text-slate-500 overflow-hidden",children:(re=L.profiles)!=null&&re.avatar_url?n.jsx("img",{src:L.profiles.avatar_url,alt:"Profile",className:"h-full w-full object-cover"}):((pe=(ce=L.profiles)==null?void 0:ce.full_name)==null?void 0:pe[0])||"S"}),n.jsx("span",{className:"text-sm text-slate-700",children:((Ce=L.profiles)==null?void 0:Ce.full_name)||"Sistema"})]})}),n.jsx(xe,{className:"text-right",children:n.jsxs(K,{variant:"ghost",size:"sm",className:"h-8 text-sky-600 hover:text-sky-700 hover:bg-sky-50",onClick:()=>l(L),title:"Ver detalhes",children:[n.jsx(ii,{className:"h-3.5 w-3.5 mr-1"}),"Detalhes"]})})]},L.id)}):n.jsx(ct,{children:n.jsxs(xe,{colSpan:5,className:"text-center py-20 text-slate-500",children:[n.jsx(XS,{className:"h-10 w-10 mx-auto mb-2 opacity-20"}),"Nenhum log encontrado com os filtros aplicados."]})})})]})}),n.jsx(Qt,{open:!!i,onOpenChange:()=>l(null),children:n.jsxs(Vt,{className:"sm:max-w-[600px] max-h-[85vh] overflow-hidden flex flex-col",children:[n.jsxs(Bt,{children:[n.jsxs(zt,{className:"flex items-center gap-2",children:[n.jsx(Ka,{className:"h-5 w-5 text-sky-600"}),"Detalhes do Log #",i==null?void 0:i.log_code]}),n.jsx(ds,{children:"Informaes completas da movimentao registrada."})]}),i&&n.jsx(Ta,{className:"flex-1 pr-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[n.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[n.jsx("p",{className:"text-slate-500 text-xs font-medium",children:"Data/Hora"}),(()=>{try{return le(new Date(i.created_at),"dd/MM/yyyy 's' HH:mm:ss",{locale:ot})}catch{return i.created_at}})()]}),n.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[n.jsx("p",{className:"text-slate-500 text-xs font-medium",children:"Tipo de Ao"}),n.jsx(ge,{variant:i.action==="INSERT"?"success":i.action==="UPDATE"?"warning":i.action==="DELETE"?"destructive":"outline",className:"mt-1",children:i.action==="INSERT"?"Incluso":i.action==="UPDATE"?"Alterao":i.action==="DELETE"?"Excluso":"Carga Inicial"})]}),n.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[n.jsx("p",{className:"text-slate-500 text-xs font-medium",children:"Rotina/Tabela"}),n.jsx("p",{className:"font-semibold text-slate-800",children:$(i.table_name)}),n.jsx("p",{className:"text-xs text-slate-400 font-mono",children:i.table_name})]}),n.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[n.jsx("p",{className:"text-slate-500 text-xs font-medium",children:"Usurio Responsvel"}),n.jsx("p",{className:"font-semibold text-slate-800",children:((z=i.profiles)==null?void 0:z.full_name)||"Sistema"})]})]}),n.jsxs("div",{className:"bg-sky-50 p-3 rounded-lg border border-sky-200",children:[n.jsx("p",{className:"text-sky-700 text-xs font-medium mb-1",children:"Descrio da Movimentao"}),n.jsx("p",{className:"text-sky-900 font-medium",children:R(i)})]}),((O=i.old_data)==null?void 0:O.student_id)&&n.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg border border-purple-200",children:[n.jsx("p",{className:"text-purple-700 text-xs font-medium mb-1",children:"Aluno Relacionado"}),n.jsx("p",{className:"text-purple-900 font-semibold",children:M(i.old_data.student_id)||i.old_data.student_id})]}),i.action==="UPDATE"&&i.old_data&&i.new_data&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("h4",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[n.jsx(dl,{className:"h-4 w-4"}),"Alteraes Realizadas"]}),n.jsx("div",{className:"bg-white border rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-slate-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left p-2 font-medium text-slate-700",children:"Campo"}),n.jsx("th",{className:"text-left p-2 font-medium text-slate-700",children:"Antes"}),n.jsx("th",{className:"text-center p-2 w-8"}),n.jsx("th",{className:"text-left p-2 font-medium text-slate-700",children:"Depois"})]})}),n.jsx("tbody",{children:Object.keys(i.new_data).filter(L=>{var H;const G=(H=i.old_data)==null?void 0:H[L],B=i.new_data[L];return JSON.stringify(G)!==JSON.stringify(B)&&!["id","created_at","updated_at","last_log_code"].includes(L)}).map(L=>{var G;return n.jsxs("tr",{className:"border-t",children:[n.jsx("td",{className:"p-2 font-medium text-slate-600",children:W(L)}),n.jsx("td",{className:"p-2 text-red-600 bg-red-50",children:Y(L,(G=i.old_data)==null?void 0:G[L])}),n.jsx("td",{className:"p-2 text-center",children:n.jsx(qS,{className:"h-4 w-4 text-slate-400 inline"})}),n.jsx("td",{className:"p-2 text-green-600 bg-green-50",children:Y(L,i.new_data[L])})]},L)})})]})})]}),(i.action==="INSERT"||i.action==="DELETE"||i.action==="INITIAL")&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("h4",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[n.jsx(dl,{className:"h-4 w-4"}),"Dados do Registro"]}),n.jsx("div",{className:"bg-slate-50 p-3 rounded-lg border max-h-64 overflow-y-auto",children:n.jsx("dl",{className:"grid grid-cols-1 gap-2 text-sm",children:Object.entries(i.action==="INSERT"?i.new_data||{}:i.old_data||{}).filter(([L])=>!["id","created_at","updated_at","last_log_code"].includes(L)).map(([L,G])=>n.jsxs("div",{className:"flex justify-between py-1 border-b border-slate-200 last:border-0",children:[n.jsx("dt",{className:"text-slate-500",children:W(L)}),n.jsx("dd",{className:"font-medium text-slate-800",children:Y(L,G)})]},L))})})]}),((q=i.history)==null?void 0:q.includes("[REVERTIDO"))&&n.jsx("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-200",children:n.jsxs("p",{className:"text-orange-700 font-medium flex items-center gap-2",children:[n.jsx(rd,{className:"h-4 w-4"}),"Este log j foi revertido"]})})]})}),n.jsx(Ds,{className:"mt-4",children:n.jsx(K,{variant:"outline",onClick:()=>l(null),children:"Fechar"})})]})})]})},dA=[{value:"Manuteno",label:"Manuteno",color:"bg-rose-50 text-rose-700 border-rose-200"},{value:"Pedaggico",label:"Pedaggico",color:"bg-blue-50 text-blue-700 border-blue-200"},{value:"Geral",label:"Geral",color:"bg-slate-50 text-slate-700 border-slate-200"},{value:"Financeiro",label:"Financeiro",color:"bg-green-50 text-green-700 border-green-200"},{value:"Importante",label:"Importante",color:"bg-amber-50 text-amber-700 border-amber-200"}],UK=({isOpen:e,onClose:t,onCreated:s,professorName:r})=>{const{toast:a}=Ct(),[o,i]=f.useState(!1),[l,c]=f.useState({title:"",content:"",type:"Geral"}),d=async()=>{if(!l.title.trim()||!l.content.trim()){a({variant:"destructive",title:"Campos obrigatrios",description:"Preencha o ttulo e o contedo do aviso."});return}i(!0);try{const{error:u}=await I.from("professor_announcements").insert({title:l.title,content:l.content,type:l.type,author:r||"Administrao",is_active:!0});if(u)throw u;a({title:"Aviso publicado com sucesso!"}),s(),t(),c({title:"",content:"",type:"Geral"})}catch(u){console.error("Erro ao criar aviso:",u),a({variant:"destructive",title:"Erro ao publicar",description:u.message})}finally{i(!1)}};return n.jsx(Qt,{open:e,onOpenChange:t,children:n.jsxs(Vt,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Novo Comunicado"}),n.jsx(ds,{children:"Crie um novo aviso para todos os professores."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{children:"Ttulo"}),n.jsx(Je,{placeholder:"Ex: Atualizao do Sistema",value:l.title,onChange:u=>c(h=>({...h,title:u.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{children:"Tipo"}),n.jsxs(Ut,{value:l.type,onValueChange:u=>c(h=>({...h,type:u})),children:[n.jsx(At,{children:n.jsx(Ht,{})}),n.jsx(Mt,{children:dA.map(u=>n.jsx(we,{value:u.value,children:u.label},u.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{children:"Contedo"}),n.jsx(yo,{placeholder:"Digite o contedo do aviso...",rows:5,value:l.content,onChange:u=>c(h=>({...h,content:u.target.value}))})]})]}),n.jsxs(Ds,{children:[n.jsx(K,{variant:"outline",onClick:t,children:"Cancelar"}),n.jsxs(K,{onClick:d,disabled:o,children:[o?n.jsx(Fe,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Publicar"]})]})]})})},I1=({dashboardData:e})=>{const{toast:t}=Ct(),[s,r]=f.useState([]),[a,o]=f.useState(!0),[i,l]=f.useState(!1),c=(e==null?void 0:e.isSuperadmin)||!1,d=async()=>{o(!0);try{const{data:m,error:p}=await I.from("professor_announcements").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(p)throw p;r(m||[])}catch(m){console.error("Erro ao buscar avisos:",m)}finally{o(!1)}};f.useEffect(()=>{d();const m=I.channel("public:professor_announcements").on("postgres_changes",{event:"*",schema:"public",table:"professor_announcements"},()=>{d()}).subscribe();return()=>{I.removeChannel(m)}},[]);const u=async m=>{if(window.confirm("Tem certeza que deseja remover este aviso?"))try{const{error:p}=await I.from("professor_announcements").update({is_active:!1}).eq("id",m);if(p)throw p;t({title:"Aviso removido"}),d()}catch(p){t({variant:"destructive",title:"Erro ao remover",description:p.message})}},h=m=>{const p=dA.find(x=>x.value===m);return p?p.color:"bg-slate-50 text-slate-700 border-slate-200"};return n.jsxs("div",{className:"container mx-auto px-4 py-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-rose-100 rounded-xl",children:n.jsx(sd,{className:"w-8 h-8 text-rose-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Avisos e Comunicados"}),n.jsx("p",{className:"text-slate-500 text-lg",children:"Central de notcias para professores"})]})]}),c&&n.jsxs(K,{onClick:()=>l(!0),className:"bg-rose-600 hover:bg-rose-700 text-white",children:[n.jsx(kc,{className:"mr-2 h-4 w-4"}),"Novo Comunicado"]})]}),a?n.jsx("div",{className:"flex justify-center py-12",children:n.jsx(Fe,{className:"h-8 w-8 animate-spin text-slate-300"})}):n.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.length>0?s.map(m=>n.jsxs(wt,{className:"border-l-4 border-l-rose-500 shadow-sm hover:shadow-md transition-shadow relative group",children:[n.jsxs(Cs,{className:"pb-2",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ge,{variant:"outline",className:`mb-2 ${h(m.type)}`,children:m.type}),n.jsx(ks,{className:"text-xl font-bold text-slate-800",children:m.title})]}),n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-sm text-slate-500 flex items-center gap-1 justify-end",children:[n.jsx(is,{className:"w-3.5 h-3.5"}),le(ze(m.created_at),"d 'de' MMMM, yyyy",{locale:ot})]})})]}),c&&n.jsx(K,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity text-slate-400 hover:text-red-600",onClick:()=>u(m.id),children:n.jsx(ul,{className:"h-4 w-4"})})]}),n.jsxs(bt,{children:[n.jsx("p",{className:"text-slate-600 leading-relaxed mb-4 whitespace-pre-wrap",children:m.content}),n.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t text-sm text-slate-500",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Mh,{className:"w-4 h-4"}),n.jsx("span",{className:"font-medium",children:m.author||"Administrao"})]}),n.jsx("span",{children:""}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(tr,{className:"w-4 h-4"}),n.jsx("span",{children:le(ze(m.created_at),"HH:mm")})]})]})]})]},m.id)):n.jsxs("div",{className:"text-center py-20 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200",children:[n.jsx(sd,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-slate-600",children:"Nenhum aviso no momento"}),n.jsx("p",{className:"text-slate-500 text-sm mt-1",children:c?'Clique em "Novo Comunicado" para criar o primeiro aviso.':"Fique atento para futuras atualizaes aqui."})]})}),n.jsx(UK,{isOpen:i,onClose:()=>l(!1),onCreated:d,professorName:e==null?void 0:e.professorName})]})},HK=async(e,t=!1)=>{var z;const s=dt().toISOString(),{data:r,error:a}=await I.from("profiles").select("full_name, role, can_manage_classes, can_manage_students, avatar_url").eq("id",e).maybeSingle();if(a)throw a;let o=null;try{const{data:O,error:q}=await I.from("profiles").select("meeting_link").eq("id",e).maybeSingle();q||(o=O==null?void 0:O.meeting_link)}catch{console.warn("Campo meeting_link ainda no existe na tabela profiles")}let i=I.from("solicitudes_clase").select("*, profile:profiles!alumno_id(*), profesor:profiles!profesor_id(full_name)").eq("status","Pendiente").order("solicitud_id",{ascending:!0});t||(i=i.eq("profesor_id",e));const{data:l,error:c}=await i;if(c)throw c;let d=I.from("appointments").select("*, student:profiles!student_id(full_name, spanish_level), professor:profiles!professor_id(full_name)").in("status",["scheduled","rescheduled"]).gte("class_datetime",s).order("class_datetime",{ascending:!0});t||(d=d.eq("professor_id",e));const{data:u,error:h}=await d;if(h&&h.code!=="PGRST116")throw h;const{data:m,error:p}=await I.from("profiles").select("*, created_at, phone, cpf, birth_date, registration_status, address_street, address_city, address_state, address_zip_code").order("role",{ascending:!0}).order("full_name",{ascending:!0});if(p)throw p;const x=m.filter(O=>O.role==="student"),g=m.filter(O=>O.role==="professor"),{data:w,error:b}=await I.from("packages").select("*");if(b)throw b;let v=I.from("class_slots").select("*");t||(v=v.eq("professor_id",e));const{data:y,error:j}=await v;if(j)throw j;let _=I.from("appointments").select("*, student:profiles!student_id(full_name, spanish_level, student_code, avatar_url), professor:profiles!professor_id(full_name)").order("class_datetime",{ascending:!1});t||(_=_.eq("professor_id",e));const{data:C,error:N}=await _;N&&console.error("Erro no fetch de appointments:",N);const{data:S,error:M}=await I.from("billing").select("*, packages(name)").order("purchase_date",{ascending:!1});if(M)throw M;const{data:$,error:W}=await I.from("assigned_packages_log").select("*");if(W)throw W;let R=[];const{data:Y,error:D}=await I.rpc("get_chat_list_v2",{p_prof_id:t?null:e});if(D){if(console.error("Erro ao buscar lista de chats:",D),D.code==="PGRST202"){const{data:O}=await I.rpc("get_professor_chat_list",{p_id:e});R=O||[]}}else R=Y||[];const{data:P,error:A}=await I.from("role_settings").select("*");A&&A.code!=="PGRST116"&&console.error("Erro ao buscar role_settings:",A);const V=P==null?void 0:P.find(O=>O.role===(r==null?void 0:r.role)),k=((z=V==null?void 0:V.permissions)==null?void 0:z.actions)||{},E=k.can_manage_classes??!0,T=k.can_manage_students??!0;return{professorId:e,professorName:(r==null?void 0:r.full_name)||(t?"Administrador":"Professor(a)"),userRole:(r==null?void 0:r.role)||"professor",isSuperadmin:t,scheduleRequests:l||[],upcomingClasses:u||[],students:x||[],professors:g||[],allProfiles:m||[],packages:w||[],classSlots:y||[],appointments:C||[],allBillings:S||[],assignedLogs:$||[],chatList:R,roleSettings:P||[],can_manage_classes:E,can_manage_students:T,meeting_link:o,avatar_url:(r==null?void 0:r.avatar_url)||null}},WK=()=>n.jsxs(Ko,{to:"/",className:"flex items-baseline gap-1 hover:opacity-80 transition-opacity",children:[n.jsx("span",{className:"text-xl sm:text-2xl font-bold text-sky-500",children:"Conexin"}),n.jsx("span",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:"Amrica"})]}),qK=()=>{var ae,re,ce,pe,Ce,et;const{user:e,profile:t,signOut:s}=Or(),{toast:r}=Ct(),a=xa(),[o,i]=f.useState("home"),[l,c]=f.useState(!1),[d,u]=f.useState(null),[h,m]=f.useState(!0),[p,x]=f.useState(!1),[g,w]=f.useState(!1),[b,v]=f.useState("all"),[y,j]=f.useState(!1),[_,C]=f.useState(""),[N,S]=f.useState(!1),[M,$]=f.useState(null),[W,R]=f.useState(null),[Y,D]=f.useState(null),[P,A]=f.useState(!1);f.useEffect(()=>{d!=null&&d.meeting_link&&C(d.meeting_link),d!=null&&d.avatar_url&&$(d.avatar_url)},[d==null?void 0:d.meeting_link,d==null?void 0:d.avatar_url]);const V=F=>{var ye;const oe=(ye=F.target.files)==null?void 0:ye[0];if(oe){if(oe.size>2*1024*1024){r({title:"Arquivo muito grande",description:"O arquivo deve ter no mximo 2MB.",variant:"destructive"});return}R(oe);const be=URL.createObjectURL(oe);D(be)}},k=async()=>{if(e!=null&&e.id){S(!0);try{let F=M;if(W){A(!0);const ye=W.name.split(".").pop(),_e=`avatars/${`${e.id}-${Date.now()}.${ye}`}`,{error:We}=await I.storage.from("avatars").upload(_e,W,{upsert:!0});if(We)throw We;const{data:Ye}=I.storage.from("avatars").getPublicUrl(_e);F=Ye.publicUrl,A(!1)}const{error:oe}=await I.from("profiles").update({meeting_link:_,avatar_url:F}).eq("id",e.id);if(oe)throw oe;r({title:"Configuraes salvas",description:"Suas configuraes foram atualizadas com sucesso."}),j(!1),R(null),D(null),$(F),u(ye=>({...ye,meeting_link:_,avatar_url:F}))}catch(F){console.error("Erro ao salvar configuraes:",F),r({title:"Erro ao salvar",description:F.message,variant:"destructive"})}finally{S(!1),A(!1)}}},E=async()=>{await s(),a("/professor-login")},T=f.useCallback(async(F=!1)=>{const oe=e==null?void 0:e.id;if(!oe){F||m(!0);return}F||m(!0),x(!1);try{const{data:ye}=await I.from("profiles").select("role").eq("id",oe).maybeSingle(),be=(ye==null?void 0:ye.role)==="superadmin"||(ye==null?void 0:ye.role)==="admin",_e=await HK(oe,be);u(We=>({data:{..._e,can_manage_classes:_e.can_manage_classes,can_manage_students:_e.can_manage_students},professorId:_e.professorId,professorName:_e.professorName,userRole:_e.userRole,isSuperadmin:_e.isSuperadmin,meeting_link:_e.meeting_link,avatar_url:_e.avatar_url,loading:!1,onUpdate:()=>T(!0)}))}catch(ye){console.error("Erro ao carregar dados do dashboard:",ye);const be=ye.message||"Erro desconhecido ao conectar ao Supabase.";F||(x(!0),u(null)),r({variant:"destructive",title:"Erro de Conexo",description:`No foi possvel carregar os dados do dashboard. Detalhes: ${be}`})}finally{F||m(!1)}},[e==null?void 0:e.id,r]);f.useEffect(()=>{e!=null&&e.id?T():e===null&&!t&&!h&&a("/professor-login")},[e,a,T]),f.useEffect(()=>{if(!(e!=null&&e.id))return;const F=I.channel("appointments-changes").on("postgres_changes",{event:"*",schema:"public",table:"appointments"},()=>{}).subscribe(),oe=I.channel("requests-changes").on("postgres_changes",{event:"*",schema:"public",table:"solicitudes_clase"},()=>{}).subscribe(),ye=I.channel("profiles-changes").on("postgres_changes",{event:"*",schema:"public",table:"profiles"},()=>{}).subscribe();return()=>{I.removeChannel(F),I.removeChannel(oe),I.removeChannel(ye)}},[e==null?void 0:e.id,T]),f.useEffect(()=>{const F=()=>{window.innerWidth>=1024&&c(!1)};return window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[]),f.useEffect(()=>{const F=async()=>{if(e!=null&&e.id)try{let ye=I.from("chats").select("chat_id");const{data:be}=await I.from("profiles").select("role").eq("id",e.id).maybeSingle();(be==null?void 0:be.role)==="superadmin"||(be==null?void 0:be.role)==="admin"||(ye=ye.eq("profesor_id",e.id));const{data:We,error:Ye}=await ye;if(Ye)throw Ye;if(!We||We.length===0){w(!1);return}const Ke=We.map(Ne=>Ne.chat_id),{count:Q,error:Se}=await I.from("mensajes").select("mensaje_id",{count:"exact",head:!0}).in("chat_id",Ke).neq("remitente_id",e.id).eq("leido",!1);if(Se)throw Se;w(Q>0)}catch(ye){console.error("Erro ao verificar mensagens no lidas:",ye)}};F();const oe=I.channel("messages-changes").on("postgres_changes",{event:"*",schema:"public",table:"mensajes"},()=>{F()}).subscribe();return()=>{I.removeChannel(oe)}},[e==null?void 0:e.id]),f.useEffect(()=>{if(o==="conversas"&&g&&(e!=null&&e.id)){const F=setTimeout(async()=>{try{const{data:oe}=await I.from("chats").select("chat_id").eq("profesor_id",e.id);if(oe&&oe.length>0){const ye=oe.map(be=>be.chat_id);await I.from("mensajes").update({leido:!0}).in("chat_id",ye).neq("remitente_id",e.id).eq("leido",!1)}w(!1)}catch(oe){console.error("Erro ao marcar mensagens como lidas:",oe)}},1e3);return()=>clearTimeout(F)}},[o,g,e==null?void 0:e.id]);const z=(d==null?void 0:d.isSuperadmin)||!1,O=(t==null?void 0:t.role)||(d==null?void 0:d.userRole),q=(re=(ae=d==null?void 0:d.data)==null?void 0:ae.roleSettings)==null?void 0:re.find(F=>F.role===O),L=((ce=q==null?void 0:q.permissions)==null?void 0:ce.tabs)||[],B=(z?[{id:"painel",icon:T3,label:"Painel",component:Op,permission:"painel",isPainelTab:!0},{id:"home",icon:sx,label:"Incio",component:Op,permission:"inicio"},{id:"agenda",icon:is,label:"Agenda",component:N1,permission:"agenda"},{id:"conversas",icon:Qr,label:"Conversas",component:S1,permission:"conversas"},{id:"alunos",icon:Uu,label:"Alunos",component:_1,permission:"alunos"},{id:"aulas",icon:ro,label:"Aulas",component:j1,permission:"aulas"},{id:"servicos",icon:Cf,label:"Servios",component:O1,permission:"servicos"},{id:"financeiro",icon:td,label:"Financeiro",component:D1,permission:"financeiro"},{id:"administracao",icon:zu,label:"Administrao",component:SK,permission:"admtab"},{id:"avisos",icon:sd,label:"Avisos",component:I1,permission:"inicio"},{id:"logs",icon:Ka,label:"Log's",component:zK,permission:"logs"}]:[{id:"home",icon:sx,label:"Incio",component:Op,permission:"inicio"},{id:"agenda",icon:is,label:"Agenda",component:N1,permission:"agenda"},{id:"conversas",icon:Qr,label:"Conversas",component:S1,permission:"conversas"},{id:"alunos",icon:Uu,label:"Alunos",component:_1,permission:"alunos"},{id:"aulas",icon:ro,label:"Aulas",component:j1,permission:"aulas"},{id:"servicos",icon:Cf,label:"Servios",component:O1,permission:"servicos"},{id:"financeiro",icon:td,label:"Financeiro",component:D1,permission:"financeiro"},{id:"avisos",icon:sd,label:"Avisos",component:I1,permission:"inicio"},{id:"preferencias",icon:Ef,label:"Preferncias",component:Ix,permission:"preferencias"}]).filter(F=>z||!q?!0:L.includes(F.permission)),H=f.useMemo(()=>{var oe,ye,be,_e,We,Ye;return d?z?b==="all"?{...d,globalProfessorFilter:"all"}:{...d,data:{...d.data,appointments:(((oe=d.data)==null?void 0:oe.appointments)||[]).filter(Ke=>Ke.professor_id===b),students:(((ye=d.data)==null?void 0:ye.students)||[]).filter(Ke=>Ke.assigned_professor_id===b),scheduleRequests:(((be=d.data)==null?void 0:be.scheduleRequests)||[]).filter(Ke=>Ke.profesor_id===b),classSlots:(((_e=d.data)==null?void 0:_e.classSlots)||[]).filter(Ke=>Ke.professor_id===b),chatList:(((We=d.data)==null?void 0:We.chatList)||[]).filter(Ke=>Ke.profesor_id===b),allClassSlots:((Ye=d.data)==null?void 0:Ye.classSlots)||[]},filteredProfessorId:b,globalProfessorFilter:b}:{...d,globalProfessorFilter:"all"}:null},[d,z,b]),J=()=>n.jsxs(Qe.div,{initial:{x:"-100%"},animate:{x:l?"0%":"-100%"},transition:{duration:.3},className:"fixed inset-y-0 left-0 z-40 w-64 bg-gray-900 text-white p-6 shadow-2xl lg:hidden",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8 lg:hidden",children:[n.jsx("h2",{className:"text-2xl font-bold text-blue-400",children:"Dashboard"}),n.jsx(K,{variant:"ghost",className:"text-white hover:bg-gray-700",onClick:()=>c(!1),children:n.jsx(Sb,{className:"h-6 w-6"})})]}),n.jsx(tl,{value:o,onOpenChange:i,orientation:"vertical",className:"h-full",children:n.jsx(yl,{className:"flex flex-col h-full bg-transparent space-y-2",children:B.map(F=>n.jsxs(zr,{value:F.id,onClick:()=>{i(F.id),c(!1)},className:`w-full justify-start text-lg px-4 py-3 rounded-xl transition-all duration-200 ${o===F.id?"bg-blue-600 text-white shadow-lg":F.id==="conversas"&&g?"text-blue-800 font-bold hover:bg-gray-800":"text-gray-300 hover:bg-gray-800"}`,disabled:h,children:[n.jsx(F.icon,{className:"h-5 w-5 mr-3"}),F.label,F.id==="conversas"&&g&&n.jsx("span",{className:"ml-auto bg-blue-600 text-white text-xs px-2 py-1 rounded-full",children:"Nova"})]},F.id))})}),n.jsxs(K,{onClick:E,className:"w-full justify-start text-lg px-4 py-3 rounded-xl mt-auto bg-transparent border border-red-500 text-red-400 hover:bg-red-900 hover:text-white",children:[n.jsx(kf,{className:"h-5 w-5 mr-3"}),"Sair"]})]});return h||!d&&!p?n.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-50 via-white to-sky-50",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"relative overflow-hidden mb-8",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("span",{className:"text-5xl sm:text-6xl font-bold text-sky-500 tracking-tight",children:"Conexin"}),n.jsx("span",{className:"text-5xl sm:text-6xl font-bold text-slate-800 tracking-tight",children:"Amrica"})]}),n.jsx("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_2s_infinite]",style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.6), transparent)"}})]}),n.jsxs("div",{className:"flex items-center gap-3 text-slate-500",children:[n.jsxs("div",{className:"flex gap-1",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-sky-400 animate-bounce",style:{animationDelay:"0ms"}}),n.jsx("span",{className:"w-2 h-2 rounded-full bg-sky-500 animate-bounce",style:{animationDelay:"150ms"}}),n.jsx("span",{className:"w-2 h-2 rounded-full bg-sky-600 animate-bounce",style:{animationDelay:"300ms"}})]}),n.jsx("span",{className:"text-sm font-medium",children:"Preparando seu painel..."})]})]}),n.jsx("style",{children:`
                    @keyframes shimmer {
                        0% { transform: translateX(-100%); }
                        100% { transform: translateX(200%); }
                    }
                `})]}):p||!d?n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:n.jsxs("div",{className:"flex flex-col items-center p-8 bg-white rounded-lg shadow-xl",children:[n.jsx(Xa,{className:"h-12 w-12 text-red-500 mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Erro ao Carregar Dados"}),n.jsx("p",{className:"mt-2 text-slate-600 text-center",children:"No foi possvel carregar a informao do dashboard. Verifique sua conexo ou tente novamente."}),n.jsx(K,{onClick:T,className:"mt-4 bg-sky-500 hover:bg-sky-600",children:"Tentar Novamente"})]})}):n.jsxs("div",{className:"flex min-h-screen bg-background",children:[n.jsx(J,{}),l&&n.jsx("div",{className:"fixed inset-0 z-30 bg-black opacity-50 lg:hidden",onClick:()=>c(!1)}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsxs("header",{className:"flex flex-col bg-white shadow-md",children:[n.jsx("div",{className:"w-full flex justify-center items-center h-16 bg-white border-b border-slate-200",children:n.jsxs("div",{className:"w-full px-4 lg:px-8 flex justify-between items-center",children:[n.jsx(WK,{}),n.jsxs(hd,{children:[n.jsx(md,{asChild:!0,children:n.jsxs(K,{variant:"ghost",className:"relative h-10 w-auto pr-3 rounded-full text-slate-800 hover:bg-slate-100",children:[n.jsxs("div",{className:"flex flex-col items-end mr-3",children:[n.jsx("p",{className:"text-sm font-medium leading-none",children:d.professorName||"Professor"}),n.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:(e==null?void 0:e.email)||"email@escola.com"})]}),M?n.jsx("img",{src:M,alt:"Avatar",className:"h-10 w-10 rounded-full object-cover border-2 border-sky-200 shadow-sm"}):n.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-200 flex items-center justify-center text-xl font-bold text-sky-600 shadow-sm",children:(((pe=e==null?void 0:e.email)==null?void 0:pe[0])||"P").toUpperCase()})]})}),n.jsxs(wl,{className:"w-56",align:"end",forceMount:!0,children:[n.jsx(Xf,{className:"font-normal",children:n.jsxs("div",{className:"flex flex-col space-y-1",children:[n.jsx("p",{className:"text-sm font-medium leading-none text-slate-800",children:d.professorName||"Professor"}),n.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:(e==null?void 0:e.email)||"email@escola.com"})]})}),n.jsx(Uo,{}),n.jsxs(mr,{onClick:()=>j(!0),children:[n.jsx(Ef,{className:"mr-2 h-4 w-4"}),"Configuraes"]}),n.jsx(Uo,{}),n.jsxs(mr,{onClick:E,className:"text-red-600 focus:text-red-700",children:[n.jsx(kf,{className:"mr-2 h-4 w-4"}),"Sair"]})]})]})]})}),n.jsx("div",{className:"hidden lg:block bg-white border-b border-slate-200",children:n.jsxs("div",{className:"w-full px-4 lg:px-8 flex items-center justify-between",children:[n.jsx(tl,{value:o,onOpenChange:i,className:"h-full",children:n.jsx(yl,{className:"justify-start h-auto p-0 bg-transparent rounded-none",children:B.map(F=>n.jsxs(zr,{value:F.id,onClick:()=>i(F.id),className:`relative flex items-center text-base px-4 py-3 mr-2 rounded-none transition-all duration-200 border-b-2 border-transparent 
                                                ${o===F.id?"text-sky-600 border-sky-600 font-semibold":F.id==="conversas"&&g?"text-blue-800 font-bold hover:text-blue-900":"text-gray-600 hover:text-gray-800"}`,children:[n.jsx(F.icon,{className:"h-5 w-5 mr-2"}),F.label,F.id==="conversas"&&g&&n.jsx("span",{className:"ml-2 bg-blue-600 text-white text-xs px-2 py-0.5 rounded-full",children:"Nova"})]},F.id))})}),z&&o!=="painel"&&n.jsxs("div",{className:"flex items-center gap-2 py-2",children:[n.jsx(Ph,{className:"h-4 w-4 text-slate-500"}),n.jsxs(Ut,{value:b,onValueChange:v,children:[n.jsx(At,{className:"w-[220px] h-9",children:n.jsx(Ht,{placeholder:"Filtrar por professor"})}),n.jsxs(Mt,{children:[n.jsx(we,{value:"all",children:"Todos os professores"}),(((Ce=d==null?void 0:d.data)==null?void 0:Ce.professors)||[]).map(F=>n.jsx(we,{value:F.id,children:F.full_name},F.id))]})]})]})]})}),n.jsxs("header",{className:"flex items-center justify-between px-4 py-3 bg-white shadow-md lg:hidden",children:[n.jsx(K,{variant:"ghost",size:"sm",onClick:()=>c(!0),className:"hover:bg-slate-100",children:n.jsx(Sb,{className:"h-6 w-6 text-slate-800"})}),n.jsx("h1",{className:"text-lg font-bold text-slate-800",children:"Painel do Professor"}),n.jsxs(hd,{children:[n.jsx(md,{asChild:!0,children:n.jsx(K,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:n.jsx(Uu,{className:"h-5 w-5"})})}),n.jsxs(wl,{className:"w-56",align:"end",forceMount:!0,children:[n.jsx(Xf,{className:"font-normal",children:n.jsxs("div",{className:"flex flex-col space-y-1",children:[n.jsx("p",{className:"text-sm font-medium leading-none text-slate-800",children:d.professorName||"Professor"}),n.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:(e==null?void 0:e.email)||"email@escola.com"})]})}),n.jsx(Uo,{}),n.jsx(mr,{onClick:()=>j(!0),children:"Configuraes"}),n.jsx(mr,{onClick:()=>i("preferencias"),children:"Preferncias"}),n.jsx(mr,{onClick:E,children:"Sair"})]})]})]})]}),n.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto w-full",children:n.jsx("div",{className:"w-full py-4 lg:py-8",children:n.jsx(tl,{value:o,onValueChange:i,className:"h-full",children:B.map(F=>n.jsx(Ms,{value:F.id,className:"mt-0",style:{display:o===F.id?"block":"none"},forceMount:!0,children:n.jsx(F.component,{setActiveTab:i,dashboardData:{...H,meeting_link:d.meeting_link,showPainelView:F.isPainelTab===!0,showHomeView:F.id==="home"&&!F.isPainelTab}})},F.id))})})}),n.jsx(Qt,{open:y,onOpenChange:j,children:n.jsxs(Vt,{className:"sm:max-w-[425px]",children:[n.jsxs(Bt,{children:[n.jsx(zt,{children:"Configuraes do Perfil"}),n.jsx(ds,{children:"Personalize suas informaes. O link de aula ser compartilhado com seus alunos."})]}),n.jsxs("div",{className:"grid gap-6 py-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx("label",{className:"text-sm font-medium leading-none",children:"Foto de Perfil"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"relative",children:[Y||M?n.jsx("img",{src:Y||M,alt:"Preview",className:"h-20 w-20 rounded-full object-cover border-2 border-sky-200"}):n.jsx("div",{className:"h-20 w-20 rounded-full bg-slate-100 flex items-center justify-center text-3xl font-bold text-sky-600 border-2 border-dashed border-slate-300",children:(((et=e==null?void 0:e.email)==null?void 0:et[0])||"P").toUpperCase()}),P&&n.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center",children:n.jsx(Fe,{className:"h-6 w-6 text-white animate-spin"})})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("label",{htmlFor:"avatar-upload",className:"cursor-pointer",children:[n.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-sky-50 text-sky-700 rounded-md border border-sky-200 hover:bg-sky-100 transition-colors",children:[n.jsx(x3,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Escolher foto"})]}),n.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:V,className:"hidden"})]}),n.jsx("p",{className:"text-[10px] text-slate-500",children:"JPG, PNG ou GIF. Mximo 2MB."})]})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx("label",{htmlFor:"meeting_link",className:"text-sm font-medium leading-none",children:"Link do Google Meet / Zoom"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 bg-slate-100 rounded border",children:n.jsx(kh,{className:"h-4 w-4 text-slate-500"})}),n.jsx("input",{id:"meeting_link",className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",placeholder:"https://meet.google.com/xxx-xxxx-xxx",value:_,onChange:F=>C(F.target.value)})]}),n.jsx("p",{className:"text-[10px] text-slate-500",children:'Este  el link que seus alunos vero ao clicar em "Iniciar Aula".'})]})]}),n.jsxs(Ds,{children:[n.jsx(K,{variant:"outline",onClick:()=>j(!1),children:"Cancelar"}),n.jsxs(K,{onClick:k,disabled:N,children:[N?n.jsx(Fe,{className:"h-4 w-4 animate-spin mr-2"}):null,"Salvar alteraes"]})]})]})})]})]})},_i={grammar:{articles:{definite:{el:"masculino singular",la:"femenino singular",los:"masculino plural",las:"femenino plural"},indefinite:{un:"masculino singular",una:"femenino singular",unos:"masculino plural",unas:"femenino plural"}},pronouns:{subject:["yo","t","l/ella/usted","nosotros/nosotras","vosotros/vosotras","ellos/ellas/ustedes"],object:["me","te","lo/la/le","nos","os","los/las/les"]},verbTenses:{present:"Presente",preterite:"Pretrito",imperfect:"Imperfecto",future:"Futuro",conditional:"Condicional"}},vocabulary:{greetings:{hola:"ol","buenos das":"bom dia","buenas tardes":"boa tarde","buenas noches":"boa noite",adis:"adeus","hasta luego":"at logo"},numbers:{uno:"1",dos:"2",tres:"3",cuatro:"4",cinco:"5",seis:"6",siete:"7",ocho:"8",nueve:"9",diez:"10"},colors:{rojo:"vermelho",azul:"azul",verde:"verde",amarillo:"amarelo",negro:"preto",blanco:"branco",gris:"cinza"},family:{padre:"pai",madre:"me",hijo:"filho",hija:"filha",hermano:"irmo",hermana:"irm",abuelo:"av",abuela:"av"}},verbs:{ser:{present:{yo:"soy",t:"eres",l:"es",nosotros:"somos",vosotros:"sois",ellos:"son"},preterite:{yo:"fui",t:"fuiste",l:"fue",nosotros:"fuimos",vosotros:"fuisteis",ellos:"fueron"}},estar:{present:{yo:"estoy",t:"ests",l:"est",nosotros:"estamos",vosotros:"estis",ellos:"estn"}},hablar:{present:{yo:"hablo",t:"hablas",l:"habla",nosotros:"hablamos",vosotros:"hablis",ellos:"hablan"}},tener:{present:{yo:"tengo",t:"tienes",l:"tiene",nosotros:"tenemos",vosotros:"tenis",ellos:"tienen"}}},phrases:{"cmo ests?":"como voc est?","qu tal?":"como vai?","me llamo":"meu nome ","cmo te llamas?":"como voc se chama?","mucho gusto":"muito prazer","por favor":"por favor",gracias:"obrigado/obrigada","de nada":"de nada","lo siento":"desculpe","no entiendo":"no entendo"},rules:{gender:"En espaol, los sustantivos tienen gnero (masculino o femenino). Generalmente, palabras que terminan en -o son masculinas y las que terminan en -a son femeninas.",serVsEstar:"SER se usa para caractersticas permanentes (soy brasileo). ESTAR se usa para estados temporales (estoy cansado).",accentuation:"Las tildes en espaol indican dnde recae el acento de la palabra y pueden cambiar el significado."}},GK={greeting:/\b(hola|oi|ol|buenos das|bom dia|hey)\b/i,farewell:/\b(adis|adeus|tchau|at logo|hasta luego)\b/i,howToSay:/\b(cmo se dice|como se diz|como fala|traduz|traduo)\b/i,conjugation:/\b(conjug|verbo|tiempo verbal)\b/i,grammar:/\b(gramtica|regra|por que|porque|diferena)\b/i,practice:/\b(praticar|exerccio|treinar|aprender)\b/i,help:/\b(ajuda|help|socorro|no entendo)\b/i,level:/\b(nvel|nivel|bsico|intermedirio|avanado)\b/i};class YK{constructor(){this.context=[],this.userLevel="bsico"}processMessage(t){const s=t.toLowerCase().trim(),r=this.detectIntent(s),a=this.generateResponse(r,s);return this.context.push({user:t,ai:a,intent:r}),this.context.length>10&&this.context.shift(),a}detectIntent(t){for(const[s,r]of Object.entries(GK))if(r.test(t))return s;return this.isAskingTranslation(t)?"translation":this.isAskingConjugation(t)?"conjugation":this.isAskingGrammar(t)?"grammar":"general"}generateResponse(t,s){switch(t){case"greeting":return this.handleGreeting();case"farewell":return this.handleFarewell();case"howToSay":case"translation":return this.handleTranslation(s);case"conjugation":return this.handleConjugation(s);case"grammar":return this.handleGrammar(s);case"practice":return this.handlePractice();case"help":return this.handleHelp();case"level":return this.handleLevel(s);default:return this.handleGeneral(s)}}handleGreeting(){const t=["Hola! Soy tu asistente de espaol. En qu puedo ayudarte hoy?","Buenos das! Estoy aqu para ayudarte a aprender espaol. Qu te gustara practicar?","Hola! Listo para practicar espaol? Pregntame lo que quieras."];return t[Math.floor(Math.random()*t.length)]}handleFarewell(){const t=["Hasta luego! Sigue practicando tu espaol. ","Adis! Nos vemos pronto. Buen estudio! ","Hasta la prxima! Recuerda practicar todos los das. "];return t[Math.floor(Math.random()*t.length)]}handleTranslation(t){for(const[s,r]of Object.entries(_i.vocabulary))for(const[a,o]of Object.entries(r))if(t.includes(a.toLowerCase())||t.includes(o.toLowerCase()))return` "${a}" en espaol significa "${o}" en portugus.

 Ejemplo: "El cielo es ${a}" = "O cu  ${o}"`;for(const[s,r]of Object.entries(_i.phrases))if(t.includes(s.toLowerCase()))return` "${s}" se traduce como "${r}".

 Es una frase muy til!`;return' No encontr esa palabra en mi base de datos. Podras ser ms especfico? Por ejemplo: "Cmo se dice casa?" o "Traduce rojo"'}handleConjugation(t){const s=Object.keys(_i.verbs);for(const r of s)if(t.includes(r)){const a=_i.verbs[r];let o=` Conjugacin del verbo "${r.toUpperCase()}":

`;if(a.present){o+=`**Presente:**
`;for(const[i,l]of Object.entries(a.present))o+=` ${i}: ${l}
`}if(a.preterite){o+=`
**Pretrito:**
`;for(const[i,l]of Object.entries(a.preterite))o+=` ${i}: ${l}
`}return o}return" Puedo ayudarte con los verbos: ser, estar, hablar, tener. Cul te gustara conjugar?"}handleGrammar(t){return t.includes("ser")||t.includes("estar")?` **Diferencia entre SER y ESTAR:**

${_i.rules.serVsEstar}

**Ejemplos:**
 Soy profesor (permanente)
 Estoy cansado (temporal)`:t.includes("gnero")||t.includes("masculino")||t.includes("femenino")?` **Gnero en Espaol:**

${_i.rules.gender}

**Ejemplos:**
 el libro (masculino)
 la mesa (femenino)`:` Puedo explicarte sobre:
 Diferencia entre SER y ESTAR
 Gnero de sustantivos
 Artculos (el, la, los, las)
 Pronombres

Qu te gustara aprender?`}handlePractice(){const t=[` **Ejercicio:** Traduce al espaol:
1. Bom dia
2. Como voc est?
3. Meu nome  Joo

Intenta responder!`,` **Prctica:** Completa con SER o ESTAR:
1. Yo ___ brasileo
2. Ella ___ cansada
3. Nosotros ___ en casa`,` **Desafo:** Conjuga el verbo HABLAR en presente:
Yo ___
T ___
l/Ella ___`];return t[Math.floor(Math.random()*t.length)]}handleHelp(){return` **Cmo puedo ayudarte?**

Puedo ayudarte con:

 **Traduccin:** "Cmo se dice casa?"
 **Conjugacin:** "Conjuga el verbo ser"
 **Gramtica:** "Diferencia entre ser y estar"
 **Prctica:** "Quiero practicar"
 **Nivel:** "Cambiar a nivel intermedio"

Pregntame lo que necesites!`}handleLevel(t){return t.includes("bsico")?(this.userLevel="bsico"," Nivel cambiado a BSICO. Empezaremos con lo fundamental."):t.includes("intermedirio")||t.includes("intermedio")?(this.userLevel="intermedirio"," Nivel cambiado a INTERMEDIRIO. Vamos a profundizar ms!"):t.includes("avanado")||t.includes("avanzado")?(this.userLevel="avanado"," Nivel cambiado a AVANADO. Preparado para el desafo!"):` Tu nivel actual es: ${this.userLevel.toUpperCase()}

Puedes cambiarlo diciendo:
 "Cambiar a bsico"
 "Cambiar a intermedirio"
 "Cambiar a avanado"`}handleGeneral(t){const s=[" Interesante pregunta. Podras ser ms especfico? Puedo ayudarte con traduccin, gramtica, conjugacin o prctica."," No estoy seguro de entender. Quieres que te ayude con vocabulario, gramtica o ejercicios?"," Buena pregunta! Intenta preguntar sobre: traduccin de palabras, conjugacin de verbos, o reglas gramaticales."];return s[Math.floor(Math.random()*s.length)]}isAskingTranslation(t){return t.includes("traduz")||t.includes("significa")||t.includes("como se dice")||t.includes("como fala")}isAskingConjugation(t){return t.includes("conjug")||t.includes("verbo")||t.includes("tiempo")}isAskingGrammar(t){return t.includes("gramtica")||t.includes("regra")||t.includes("diferena")||t.includes("por que")}getSuggestions(){return['Cmo se dice "casa"?',"Conjuga el verbo ser","Diferencia entre ser y estar","Quiero practicar","Nmeros en espaol","Colores en espaol"].sort(()=>.5-Math.random()).slice(0,3)}}const $p=new YK,KK=({className:e})=>{const[t,s]=f.useState([{role:"assistant",content:`Hola!  Soy tu asistente de espaol. Puedo ayudarte con:

 Traduccin de palabras
 Conjugacin de verbos
 Reglas gramaticales
 Ejercicios de prctica

En qu puedo ayudarte hoy?`,timestamp:new Date}]),[r,a]=f.useState(""),[o,i]=f.useState(!1),[l,c]=f.useState($p.getSuggestions()),d=f.useRef(null);f.useEffect(()=>{d.current&&(d.current.scrollTop=d.current.scrollHeight)},[t]);const u=async(p=r)=>{if(!p.trim())return;const x={role:"user",content:p,timestamp:new Date};s(b=>[...b,x]),a(""),i(!0),await new Promise(b=>setTimeout(b,500));const w={role:"assistant",content:$p.processMessage(p),timestamp:new Date};s(b=>[...b,w]),i(!1),c($p.getSuggestions())},h=p=>{u(p)},m=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),u())};return n.jsxs(wt,{className:ee("w-full max-w-4xl mx-auto",e),children:[n.jsx(Cs,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:n.jsx(Bo,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx(ks,{className:"text-xl",children:"Asistente de Espaol"}),n.jsx(Wr,{className:"text-blue-100",children:"IA especializada en enseanza de espaol"})]})]})}),n.jsxs(bt,{className:"p-0",children:[n.jsx("div",{ref:d,className:"h-[500px] p-4 overflow-y-auto bg-slate-50",children:n.jsxs("div",{className:"space-y-4",children:[t.map((p,x)=>n.jsxs("div",{className:ee("flex gap-3",p.role==="user"?"justify-end":"justify-start"),children:[p.role==="assistant"&&n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-purple-500 p-2 rounded-full",children:n.jsx(Bo,{className:"h-5 w-5 text-white"})})}),n.jsxs("div",{className:ee("max-w-[80%] rounded-lg px-4 py-3",p.role==="user"?"bg-blue-600 text-white":"bg-slate-100 text-slate-900"),children:[n.jsx("div",{className:"whitespace-pre-wrap text-sm",children:p.content}),n.jsx("div",{className:ee("text-xs mt-2",p.role==="user"?"text-blue-100":"text-slate-500"),children:p.timestamp.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),p.role==="user"&&n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"bg-blue-600 p-2 rounded-full",children:n.jsx(Mh,{className:"h-5 w-5 text-white"})})})]},x)),o&&n.jsxs("div",{className:"flex gap-3 justify-start",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-purple-500 p-2 rounded-full",children:n.jsx(Bo,{className:"h-5 w-5 text-white"})})}),n.jsx("div",{className:"bg-slate-100 rounded-lg px-4 py-3",children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),n.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),n.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]})]})}),l.length>0&&n.jsxs("div",{className:"px-4 py-2 border-t bg-slate-50",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(zo,{className:"h-4 w-4 text-purple-600"}),n.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Sugestes:"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((p,x)=>n.jsx(ge,{variant:"outline",className:"cursor-pointer hover:bg-blue-50 hover:border-blue-300 transition-colors",onClick:()=>h(p),children:p},x))})]}),n.jsxs("div",{className:"p-4 border-t bg-white",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Je,{value:r,onChange:p=>a(p.target.value),onKeyPress:m,placeholder:"Digite sua pergunta em portugus ou espaol...",className:"flex-1",disabled:o}),n.jsx(K,{onClick:()=>u(),disabled:!r.trim()||o,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:n.jsx(Al,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-slate-500",children:[n.jsx(ro,{className:"h-3 w-3"}),n.jsx("span",{children:"Pressione Enter para enviar  Shift+Enter para nova linha"})]})]})]})]})},XK=()=>{const e=xa();return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[n.jsx("div",{className:"bg-white border-b shadow-sm",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(K,{variant:"ghost",size:"icon",onClick:()=>e(-1),children:n.jsx(Jv,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Asistente de Espaol IA"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Modelo local de inteligencia artificial"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs font-medium",children:" Gratis"}),n.jsx("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-medium",children:" Local"})]})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsxs("h2",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[n.jsx(zo,{className:"h-5 w-5 text-purple-600"}),"Caractersticas"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:n.jsx(p3,{className:"h-4 w-4 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:"IA Local"}),n.jsx("p",{className:"text-xs text-slate-600",children:"Funciona sin internet, 100% gratis"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:n.jsx(Qr,{className:"h-4 w-4 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:"Chat Inteligente"}),n.jsx("p",{className:"text-xs text-slate-600",children:"Respuestas contextuales y personalizadas"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"bg-pink-100 p-2 rounded-lg",children:n.jsx(ro,{className:"h-4 w-4 text-pink-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:"Base de Conocimiento"}),n.jsx("p",{className:"text-xs text-slate-600",children:"Gramtica, vocabulario y conjugaciones"})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"font-bold text-lg mb-4",children:"Ejemplos de Uso"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[n.jsx("p",{className:"font-medium text-blue-600",children:"Traduccin:"}),n.jsx("p",{className:"text-slate-600",children:'"Cmo se dice casa?"'})]}),n.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[n.jsx("p",{className:"font-medium text-purple-600",children:"Conjugacin:"}),n.jsx("p",{className:"text-slate-600",children:'"Conjuga el verbo ser"'})]}),n.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[n.jsx("p",{className:"font-medium text-pink-600",children:"Gramtica:"}),n.jsx("p",{className:"text-slate-600",children:'"Diferencia entre ser y estar"'})]}),n.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[n.jsx("p",{className:"font-medium text-green-600",children:"Prctica:"}),n.jsx("p",{className:"text-slate-600",children:'"Quiero practicar"'})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg shadow-sm p-6 text-white",children:[n.jsx("h2",{className:"font-bold text-lg mb-4",children:"Capacidades"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{children:"Vocabulario"}),n.jsx("span",{children:"50+ palabras"})]}),n.jsx("div",{className:"bg-white/20 rounded-full h-2",children:n.jsx("div",{className:"bg-white rounded-full h-2 w-3/4"})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{children:"Verbos"}),n.jsx("span",{children:"4 verbos"})]}),n.jsx("div",{className:"bg-white/20 rounded-full h-2",children:n.jsx("div",{className:"bg-white rounded-full h-2 w-1/2"})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{children:"Reglas"}),n.jsx("span",{children:"3 reglas"})]}),n.jsx("div",{className:"bg-white/20 rounded-full h-2",children:n.jsx("div",{className:"bg-white rounded-full h-2 w-2/3"})})]})]}),n.jsx("p",{className:"text-xs mt-4 text-blue-100",children:" Este es un modelo de prueba. Puede expandirse con ms conocimiento."})]})]}),n.jsx("div",{className:"lg:col-span-2",children:n.jsx(KK,{})})]})})]})},uA={animales:[{es:"perro",pt:"cachorro"},{es:"gato",pt:"gato"},{es:"pjaro",pt:"pssaro"},{es:"caballo",pt:"cavalo"},{es:"vaca",pt:"vaca"},{es:"cerdo",pt:"porco"},{es:"oveja",pt:"ovelha"},{es:"gallina",pt:"galinha"},{es:"pez",pt:"peixe"},{es:"mariposa",pt:"borboleta"},{es:"abeja",pt:"abelha"},{es:"hormiga",pt:"formiga"},{es:"len",pt:"leo"},{es:"tigre",pt:"tigre"},{es:"elefante",pt:"elefante"},{es:"jirafa",pt:"girafa"},{es:"mono",pt:"macaco"},{es:"serpiente",pt:"cobra"},{es:"cocodrilo",pt:"crocodilo"},{es:"oso",pt:"urso"},{es:"lobo",pt:"lobo"},{es:"zorro",pt:"raposa"},{es:"conejo",pt:"coelho"},{es:"ratn",pt:"rato"},{es:"ballena",pt:"baleia"},{es:"delfn",pt:"golfinho"},{es:"tiburn",pt:"tubaro"},{es:"pulpo",pt:"polvo"},{es:"cangrejo",pt:"caranguejo"},{es:"tortuga",pt:"tartaruga"},{es:"guila",pt:"guia"},{es:"bho",pt:"coruja"},{es:"loro",pt:"papagaio"},{es:"pato",pt:"pato"},{es:"ganso",pt:"ganso"},{es:"cisne",pt:"cisne"},{es:"ciervo",pt:"veado"},{es:"jabal",pt:"javali"},{es:"ardilla",pt:"esquilo"},{es:"murcilago",pt:"morcego"},{es:"araa",pt:"aranha"},{es:"mosca",pt:"mosca"},{es:"mosquito",pt:"mosquito"},{es:"cucaracha",pt:"barata"},{es:"grillo",pt:"grilo"},{es:"caracol",pt:"caracol"},{es:"gusano",pt:"verme"},{es:"lombriz",pt:"minhoca"}],comida:[{es:"pan",pt:"po"},{es:"agua",pt:"gua"},{es:"leche",pt:"leite"},{es:"carne",pt:"carne"},{es:"pollo",pt:"frango"},{es:"pescado",pt:"peixe"},{es:"arroz",pt:"arroz"},{es:"frijoles",pt:"feijo"},{es:"huevo",pt:"ovo"},{es:"queso",pt:"queijo"},{es:"mantequilla",pt:"manteiga"},{es:"sal",pt:"sal"},{es:"azcar",pt:"acar"},{es:"caf",pt:"caf"},{es:"t",pt:"ch"},{es:"manzana",pt:"ma"},{es:"naranja",pt:"laranja"},{es:"pltano",pt:"banana"},{es:"uva",pt:"uva"},{es:"fresa",pt:"morango"},{es:"limn",pt:"limo"},{es:"sanda",pt:"melancia"},{es:"meln",pt:"melo"},{es:"pia",pt:"abacaxi"},{es:"mango",pt:"manga"},{es:"pera",pt:"pera"},{es:"durazno",pt:"pssego"},{es:"cereza",pt:"cereja"},{es:"coco",pt:"coco"},{es:"aguacate",pt:"abacate"},{es:"tomate",pt:"tomate"},{es:"lechuga",pt:"alface"},{es:"cebolla",pt:"cebola"},{es:"ajo",pt:"alho"},{es:"zanahoria",pt:"cenoura"},{es:"papa",pt:"batata"},{es:"calabaza",pt:"abbora"},{es:"pepino",pt:"pepino"},{es:"pimiento",pt:"pimento"},{es:"brcoli",pt:"brcolis"},{es:"espinaca",pt:"espinafre"},{es:"maz",pt:"milho"},{es:"pasta",pt:"macarro"},{es:"sopa",pt:"sopa"},{es:"ensalada",pt:"salada"},{es:"helado",pt:"sorvete"},{es:"pastel",pt:"bolo"},{es:"galleta",pt:"biscoito"},{es:"chocolate",pt:"chocolate"},{es:"caramelo",pt:"doce"},{es:"miel",pt:"mel"},{es:"aceite",pt:"azeite"},{es:"vinagre",pt:"vinagre"},{es:"pimienta",pt:"pimenta"},{es:"salsa",pt:"molho"},{es:"mostaza",pt:"mostarda"},{es:"mayonesa",pt:"maionese"},{es:"ketchup",pt:"ketchup"},{es:"jamn",pt:"presunto"},{es:"tocino",pt:"bacon"},{es:"salchicha",pt:"salsicha"},{es:"hamburguesa",pt:"hambrguer"},{es:"pizza",pt:"pizza"},{es:"sndwich",pt:"sanduche"},{es:"taco",pt:"taco"},{es:"burrito",pt:"burrito"},{es:"vino",pt:"vinho"},{es:"cerveza",pt:"cerveja"},{es:"jugo",pt:"suco"},{es:"refresco",pt:"refrigerante"},{es:"yogur",pt:"iogurte"},{es:"cereal",pt:"cereal"}],familia:[{es:"madre",pt:"me"},{es:"padre",pt:"pai"},{es:"hijo",pt:"filho"},{es:"hija",pt:"filha"},{es:"hermano",pt:"irmo"},{es:"hermana",pt:"irm"},{es:"abuelo",pt:"av"},{es:"abuela",pt:"av"},{es:"to",pt:"tio"},{es:"ta",pt:"tia"},{es:"primo",pt:"primo"},{es:"prima",pt:"prima"},{es:"sobrino",pt:"sobrinho"},{es:"sobrina",pt:"sobrinha"},{es:"nieto",pt:"neto"},{es:"nieta",pt:"neta"},{es:"esposo",pt:"esposo"},{es:"esposa",pt:"esposa"},{es:"novio",pt:"namorado"},{es:"novia",pt:"namorada"},{es:"suegro",pt:"sogro"},{es:"suegra",pt:"sogra"},{es:"yerno",pt:"genro"},{es:"nuera",pt:"nora"},{es:"cuado",pt:"cunhado"},{es:"cuada",pt:"cunhada"},{es:"padrino",pt:"padrinho"},{es:"madrina",pt:"madrinha"},{es:"ahijado",pt:"afilhado"},{es:"gemelo",pt:"gmeo"}],cuerpo:[{es:"cabeza",pt:"cabea"},{es:"ojo",pt:"olho"},{es:"nariz",pt:"nariz"},{es:"boca",pt:"boca"},{es:"oreja",pt:"orelha"},{es:"mano",pt:"mo"},{es:"pie",pt:"p"},{es:"brazo",pt:"brao"},{es:"pierna",pt:"perna"},{es:"corazn",pt:"corao"},{es:"estmago",pt:"estmago"},{es:"dedo",pt:"dedo"},{es:"cabello",pt:"cabelo"},{es:"ceja",pt:"sobrancelha"},{es:"pestaa",pt:"clio"},{es:"frente",pt:"testa"},{es:"mejilla",pt:"bochecha"},{es:"barbilla",pt:"queixo"},{es:"cuello",pt:"pescoo"},{es:"hombro",pt:"ombro"},{es:"pecho",pt:"peito"},{es:"espalda",pt:"costas"},{es:"cintura",pt:"cintura"},{es:"cadera",pt:"quadril"},{es:"rodilla",pt:"joelho"},{es:"tobillo",pt:"tornozelo"},{es:"codo",pt:"cotovelo"},{es:"mueca",pt:"pulso"},{es:"ua",pt:"unha"},{es:"pulmn",pt:"pulmo"},{es:"hgado",pt:"fgado"},{es:"rin",pt:"rim"},{es:"cerebro",pt:"crebro"},{es:"diente",pt:"dente"},{es:"lengua",pt:"lngua"},{es:"labio",pt:"lbio"},{es:"garganta",pt:"garganta"},{es:"sangre",pt:"sangue"},{es:"hueso",pt:"osso"},{es:"msculo",pt:"msculo"},{es:"piel",pt:"pele"}],colores:[{es:"rojo",pt:"vermelho"},{es:"azul",pt:"azul"},{es:"verde",pt:"verde"},{es:"amarillo",pt:"amarelo"},{es:"negro",pt:"preto"},{es:"blanco",pt:"branco"},{es:"naranja",pt:"laranja"},{es:"rosa",pt:"rosa"},{es:"morado",pt:"roxo"},{es:"marrn",pt:"marrom"},{es:"gris",pt:"cinza"},{es:"dorado",pt:"dourado"},{es:"plateado",pt:"prateado"},{es:"celeste",pt:"azul claro"},{es:"turquesa",pt:"turquesa"},{es:"violeta",pt:"violeta"},{es:"beige",pt:"bege"},{es:"crema",pt:"creme"}],numeros:[{es:"uno",pt:"um"},{es:"dos",pt:"dois"},{es:"tres",pt:"trs"},{es:"cuatro",pt:"quatro"},{es:"cinco",pt:"cinco"},{es:"seis",pt:"seis"},{es:"siete",pt:"sete"},{es:"ocho",pt:"oito"},{es:"nueve",pt:"nove"},{es:"diez",pt:"dez"},{es:"once",pt:"onze"},{es:"doce",pt:"doze"},{es:"trece",pt:"treze"},{es:"catorce",pt:"catorze"},{es:"quince",pt:"quinze"},{es:"veinte",pt:"vinte"},{es:"treinta",pt:"trinta"},{es:"cuarenta",pt:"quarenta"},{es:"cincuenta",pt:"cinquenta"},{es:"sesenta",pt:"sessenta"},{es:"setenta",pt:"setenta"},{es:"ochenta",pt:"oitenta"},{es:"noventa",pt:"noventa"},{es:"cien",pt:"cem"},{es:"mil",pt:"mil"},{es:"milln",pt:"milho"},{es:"primero",pt:"primeiro"},{es:"segundo",pt:"segundo"},{es:"tercero",pt:"terceiro"},{es:"ltimo",pt:"ltimo"}],casa:[{es:"casa",pt:"casa"},{es:"puerta",pt:"porta"},{es:"ventana",pt:"janela"},{es:"cocina",pt:"cozinha"},{es:"bao",pt:"banheiro"},{es:"habitacin",pt:"quarto"},{es:"sala",pt:"sala"},{es:"comedor",pt:"sala de jantar"},{es:"jardn",pt:"jardim"},{es:"garaje",pt:"garagem"},{es:"stano",pt:"poro"},{es:"tico",pt:"sto"},{es:"silla",pt:"cadeira"},{es:"mesa",pt:"mesa"},{es:"cama",pt:"cama"},{es:"sof",pt:"sof"},{es:"espejo",pt:"espelho"},{es:"lmpara",pt:"lmpada"},{es:"armario",pt:"armrio"},{es:"estante",pt:"estante"},{es:"cajn",pt:"gaveta"},{es:"escalera",pt:"escada"},{es:"piso",pt:"piso"},{es:"techo",pt:"teto"},{es:"pared",pt:"parede"},{es:"alfombra",pt:"tapete"},{es:"cortina",pt:"cortina"},{es:"almohada",pt:"travesseiro"},{es:"sbana",pt:"lenol"},{es:"manta",pt:"cobertor"},{es:"toalla",pt:"toalha"},{es:"jabn",pt:"sabonete"},{es:"champ",pt:"shampoo"},{es:"cepillo",pt:"escova"},{es:"peine",pt:"pente"},{es:"secador",pt:"secador"},{es:"refrigerador",pt:"geladeira"},{es:"estufa",pt:"fogo"},{es:"horno",pt:"forno"},{es:"microondas",pt:"micro-ondas"},{es:"lavadora",pt:"mquina de lavar"},{es:"plancha",pt:"ferro"},{es:"aspiradora",pt:"aspirador"},{es:"sartn",pt:"frigideira"},{es:"olla",pt:"panela"},{es:"plato",pt:"prato"},{es:"vaso",pt:"copo"},{es:"taza",pt:"xcara"},{es:"cuchara",pt:"colher"},{es:"tenedor",pt:"garfo"},{es:"cuchillo",pt:"faca"},{es:"servilleta",pt:"guardanapo"}],ropa:[{es:"camisa",pt:"camisa"},{es:"pantaln",pt:"cala"},{es:"zapato",pt:"sapato"},{es:"vestido",pt:"vestido"},{es:"falda",pt:"saia"},{es:"chaqueta",pt:"jaqueta"},{es:"abrigo",pt:"casaco"},{es:"suter",pt:"suter"},{es:"camiseta",pt:"camiseta"},{es:"sombrero",pt:"chapu"},{es:"gorra",pt:"bon"},{es:"bufanda",pt:"cachecol"},{es:"guantes",pt:"luvas"},{es:"calcetines",pt:"meias"},{es:"corbata",pt:"gravata"},{es:"cinturn",pt:"cinto"},{es:"bolsa",pt:"bolsa"},{es:"cartera",pt:"carteira"},{es:"anillo",pt:"anel"},{es:"collar",pt:"colar"},{es:"pulsera",pt:"pulseira"},{es:"pendientes",pt:"brincos"},{es:"reloj",pt:"relgio"},{es:"gafas",pt:"culos"},{es:"paraguas",pt:"guarda-chuva"},{es:"bota",pt:"bota"},{es:"sandalia",pt:"sandlia"},{es:"zapatilla",pt:"tnis"},{es:"traje",pt:"terno"},{es:"pijama",pt:"pijama"},{es:"ropa interior",pt:"roupa ntima"},{es:"sostn",pt:"suti"},{es:"shorts",pt:"shorts"},{es:"bermuda",pt:"bermuda"},{es:"bikini",pt:"biquni"},{es:"traje de bao",pt:"mai"}],tiempo:[{es:"da",pt:"dia"},{es:"noche",pt:"noite"},{es:"maana",pt:"manh"},{es:"tarde",pt:"tarde"},{es:"semana",pt:"semana"},{es:"mes",pt:"ms"},{es:"ao",pt:"ano"},{es:"hora",pt:"hora"},{es:"minuto",pt:"minuto"},{es:"segundo",pt:"segundo"},{es:"hoy",pt:"hoje"},{es:"ayer",pt:"ontem"},{es:"maana",pt:"amanh"},{es:"lunes",pt:"segunda-feira"},{es:"martes",pt:"tera-feira"},{es:"mircoles",pt:"quarta-feira"},{es:"jueves",pt:"quinta-feira"},{es:"viernes",pt:"sexta-feira"},{es:"sbado",pt:"sbado"},{es:"domingo",pt:"domingo"},{es:"enero",pt:"janeiro"},{es:"febrero",pt:"fevereiro"},{es:"marzo",pt:"maro"},{es:"abril",pt:"abril"},{es:"mayo",pt:"maio"},{es:"junio",pt:"junho"},{es:"julio",pt:"julho"},{es:"agosto",pt:"agosto"},{es:"septiembre",pt:"setembro"},{es:"octubre",pt:"outubro"},{es:"noviembre",pt:"novembro"},{es:"diciembre",pt:"dezembro"},{es:"sol",pt:"sol"},{es:"lluvia",pt:"chuva"},{es:"nieve",pt:"neve"},{es:"viento",pt:"vento"},{es:"nube",pt:"nuvem"},{es:"tormenta",pt:"tempestade"},{es:"calor",pt:"calor"},{es:"fro",pt:"frio"}]},fA={profesiones:[{es:"mdico",pt:"mdico"},{es:"enfermero",pt:"enfermeiro"},{es:"abogado",pt:"advogado"},{es:"ingeniero",pt:"engenheiro"},{es:"arquitecto",pt:"arquiteto"},{es:"profesor",pt:"professor"},{es:"contador",pt:"contador"},{es:"periodista",pt:"jornalista"},{es:"fotgrafo",pt:"fotgrafo"},{es:"chef",pt:"chef"},{es:"polica",pt:"policial"},{es:"bombero",pt:"bombeiro"},{es:"piloto",pt:"piloto"},{es:"dentista",pt:"dentista"},{es:"veterinario",pt:"veterinrio"},{es:"psiclogo",pt:"psiclogo"},{es:"farmacutico",pt:"farmacutico"},{es:"cientfico",pt:"cientista"},{es:"programador",pt:"programador"},{es:"diseador",pt:"designer"},{es:"electricista",pt:"eletricista"},{es:"plomero",pt:"encanador"},{es:"carpintero",pt:"carpinteiro"},{es:"mecnico",pt:"mecnico"},{es:"pintor",pt:"pintor"},{es:"msico",pt:"msico"},{es:"actor",pt:"ator"},{es:"cantante",pt:"cantor"},{es:"bailarn",pt:"bailarino"},{es:"escritor",pt:"escritor"},{es:"traductor",pt:"tradutor"},{es:"secretario",pt:"secretrio"},{es:"recepcionista",pt:"recepcionista"},{es:"vendedor",pt:"vendedor"},{es:"cajero",pt:"caixa"},{es:"gerente",pt:"gerente"},{es:"director",pt:"diretor"},{es:"empresario",pt:"empresrio"},{es:"economista",pt:"economista"},{es:"juez",pt:"juiz"},{es:"poltico",pt:"poltico"},{es:"soldado",pt:"soldado"},{es:"cartero",pt:"carteiro"},{es:"taxista",pt:"taxista"},{es:"conductor",pt:"motorista"}],lugares:[{es:"ciudad",pt:"cidade"},{es:"pueblo",pt:"vila"},{es:"pas",pt:"pas"},{es:"calle",pt:"rua"},{es:"avenida",pt:"avenida"},{es:"plaza",pt:"praa"},{es:"parque",pt:"parque"},{es:"hospital",pt:"hospital"},{es:"escuela",pt:"escola"},{es:"universidad",pt:"universidade"},{es:"biblioteca",pt:"biblioteca"},{es:"museo",pt:"museu"},{es:"teatro",pt:"teatro"},{es:"cine",pt:"cinema"},{es:"estadio",pt:"estdio"},{es:"gimnasio",pt:"academia"},{es:"piscina",pt:"piscina"},{es:"banco",pt:"banco"},{es:"oficina",pt:"escritrio"},{es:"fbrica",pt:"fbrica"},{es:"tienda",pt:"loja"},{es:"supermercado",pt:"supermercado"},{es:"farmacia",pt:"farmcia"},{es:"panadera",pt:"padaria"},{es:"carnicera",pt:"aougue"},{es:"peluquera",pt:"salo de beleza"},{es:"restaurante",pt:"restaurante"},{es:"cafetera",pt:"cafeteria"},{es:"bar",pt:"bar"},{es:"discoteca",pt:"balada"},{es:"hotel",pt:"hotel"},{es:"aeropuerto",pt:"aeroporto"},{es:"estacin",pt:"estao"},{es:"puerto",pt:"porto"},{es:"iglesia",pt:"igreja"},{es:"templo",pt:"templo"},{es:"cementerio",pt:"cemitrio"},{es:"playa",pt:"praia"},{es:"montaa",pt:"montanha"},{es:"ro",pt:"rio"},{es:"lago",pt:"lago"},{es:"mar",pt:"mar"},{es:"bosque",pt:"floresta"},{es:"desierto",pt:"deserto"},{es:"isla",pt:"ilha"},{es:"frontera",pt:"fronteira"},{es:"embajada",pt:"embaixada"},{es:"consulado",pt:"consulado"}],emociones:[{es:"feliz",pt:"feliz"},{es:"triste",pt:"triste"},{es:"enojado",pt:"bravo"},{es:"asustado",pt:"assustado"},{es:"sorprendido",pt:"surpreso"},{es:"emocionado",pt:"emocionado"},{es:"preocupado",pt:"preocupado"},{es:"ansioso",pt:"ansioso"},{es:"nervioso",pt:"nervoso"},{es:"tranquilo",pt:"tranquilo"},{es:"cansado",pt:"cansado"},{es:"aburrido",pt:"entediado"},{es:"confundido",pt:"confuso"},{es:"frustrado",pt:"frustrado"},{es:"orgulloso",pt:"orgulhoso"},{es:"avergonzado",pt:"envergonhado"},{es:"celoso",pt:"ciumento"},{es:"enamorado",pt:"apaixonado"},{es:"solitario",pt:"solitrio"},{es:"nostlgico",pt:"nostlgico"},{es:"esperanzado",pt:"esperanoso"},{es:"agradecido",pt:"grato"},{es:"satisfecho",pt:"satisfeito"},{es:"decepcionado",pt:"decepcionado"},{es:"entusiasmado",pt:"entusiasmado"},{es:"relajado",pt:"relaxado"},{es:"estresado",pt:"estressado"},{es:"motivado",pt:"motivado"},{es:"desanimado",pt:"desanimado"},{es:"aliviado",pt:"aliviado"},{es:"amor",pt:"amor"},{es:"odio",pt:"dio"},{es:"miedo",pt:"medo"},{es:"alegra",pt:"alegria"},{es:"tristeza",pt:"tristeza"},{es:"rabia",pt:"raiva"}],tecnologia:[{es:"computadora",pt:"computador"},{es:"telfono",pt:"telefone"},{es:"celular",pt:"celular"},{es:"tableta",pt:"tablet"},{es:"teclado",pt:"teclado"},{es:"ratn",pt:"mouse"},{es:"pantalla",pt:"tela"},{es:"impresora",pt:"impressora"},{es:"escner",pt:"scanner"},{es:"cmara",pt:"cmera"},{es:"micrfono",pt:"microfone"},{es:"auriculares",pt:"fones de ouvido"},{es:"internet",pt:"internet"},{es:"wifi",pt:"wifi"},{es:"red",pt:"rede"},{es:"sitio web",pt:"site"},{es:"aplicacin",pt:"aplicativo"},{es:"programa",pt:"programa"},{es:"archivo",pt:"arquivo"},{es:"carpeta",pt:"pasta"},{es:"contrasea",pt:"senha"},{es:"correo electrnico",pt:"e-mail"},{es:"mensaje",pt:"mensagem"},{es:"video",pt:"vdeo"},{es:"foto",pt:"foto"},{es:"descarga",pt:"download"},{es:"subir",pt:"upload"},{es:"batera",pt:"bateria"},{es:"cargador",pt:"carregador"},{es:"cable",pt:"cabo"},{es:"enchufe",pt:"tomada"},{es:"televisin",pt:"televiso"},{es:"control remoto",pt:"controle remoto"},{es:"robot",pt:"rob"},{es:"inteligencia artificial",pt:"inteligncia artificial"}]},hA={negocios:[{es:"empresa",pt:"empresa"},{es:"negocio",pt:"negcio"},{es:"cliente",pt:"cliente"},{es:"proveedor",pt:"fornecedor"},{es:"empleado",pt:"funcionrio"},{es:"jefe",pt:"chefe"},{es:"reunin",pt:"reunio"},{es:"contrato",pt:"contrato"},{es:"factura",pt:"fatura"},{es:"presupuesto",pt:"oramento"},{es:"inversin",pt:"investimento"},{es:"ganancia",pt:"lucro"},{es:"prdida",pt:"prejuzo"},{es:"deuda",pt:"dvida"},{es:"prstamo",pt:"emprstimo"},{es:"impuesto",pt:"imposto"},{es:"salario",pt:"salrio"},{es:"comisin",pt:"comisso"},{es:"descuento",pt:"desconto"},{es:"precio",pt:"preo"},{es:"costo",pt:"custo"},{es:"venta",pt:"venda"},{es:"compra",pt:"compra"},{es:"mercado",pt:"mercado"},{es:"competencia",pt:"concorrncia"},{es:"estrategia",pt:"estratgia"},{es:"objetivo",pt:"objetivo"},{es:"proyecto",pt:"projeto"},{es:"plazo",pt:"prazo"},{es:"entrega",pt:"entrega"},{es:"calidad",pt:"qualidade"},{es:"garanta",pt:"garantia"},{es:"devolucin",pt:"devoluo"},{es:"reclamacin",pt:"reclamao"},{es:"solucin",pt:"soluo"},{es:"problema",pt:"problema"},{es:"xito",pt:"sucesso"},{es:"fracaso",pt:"fracasso"},{es:"crecimiento",pt:"crescimento"},{es:"desarrollo",pt:"desenvolvimento"},{es:"innovacin",pt:"inovao"},{es:"tecnologa",pt:"tecnologia"}],educacion:[{es:"estudiante",pt:"estudante"},{es:"alumno",pt:"aluno"},{es:"maestro",pt:"mestre"},{es:"clase",pt:"aula"},{es:"curso",pt:"curso"},{es:"asignatura",pt:"disciplina"},{es:"examen",pt:"exame"},{es:"prueba",pt:"prova"},{es:"calificacin",pt:"nota"},{es:"tarea",pt:"tarefa"},{es:"trabajo",pt:"trabalho"},{es:"investigacin",pt:"pesquisa"},{es:"tesis",pt:"tese"},{es:"diploma",pt:"diploma"},{es:"ttulo",pt:"ttulo"},{es:"graduacin",pt:"formatura"},{es:"beca",pt:"bolsa de estudos"},{es:"matrcula",pt:"matrcula"},{es:"semestre",pt:"semestre"},{es:"vacaciones",pt:"frias"},{es:"horario",pt:"horrio"},{es:"libro",pt:"livro"},{es:"cuaderno",pt:"caderno"},{es:"bolgrafo",pt:"caneta"},{es:"lpiz",pt:"lpis"},{es:"borrador",pt:"borracha"},{es:"regla",pt:"rgua"},{es:"pizarra",pt:"quadro"},{es:"proyector",pt:"projetor"},{es:"laboratorio",pt:"laboratrio"}],salud:[{es:"doctor",pt:"doutor"},{es:"paciente",pt:"paciente"},{es:"enfermedad",pt:"doena"},{es:"sntoma",pt:"sintoma"},{es:"dolor",pt:"dor"},{es:"fiebre",pt:"febre"},{es:"tos",pt:"tosse"},{es:"gripe",pt:"gripe"},{es:"resfriado",pt:"resfriado"},{es:"alergia",pt:"alergia"},{es:"infeccin",pt:"infeco"},{es:"virus",pt:"vrus"},{es:"bacteria",pt:"bactria"},{es:"vacuna",pt:"vacina"},{es:"medicamento",pt:"medicamento"},{es:"pastilla",pt:"comprimido"},{es:"jarabe",pt:"xarope"},{es:"inyeccin",pt:"injeo"},{es:"receta",pt:"receita"},{es:"tratamiento",pt:"tratamento"},{es:"ciruga",pt:"cirurgia"},{es:"operacin",pt:"operao"},{es:"urgencia",pt:"urgncia"},{es:"emergencia",pt:"emergncia"},{es:"ambulancia",pt:"ambulncia"},{es:"seguro mdico",pt:"plano de sade"},{es:"consultorio",pt:"consultrio"},{es:"clnica",pt:"clnica"},{es:"anlisis",pt:"exame"},{es:"radiografa",pt:"raio-x"},{es:"diagnstico",pt:"diagnstico"}]},An={regulares_ar:[{infinitive:"hablar",pt:"falar",presente:{yo:"hablo",t:"hablas",l:"habla",nosotros:"hablamos",vosotros:"hablis",ellos:"hablan"},pasado:{yo:"habl",t:"hablaste",l:"habl",nosotros:"hablamos",ellos:"hablaron"}},{infinitive:"trabajar",pt:"trabalhar",presente:{yo:"trabajo",t:"trabajas",l:"trabaja",nosotros:"trabajamos",vosotros:"trabajis",ellos:"trabajan"},pasado:{yo:"trabaj",t:"trabajaste",l:"trabaj",nosotros:"trabajamos",ellos:"trabajaron"}},{infinitive:"estudiar",pt:"estudar",presente:{yo:"estudio",t:"estudias",l:"estudia",nosotros:"estudiamos",vosotros:"estudiis",ellos:"estudian"},pasado:{yo:"estudi",t:"estudiaste",l:"estudi",nosotros:"estudiamos",ellos:"estudiaron"}},{infinitive:"comprar",pt:"comprar",presente:{yo:"compro",t:"compras",l:"compra",nosotros:"compramos",vosotros:"compris",ellos:"compran"},pasado:{yo:"compr",t:"compraste",l:"compr",nosotros:"compramos",ellos:"compraron"}},{infinitive:"caminar",pt:"andar",presente:{yo:"camino",t:"caminas",l:"camina",nosotros:"caminamos",vosotros:"caminis",ellos:"caminan"},pasado:{yo:"camin",t:"caminaste",l:"camin",nosotros:"caminamos",ellos:"caminaron"}},{infinitive:"bailar",pt:"danar",presente:{yo:"bailo",t:"bailas",l:"baila",nosotros:"bailamos",vosotros:"bailis",ellos:"bailan"},pasado:{yo:"bail",t:"bailaste",l:"bail",nosotros:"bailamos",ellos:"bailaron"}},{infinitive:"cantar",pt:"cantar",presente:{yo:"canto",t:"cantas",l:"canta",nosotros:"cantamos",vosotros:"cantis",ellos:"cantan"},pasado:{yo:"cant",t:"cantaste",l:"cant",nosotros:"cantamos",ellos:"cantaron"}},{infinitive:"cocinar",pt:"cozinhar",presente:{yo:"cocino",t:"cocinas",l:"cocina",nosotros:"cocinamos",vosotros:"cocinis",ellos:"cocinan"},pasado:{yo:"cocin",t:"cocinaste",l:"cocin",nosotros:"cocinamos",ellos:"cocinaron"}},{infinitive:"descansar",pt:"descansar",presente:{yo:"descanso",t:"descansas",l:"descansa",nosotros:"descansamos",vosotros:"descansis",ellos:"descansan"},pasado:{yo:"descans",t:"descansaste",l:"descans",nosotros:"descansamos",ellos:"descansaron"}},{infinitive:"escuchar",pt:"escutar",presente:{yo:"escucho",t:"escuchas",l:"escucha",nosotros:"escuchamos",vosotros:"escuchis",ellos:"escuchan"},pasado:{yo:"escuch",t:"escuchaste",l:"escuch",nosotros:"escuchamos",ellos:"escucharon"}},{infinitive:"llamar",pt:"chamar",presente:{yo:"llamo",t:"llamas",l:"llama",nosotros:"llamamos",vosotros:"llamis",ellos:"llaman"},pasado:{yo:"llam",t:"llamaste",l:"llam",nosotros:"llamamos",ellos:"llamaron"}},{infinitive:"llevar",pt:"levar",presente:{yo:"llevo",t:"llevas",l:"lleva",nosotros:"llevamos",vosotros:"llevis",ellos:"llevan"},pasado:{yo:"llev",t:"llevaste",l:"llev",nosotros:"llevamos",ellos:"llevaron"}},{infinitive:"mirar",pt:"olhar",presente:{yo:"miro",t:"miras",l:"mira",nosotros:"miramos",vosotros:"miris",ellos:"miran"},pasado:{yo:"mir",t:"miraste",l:"mir",nosotros:"miramos",ellos:"miraron"}},{infinitive:"pagar",pt:"pagar",presente:{yo:"pago",t:"pagas",l:"paga",nosotros:"pagamos",vosotros:"pagis",ellos:"pagan"},pasado:{yo:"pagu",t:"pagaste",l:"pag",nosotros:"pagamos",ellos:"pagaron"}},{infinitive:"pasar",pt:"passar",presente:{yo:"paso",t:"pasas",l:"pasa",nosotros:"pasamos",vosotros:"pasis",ellos:"pasan"},pasado:{yo:"pas",t:"pasaste",l:"pas",nosotros:"pasamos",ellos:"pasaron"}},{infinitive:"preguntar",pt:"perguntar",presente:{yo:"pregunto",t:"preguntas",l:"pregunta",nosotros:"preguntamos",vosotros:"preguntis",ellos:"preguntan"},pasado:{yo:"pregunt",t:"preguntaste",l:"pregunt",nosotros:"preguntamos",ellos:"preguntaron"}},{infinitive:"terminar",pt:"terminar",presente:{yo:"termino",t:"terminas",l:"termina",nosotros:"terminamos",vosotros:"terminis",ellos:"terminan"},pasado:{yo:"termin",t:"terminaste",l:"termin",nosotros:"terminamos",ellos:"terminaron"}},{infinitive:"tomar",pt:"tomar",presente:{yo:"tomo",t:"tomas",l:"toma",nosotros:"tomamos",vosotros:"tomis",ellos:"toman"},pasado:{yo:"tom",t:"tomaste",l:"tom",nosotros:"tomamos",ellos:"tomaron"}},{infinitive:"usar",pt:"usar",presente:{yo:"uso",t:"usas",l:"usa",nosotros:"usamos",vosotros:"usis",ellos:"usan"},pasado:{yo:"us",t:"usaste",l:"us",nosotros:"usamos",ellos:"usaron"}},{infinitive:"viajar",pt:"viajar",presente:{yo:"viajo",t:"viajas",l:"viaja",nosotros:"viajamos",vosotros:"viajis",ellos:"viajan"},pasado:{yo:"viaj",t:"viajaste",l:"viaj",nosotros:"viajamos",ellos:"viajaron"}}],regulares_er:[{infinitive:"comer",pt:"comer",presente:{yo:"como",t:"comes",l:"come",nosotros:"comemos",vosotros:"comis",ellos:"comen"},pasado:{yo:"com",t:"comiste",l:"comi",nosotros:"comimos",ellos:"comieron"}},{infinitive:"beber",pt:"beber",presente:{yo:"bebo",t:"bebes",l:"bebe",nosotros:"bebemos",vosotros:"bebis",ellos:"beben"},pasado:{yo:"beb",t:"bebiste",l:"bebi",nosotros:"bebimos",ellos:"bebieron"}},{infinitive:"leer",pt:"ler",presente:{yo:"leo",t:"lees",l:"lee",nosotros:"leemos",vosotros:"leis",ellos:"leen"},pasado:{yo:"le",t:"leste",l:"ley",nosotros:"lemos",ellos:"leyeron"}},{infinitive:"correr",pt:"correr",presente:{yo:"corro",t:"corres",l:"corre",nosotros:"corremos",vosotros:"corris",ellos:"corren"},pasado:{yo:"corr",t:"corriste",l:"corri",nosotros:"corrimos",ellos:"corrieron"}},{infinitive:"aprender",pt:"aprender",presente:{yo:"aprendo",t:"aprendes",l:"aprende",nosotros:"aprendemos",vosotros:"aprendis",ellos:"aprenden"},pasado:{yo:"aprend",t:"aprendiste",l:"aprendi",nosotros:"aprendimos",ellos:"aprendieron"}},{infinitive:"comprender",pt:"compreender",presente:{yo:"comprendo",t:"comprendes",l:"comprende",nosotros:"comprendemos",vosotros:"comprendis",ellos:"comprenden"},pasado:{yo:"comprend",t:"comprendiste",l:"comprendi",nosotros:"comprendimos",ellos:"comprendieron"}},{infinitive:"vender",pt:"vender",presente:{yo:"vendo",t:"vendes",l:"vende",nosotros:"vendemos",vosotros:"vendis",ellos:"venden"},pasado:{yo:"vend",t:"vendiste",l:"vendi",nosotros:"vendimos",ellos:"vendieron"}},{infinitive:"responder",pt:"responder",presente:{yo:"respondo",t:"respondes",l:"responde",nosotros:"respondemos",vosotros:"respondis",ellos:"responden"},pasado:{yo:"respond",t:"respondiste",l:"respondi",nosotros:"respondimos",ellos:"respondieron"}},{infinitive:"creer",pt:"crer",presente:{yo:"creo",t:"crees",l:"cree",nosotros:"creemos",vosotros:"creis",ellos:"creen"},pasado:{yo:"cre",t:"creste",l:"crey",nosotros:"cremos",ellos:"creyeron"}},{infinitive:"deber",pt:"dever",presente:{yo:"debo",t:"debes",l:"debe",nosotros:"debemos",vosotros:"debis",ellos:"deben"},pasado:{yo:"deb",t:"debiste",l:"debi",nosotros:"debimos",ellos:"debieron"}}],regulares_ir:[{infinitive:"vivir",pt:"viver",presente:{yo:"vivo",t:"vives",l:"vive",nosotros:"vivimos",vosotros:"vivs",ellos:"viven"},pasado:{yo:"viv",t:"viviste",l:"vivi",nosotros:"vivimos",ellos:"vivieron"}},{infinitive:"escribir",pt:"escrever",presente:{yo:"escribo",t:"escribes",l:"escribe",nosotros:"escribimos",vosotros:"escribs",ellos:"escriben"},pasado:{yo:"escrib",t:"escribiste",l:"escribi",nosotros:"escribimos",ellos:"escribieron"}},{infinitive:"abrir",pt:"abrir",presente:{yo:"abro",t:"abres",l:"abre",nosotros:"abrimos",vosotros:"abrs",ellos:"abren"},pasado:{yo:"abr",t:"abriste",l:"abri",nosotros:"abrimos",ellos:"abrieron"}},{infinitive:"recibir",pt:"receber",presente:{yo:"recibo",t:"recibes",l:"recibe",nosotros:"recibimos",vosotros:"recibs",ellos:"reciben"},pasado:{yo:"recib",t:"recibiste",l:"recibi",nosotros:"recibimos",ellos:"recibieron"}},{infinitive:"subir",pt:"subir",presente:{yo:"subo",t:"subes",l:"sube",nosotros:"subimos",vosotros:"subs",ellos:"suben"},pasado:{yo:"sub",t:"subiste",l:"subi",nosotros:"subimos",ellos:"subieron"}},{infinitive:"decidir",pt:"decidir",presente:{yo:"decido",t:"decides",l:"decide",nosotros:"decidimos",vosotros:"decids",ellos:"deciden"},pasado:{yo:"decid",t:"decidiste",l:"decidi",nosotros:"decidimos",ellos:"decidieron"}},{infinitive:"partir",pt:"partir",presente:{yo:"parto",t:"partes",l:"parte",nosotros:"partimos",vosotros:"parts",ellos:"parten"},pasado:{yo:"part",t:"partiste",l:"parti",nosotros:"partimos",ellos:"partieron"}},{infinitive:"asistir",pt:"assistir",presente:{yo:"asisto",t:"asistes",l:"asiste",nosotros:"asistimos",vosotros:"asists",ellos:"asisten"},pasado:{yo:"asist",t:"asististe",l:"asisti",nosotros:"asistimos",ellos:"asistieron"}},{infinitive:"permitir",pt:"permitir",presente:{yo:"permito",t:"permites",l:"permite",nosotros:"permitimos",vosotros:"permits",ellos:"permiten"},pasado:{yo:"permit",t:"permitiste",l:"permiti",nosotros:"permitimos",ellos:"permitieron"}},{infinitive:"compartir",pt:"compartilhar",presente:{yo:"comparto",t:"compartes",l:"comparte",nosotros:"compartimos",vosotros:"comparts",ellos:"comparten"},pasado:{yo:"compart",t:"compartiste",l:"comparti",nosotros:"compartimos",ellos:"compartieron"}}],irregulares:[{infinitive:"ser",pt:"ser",presente:{yo:"soy",t:"eres",l:"es",nosotros:"somos",vosotros:"sois",ellos:"son"},pasado:{yo:"fui",t:"fuiste",l:"fue",nosotros:"fuimos",ellos:"fueron"}},{infinitive:"estar",pt:"estar",presente:{yo:"estoy",t:"ests",l:"est",nosotros:"estamos",vosotros:"estis",ellos:"estn"},pasado:{yo:"estuve",t:"estuviste",l:"estuvo",nosotros:"estuvimos",ellos:"estuvieron"}},{infinitive:"tener",pt:"ter",presente:{yo:"tengo",t:"tienes",l:"tiene",nosotros:"tenemos",vosotros:"tenis",ellos:"tienen"},pasado:{yo:"tuve",t:"tuviste",l:"tuvo",nosotros:"tuvimos",ellos:"tuvieron"}},{infinitive:"hacer",pt:"fazer",presente:{yo:"hago",t:"haces",l:"hace",nosotros:"hacemos",vosotros:"hacis",ellos:"hacen"},pasado:{yo:"hice",t:"hiciste",l:"hizo",nosotros:"hicimos",ellos:"hicieron"}},{infinitive:"ir",pt:"ir",presente:{yo:"voy",t:"vas",l:"va",nosotros:"vamos",vosotros:"vais",ellos:"van"},pasado:{yo:"fui",t:"fuiste",l:"fue",nosotros:"fuimos",ellos:"fueron"}},{infinitive:"poder",pt:"poder",presente:{yo:"puedo",t:"puedes",l:"puede",nosotros:"podemos",vosotros:"podis",ellos:"pueden"},pasado:{yo:"pude",t:"pudiste",l:"pudo",nosotros:"pudimos",ellos:"pudieron"}},{infinitive:"querer",pt:"querer",presente:{yo:"quiero",t:"quieres",l:"quiere",nosotros:"queremos",vosotros:"queris",ellos:"quieren"},pasado:{yo:"quise",t:"quisiste",l:"quiso",nosotros:"quisimos",ellos:"quisieron"}},{infinitive:"saber",pt:"saber",presente:{yo:"s",t:"sabes",l:"sabe",nosotros:"sabemos",vosotros:"sabis",ellos:"saben"},pasado:{yo:"supe",t:"supiste",l:"supo",nosotros:"supimos",ellos:"supieron"}},{infinitive:"decir",pt:"dizer",presente:{yo:"digo",t:"dices",l:"dice",nosotros:"decimos",vosotros:"decs",ellos:"dicen"},pasado:{yo:"dije",t:"dijiste",l:"dijo",nosotros:"dijimos",ellos:"dijeron"}},{infinitive:"venir",pt:"vir",presente:{yo:"vengo",t:"vienes",l:"viene",nosotros:"venimos",vosotros:"vens",ellos:"vienen"},pasado:{yo:"vine",t:"viniste",l:"vino",nosotros:"vinimos",ellos:"vinieron"}},{infinitive:"ver",pt:"ver",presente:{yo:"veo",t:"ves",l:"ve",nosotros:"vemos",vosotros:"veis",ellos:"ven"},pasado:{yo:"vi",t:"viste",l:"vio",nosotros:"vimos",ellos:"vieron"}},{infinitive:"dar",pt:"dar",presente:{yo:"doy",t:"das",l:"da",nosotros:"damos",vosotros:"dais",ellos:"dan"},pasado:{yo:"di",t:"diste",l:"dio",nosotros:"dimos",ellos:"dieron"}},{infinitive:"poner",pt:"colocar",presente:{yo:"pongo",t:"pones",l:"pone",nosotros:"ponemos",vosotros:"ponis",ellos:"ponen"},pasado:{yo:"puse",t:"pusiste",l:"puso",nosotros:"pusimos",ellos:"pusieron"}},{infinitive:"salir",pt:"sair",presente:{yo:"salgo",t:"sales",l:"sale",nosotros:"salimos",vosotros:"sals",ellos:"salen"},pasado:{yo:"sal",t:"saliste",l:"sali",nosotros:"salimos",ellos:"salieron"}},{infinitive:"conocer",pt:"conhecer",presente:{yo:"conozco",t:"conoces",l:"conoce",nosotros:"conocemos",vosotros:"conocis",ellos:"conocen"},pasado:{yo:"conoc",t:"conociste",l:"conoci",nosotros:"conocimos",ellos:"conocieron"}},{infinitive:"pensar",pt:"pensar",presente:{yo:"pienso",t:"piensas",l:"piensa",nosotros:"pensamos",vosotros:"pensis",ellos:"piensan"},pasado:{yo:"pens",t:"pensaste",l:"pens",nosotros:"pensamos",ellos:"pensaron"}},{infinitive:"dormir",pt:"dormir",presente:{yo:"duermo",t:"duermes",l:"duerme",nosotros:"dormimos",vosotros:"dorms",ellos:"duermen"},pasado:{yo:"dorm",t:"dormiste",l:"durmi",nosotros:"dormimos",ellos:"durmieron"}},{infinitive:"pedir",pt:"pedir",presente:{yo:"pido",t:"pides",l:"pide",nosotros:"pedimos",vosotros:"peds",ellos:"piden"},pasado:{yo:"ped",t:"pediste",l:"pidi",nosotros:"pedimos",ellos:"pidieron"}},{infinitive:"sentir",pt:"sentir",presente:{yo:"siento",t:"sientes",l:"siente",nosotros:"sentimos",vosotros:"sents",ellos:"sienten"},pasado:{yo:"sent",t:"sentiste",l:"sinti",nosotros:"sentimos",ellos:"sintieron"}},{infinitive:"traer",pt:"trazer",presente:{yo:"traigo",t:"traes",l:"trae",nosotros:"traemos",vosotros:"trais",ellos:"traen"},pasado:{yo:"traje",t:"trajiste",l:"trajo",nosotros:"trajimos",ellos:"trajeron"}},{infinitive:"or",pt:"ouvir",presente:{yo:"oigo",t:"oyes",l:"oye",nosotros:"omos",vosotros:"os",ellos:"oyen"},pasado:{yo:"o",t:"oste",l:"oy",nosotros:"omos",ellos:"oyeron"}},{infinitive:"seguir",pt:"seguir",presente:{yo:"sigo",t:"sigues",l:"sigue",nosotros:"seguimos",vosotros:"segus",ellos:"siguen"},pasado:{yo:"segu",t:"seguiste",l:"sigui",nosotros:"seguimos",ellos:"siguieron"}},{infinitive:"encontrar",pt:"encontrar",presente:{yo:"encuentro",t:"encuentras",l:"encuentra",nosotros:"encontramos",vosotros:"encontris",ellos:"encuentran"},pasado:{yo:"encontr",t:"encontraste",l:"encontr",nosotros:"encontramos",ellos:"encontraron"}},{infinitive:"empezar",pt:"comear",presente:{yo:"empiezo",t:"empiezas",l:"empieza",nosotros:"empezamos",vosotros:"empezis",ellos:"empiezan"},pasado:{yo:"empec",t:"empezaste",l:"empez",nosotros:"empezamos",ellos:"empezaron"}},{infinitive:"cerrar",pt:"fechar",presente:{yo:"cierro",t:"cierras",l:"cierra",nosotros:"cerramos",vosotros:"cerris",ellos:"cierran"},pasado:{yo:"cerr",t:"cerraste",l:"cerr",nosotros:"cerramos",ellos:"cerraron"}},{infinitive:"perder",pt:"perder",presente:{yo:"pierdo",t:"pierdes",l:"pierde",nosotros:"perdemos",vosotros:"perdis",ellos:"pierden"},pasado:{yo:"perd",t:"perdiste",l:"perdi",nosotros:"perdimos",ellos:"perdieron"}},{infinitive:"jugar",pt:"jogar",presente:{yo:"juego",t:"juegas",l:"juega",nosotros:"jugamos",vosotros:"jugis",ellos:"juegan"},pasado:{yo:"jugu",t:"jugaste",l:"jug",nosotros:"jugamos",ellos:"jugaron"}},{infinitive:"construir",pt:"construir",presente:{yo:"construyo",t:"construyes",l:"construye",nosotros:"construimos",vosotros:"construs",ellos:"construyen"},pasado:{yo:"constru",t:"construiste",l:"construy",nosotros:"construimos",ellos:"construyeron"}},{infinitive:"morir",pt:"morrer",presente:{yo:"muero",t:"mueres",l:"muere",nosotros:"morimos",vosotros:"mors",ellos:"mueren"},pasado:{yo:"mor",t:"moriste",l:"muri",nosotros:"morimos",ellos:"murieron"}}]},QK=()=>[...An.regulares_ar,...An.regulares_er,...An.regulares_ir,...An.irregulares],JK=e=>e<=2?[...An.regulares_ar.slice(0,10),...An.irregulares.slice(0,5)]:e<=4?[...An.regulares_ar,...An.regulares_er,...An.irregulares.slice(0,15)]:QK(),Ca={saludos:[{es:"Hola! Cmo ests?",pt:"Ol! Como voc est?"},{es:"Buenos das, cmo amaneciste?",pt:"Bom dia, como voc acordou?"},{es:"Buenas tardes, mucho gusto en conocerte.",pt:"Boa tarde, prazer em conhec-lo."},{es:"Buenas noches, que descanses bien.",pt:"Boa noite, descanse bem."},{es:"Hasta luego, nos vemos maana.",pt:"At logo, nos vemos amanh."},{es:"Hasta pronto, cudate mucho.",pt:"At breve, cuide-se muito."},{es:"Adis, fue un placer conocerte.",pt:"Adeus, foi um prazer conhec-lo."},{es:"Encantado de conocerte.",pt:"Prazer em conhec-lo."},{es:"El gusto es mo.",pt:"O prazer  meu."},{es:"Cmo te llamas?",pt:"Como voc se chama?"},{es:"Me llamo Carlos, y t?",pt:"Meu nome  Carlos, e voc?"},{es:"De dnde eres?",pt:"De onde voc ?"},{es:"Soy de Brasil, y t?",pt:"Sou do Brasil, e voc?"},{es:"Cuntos aos tienes?",pt:"Quantos anos voc tem?"},{es:"Tengo veinticinco aos.",pt:"Tenho vinte e cinco anos."},{es:"Que tengas un buen da.",pt:"Tenha um bom dia."},{es:"Que te vaya muy bien.",pt:"Que te v muito bem."},{es:"Nos vemos la prxima semana.",pt:"Nos vemos na prxima semana."},{es:"Cudate mucho, nos hablamos.",pt:"Cuide-se muito, nos falamos."},{es:"Un abrazo, hasta pronto.",pt:"Um abrao, at breve."}],restaurante:[{es:"Mesa para dos personas, por favor.",pt:"Mesa para duas pessoas, por favor."},{es:"Cul es el men del da?",pt:"Qual  o cardpio do dia?"},{es:"Qu me recomienda?",pt:"O que voc me recomenda?"},{es:"Quisiera un vaso de agua, por favor.",pt:"Gostaria de um copo de gua, por favor."},{es:"Tienen opciones vegetarianas?",pt:"Vocs tm opes vegetarianas?"},{es:"La cuenta, por favor.",pt:"A conta, por favor."},{es:"Aceptan tarjeta de crdito?",pt:"Vocs aceitam carto de crdito?"},{es:"La comida estuvo deliciosa.",pt:"A comida estava deliciosa."},{es:"Puedo ver la carta de vinos?",pt:"Posso ver a carta de vinhos?"},{es:"Quisiera ordenar el plato principal.",pt:"Gostaria de pedir o prato principal."},{es:"Cunto tiempo tarda en estar listo?",pt:"Quanto tempo demora para ficar pronto?"},{es:"Me gustara un postre, por favor.",pt:"Gostaria de uma sobremesa, por favor."},{es:"El servicio fue excelente.",pt:"O servio foi excelente."},{es:"Tienen algn plato especial hoy?",pt:"Vocs tm algum prato especial hoje?"},{es:"Prefiero la carne bien cocida.",pt:"Prefiro a carne bem passada."},{es:"El plato viene con guarnicin?",pt:"O prato vem com acompanhamento?"},{es:"Quisiera reservar una mesa para maana.",pt:"Gostaria de reservar uma mesa para amanh."},{es:"La propina est incluida?",pt:"A gorjeta est includa?"},{es:"Necesito el men en ingls.",pt:"Preciso do cardpio em ingls."},{es:"Puedo llevar las sobras?",pt:"Posso levar as sobras?"}],viajes:[{es:"Dnde est la estacin de tren?",pt:"Onde fica a estao de trem?"},{es:"Necesito un boleto de ida y vuelta.",pt:"Preciso de uma passagem de ida e volta."},{es:"A qu hora sale el prximo vuelo?",pt:"A que horas sai o prximo voo?"},{es:"Cunto cuesta la habitacin por noche?",pt:"Quanto custa o quarto por noite?"},{es:"Tengo una reservacin a nombre de Garca.",pt:"Tenho uma reserva em nome de Garca."},{es:"Dnde puedo cambiar dinero?",pt:"Onde posso trocar dinheiro?"},{es:"Me puede llevar al aeropuerto?",pt:"Voc pode me levar ao aeroporto?"},{es:"Cunto tiempo dura el viaje?",pt:"Quanto tempo dura a viagem?"},{es:"Necesito un mapa de la ciudad.",pt:"Preciso de um mapa da cidade."},{es:"Cules son los lugares tursticos?",pt:"Quais so os lugares tursticos?"},{es:"A qu hora es el check-in?",pt:"A que horas  o check-in?"},{es:"Mi vuelo tiene retraso.",pt:"Meu voo est atrasado."},{es:"Perd mi equipaje.",pt:"Perdi minha bagagem."},{es:"Dnde est la oficina de turismo?",pt:"Onde fica o escritrio de turismo?"},{es:"Este autobs va al centro?",pt:"Este nibus vai ao centro?"},{es:"Quisiera alquilar un coche.",pt:"Gostaria de alugar um carro."},{es:"Hay wifi gratuito en el hotel?",pt:"Tem wifi gratuito no hotel?"},{es:"A qu hora sirven el desayuno?",pt:"A que horas servem o caf da manh?"},{es:"La habitacin necesita limpieza.",pt:"O quarto precisa de limpeza."},{es:"Tienen servicio de habitacin?",pt:"Vocs tm servio de quarto?"},{es:"Cul es la contrasea del wifi?",pt:"Qual  a senha do wifi?"},{es:"Necesito una toalla extra.",pt:"Preciso de uma toalha extra."},{es:"Puedo dejar mis maletas aqu?",pt:"Posso deixar minhas malas aqui?"},{es:"A qu hora es el check-out?",pt:"A que horas  o check-out?"},{es:"Me gustara extender mi estada.",pt:"Gostaria de estender minha estadia."}],compras:[{es:"Cunto cuesta esto?",pt:"Quanto custa isso?"},{es:"Tienen este producto en otro color?",pt:"Vocs tm este produto em outra cor?"},{es:"Puedo probrmelo?",pt:"Posso experimentar?"},{es:"Dnde est el probador?",pt:"Onde fica o provador?"},{es:"Es muy caro. Hay descuento?",pt:" muito caro. Tem desconto?"},{es:"Aceptan efectivo?",pt:"Vocs aceitam dinheiro?"},{es:"Me queda grande, tienen una talla menor?",pt:"Est grande, vocs tm um tamanho menor?"},{es:"Me lo llevo.",pt:"Vou levar."},{es:"Puedo pagar en cuotas?",pt:"Posso pagar em parcelas?"},{es:"Tienen garanta?",pt:"Vocs tm garantia?"},{es:"Cul es la poltica de devolucin?",pt:"Qual  a poltica de devoluo?"},{es:"Tienen bolsa de regalo?",pt:"Vocs tm sacola de presente?"},{es:"A qu hora cierran?",pt:"A que horas vocs fecham?"},{es:"Dnde pago?",pt:"Onde eu pago?"},{es:"Estn en oferta?",pt:"Esto em promoo?"},{es:"Solo estoy mirando, gracias.",pt:"S estou olhando, obrigado."},{es:"Tienen este en stock?",pt:"Vocs tm isso em estoque?"},{es:"Puedo ver el catlogo?",pt:"Posso ver o catlogo?"},{es:"Necesito una factura.",pt:"Preciso de uma nota fiscal."},{es:"Hacen envo a domicilio?",pt:"Vocs fazem entrega em domiclio?"}],trabajo:[{es:"Tengo una reunin a las tres.",pt:"Tenho uma reunio s trs."},{es:"Cundo es la fecha lmite?",pt:"Quando  a data limite?"},{es:"Necesito terminar este informe.",pt:"Preciso terminar este relatrio."},{es:"Puedo trabajar desde casa maana?",pt:"Posso trabalhar de casa amanh?"},{es:"El jefe quiere hablar contigo.",pt:"O chefe quer falar com voc."},{es:"A qu hora terminas hoy?",pt:"A que horas voc termina hoje?"},{es:"Tengo muchos correos pendientes.",pt:"Tenho muitos e-mails pendentes."},{es:"Puedes enviarme el archivo?",pt:"Voc pode me enviar o arquivo?"},{es:"La reunin fue muy productiva.",pt:"A reunio foi muito produtiva."},{es:"Necesito tu firma en este documento.",pt:"Preciso da sua assinatura neste documento."},{es:"Cul es tu opinin sobre el proyecto?",pt:"Qual  a sua opinio sobre o projeto?"},{es:"Vamos a discutir los resultados.",pt:"Vamos discutir os resultados."},{es:"Tienes disponible la sala de reuniones?",pt:"Voc tem disponvel a sala de reunies?"},{es:"El cliente est muy satisfecho.",pt:"O cliente est muito satisfeito."},{es:"Necesitamos aumentar las ventas.",pt:"Precisamos aumentar as vendas."},{es:"Cundo es la prxima presentacin?",pt:"Quando  a prxima apresentao?"},{es:"Estoy trabajando horas extras.",pt:"Estou fazendo hora extra."},{es:"Puedes cubrir mi turno maana?",pt:"Voc pode cobrir meu turno amanh?"},{es:"El presupuesto fue aprobado.",pt:"O oramento foi aprovado."},{es:"Tenemos que cumplir con el plazo.",pt:"Temos que cumprir o prazo."}],salud:[{es:"Me duele la cabeza.",pt:"Minha cabea est doendo."},{es:"Tengo fiebre desde ayer.",pt:"Estou com febre desde ontem."},{es:"Necesito hacer una cita con el doctor.",pt:"Preciso marcar uma consulta com o mdico."},{es:"Cules son los sntomas?",pt:"Quais so os sintomas?"},{es:"Soy alrgico a la penicilina.",pt:"Sou alrgico  penicilina."},{es:"Dnde est la farmacia ms cercana?",pt:"Onde fica a farmcia mais prxima?"},{es:"Necesito esta receta mdica.",pt:"Preciso desta receita mdica."},{es:"Cada cuntas horas debo tomar el medicamento?",pt:"De quantas em quantas horas devo tomar o medicamento?"},{es:"Me siento mareado.",pt:"Estou me sentindo tonto."},{es:"Tengo dolor de estmago.",pt:"Estou com dor de estmago."},{es:"Tiene alguna alergia?",pt:"Voc tem alguma alergia?"},{es:"Necesito hacerme un anlisis de sangre.",pt:"Preciso fazer um exame de sangue."},{es:"Es grave?",pt:" grave?"},{es:"Tome este medicamento despus de las comidas.",pt:"Tome este remdio depois das refeies."},{es:"Cunto cuesta la consulta?",pt:"Quanto custa a consulta?"},{es:"Tengo seguro mdico.",pt:"Tenho plano de sade."},{es:"Me torc el tobillo.",pt:"Torci o tornozelo."},{es:"Necesito una radiografa.",pt:"Preciso de um raio-x."},{es:"Cundo estarn los resultados?",pt:"Quando estaro os resultados?"},{es:"El tratamiento dura dos semanas.",pt:"O tratamento dura duas semanas."}],cotidiano:[{es:"Qu hora es?",pt:"Que horas so?"},{es:"Son las tres y media.",pt:"So trs e meia."},{es:"Qu da es hoy?",pt:"Que dia  hoje?"},{es:"Hoy es lunes.",pt:"Hoje  segunda-feira."},{es:"Cmo est el clima?",pt:"Como est o tempo?"},{es:"Hace mucho calor hoy.",pt:"Est muito calor hoje."},{es:"Creo que va a llover.",pt:"Acho que vai chover."},{es:"Tienes planes para el fin de semana?",pt:"Voc tem planos para o fim de semana?"},{es:"Voy a visitar a mi familia.",pt:"Vou visitar minha famlia."},{es:"Quieres ir al cine conmigo?",pt:"Voc quer ir ao cinema comigo?"},{es:"Lo siento, no puedo hoy.",pt:"Desculpe, no posso hoje."},{es:"A qu te dedicas?",pt:"O que voc faz?"},{es:"Trabajo como ingeniero.",pt:"Trabalho como engenheiro."},{es:"Dnde vives?",pt:"Onde voc mora?"},{es:"Vivo en el centro de la ciudad.",pt:"Moro no centro da cidade."},{es:"Tienes hermanos?",pt:"Voc tem irmos?"},{es:"Tengo dos hermanos mayores.",pt:"Tenho dois irmos mais velhos."},{es:"Cul es tu comida favorita?",pt:"Qual  sua comida favorita?"},{es:"Me encanta la comida mexicana.",pt:"Adoro comida mexicana."},{es:"Practicas algn deporte?",pt:"Voc pratica algum esporte?"},{es:"Juego ftbol los domingos.",pt:"Jogo futebol aos domingos."},{es:"Te gusta leer?",pt:"Voc gosta de ler?"},{es:"Prefiero las pelculas.",pt:"Prefiro os filmes."},{es:"Cunto tiempo llevas estudiando espaol?",pt:"H quanto tempo voc estuda espanhol?"},{es:"Llevo seis meses estudiando.",pt:"H seis meses estou estudando."},{es:"Puedes repetir, por favor?",pt:"Pode repetir, por favor?"},{es:"No entend muy bien.",pt:"No entendi muito bem."},{es:"Habla ms despacio, por favor.",pt:"Fale mais devagar, por favor."},{es:"Cmo se dice esto en espaol?",pt:"Como se diz isso em espanhol?"},{es:"Qu significa esta palabra?",pt:"O que significa esta palavra?"}]},ZK=e=>e<=2?[...Ca.saludos,...Ca.cotidiano.slice(0,15)]:e<=4?[...Ca.saludos,...Ca.cotidiano,...Ca.restaurante,...Ca.compras]:Object.values(Ca).flat(),pd=[{id:1,name:"Bsico 1",key:"basico1",requiredXp:0,icon:"",exerciseCount:100},{id:2,name:"Bsico 2",key:"basico2",requiredXp:500,icon:"",exerciseCount:100},{id:3,name:"Bsico 3",key:"basico3",requiredXp:1e3,icon:"",exerciseCount:100},{id:4,name:"Intermedirio 1",key:"inter1",requiredXp:1800,icon:"",exerciseCount:100},{id:5,name:"Intermedirio 2",key:"inter2",requiredXp:2800,icon:"",exerciseCount:100},{id:6,name:"Intermedirio 3",key:"inter3",requiredXp:4e3,icon:"",exerciseCount:100},{id:7,name:"Avanado 1",key:"avancado1",requiredXp:5500,icon:"",exerciseCount:100},{id:8,name:"Avanado 2",key:"avancado2",requiredXp:7500,icon:"",exerciseCount:100},{id:9,name:"Avanado 3",key:"avancado3",requiredXp:1e4,icon:"",exerciseCount:100},{id:10,name:"Fluente",key:"fluente",requiredXp:15e3,icon:"",exerciseCount:100}],L1=[{name:"Bronze",icon:"",minXp:0,color:"from-amber-600 to-amber-700"},{name:"Prata",icon:"",minXp:500,color:"from-slate-400 to-slate-500"},{name:"Ouro",icon:"",minXp:1500,color:"from-yellow-400 to-amber-500"},{name:"Platina",icon:"",minXp:3e3,color:"from-cyan-400 to-blue-500"},{name:"Diamante",icon:"",minXp:5e3,color:"from-blue-500 to-indigo-600"},{name:"Mestre",icon:"",minXp:8e3,color:"from-purple-500 to-pink-500"},{name:"Lenda",icon:"",minXp:12e3,color:"from-amber-400 to-red-500"}],eX=e=>{const t=Object.values(uA).flat(),s=Object.values(fA).flat(),r=Object.values(hA).flat();return e<=3?t:e<=6?[...t,...s]:[...t,...s,...r]},Lx=(e,t)=>{const s=e[Math.floor(Math.random()*e.length)],a=[...e.filter(o=>o.pt!==s.pt).sort(()=>Math.random()-.5).slice(0,3).map(o=>o.pt),s.pt].sort(()=>Math.random()-.5);return{type:"vocabulary",category:" Vocabulrio",question:`O que significa "${s.es}" em portugus?`,options:a,correct:a.indexOf(s.pt),difficulty:t,hint:`Dica: A palavra comea com "${s.pt.charAt(0).toUpperCase()}"`}},tX=(e,t)=>{const s=e[Math.floor(Math.random()*e.length)],a=[...e.filter(o=>o.es!==s.es).sort(()=>Math.random()-.5).slice(0,3).map(o=>o.es),s.es].sort(()=>Math.random()-.5);return{type:"vocabulary",category:" Vocabulrio",question:`Como se diz "${s.pt}" em espanhol?`,options:a,correct:a.indexOf(s.es),difficulty:t,hint:`Dica: A palavra comea com "${s.es.charAt(0).toUpperCase()}"`}},sX=(e,t)=>{const s=e[Math.floor(Math.random()*e.length)];if(Math.random()>.5){const o=[...e.filter(i=>i.es!==s.es).sort(()=>Math.random()-.5).slice(0,3).map(i=>i.es),s.es].sort(()=>Math.random()-.5);return{type:"translation",category:" Traduo",question:`Como se diz "${s.pt}" em espanhol?`,options:o,correct:o.indexOf(s.es),difficulty:t}}else{const o=[...e.filter(i=>i.pt!==s.pt).sort(()=>Math.random()-.5).slice(0,3).map(i=>i.pt),s.pt].sort(()=>Math.random()-.5);return{type:"translation",category:" Traduo",question:`Traduza: "${s.es}"`,options:o,correct:o.indexOf(s.pt),difficulty:t}}},rX=(e,t)=>{const s=e[Math.floor(Math.random()*e.length)],r=["presente","pasado"],a=r[Math.floor(Math.random()*Math.min(t,r.length))],o=s[a]||s.presente,i=Object.keys(o),l=i[Math.floor(Math.random()*i.length)],c=o[l],u=[...new Set(Object.values(o))].filter(p=>p!==c);if(u.length<3){const p=e[Math.floor(Math.random()*e.length)],x=Object.values(p[a]||p.presente);u.push(...x.filter(g=>g!==c&&!u.includes(g)))}const h=[...u.slice(0,3),c].sort(()=>Math.random()-.5),m=a==="presente"?"presente":"pretrito";return{type:"conjugation",category:" Conjugao",question:`Conjugue "${s.infinitive.toUpperCase()}" para "${l}" (${m}):`,options:h,correct:h.indexOf(c),difficulty:t,verbTranslation:s.pt}},nX=(e,t)=>{const s=e[Math.floor(Math.random()*e.length)];return{type:"listening",category:" Escutar",question:"Escute e escreva o que ouviu em espanhol:",audioText:s.es,answer:s.es.toLowerCase().replace(/[?!.,]/g,"").trim(),translation:s.pt,difficulty:t}},aX=(e,t)=>{const s=e[Math.floor(Math.random()*e.length)];return{type:"speaking",category:" Falar",question:"Pronuncie a frase abaixo em espanhol:",textToSpeak:s.es,translation:s.pt,difficulty:t}},oX=(e,t,s)=>{const r=e[Math.floor(Math.random()*e.length)],a=r.es.split(" ").filter(u=>u.length>2);if(a.length<2)return Lx(t,s);const o=Math.floor(Math.random()*a.length),i=a[o].replace(/[?!.,]/g,""),l=r.es.replace(i,"___"),d=[...t.map(u=>u.es).filter(u=>u.toLowerCase()!==i.toLowerCase()).sort(()=>Math.random()-.5).slice(0,3),i].sort(()=>Math.random()-.5);return{type:"complete",category:" Completar",question:`Complete a frase: "${l}"`,options:d,correct:d.indexOf(i),fullPhrase:r.es,translation:r.pt,difficulty:s}},$1=(e,t=10)=>{const r=(pd.find(u=>u.key===e)||pd[0]).id,a=eX(r),o=JK(r),i=ZK(r),l=[],c={vocabulary:r<=3?25:15,reverseVocab:r<=3?20:15,translation:20,conjugation:r>=2?15:5,listening:r>=2?10:5,speaking:r>=3?10:5,complete:10},d=[];Object.entries(c).forEach(([u,h])=>{for(let m=0;m<h;m++)d.push(u)});for(let u=0;u<t;u++){const h=d[Math.floor(Math.random()*d.length)],m=Math.min(Math.ceil(r/3),3);let p;switch(h){case"vocabulary":p=Lx(a,m);break;case"reverseVocab":p=tX(a,m);break;case"translation":p=sX(i,m);break;case"conjugation":p=rX(o,m);break;case"listening":p=nX(i,m);break;case"speaking":p=aX(i,m);break;case"complete":p=oX(i,a,m);break;default:p=Lx(a,m)}l.push(p)}return l};Object.values(uA).flat().length+Object.values(fA).flat().length+Object.values(hA).flat().length,Object.values(An).flat().length,Object.values(Ca).flat().length,pd.length;const iX=4,lX=iX*60*60*1e3,cX={1:"https://www.mercadopago.com.br/checkout/v1/payment/redirect/f3c6eaa5-b6df-49fa-9b56-57d35a5e4d10/payment-option-form/?source=link&preference-id=46454273-62ba8de1-a362-4b9a-9d2c-f6bd3cd45e3b&router-request-id=066b9b6b-b805-4661-842c-b61059937551&journey-id=51906597e61455698bf6fd1a7c61ec72&p=9966f0b5bace859e38fb16499917d57f",3:"https://www.mercadopago.com.br/checkout/v1/payment/redirect/b1d0ad8a-97ec-4c76-8038-ecbbdb3fb033/payment-option-form/?source=link&preference-id=46454273-12632856-ac9e-41d7-9604-8e8f89a02cda&router-request-id=d0ec8cc4-d947-481d-bf99-a1b842b5977c&journey-id=246a4deb23a21d7de63c16769fbcbd81&p=9966f0b5bace859e38fb16499917d57f",5:"https://www.mercadopago.com.br/checkout/v1/payment/redirect/7f1e1720-6e84-45bc-8023-cb921cffaf59/payment-option-form/?source=link&preference-id=46454273-697b4b3d-0e97-4de0-8a3e-004e0b106467&router-request-id=55ae5c3c-ce25-4846-a10f-d6c139a32bcb&journey-id=a5be44cb50d1405c1c14885eecdc40a9&p=9966f0b5bace859e38fb16499917d57f"},ps=(e,t)=>`quiz_${e}_${t}`,dX=()=>{const{user:e}=Or(),t=(e==null?void 0:e.id)||"anonymous",[s,r]=f.useState([]),[a,o]=f.useState(0),[i,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState({correct:0,incorrect:0,xp:0}),[m,p]=f.useState(3),[x,g]=f.useState(0),[w,b]=f.useState(0),[v,y]=f.useState(0),[j,_]=f.useState("basico1"),[C,N]=f.useState(!1),[S,M]=f.useState(0),[$,W]=f.useState(!1),[R,Y]=f.useState(!1),[D,P]=f.useState({current:30,target:50}),[A,V]=f.useState(!1),[k,E]=f.useState(!1),[T,z]=f.useState(null),[O,q]=f.useState(""),[L,G]=f.useState(!1),[B,H]=f.useState(0),[J,ae]=f.useState(""),[re,ce]=f.useState(!1),[pe,Ce]=f.useState(!1),[et,F]=f.useState(null),oe=f.useRef(null);f.useEffect(()=>{if(!t||t==="anonymous")return;const te=localStorage.getItem(ps(t,"lives"));te&&p(parseInt(te));const ie=localStorage.getItem(ps(t,"extraLives"));ie&&g(parseInt(ie));const U=localStorage.getItem(ps(t,"totalXp"));U&&y(parseInt(U));const ue=localStorage.getItem(ps(t,"level"));ue&&_(ue);const ke=localStorage.getItem(ps(t,"perfectLevels"));ke&&M(parseInt(ke));const qe=localStorage.getItem(ps(t,"blockEndTime"));qe&&z(parseInt(qe)),V(!0)},[t]);const ye=L1.reduce((te,ie)=>v>=ie.minXp?ie:te,L1[0]),be=pd.find(te=>te.id===parseInt(j.replace(/\D/g,""))||1)||pd[0];f.useEffect(()=>{!t||t==="anonymous"||!A||(localStorage.setItem(ps(t,"lives"),m.toString()),localStorage.setItem(ps(t,"extraLives"),x.toString()))},[m,x,t,A]),f.useEffect(()=>{if(!t||t==="anonymous")return;const te=localStorage.getItem(ps(t,"pendingPayment"));if(te)try{const{qty:ie,timestamp:U}=JSON.parse(te);Date.now()-U<30*60*1e3?(H(ie),G(!0)):localStorage.removeItem(ps(t,"pendingPayment"))}catch{localStorage.removeItem(ps(t,"pendingPayment"))}},[t]),f.useEffect(()=>{const te=()=>{if(T&&Date.now()<T){E(!0);const U=T-Date.now(),ue=Math.floor(U/(1e3*60*60)),ke=Math.floor(U%(1e3*60*60)/(1e3*60)),qe=Math.floor(U%(1e3*60)/1e3);q(`${ue}h ${ke}m ${qe}s`)}else T&&Date.now()>=T&&(E(!1),z(null),t&&t!=="anonymous"&&localStorage.removeItem(ps(t,"blockEndTime")),p(3),g(0))};te();const ie=setInterval(te,1e3);return()=>clearInterval(ie)},[T,t]),f.useEffect(()=>{!t||t==="anonymous"||!A||(localStorage.setItem(ps(t,"totalXp"),v.toString()),localStorage.setItem(ps(t,"level"),j),localStorage.setItem(ps(t,"perfectLevels"),S.toString()))},[v,j,S,t,A]),f.useEffect(()=>{if(k||r($1(j,10)),"webkitSpeechRecognition"in window||"SpeechRecognition"in window){const te=window.SpeechRecognition||window.webkitSpeechRecognition;oe.current=new te,oe.current.lang="es-ES",oe.current.continuous=!1}},[j,k]);const _e=s[a],We=a/s.length*100,Ye=m+x,Ke=te=>{if("speechSynthesis"in window){Ce(!0);const ie=new SpeechSynthesisUtterance(te);ie.lang="es-ES",ie.rate=.8,ie.onend=()=>Ce(!1),window.speechSynthesis.speak(ie)}},Q=()=>{oe.current&&(ce(!0),F(null),oe.current.start(),oe.current.onresult=te=>{const ie=te.results[0][0].transcript.toLowerCase(),U=_e.textToSpeak.toLowerCase().replace(/[?!]/g,""),ue=Se(ie,U);F({transcript:ie,similarity:ue,isCorrect:ue>.7}),ce(!1),d(!0),ue>.7?(h(ke=>({...ke,correct:ke.correct+1,xp:ke.xp+15})),b(ke=>ke+1)):(h(ke=>({...ke,incorrect:ke.incorrect+1})),Ne())},oe.current.onerror=()=>ce(!1))},Se=(te,ie)=>{const U=te.toLowerCase().replace(/[^a-z\s]/g,"").split(" "),ue=ie.toLowerCase().replace(/[^a-z\s]/g,"").split(" ");let ke=0;return U.forEach(qe=>{ue.includes(qe)&&ke++}),ke/Math.max(U.length,ue.length)},Ne=()=>{x>0?g(te=>te-1):p(te=>te-1),b(0)},Oe=()=>{const te=_e.answer,ie=J.toLowerCase().replace(/[?!]/g,"").trim(),U=Se(ie,te)>.8;d(!0),U?(h(ue=>({...ue,correct:ue.correct+1,xp:ue.xp+15})),b(ue=>ue+1)):(h(ue=>({...ue,incorrect:ue.incorrect+1})),Ne())},xt=te=>{if(!c)if(l(te),d(!0),te===_e.correct){const ie=10+(w>=3?5:0)+_e.difficulty*2;h(U=>({...U,correct:U.correct+1,xp:U.xp+ie})),b(U=>U+1),P(U=>({...U,current:Math.min(U.current+ie,U.target)}))}else h(ie=>({...ie,incorrect:ie.incorrect+1})),Ne()},jt=()=>{a<s.length-1?(o(te=>te+1),l(null),d(!1),ae(""),F(null)):(y(te=>te+u.xp),u.incorrect===0?M(te=>{const ie=te+1;return ie>=5&&Y(!0),ie}):M(0),N(!0))},ut=()=>{const te=Date.now()+lX;z(te),t&&t!=="anonymous"&&localStorage.setItem(ps(t,"blockEndTime"),te.toString()),E(!0)},Wt=te=>{t&&t!=="anonymous"&&localStorage.setItem(ps(t,"pendingPayment"),JSON.stringify({qty:te,timestamp:Date.now()}));const ie=cX[te];window.location.href=ie},pt=()=>{if(!t||t==="anonymous")return;const te=localStorage.getItem(ps(t,"pendingPayment"));if(te){const{qty:ie}=JSON.parse(te);g(U=>U+ie),E(!1),z(null),localStorage.removeItem(ps(t,"blockEndTime")),localStorage.removeItem(ps(t,"pendingPayment")),G(!1),p(U=>U===0?3:U)}},Ps=()=>{t&&t!=="anonymous"&&localStorage.removeItem(ps(t,"pendingPayment")),G(!1)},Ot=()=>{m+x<=0||(r($1(j,10)),o(0),l(null),d(!1),h({correct:0,incorrect:0,xp:0}),b(0),N(!1),ae(""),F(null))},ne=()=>n.jsx(Qt,{open:$,onOpenChange:W,children:n.jsxs(Vt,{className:"sm:max-w-md",children:[n.jsxs(Bt,{children:[n.jsxs(zt,{className:"text-center text-2xl font-black flex items-center justify-center gap-2",children:[n.jsx(vi,{className:"h-6 w-6 text-red-500 fill-red-500"})," Comprar Vidas"]}),n.jsx(ds,{className:"text-center",children:"Pagamento seguro via Pix ou Carto - MercadoPago"})]}),n.jsx("div",{className:"space-y-3 py-4",children:[{qty:1,price:.69},{qty:3,price:1.99,popular:!0},{qty:5,price:2.99}].map(te=>n.jsxs(Qe.button,{whileHover:{scale:1.02},onClick:()=>Wt(te.qty),className:`w-full p-4 rounded-xl border-2 flex items-center justify-between ${te.popular?"border-violet-500 bg-violet-50":"border-slate-200"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[[...Array(te.qty)].map((ie,U)=>n.jsx(vi,{className:"h-5 w-5 text-red-500 fill-red-500 -ml-1 first:ml-0"},U)),n.jsxs("span",{className:"font-bold",children:[te.qty," ",te.qty===1?"Vida":"Vidas"]}),te.popular&&n.jsx(ge,{className:"bg-violet-500 text-white",children:"Popular"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(j3,{className:"h-4 w-4 text-slate-400"}),n.jsxs("span",{className:"bg-emerald-500 text-white px-3 py-1.5 rounded-lg font-bold",children:["R$ ",te.price.toFixed(2)]})]})]},te.qty))}),n.jsx("p",{className:"text-xs text-center text-slate-500",children:"Voc ser redirecionado para o MercadoPago"})]})}),fe=()=>n.jsx(Qt,{open:L,onOpenChange:G,children:n.jsxs(Vt,{className:"sm:max-w-md",children:[n.jsxs(Bt,{children:[n.jsxs(zt,{className:"text-center text-2xl font-black flex items-center justify-center gap-2",children:[n.jsx(Cc,{className:"h-6 w-6 text-emerald-500"})," Confirmar Pagamento"]}),n.jsxs(ds,{className:"text-center",children:["Voc realizou o pagamento de ",B," ",B===1?"vida":"vidas","?"]})]}),n.jsxs("div",{className:"py-4 text-center",children:[n.jsx("div",{className:"flex justify-center mb-4",children:[...Array(B)].map((te,ie)=>n.jsx(vi,{className:"h-10 w-10 text-red-500 fill-red-500 -ml-2 first:ml-0"},ie))}),n.jsx("p",{className:"text-slate-600 mb-6",children:'Se voc completou o pagamento no MercadoPago, clique em "Sim, paguei!" para adicionar suas vidas.'}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(K,{onClick:pt,className:"w-full bg-gradient-to-r from-emerald-500 to-teal-600 py-6",children:[n.jsx(Cc,{className:"h-5 w-5 mr-2"})," Sim, paguei!"]}),n.jsx(K,{variant:"outline",onClick:Ps,className:"w-full",children:"No, ainda no paguei"})]})]})]})}),Le=()=>n.jsx(Qt,{open:R,onOpenChange:Y,children:n.jsxs(Vt,{className:"sm:max-w-md text-center",children:[n.jsx(Qe.div,{initial:{scale:0},animate:{scale:1},className:"text-7xl mx-auto",children:""}),n.jsxs(Bt,{children:[n.jsx(zt,{className:"text-2xl font-black text-center",children:"5 Nveis Perfeitos!"}),n.jsx(ds,{className:"text-center text-lg",children:"Voc ganhou uma aula grtis!"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-amber-400 to-orange-500 rounded-xl p-6 text-white my-4",children:[n.jsx(C3,{className:"h-12 w-12 mx-auto mb-3"}),n.jsx("p",{className:"text-3xl font-black",children:"1 Aula Grtis"}),n.jsx("p",{className:"text-amber-100 text-sm",children:"30 min com professor nativo"})]}),n.jsx(K,{onClick:()=>{Y(!1),M(0)},className:"w-full bg-gradient-to-r from-violet-500 to-purple-600",children:"Receber Recompensa!"})]})});if(!A&&t&&t!=="anonymous")return n.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-8 text-center",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"text-4xl mb-4",children:""}),n.jsx("p",{className:"text-slate-600",children:"Carregando seu progresso..."})]})});if(k)return n.jsxs(n.Fragment,{children:[n.jsx(ne,{}),n.jsx(fe,{}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-8 text-center",children:[n.jsx(Qe.div,{initial:{scale:0},animate:{scale:1},className:"text-6xl mb-4",children:n.jsx(M3,{className:"h-16 w-16 mx-auto text-slate-400"})}),n.jsx("h2",{className:"text-2xl font-black mb-2",children:"Quiz Bloqueado"}),n.jsx("p",{className:"text-slate-500 mb-4",children:"Voc escolheu esperar para recarregar suas vidas"}),n.jsxs("div",{className:"bg-slate-100 rounded-xl p-6 mb-6",children:[n.jsx(tr,{className:"h-8 w-8 mx-auto text-violet-500 mb-2"}),n.jsx("p",{className:"text-3xl font-black text-violet-600",children:O}),n.jsx("p",{className:"text-sm text-slate-500",children:"para suas vidas recarregarem"})]}),n.jsx("p",{className:"text-slate-600 mb-4",children:"Ou compre vidas para continuar agora:"}),n.jsxs(K,{onClick:()=>W(!0),className:"w-full bg-gradient-to-r from-red-500 to-pink-600 py-6",children:[n.jsx(vi,{className:"h-5 w-5 mr-2 fill-white"})," Comprar Vidas - A partir de R$ 0,69"]})]})]});if(Ye<=0&&!k)return n.jsxs(n.Fragment,{children:[n.jsx(ne,{}),n.jsx(fe,{}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-8 text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h2",{className:"text-2xl font-black mb-2",children:"Acabaram as vidas!"}),n.jsx("p",{className:"text-slate-500 mb-6",children:"Escolha uma opo para continuar"}),n.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-black text-emerald-600",children:u.correct}),n.jsx("p",{className:"text-sm",children:"Acertos"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-black text-amber-600",children:u.xp}),n.jsx("p",{className:"text-sm",children:"XP"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(K,{onClick:()=>W(!0),className:"w-full bg-gradient-to-r from-red-500 to-pink-600 py-6",children:[n.jsx(vi,{className:"h-5 w-5 mr-2 fill-white"})," Comprar Vidas - A partir de R$ 0,69"]}),n.jsxs(K,{variant:"outline",onClick:ut,className:"w-full py-6",children:[n.jsx(tr,{className:"h-5 w-5 mr-2"})," Esperar 4 horas (Vidas grtis)"]})]})]})]});if(C){const te=Math.round(u.correct/s.length*100);return n.jsxs(n.Fragment,{children:[n.jsx(Le,{}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-8 text-center",children:[n.jsx("div",{className:"text-7xl mb-4",children:te>=80?"":te>=60?"":""}),n.jsx("h2",{className:"text-2xl font-black mb-2",children:te>=80?"Excelente!":te>=60?"Muito bem!":"Continue praticando!"}),u.incorrect===0&&n.jsxs("div",{className:"bg-amber-100 rounded-xl p-4 mb-4 border border-amber-200",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[n.jsx(N3,{className:"h-5 w-5 text-amber-600"}),n.jsx("span",{className:"font-bold text-amber-800",children:"Nvel Perfeito!"})]}),n.jsx("div",{className:"flex justify-center gap-1",children:[...Array(5)].map((ie,U)=>n.jsx("div",{className:`w-10 h-2 rounded-full ${U<S?"bg-amber-500":"bg-amber-200"}`},U))}),n.jsxs("p",{className:"text-xs text-amber-600 mt-2",children:[S,"/5 para aula grtis"]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4",children:[n.jsx("p",{className:"text-3xl font-black text-emerald-600",children:u.correct}),n.jsx("p",{className:"text-sm",children:"Acertos"})]}),n.jsxs("div",{className:"bg-red-50 rounded-xl p-4",children:[n.jsx("p",{className:"text-3xl font-black text-red-500",children:u.incorrect}),n.jsx("p",{className:"text-sm",children:"Erros"})]}),n.jsxs("div",{className:"bg-amber-50 rounded-xl p-4",children:[n.jsxs("p",{className:"text-3xl font-black text-amber-600",children:["+",u.xp]}),n.jsx("p",{className:"text-sm",children:"XP"})]})]}),n.jsxs("div",{className:`bg-gradient-to-r ${ye.color} rounded-xl p-4 text-white mb-4`,children:[n.jsx("span",{className:"text-3xl mr-2",children:ye.icon}),n.jsxs("span",{className:"font-bold",children:["Liga ",ye.name,"  ",v," XP Total"]})]}),n.jsxs(K,{onClick:Ot,className:"w-full bg-gradient-to-r from-violet-500 to-purple-600",children:[n.jsx(rd,{className:"h-4 w-4 mr-2"})," Nova Lio"]})]})]})}if(!_e)return n.jsx("div",{className:"text-center p-8",children:"Carregando..."});const Ve=()=>_e.type==="listening"?n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx(K,{onClick:()=>Ke(_e.audioText),disabled:pe,className:`rounded-full h-24 w-24 ${pe?"bg-violet-400":"bg-gradient-to-br from-violet-500 to-purple-600"}`,children:n.jsx(Cb,{className:`h-12 w-12 ${pe?"animate-pulse":""}`})})}),n.jsx("p",{className:"text-center text-slate-500",children:"Clique para ouvir e escreva"}),n.jsx("input",{type:"text",value:J,onChange:te=>ae(te.target.value),disabled:c,placeholder:"Digite aqui...",className:"w-full px-4 py-3 rounded-xl border-2 text-center text-lg"}),!c&&n.jsx(K,{onClick:Oe,disabled:!J,className:"w-full bg-gradient-to-r from-violet-500 to-purple-600",children:"Verificar"}),c&&n.jsxs("div",{className:`p-4 rounded-xl ${Se(J.toLowerCase(),_e.answer)>.8?"bg-emerald-100":"bg-red-100"}`,children:[n.jsx("p",{className:"font-bold",children:Se(J.toLowerCase(),_e.answer)>.8?" Certo!":" Errado"}),n.jsxs("p",{className:"text-sm",children:["Resposta: ",n.jsx("strong",{children:_e.audioText})]})]})]}):_e.type==="speaking"?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-violet-50 rounded-xl p-6 text-center border border-violet-200",children:[n.jsxs("p",{className:"text-2xl font-bold text-slate-800 mb-2",children:['"',_e.textToSpeak,'"']}),n.jsxs(K,{variant:"ghost",onClick:()=>Ke(_e.textToSpeak),className:"text-violet-600",children:[n.jsx(Cb,{className:"h-5 w-5 mr-2"})," Ouvir pronncia"]})]}),n.jsx("div",{className:"flex justify-center",children:n.jsx(K,{onClick:Q,disabled:re||c,className:`rounded-full h-24 w-24 ${re?"bg-red-500 animate-pulse":"bg-gradient-to-br from-rose-500 to-red-600"}`,children:re?n.jsx(O3,{className:"h-12 w-12"}):n.jsx(D3,{className:"h-12 w-12"})})}),n.jsx("p",{className:"text-center text-slate-500",children:re?"Ouvindo... Fale!":"Clique e fale"}),et&&n.jsxs("div",{className:`p-4 rounded-xl ${et.isCorrect?"bg-emerald-100":"bg-red-100"}`,children:[n.jsx("p",{className:"font-bold",children:et.isCorrect?" tima pronncia!":" Tente novamente"}),n.jsxs("p",{className:"text-sm",children:['Voc disse: "',et.transcript,'"  Preciso: ',Math.round(et.similarity*100),"%"]})]})]}):n.jsx("div",{className:"grid gap-3",children:_e.options.map((te,ie)=>{let U="w-full text-left p-4 rounded-xl border-2 transition-all flex items-center gap-3";return c?ie===_e.correct?U+=" border-emerald-500 bg-emerald-50":ie===i?U+=" border-red-500 bg-red-50":U+=" border-slate-200 opacity-50":U+=" border-slate-200 hover:border-violet-400 cursor-pointer",n.jsxs(Qe.button,{whileHover:c?{}:{scale:1.01},onClick:()=>xt(ie),className:U,disabled:c,children:[n.jsx("span",{className:`w-10 h-10 rounded-full font-bold flex items-center justify-center ${c&&ie===_e.correct?"bg-emerald-500 text-white":c&&ie===i?"bg-red-500 text-white":"bg-violet-100 text-violet-600"}`,children:c&&ie===_e.correct?n.jsx(Cc,{className:"h-5 w-5"}):c&&ie===i?n.jsx(w3,{className:"h-5 w-5"}):String.fromCharCode(65+ie)}),n.jsx("span",{className:"font-medium",children:te})]},ie)})});return n.jsxs(n.Fragment,{children:[n.jsx(ne,{}),n.jsx(fe,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-gradient-to-r from-amber-400 via-orange-500 to-red-500 rounded-2xl p-4 text-white shadow-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(k3,{className:"h-6 w-6"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-sm",children:" PRMIO: 1 Aula Grtis!"}),n.jsx("p",{className:"text-xs text-amber-100",children:"5 nveis perfeitos"})]})]}),n.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((te,ie)=>n.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-sm ${ie<S?"bg-white text-amber-500":"bg-white/30"}`,children:ie<S?"":ie+1},ie))})]})}),n.jsxs("div",{className:"bg-gradient-to-r from-violet-500 to-purple-600 rounded-xl p-3 text-white text-center",children:[n.jsx("span",{className:"text-2xl mr-2",children:(be==null?void 0:be.icon)||""}),n.jsx("span",{className:"font-bold",children:j.replace(/(\d+)/," $1").replace("basico","Bsico").replace("intermediario","Intermedirio")})]}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm border p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(3)].map((te,ie)=>n.jsx(vi,{className:`h-6 w-6 ${ie<m?"text-red-500 fill-red-500":"text-slate-200"}`},ie)),x>0&&n.jsxs(ge,{className:"bg-red-100 text-red-600 ml-1",children:["+",x]}),n.jsx(K,{variant:"ghost",size:"sm",onClick:()=>W(!0),className:"ml-1 h-6 w-6 p-0",children:n.jsx($3,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ge,{className:"bg-gradient-to-r from-amber-400 to-orange-500 text-white border-0",children:[" ",w]}),n.jsxs(ge,{className:`bg-gradient-to-r ${ye.color} text-white border-0`,children:[ye.icon," ",ye.name]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(zo,{className:"h-5 w-5 text-amber-500"}),n.jsxs("span",{className:"font-bold text-amber-600",children:["+",u.xp]})]})]}),n.jsxs("div",{className:"bg-slate-50 rounded-lg p-2 mb-3",children:[n.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[n.jsxs("span",{children:[n.jsx(F3,{className:"h-3 w-3 inline mr-1"}),"Meta Diria"]}),n.jsxs("span",{className:"font-bold text-emerald-600",children:[D.current,"/",D.target," XP"]})]}),n.jsx("div",{className:"bg-slate-200 rounded-full h-2",children:n.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full h-2",style:{width:`${D.current/D.target*100}%`}})})]}),n.jsx("div",{className:"bg-slate-200 rounded-full h-3",children:n.jsx(Qe.div,{initial:{width:0},animate:{width:`${We}%`},className:"bg-gradient-to-r from-violet-500 to-purple-600 rounded-full h-3"})}),n.jsxs("p",{className:"text-xs text-slate-500 mt-1 text-center",children:["Exerccio ",a+1," de ",s.length]})]}),n.jsx(W0,{mode:"wait",children:n.jsxs(Qe.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-violet-500 to-purple-600 px-6 py-3 flex items-center justify-between",children:[n.jsx("span",{className:"text-white font-medium",children:_e.category}),n.jsx("div",{className:"flex gap-1",children:[...Array(_e.difficulty)].map((te,ie)=>n.jsx(z3,{className:"h-4 w-4 text-yellow-300 fill-yellow-300"},ie))})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6",children:_e.question}),Ve(),c&&_e.type!=="listening"&&_e.type!=="speaking"&&n.jsxs("div",{className:`mt-6 p-4 rounded-xl ${i===_e.correct?"bg-emerald-100":"bg-red-100"}`,children:[n.jsx("p",{className:"font-bold",children:i===_e.correct?" Certo! ":" Errado"}),i!==_e.correct&&n.jsxs("p",{className:"text-sm",children:["Resposta: ",n.jsx("strong",{children:_e.options[_e.correct]})]})]}),c&&n.jsx(K,{onClick:jt,className:"w-full mt-6 py-6 text-lg font-bold bg-gradient-to-r from-emerald-500 to-teal-600",children:a<s.length-1?n.jsxs(n.Fragment,{children:["Continuar ",n.jsx(qS,{className:"h-5 w-5 ml-2"})]}):n.jsxs(n.Fragment,{children:["Ver Resultados ",n.jsx(B3,{className:"h-5 w-5 ml-2"})]})})]})]},a)})]})]})},uX=()=>{const e=xa();return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-violet-50 via-purple-50 to-indigo-50",children:[n.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-slate-100 sticky top-0 z-10",children:n.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-3 flex items-center justify-between",children:[n.jsxs(K,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"text-slate-600 hover:text-slate-800",children:[n.jsx(Jv,{className:"h-4 w-4 mr-2"}),"Voltar"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-2xl",children:""}),n.jsx("span",{className:"font-bold text-slate-800",children:"Practica Espaol"})]}),n.jsx(K,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"text-slate-600 hover:text-slate-800",children:n.jsx(sx,{className:"h-4 w-4"})})]})}),n.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:n.jsx(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:n.jsx(dX,{})})})]})},fX=()=>{const{user:e}=Or(),{toast:t}=Ct(),[s,r]=f.useState(!1),[a,o]=f.useState(""),[i,l]=f.useState([]),[c,d]=f.useState(!1),u=f.useRef(null),[h,m]=f.useState(null),[p,x]=f.useState(null),[g,w]=f.useState(!0),b=()=>{var _;(_=u.current)==null||_.scrollIntoView({behavior:"smooth"})},v=f.useCallback(async _=>{if(!e||!_)return null;let{data:C,error:N}=await I.from("chats").select("chat_id").eq("alumno_id",e.id).eq("profesor_id",_).maybeSingle();if(N&&N.code!=="PGRST116")return console.error("Error fetching chat:",N),t({variant:"destructive",title:"Erro no Chat",description:"No foi possvel carregar a conversa."}),null;if(C)return C.chat_id;{const{data:S,error:M}=await I.from("chats").insert({alumno_id:e.id,profesor_id:_}).select("chat_id").single();return M?(console.error("Error creating chat:",M),t({variant:"destructive",title:"Erro no Chat",description:"No foi possvel iniciar uma nova conversa."}),null):S.chat_id}},[e,t]),y=f.useCallback(async()=>{if(!e||!s)return;w(!0);const{data:_,error:C}=await I.from("profiles").select("id").eq("role","professor").limit(1).maybeSingle();if(C||!_){t({variant:"destructive",title:"Erro no Chat",description:"Professor no cadastrado. No  possvel iniciar o chat."}),w(!1);return}const N=_.id;m(N);const S=await v(N);if(!S){w(!1);return}x(S);const{data:M,error:$}=await I.from("mensajes").select("*").eq("chat_id",S).order("enviado_en",{ascending:!0});$?(console.error("Error fetching messages:",$),t({variant:"destructive",title:"Erro no Chat",description:"No foi possvel carregar as mensagens."})):l(M||[]),w(!1)},[e,s,v,t]);f.useEffect(()=>{s?y():(l([]),x(null),m(null))},[s,y]),f.useEffect(()=>{if(!p)return;const _=I.channel(`chat-room-${p}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"mensajes",filter:`chat_id=eq.${p}`},C=>{C.new.remitente_id!==e.id&&l(N=>[...N,C.new])}).subscribe();return()=>{I.removeChannel(_)}},[p,e.id]),f.useEffect(b,[i]);const j=async _=>{if(_.preventDefault(),!a.trim()||!e||!p)return;d(!0);const C=a;o("");const N={mensaje_id:`temp-${Date.now()}`,chat_id:p,remitente_id:e.id,contenido:C,enviado_en:dt().toISOString(),leido:!1};l(M=>[...M,N]);const{error:S}=await I.from("mensajes").insert({chat_id:p,remitente_id:e.id,contenido:C});S&&(t({variant:"destructive",title:"Erro ao enviar",description:S.message}),o(C),l(M=>M.filter($=>$.mensaje_id!==N.mensaje_id))),d(!1)};return n.jsxs(Oa,{open:s,onOpenChange:r,children:[n.jsx(Da,{asChild:!0,children:n.jsx(Qe.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:n.jsx(K,{size:"icon",className:"rounded-full w-16 h-16 bg-sky-600 hover:bg-sky-700 shadow-lg",children:s?n.jsx(Gr,{className:"h-8 w-8"}):n.jsx(Qr,{className:"h-8 w-8"})})})}),n.jsx(ea,{side:"top",align:"end",className:"w-80 md:w-96 p-0 border-0 rounded-2xl shadow-2xl mr-4 mb-2",sideOffset:10,children:n.jsx(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},children:n.jsxs("div",{className:"flex flex-col h-[28rem]",children:[n.jsxs("header",{className:"p-4 bg-sky-600 text-white rounded-t-2xl flex items-center gap-3",children:[n.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:n.jsx(Bo,{className:"h-6 w-6"})}),n.jsx("h3",{className:"font-bold text-lg",children:"Fale com o Professor"})]}),n.jsxs("main",{className:"flex-1 p-4 bg-slate-50 overflow-y-auto space-y-4",children:[g?n.jsx("div",{className:"flex justify-center items-center h-full",children:n.jsx(Fe,{className:"w-8 h-8 animate-spin text-sky-600"})}):i.map(_=>{const C=_.remitente_id===e.id;return n.jsx("div",{className:ee("flex",C?"justify-end":"justify-start"),children:n.jsx("div",{className:ee("rounded-lg px-4 py-2 max-w-[80%]",C?"bg-sky-600 text-white":"bg-slate-200 text-slate-800"),children:n.jsx("p",{className:"text-sm",children:_.contenido})})},_.mensaje_id)}),n.jsx("div",{ref:u}),i.length===0&&!g&&n.jsx("div",{className:"text-center text-sm text-slate-400 pt-16",children:"O histrico de mensagens aparecer aqui. Envie a primeira!"})]}),n.jsx("footer",{className:"p-4 bg-white border-t rounded-b-2xl",children:n.jsxs("form",{onSubmit:j,className:"flex items-center gap-2",children:[n.jsx(Je,{type:"text",placeholder:"Digite sua mensagem...",value:a,onChange:_=>o(_.target.value),disabled:c||g||!p}),n.jsx(K,{type:"submit",size:"icon",disabled:c||g||!a.trim()||!p,children:n.jsx(Al,{className:"h-4 w-4"})})]})})]})})})]})},hX=()=>{const{user:e,fetchProfile:t}=Or(),[s,r]=f.useState(""),[a,o]=f.useState(""),[i,l]=f.useState(!1),{toast:c}=Ct(),d=async u=>{if(u.preventDefault(),!s||!a){c({variant:"destructive",title:"Campos obrigatrios",description:"Por favor, preencha todos os campos."});return}l(!0);const{error:h}=await I.from("profiles").update({age:parseInt(s,10),spanish_level:a}).eq("id",e.id);h?c({variant:"destructive",title:"Erro ao salvar",description:h.message}):(c({variant:"info",title:"Informaes salvas!",description:"Obrigado por completar seu perfil."}),await t(e.id)),l(!1)};return n.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:n.jsxs(Qe.div,{className:"bg-white p-8 rounded-xl shadow-2xl w-full max-w-md",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[n.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:"Quase l!"}),n.jsx("p",{className:"text-slate-500 text-center mb-6",children:"Precisamos de mais algumas informaes para personalizar sua experincia."}),n.jsxs("form",{onSubmit:d,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{htmlFor:"age",children:"Qual  a sua idade?"}),n.jsx(Je,{id:"age",type:"number",placeholder:"Ex: 25",value:s,onChange:u=>r(u.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Ie,{htmlFor:"spanishLevel",children:"Qual seu nvel de espanhol?"}),n.jsxs(Ut,{onValueChange:o,value:a,children:[n.jsx(At,{id:"spanishLevel",children:n.jsx(Ht,{placeholder:"Selecione seu nvel"})}),n.jsxs(Mt,{children:[n.jsx(we,{value:"Iniciante",children:"Iniciante (A1/A2)"}),n.jsx(we,{value:"Intermedirio",children:"Intermedirio (B1/B2)"}),n.jsx(we,{value:"Avanado",children:"Avanado (C1/C2)"}),n.jsx(we,{value:"Nenhum",children:"No tenho conhecimento"})]})]})]}),n.jsx(K,{type:"submit",className:"w-full bg-sky-600 hover:bg-sky-700",disabled:i,children:i?"Salvando...":"Salvar e Continuar"})]})]})})},mX=()=>n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:n.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-2xl shadow-2xl border-l-4 border-red-500 animate-in fade-in zoom-in duration-300",children:[n.jsxs(Vn,{variant:"destructive",children:[n.jsx(pa,{className:"text-xl font-bold",children:"Acesso Bloqueado"}),n.jsxs(Bn,{className:"mt-2 text-slate-700",children:["Sua conta foi marcada como ",n.jsx("strong",{children:"inativa"}),". Para reativ-la e continuar suas aulas, por favor, entre em contato com o suporte da escola."]})]}),n.jsx("a",{href:"https://wa.me/555198541835",target:"_blank",rel:"noopener noreferrer",className:"block",children:n.jsxs(K,{className:"w-full bg-green-500 hover:bg-green-600 text-white shadow-lg text-base py-6",children:[n.jsx(Qr,{className:"mr-2 h-5 w-5"}),"Falar com o Suporte (WhatsApp)"]})}),n.jsx("p",{className:"text-xs text-center text-slate-500",children:"Esta mensagem permanecer visvel at que voc entre em contato com o suporte."})]})});function pX(){const{user:e,loading:t,professorSession:s,profile:r}=Or(),a=ai();if(t)return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:n.jsx("div",{className:"text-xl font-semibold text-slate-700",children:"Carregando..."})});const o=!["/professor-login","/professor-dashboard"].includes(a.pathname),i=e&&r&&!r.age,l=e&&(r==null?void 0:r.role)==="student";return l&&r&&r.is_active===!1?n.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[o&&n.jsx(nj,{}),n.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:n.jsx(mX,{})}),o&&n.jsx(aj,{})]}):n.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[n.jsxs(Fg,{children:[n.jsx("title",{children:"Conexin Amrica"}),n.jsx("meta",{name:"description",content:"Portal de Conexin Amrica."}),n.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),n.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"true"}),n.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap",rel:"stylesheet"})]}),o&&n.jsx(nj,{}),i&&n.jsx(hX,{}),n.jsx("main",{className:`flex-grow ${o?"container mx-auto px-4 py-8":""} ${i?"blur-sm pointer-events-none":""}`,children:n.jsx(W0,{mode:"wait",children:n.jsxs(a4,{location:a,children:[n.jsx(Yn,{path:"/",element:e?n.jsx(bq,{}):n.jsx(pi,{to:"/login"})}),n.jsx(Yn,{path:"/login",element:e?n.jsx(pi,{to:"/"}):n.jsx(kq,{})}),n.jsx(Yn,{path:"/register",element:e?n.jsx(pi,{to:"/"}):n.jsx(Eq,{})}),n.jsx(Yn,{path:"/update-password",element:n.jsx(Pq,{})}),n.jsx(Yn,{path:"/professor-login",element:s?n.jsx(pi,{to:"/professor-dashboard"}):n.jsx(Aq,{})}),n.jsx(Yn,{path:"/professor-dashboard",element:s?n.jsx(qK,{}):n.jsx(pi,{to:"/professor-login"})}),n.jsx(Yn,{path:"/spanish-assistant",element:n.jsx(XK,{})}),n.jsx(Yn,{path:"/quiz",element:e?n.jsx(uX,{}):n.jsx(pi,{to:"/login"})})]},a.pathname)})}),l&&!i&&n.jsx("div",{className:"fixed bottom-6 right-6 z-50 flex items-end gap-3",children:n.jsx(fX,{})}),o&&!i&&n.jsx(aj,{})]})}var ky="ToastProvider",[Ey,gX,xX]=tm("Toast"),[mA,lQ]=Dr("Toast",[xX]),[vX,xm]=mA(ky),pA=e=>{const{__scopeToast:t,label:s="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=e,[l,c]=f.useState(null),[d,u]=f.useState(0),h=f.useRef(!1),m=f.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${ky}\`. Expected non-empty \`string\`.`),n.jsx(Ey.Provider,{scope:t,children:n.jsx(vX,{scope:t,label:s,duration:r,swipeDirection:a,swipeThreshold:o,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>u(p=>p+1),[]),onToastRemove:f.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:i})})};pA.displayName=ky;var gA="ToastViewport",yX=["F8"],$x="toast.viewportPause",Fx="toast.viewportResume",xA=f.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:r=yX,label:a="Notifications ({hotkey})",...o}=e,i=xm(gA,s),l=gX(s),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null),h=f.useRef(null),m=at(t,h,i.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=i.toastCount>0;f.useEffect(()=>{const w=b=>{var y;r.length!==0&&r.every(j=>b[j]||b.code===j)&&((y=h.current)==null||y.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),f.useEffect(()=>{const w=c.current,b=h.current;if(x&&w&&b){const v=()=>{if(!i.isClosePausedRef.current){const C=new CustomEvent($x);b.dispatchEvent(C),i.isClosePausedRef.current=!0}},y=()=>{if(i.isClosePausedRef.current){const C=new CustomEvent(Fx);b.dispatchEvent(C),i.isClosePausedRef.current=!1}},j=C=>{!w.contains(C.relatedTarget)&&y()},_=()=>{w.contains(document.activeElement)||y()};return w.addEventListener("focusin",v),w.addEventListener("focusout",j),w.addEventListener("pointermove",v),w.addEventListener("pointerleave",_),window.addEventListener("blur",v),window.addEventListener("focus",y),()=>{w.removeEventListener("focusin",v),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",v),w.removeEventListener("pointerleave",_),window.removeEventListener("blur",v),window.removeEventListener("focus",y)}}},[x,i.isClosePausedRef]);const g=f.useCallback(({tabbingDirection:w})=>{const v=l().map(y=>{const j=y.ref.current,_=[j,...MX(j)];return w==="forwards"?_:_.reverse()});return(w==="forwards"?v.reverse():v).flat()},[l]);return f.useEffect(()=>{const w=h.current;if(w){const b=v=>{var _,C,N;const y=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!y){const S=document.activeElement,M=v.shiftKey;if(v.target===w&&M){(_=d.current)==null||_.focus();return}const R=g({tabbingDirection:M?"backwards":"forwards"}),Y=R.findIndex(D=>D===S);Fp(R.slice(Y+1))?v.preventDefault():M?(C=d.current)==null||C.focus():(N=u.current)==null||N.focus()}};return w.addEventListener("keydown",b),()=>w.removeEventListener("keydown",b)}},[l,g]),n.jsxs(oL,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&n.jsx(Vx,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});Fp(w)}}),n.jsx(Ey.Slot,{scope:s,children:n.jsx(Re.ol,{tabIndex:-1,...o,ref:m})}),x&&n.jsx(Vx,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});Fp(w)}})]})});xA.displayName=gA;var vA="ToastFocusProxy",Vx=f.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:r,...a}=e,o=xm(vA,s);return n.jsx(iy,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var d;const l=i.relatedTarget;!((d=o.viewport)!=null&&d.contains(l))&&r()}})});Vx.displayName=vA;var Vd="Toast",wX="toast.swipeStart",bX="toast.swipeMove",jX="toast.swipeCancel",NX="toast.swipeEnd",yA=f.forwardRef((e,t)=>{const{forceMount:s,open:r,defaultOpen:a,onOpenChange:o,...i}=e,[l,c]=$n({prop:r,defaultProp:a??!0,onChange:o,caller:Vd});return n.jsx(Us,{present:s||l,children:n.jsx(CX,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:ls(e.onPause),onResume:ls(e.onResume),onSwipeStart:ve(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ve(e.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ve(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ve(e.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});yA.displayName=Vd;var[_X,SX]=mA(Vd,{onClose(){}}),CX=f.forwardRef((e,t)=>{const{__scopeToast:s,type:r="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:p,...x}=e,g=xm(Vd,s),[w,b]=f.useState(null),v=at(t,D=>b(D)),y=f.useRef(null),j=f.useRef(null),_=a||g.duration,C=f.useRef(0),N=f.useRef(_),S=f.useRef(0),{onToastAdd:M,onToastRemove:$}=g,W=ls(()=>{var P;(w==null?void 0:w.contains(document.activeElement))&&((P=g.viewport)==null||P.focus()),i()}),R=f.useCallback(D=>{!D||D===1/0||(window.clearTimeout(S.current),C.current=new Date().getTime(),S.current=window.setTimeout(W,D))},[W]);f.useEffect(()=>{const D=g.viewport;if(D){const P=()=>{R(N.current),d==null||d()},A=()=>{const V=new Date().getTime()-C.current;N.current=N.current-V,window.clearTimeout(S.current),c==null||c()};return D.addEventListener($x,A),D.addEventListener(Fx,P),()=>{D.removeEventListener($x,A),D.removeEventListener(Fx,P)}}},[g.viewport,_,c,d,R]),f.useEffect(()=>{o&&!g.isClosePausedRef.current&&R(_)},[o,_,g.isClosePausedRef,R]),f.useEffect(()=>(M(),()=>$()),[M,$]);const Y=f.useMemo(()=>w?CA(w):null,[w]);return g.viewport?n.jsxs(n.Fragment,{children:[Y&&n.jsx(kX,{__scopeToast:s,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:Y}),n.jsx(_X,{scope:s,onClose:W,children:ni.createPortal(n.jsx(Ey.ItemSlot,{scope:s,children:n.jsx(aL,{asChild:!0,onEscapeKeyDown:ve(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||W(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Re.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ve(e.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,W()))}),onPointerDown:ve(e.onPointerDown,D=>{D.button===0&&(y.current={x:D.clientX,y:D.clientY})}),onPointerMove:ve(e.onPointerMove,D=>{if(!y.current)return;const P=D.clientX-y.current.x,A=D.clientY-y.current.y,V=!!j.current,k=["left","right"].includes(g.swipeDirection),E=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,T=k?E(0,P):0,z=k?0:E(0,A),O=D.pointerType==="touch"?10:2,q={x:T,y:z},L={originalEvent:D,delta:q};V?(j.current=q,Su(bX,h,L,{discrete:!1})):F1(q,g.swipeDirection,O)?(j.current=q,Su(wX,u,L,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(P)>O||Math.abs(A)>O)&&(y.current=null)}),onPointerUp:ve(e.onPointerUp,D=>{const P=j.current,A=D.target;if(A.hasPointerCapture(D.pointerId)&&A.releasePointerCapture(D.pointerId),j.current=null,y.current=null,P){const V=D.currentTarget,k={originalEvent:D,delta:P};F1(P,g.swipeDirection,g.swipeThreshold)?Su(NX,p,k,{discrete:!0}):Su(jX,m,k,{discrete:!0}),V.addEventListener("click",E=>E.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),kX=e=>{const{__scopeToast:t,children:s,...r}=e,a=xm(Vd,t),[o,i]=f.useState(!1),[l,c]=f.useState(!1);return TX(()=>i(!0)),f.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(Il,{asChild:!0,children:n.jsx(iy,{...r,children:o&&n.jsxs(n.Fragment,{children:[a.label," ",s]})})})},EX="ToastTitle",wA=f.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(Re.div,{...r,ref:t})});wA.displayName=EX;var PX="ToastDescription",bA=f.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(Re.div,{...r,ref:t})});bA.displayName=PX;var jA="ToastAction",NA=f.forwardRef((e,t)=>{const{altText:s,...r}=e;return s.trim()?n.jsx(SA,{altText:s,asChild:!0,children:n.jsx(Py,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${jA}\`. Expected non-empty \`string\`.`),null)});NA.displayName=jA;var _A="ToastClose",Py=f.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e,a=SX(_A,s);return n.jsx(SA,{asChild:!0,children:n.jsx(Re.button,{type:"button",...r,ref:t,onClick:ve(e.onClick,a.onClose)})})});Py.displayName=_A;var SA=f.forwardRef((e,t)=>{const{__scopeToast:s,altText:r,...a}=e;return n.jsx(Re.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function CA(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),AX(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...CA(r))}}),t}function Su(e,t,s,{discrete:r}){const a=s.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),r?e0(a,o):a.dispatchEvent(o)}var F1=(e,t,s=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),o=r>a;return t==="left"||t==="right"?o&&r>s:!o&&a>s};function TX(e=()=>{}){const t=ls(e);ws(()=>{let s=0,r=0;return s=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(r)}},[t])}function AX(e){return e.nodeType===e.ELEMENT_NODE}function MX(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Fp(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var RX=pA,kA=xA,EA=yA,PA=wA,TA=bA,AA=NA,MA=Py;const OX=RX,RA=Kt.forwardRef(({className:e,...t},s)=>n.jsx(kA,{ref:s,className:ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));RA.displayName=kA.displayName;const DX=Nd("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground",info:"group info border-sky-200 bg-sky-100 text-sky-800"}},defaultVariants:{variant:"default"}}),OA=Kt.forwardRef(({className:e,variant:t,...s},r)=>n.jsx(EA,{ref:r,className:ee(DX({variant:t}),e),...s}));OA.displayName=EA.displayName;const IX=Kt.forwardRef(({className:e,...t},s)=>n.jsx(AA,{ref:s,className:ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));IX.displayName=AA.displayName;const DA=Kt.forwardRef(({className:e,...t},s)=>n.jsx(MA,{ref:s,className:ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 group-[.info]:text-sky-600 group-[.info]:hover:text-sky-800",e),"toast-close":"",...t,children:n.jsx(Gr,{className:"h-4 w-4"})}));DA.displayName=MA.displayName;const IA=Kt.forwardRef(({className:e,...t},s)=>n.jsx(PA,{ref:s,className:ee("text-sm font-semibold",e),...t}));IA.displayName=PA.displayName;const LA=Kt.forwardRef(({className:e,...t},s)=>n.jsx(TA,{ref:s,className:ee("text-sm opacity-90",e),...t}));LA.displayName=TA.displayName;function LX(){const{toasts:e}=Ct();return n.jsxs(OX,{children:[e.map(({id:t,title:s,description:r,action:a,...o})=>n.jsxs(OA,{...o,children:[n.jsxs("div",{className:"grid gap-1",children:[s&&n.jsx(IA,{children:s}),r&&n.jsx(LA,{children:r})]}),a,n.jsx(DA,{})]},t)),n.jsx(RA,{})]})}Vp.createRoot(document.getElementById("root")).render(n.jsx(n.Fragment,{children:n.jsx(f4,{children:n.jsxs(EI,{children:[n.jsx(pX,{}),n.jsx(LX,{})]})})}));
